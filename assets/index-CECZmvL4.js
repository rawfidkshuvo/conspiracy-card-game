(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Od={exports:{}},wl={};var U_;function N1(){if(U_)return wl;U_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return wl.Fragment=e,wl.jsx=i,wl.jsxs=i,wl}var P_;function D1(){return P_||(P_=1,Od.exports=N1()),Od.exports}var T=D1(),Md={exports:{}},Ce={};var j_;function O1(){if(j_)return Ce;j_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},le=Object.assign,ne={};function _e(O,Y,ie){this.props=O,this.context=Y,this.refs=ne,this.updater=ie||ee}_e.prototype.isReactComponent={},_e.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},_e.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function xe(){}xe.prototype=_e.prototype;function ve(O,Y,ie){this.props=O,this.context=Y,this.refs=ne,this.updater=ie||ee}var et=ve.prototype=new xe;et.constructor=ve,le(et,_e.prototype),et.isPureReactComponent=!0;var mt=Array.isArray;function Xe(){}var C={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(O,Y,ie){var ue=ie.ref;return{$$typeof:s,type:O,key:Y,ref:ue!==void 0?ue:null,props:ie}}function V(O,Y){return I(O.type,Y,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function L(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ie){return Y[ie]})}var R=/\/+/g;function vt(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):Y.toString(36)}function Pt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Xe,Xe):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,Y,ie,ue,Se){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var Le=!1;if(O===null)Le=!0;else switch(De){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(O.$$typeof){case s:case e:Le=!0;break;case A:return Le=O._init,F(Le(O._payload),Y,ie,ue,Se)}}if(Le)return Se=Se(O),Le=ue===""?"."+vt(O,0):ue,mt(Se)?(ie="",Le!=null&&(ie=Le.replace(R,"$&/")+"/"),F(Se,Y,ie,"",function(Wi){return Wi})):Se!=null&&(D(Se)&&(Se=V(Se,ie+(Se.key==null||O&&O.key===Se.key?"":(""+Se.key).replace(R,"$&/")+"/")+Le)),Y.push(Se)),1;Le=0;var jt=ue===""?".":ue+":";if(mt(O))for(var Et=0;Et<O.length;Et++)ue=O[Et],De=jt+vt(ue,Et),Le+=F(ue,Y,ie,De,Se);else if(Et=G(O),typeof Et=="function")for(O=Et.call(O),Et=0;!(ue=O.next()).done;)ue=ue.value,De=jt+vt(ue,Et++),Le+=F(ue,Y,ie,De,Se);else if(De==="object"){if(typeof O.then=="function")return F(Pt(O),Y,ie,ue,Se);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ae(O,Y,ie){if(O==null)return O;var ue=[],Se=0;return F(O,ue,"","",function(De){return Y.call(ie,De,Se++)}),ue}function ge(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(ie){(O._status===0||O._status===-1)&&(O._status=1,O._result=ie)},function(ie){(O._status===0||O._status===-1)&&(O._status=2,O._result=ie)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Ue=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Je={map:ae,forEach:function(O,Y,ie){ae(O,function(){Y.apply(this,arguments)},ie)},count:function(O){var Y=0;return ae(O,function(){Y++}),Y},toArray:function(O){return ae(O,function(Y){return Y})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ce.Activity=w,Ce.Children=Je,Ce.Component=_e,Ce.Fragment=i,Ce.Profiler=l,Ce.PureComponent=ve,Ce.StrictMode=a,Ce.Suspense=m,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Ce.cache=function(O){return function(){return O.apply(null,arguments)}},Ce.cacheSignal=function(){return null},Ce.cloneElement=function(O,Y,ie){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ue=le({},O.props),Se=O.key;if(Y!=null)for(De in Y.key!==void 0&&(Se=""+Y.key),Y)!S.call(Y,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&Y.ref===void 0||(ue[De]=Y[De]);var De=arguments.length-2;if(De===1)ue.children=ie;else if(1<De){for(var Le=Array(De),jt=0;jt<De;jt++)Le[jt]=arguments[jt+2];ue.children=Le}return I(O.type,Se,ue)},Ce.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ce.createElement=function(O,Y,ie){var ue,Se={},De=null;if(Y!=null)for(ue in Y.key!==void 0&&(De=""+Y.key),Y)S.call(Y,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Se[ue]=Y[ue]);var Le=arguments.length-2;if(Le===1)Se.children=ie;else if(1<Le){for(var jt=Array(Le),Et=0;Et<Le;Et++)jt[Et]=arguments[Et+2];Se.children=jt}if(O&&O.defaultProps)for(ue in Le=O.defaultProps,Le)Se[ue]===void 0&&(Se[ue]=Le[ue]);return I(O,De,Se)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(O){return{$$typeof:y,render:O}},Ce.isValidElement=D,Ce.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ge}},Ce.memo=function(O,Y){return{$$typeof:_,type:O,compare:Y===void 0?null:Y}},Ce.startTransition=function(O){var Y=C.T,ie={};C.T=ie;try{var ue=O(),Se=C.S;Se!==null&&Se(ie,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Xe,Ue)}catch(De){Ue(De)}finally{Y!==null&&ie.types!==null&&(Y.types=ie.types),C.T=Y}},Ce.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ce.use=function(O){return C.H.use(O)},Ce.useActionState=function(O,Y,ie){return C.H.useActionState(O,Y,ie)},Ce.useCallback=function(O,Y){return C.H.useCallback(O,Y)},Ce.useContext=function(O){return C.H.useContext(O)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(O,Y){return C.H.useDeferredValue(O,Y)},Ce.useEffect=function(O,Y){return C.H.useEffect(O,Y)},Ce.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Ce.useId=function(){return C.H.useId()},Ce.useImperativeHandle=function(O,Y,ie){return C.H.useImperativeHandle(O,Y,ie)},Ce.useInsertionEffect=function(O,Y){return C.H.useInsertionEffect(O,Y)},Ce.useLayoutEffect=function(O,Y){return C.H.useLayoutEffect(O,Y)},Ce.useMemo=function(O,Y){return C.H.useMemo(O,Y)},Ce.useOptimistic=function(O,Y){return C.H.useOptimistic(O,Y)},Ce.useReducer=function(O,Y,ie){return C.H.useReducer(O,Y,ie)},Ce.useRef=function(O){return C.H.useRef(O)},Ce.useState=function(O){return C.H.useState(O)},Ce.useSyncExternalStore=function(O,Y,ie){return C.H.useSyncExternalStore(O,Y,ie)},Ce.useTransition=function(){return C.H.useTransition()},Ce.version="19.2.0",Ce}var z_;function Rm(){return z_||(z_=1,Md.exports=O1()),Md.exports}var Rt=Rm(),Vd={exports:{}},Rl={},kd={exports:{}},Ld={};var B_;function M1(){return B_||(B_=1,(function(s){function e(F,ae){var ge=F.length;F.push(ae);e:for(;0<ge;){var Ue=ge-1>>>1,Je=F[Ue];if(0<l(Je,ae))F[Ue]=ae,F[ge]=Je,ge=Ue;else break e}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var ae=F[0],ge=F.pop();if(ge!==ae){F[0]=ge;e:for(var Ue=0,Je=F.length,O=Je>>>1;Ue<O;){var Y=2*(Ue+1)-1,ie=F[Y],ue=Y+1,Se=F[ue];if(0>l(ie,ge))ue<Je&&0>l(Se,ie)?(F[Ue]=Se,F[ue]=ge,Ue=ue):(F[Ue]=ie,F[Y]=ge,Ue=Y);else if(ue<Je&&0>l(Se,ge))F[Ue]=Se,F[ue]=ge,Ue=ue;else break e}}return ae}function l(F,ae){var ge=F.sortIndex-ae.sortIndex;return ge!==0?ge:F.id-ae.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();s.unstable_now=function(){return d.now()-y}}var m=[],_=[],A=1,w=null,M=3,G=!1,ee=!1,le=!1,ne=!1,_e=typeof setTimeout=="function"?setTimeout:null,xe=typeof clearTimeout=="function"?clearTimeout:null,ve=typeof setImmediate<"u"?setImmediate:null;function et(F){for(var ae=i(_);ae!==null;){if(ae.callback===null)a(_);else if(ae.startTime<=F)a(_),ae.sortIndex=ae.expirationTime,e(m,ae);else break;ae=i(_)}}function mt(F){if(le=!1,et(F),!ee)if(i(m)!==null)ee=!0,Xe||(Xe=!0,L());else{var ae=i(_);ae!==null&&Pt(mt,ae.startTime-F)}}var Xe=!1,C=-1,S=5,I=-1;function V(){return ne?!0:!(s.unstable_now()-I<S)}function D(){if(ne=!1,Xe){var F=s.unstable_now();I=F;var ae=!0;try{e:{ee=!1,le&&(le=!1,xe(C),C=-1),G=!0;var ge=M;try{t:{for(et(F),w=i(m);w!==null&&!(w.expirationTime>F&&V());){var Ue=w.callback;if(typeof Ue=="function"){w.callback=null,M=w.priorityLevel;var Je=Ue(w.expirationTime<=F);if(F=s.unstable_now(),typeof Je=="function"){w.callback=Je,et(F),ae=!0;break t}w===i(m)&&a(m),et(F)}else a(m);w=i(m)}if(w!==null)ae=!0;else{var O=i(_);O!==null&&Pt(mt,O.startTime-F),ae=!1}}break e}finally{w=null,M=ge,G=!1}ae=void 0}}finally{ae?L():Xe=!1}}}var L;if(typeof ve=="function")L=function(){ve(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,vt=R.port2;R.port1.onmessage=D,L=function(){vt.postMessage(null)}}else L=function(){_e(D,0)};function Pt(F,ae){C=_e(function(){F(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(F){switch(M){case 1:case 2:case 3:var ae=3;break;default:ae=M}var ge=M;M=ae;try{return F()}finally{M=ge}},s.unstable_requestPaint=function(){ne=!0},s.unstable_runWithPriority=function(F,ae){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ge=M;M=F;try{return ae()}finally{M=ge}},s.unstable_scheduleCallback=function(F,ae,ge){var Ue=s.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ue+ge:Ue):ge=Ue,F){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=ge+Je,F={id:A++,callback:ae,priorityLevel:F,startTime:ge,expirationTime:Je,sortIndex:-1},ge>Ue?(F.sortIndex=ge,e(_,F),i(m)===null&&F===i(_)&&(le?(xe(C),C=-1):le=!0,Pt(mt,ge-Ue))):(F.sortIndex=Je,e(m,F),ee||G||(ee=!0,Xe||(Xe=!0,L()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var ae=M;return function(){var ge=M;M=ae;try{return F.apply(this,arguments)}finally{M=ge}}}})(Ld)),Ld}var H_;function V1(){return H_||(H_=1,kd.exports=M1()),kd.exports}var Ud={exports:{}},_n={};var q_;function k1(){if(q_)return _n;q_=1;var s=Rm();function e(m){var _="https://react.dev/errors/"+m;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+m+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(m,_,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:m,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(m,_){if(m==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,_n.createPortal=function(m,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(m,_,null,A)},_n.flushSync=function(m){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,m)return m()}finally{d.T=_,a.p=A,a.d.f()}},_n.preconnect=function(m,_){typeof m=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(m,_))},_n.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},_n.preinit=function(m,_){if(typeof m=="string"&&_&&typeof _.as=="string"){var A=_.as,w=y(A,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(m,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:G}):A==="script"&&a.d.X(m,{crossOrigin:w,integrity:M,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},_n.preinitModule=function(m,_){if(typeof m=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);a.d.M(m,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(m)},_n.preload=function(m,_){if(typeof m=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,w=y(A,_.crossOrigin);a.d.L(m,A,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},_n.preloadModule=function(m,_){if(typeof m=="string")if(_){var A=y(_.as,_.crossOrigin);a.d.m(m,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(m)},_n.requestFormReset=function(m){a.d.r(m)},_n.unstable_batchedUpdates=function(m,_){return m(_)},_n.useFormState=function(m,_,A){return d.H.useFormState(m,_,A)},_n.useFormStatus=function(){return d.H.useHostTransitionStatus()},_n.version="19.2.0",_n}var G_;function L1(){if(G_)return Ud.exports;G_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ud.exports=k1(),Ud.exports}var F_;function U1(){if(F_)return Rl;F_=1;var s=V1(),e=Rm(),i=L1();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(c(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return m(h),t;if(f===o)return m(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),le=Symbol.for("react.fragment"),ne=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),xe=Symbol.for("react.consumer"),ve=Symbol.for("react.context"),et=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function vt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case le:return"Fragment";case _e:return"Profiler";case ne:return"StrictMode";case mt:return"Suspense";case Xe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case ve:return t.displayName||"Context";case xe:return(t._context.displayName||"Context")+".Consumer";case et:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return n=t.displayName||null,n!==null?n:vt(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return vt(t(n))}catch{}}return null}var Pt=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ue=[],Je=-1;function O(t){return{current:t}}function Y(t){0>Je||(t.current=Ue[Je],Ue[Je]=null,Je--)}function ie(t,n){Je++,Ue[Je]=t.current,t.current=n}var ue=O(null),Se=O(null),De=O(null),Le=O(null);function jt(t,n){switch(ie(De,n),ie(Se,t),ie(ue,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?a_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=a_(n),t=o_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ue),ie(ue,t)}function Et(){Y(ue),Y(Se),Y(De)}function Wi(t){t.memoizedState!==null&&ie(Le,t);var n=ue.current,r=o_(n,t.type);n!==r&&(ie(Se,t),ie(ue,r))}function Cs(t){Se.current===t&&(Y(ue),Y(Se)),Le.current===t&&(Y(Le),Tl._currentValue=ge)}var Ns,Ds;function Un(t){if(Ns===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Ns=n&&n[1]||"",Ds=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ns+t+Ds}var q=!1;function $(t,n){if(!t||q)return"";q=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){z=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var x=g.split(`
`),j=E.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===j.length)for(o=x.length-1,h=j.length-1;1<=o&&0<=h&&x[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==j[h]){var Q=`
`+x[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{q=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Un(r):""}function te(t,n){switch(t.tag){case 26:case 27:case 5:return Un(t.type);case 16:return Un("Lazy");case 13:return t.child!==n&&n!==null?Un("Suspense Fallback"):Un("Suspense");case 19:return Un("SuspenseList");case 0:case 15:return $(t.type,!1);case 11:return $(t.type.render,!1);case 1:return $(t.type,!0);case 31:return Un("Activity");default:return""}}function be(t){try{var n="",r=null;do n+=te(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var se=Object.prototype.hasOwnProperty,ce=s.unstable_scheduleCallback,oe=s.unstable_cancelCallback,de=s.unstable_shouldYield,nt=s.unstable_requestPaint,Pe=s.unstable_now,It=s.unstable_getCurrentPriorityLevel,xn=s.unstable_ImmediatePriority,it=s.unstable_UserBlockingPriority,at=s.unstable_NormalPriority,Ve=s.unstable_LowPriority,$e=s.unstable_IdlePriority,Ct=s.log,An=s.unstable_setDisableYieldValue,bt=null,we=null;function At(t){if(typeof Ct=="function"&&An(t),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(bt,t)}catch{}}var W=Math.clz32?Math.clz32:bi,ot=Math.log,Vt=Math.LN2;function bi(t){return t>>>=0,t===0?32:31-(ot(t)/Vt|0)|0}var Ai=256,Cr=262144,Gt=4194304;function Si(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function wi(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=Si(o):(g&=E,g!==0?h=Si(g):r||(r=E&~t,r!==0&&(h=Si(r))))):(E=o&~f,E!==0?h=Si(E):g!==0?h=Si(g):r||(r=o&~t,r!==0&&(h=Si(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function li(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function kh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var t=Gt;return Gt<<=1,(Gt&62914560)===0&&(Gt=4194304),t}function Ri(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Nr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lh(t,n,r,o,h,f){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,x=t.expirationTimes,j=t.hiddenUpdates;for(r=g&~r;0<r;){var Q=31-W(r),X=1<<Q;E[Q]=0,x[Q]=-1;var z=j[Q];if(z!==null)for(j[Q]=null,Q=0;Q<z.length;Q++){var H=z[Q];H!==null&&(H.lane&=-536870913)}r&=~X}o!==0&&Dr(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(g&~n))}function Dr(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-W(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Ro(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-W(r),h=1<<o;h&n|t[o]&n&&(t[o]|=n),r&=~h}}function xo(t,n){var r=n&-n;return r=(r&42)!==0?1:Or(r),(r&(t.suspendedLanes|n))!==0?0:r}function Or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function es(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:N_(t.type))}function ui(t,n){var r=ae.p;try{return ae.p=t,n()}finally{ae.p=r}}var ci=Math.random().toString(36).slice(2),Ft="__reactFiber$"+ci,rn="__reactProps$"+ci,xi="__reactContainer$"+ci,da="__reactEvents$"+ci,Uh="__reactListeners$"+ci,uu="__reactHandles$"+ci,cu="__reactResources$"+ci,Ii="__reactMarker$"+ci;function ma(t){delete t[Ft],delete t[rn],delete t[da],delete t[Uh],delete t[uu]}function Ci(t){var n=t[Ft];if(n)return n;for(var r=t.parentNode;r;){if(n=r[xi]||r[Ft]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=m_(t);t!==null;){if(r=t[Ft])return r;t=m_(t)}return n}t=r,r=t.parentNode}return null}function Yn(t){if(t=t[Ft]||t[xi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Pn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ni(t){var n=t[cu];return n||(n=t[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Qt(t){t[Ii]=!0}var Io=new Set,Co={};function Di(t,n){Oi(t,n),Oi(t+"Capture",n)}function Oi(t,n){for(Co[t]=n,t=0;t<n.length;t++)Io.add(n[t])}var No=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},Oo={};function hu(t){return se.call(Oo,t)?!0:se.call(Do,t)?!1:No.test(t)?Oo[t]=!0:(Do[t]=!0,!1)}function pa(t,n,r){if(hu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function jn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Kt(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Os(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Mo(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ht(t){if(!t._valueTracker){var n=Os(t)?"checked":"value";t._valueTracker=Mo(t,n,""+t[n])}}function Mr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Os(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Mi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vr=/[\n"\\]/g;function In(t){return t.replace(Vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ga(t,n,r,o,h,f,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+an(n)):t.value!==""+an(n)&&(t.value=""+an(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Vo(t,g,an(n)):r!=null?Vo(t,g,an(r)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+an(E):t.removeAttribute("name")}function fu(t,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ht(t);return}r=r!=null?""+an(r):"",n=n!=null?""+an(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=E?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),ht(t)}function Vo(t,n,r){n==="number"&&Mi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Ms(t,n,r,o){if(t=t.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=n.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&o&&(t[r].defaultSelected=!0)}else{for(r=""+an(r),n=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function du(t,n,r){if(n!=null&&(n=""+an(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+an(r):""}function Vs(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Pt(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=an(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),ht(t)}function Cn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||mu.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Lo(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&ko(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&ko(t,f,n[f])}function ya(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ks=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(t){return ks.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function hi(){}var Uo=null;function Xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ls=null,Vi=null;function kr(t){var n=Yn(t);if(n&&(t=n.stateNode)){var r=t[rn]||null;e:switch(t=n.stateNode,n.type){case"input":if(ga(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+In(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var h=o[rn]||null;if(!h)throw Error(a(90));ga(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&Mr(o)}break e;case"textarea":du(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&Ms(t,!!r.multiple,n,!1)}}}var va=!1;function Us(t,n,r){if(va)return t(n,r);va=!0;try{var o=t(n);return o}finally{if(va=!1,(Ls!==null||Vi!==null)&&(lc(),Ls&&(n=Ls,t=Vi,Vi=Ls=null,kr(n),t)))for(n=0;n<t.length;n++)kr(t[n])}}function fi(t,n){var r=t.stateNode;if(r===null)return null;var o=r[rn]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lr=!1;if($n)try{var pt={};Object.defineProperty(pt,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch{Lr=!1}var ki=null,Po=null,Ur=null;function jo(){if(Ur)return Ur;var t,n=Po,r=n.length,o,h="value"in ki?ki.value:ki.textContent,f=h.length;for(t=0;t<r&&n[t]===h[t];t++);var g=r-t;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return Ur=h.slice(t,1<o?1-o:void 0)}function Pr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ts(){return!0}function di(){return!1}function cn(t){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ts:di,this.isPropagationStopped=di,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),n}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Li=cn(ns),Ps=w({},ns,{view:0,detail:0}),zo=cn(Ps),js,Ea,Ui,Ta=w({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ui&&(Ui&&t.type==="mousemove"?(js=t.screenX-Ui.screenX,Ea=t.screenY-Ui.screenY):Ea=js=0,Ui=t),js)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),Bo=cn(Ta),jr=w({},Ta,{dataTransfer:0}),gu=cn(jr),yu=w({},Ps,{relatedTarget:0}),zr=cn(yu),Ho=w({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=cn(Ho),ba=w({},ns,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vu=cn(ba),Eu=w({},ns,{data:0}),Pi=cn(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Au[t])?!!n[t]:!1}function zs(){return Su}var Sn=w({},Ps,{key:function(t){if(t.key){var n=Tu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(t){return t.type==="keypress"?Pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wu=cn(Sn),Ru=w({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),is=cn(Ru),u=w({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),p=cn(u),v=w({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=cn(v),U=w({},Ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=cn(U),re=w({},ns,{newState:0,oldState:0}),Oe=cn(re),zt=[9,13,27,32],lt=$n&&"CompositionEvent"in window,Nt=null;$n&&"documentMode"in document&&(Nt=document.documentMode);var Zn=$n&&"TextEvent"in window&&!Nt,ji=$n&&(!lt||Nt&&8<Nt&&11>=Nt),mi=" ",pi=!1;function Br(t,n){switch(t){case"keyup":return zt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function eb(t,n){switch(t){case"compositionend":return Aa(n);case"keypress":return n.which!==32?null:(pi=!0,mi);case"textInput":return t=n.data,t===mi&&pi?null:t;default:return null}}function tb(t,n){if(Sa)return t==="compositionend"||!lt&&Br(t,n)?(t=jo(),Ur=Po=ki=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ji&&n.locale!=="ko"?null:n.data;default:return null}}var nb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!nb[t.type]:n==="textarea"}function _p(t,n,r,o){Ls?Vi?Vi.push(o):Vi=[o]:Ls=o,n=pc(n,"onChange"),0<n.length&&(r=new Li("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var qo=null,Go=null;function ib(t){e_(t,0)}function xu(t){var n=Pn(t);if(Mr(n))return t}function vp(t,n){if(t==="change")return n}var Ep=!1;if($n){var Ph;if($n){var jh="oninput"in document;if(!jh){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),jh=typeof Tp.oninput=="function"}Ph=jh}else Ph=!1;Ep=Ph&&(!document.documentMode||9<document.documentMode)}function bp(){qo&&(qo.detachEvent("onpropertychange",Ap),Go=qo=null)}function Ap(t){if(t.propertyName==="value"&&xu(Go)){var n=[];_p(n,Go,t,Xn(t)),Us(ib,n)}}function sb(t,n,r){t==="focusin"?(bp(),qo=n,Go=r,qo.attachEvent("onpropertychange",Ap)):t==="focusout"&&bp()}function rb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xu(Go)}function ab(t,n){if(t==="click")return xu(n)}function ob(t,n){if(t==="input"||t==="change")return xu(n)}function lb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var zn=typeof Object.is=="function"?Object.is:lb;function Fo(t,n){if(zn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!se.call(n,h)||!zn(t[h],n[h]))return!1}return!0}function Sp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wp(t,n){var r=Sp(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Sp(r)}}function Rp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Rp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Mi(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Mi(t.document)}return n}function zh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ub=$n&&"documentMode"in document&&11>=document.documentMode,wa=null,Bh=null,Qo=null,Hh=!1;function Ip(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hh||wa==null||wa!==Mi(o)||(o=wa,"selectionStart"in o&&zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Qo&&Fo(Qo,o)||(Qo=o,o=pc(Bh,"onSelect"),0<o.length&&(n=new Li("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=wa)))}function Hr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ra={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},qh={},Cp={};$n&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function qr(t){if(qh[t])return qh[t];if(!Ra[t])return t;var n=Ra[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Cp)return qh[t]=n[r];return t}var Np=qr("animationend"),Dp=qr("animationiteration"),Op=qr("animationstart"),cb=qr("transitionrun"),hb=qr("transitionstart"),fb=qr("transitioncancel"),Mp=qr("transitionend"),Vp=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function gi(t,n){Vp.set(t,n),Di(n,[t])}var Iu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Jn=[],xa=0,Fh=0;function Cu(){for(var t=xa,n=Fh=xa=0;n<t;){var r=Jn[n];Jn[n++]=null;var o=Jn[n];Jn[n++]=null;var h=Jn[n];Jn[n++]=null;var f=Jn[n];if(Jn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&kp(r,h,f)}}function Nu(t,n,r,o){Jn[xa++]=t,Jn[xa++]=n,Jn[xa++]=r,Jn[xa++]=o,Fh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Qh(t,n,r,o){return Nu(t,n,r,o),Du(t)}function Gr(t,n){return Nu(t,null,null,n),Du(t)}function kp(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=t.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-W(r),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function Du(t){if(50<ml)throw ml=0,nd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ia={};function db(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,n,r,o){return new db(t,n,r,o)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ss(t,n){var r=t.alternate;return r===null?(r=Bn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Lp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ou(t,n,r,o,h,f){var g=0;if(o=t,typeof t=="function")Kh(t)&&(g=1);else if(typeof t=="string")g=_1(t,r,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Bn(31,r,n,h),t.elementType=I,t.lanes=f,t;case le:return Fr(r.children,h,f,n);case ne:g=8,h|=24;break;case _e:return t=Bn(12,r,n,h|2),t.elementType=_e,t.lanes=f,t;case mt:return t=Bn(13,r,n,h),t.elementType=mt,t.lanes=f,t;case Xe:return t=Bn(19,r,n,h),t.elementType=Xe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ve:g=10;break e;case xe:g=9;break e;case et:g=11;break e;case C:g=14;break e;case S:g=16,o=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Bn(g,r,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Fr(t,n,r,o){return t=Bn(7,t,o,n),t.lanes=r,t}function Yh(t,n,r){return t=Bn(6,t,null,n),t.lanes=r,t}function Up(t){var n=Bn(18,null,null,0);return n.stateNode=t,n}function Xh(t,n,r){return n=Bn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Pp=new WeakMap;function Wn(t,n){if(typeof t=="object"&&t!==null){var r=Pp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:be(n)},Pp.set(t,n),n)}return{value:t,source:n,stack:be(n)}}var Ca=[],Na=0,Mu=null,Ko=0,ei=[],ti=0,Bs=null,zi=1,Bi="";function rs(t,n){Ca[Na++]=Ko,Ca[Na++]=Mu,Mu=t,Ko=n}function jp(t,n,r){ei[ti++]=zi,ei[ti++]=Bi,ei[ti++]=Bs,Bs=t;var o=zi;t=Bi;var h=32-W(o)-1;o&=~(1<<h),r+=1;var f=32-W(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,zi=1<<32-W(n)+h|r<<h|o,Bi=f+t}else zi=1<<f|r<<h|o,Bi=t}function $h(t){t.return!==null&&(rs(t,1),jp(t,1,0))}function Zh(t){for(;t===Mu;)Mu=Ca[--Na],Ca[Na]=null,Ko=Ca[--Na],Ca[Na]=null;for(;t===Bs;)Bs=ei[--ti],ei[ti]=null,Bi=ei[--ti],ei[ti]=null,zi=ei[--ti],ei[ti]=null}function zp(t,n){ei[ti++]=zi,ei[ti++]=Bi,ei[ti++]=Bs,zi=n.id,Bi=n.overflow,Bs=t}var hn=null,St=null,Ze=!1,Hs=null,ni=!1,Jh=Error(a(519));function qs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yo(Wn(n,t)),Jh}function Bp(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[Ft]=t,n[rn]=o,r){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(r=0;r<gl.length;r++)ze(gl[r],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":ze("invalid",n),fu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ze("invalid",n);break;case"textarea":ze("invalid",n),Vs(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||s_(n.textContent,r)?(o.popover!=null&&(ze("beforetoggle",n),ze("toggle",n)),o.onScroll!=null&&ze("scroll",n),o.onScrollEnd!=null&&ze("scrollend",n),o.onClick!=null&&(n.onclick=hi),n=!0):n=!1,n||qs(t,!0)}function Hp(t){for(hn=t.return;hn;)switch(hn.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:hn=hn.return}}function Da(t){if(t!==hn)return!1;if(!Ze)return Hp(t),Ze=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||yd(t.type,t.memoizedProps)),r=!r),r&&St&&qs(t),Hp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));St=d_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));St=d_(t)}else n===27?(n=St,ir(t.type)?(t=bd,bd=null,St=t):St=n):St=hn?si(t.stateNode.nextSibling):null;return!0}function Qr(){St=hn=null,Ze=!1}function Wh(){var t=Hs;return t!==null&&(Mn===null?Mn=t:Mn.push.apply(Mn,t),Hs=null),t}function Yo(t){Hs===null?Hs=[t]:Hs.push(t)}var ef=O(null),Kr=null,as=null;function Gs(t,n,r){ie(ef,n._currentValue),n._currentValue=r}function os(t){t._currentValue=ef.current,Y(ef)}function tf(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function nf(t,n,r,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;e:for(;f!==null;){var E=f;f=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),tf(f.return,r,t),o||(g=null);break e}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),tf(g,r,t),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===t){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Oa(t,n,r,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;zn(h.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(h===Le.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Tl):t=[Tl])}h=h.return}t!==null&&nf(n,t,r,o),n.flags|=262144}function Vu(t){for(t=t.firstContext;t!==null;){if(!zn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yr(t){Kr=t,as=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function fn(t){return qp(Kr,t)}function ku(t,n){return Kr===null&&Yr(t),qp(t,n)}function qp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},as===null){if(t===null)throw Error(a(308));as=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else as=as.next=n;return r}var mb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},pb=s.unstable_scheduleCallback,gb=s.unstable_NormalPriority,Yt={$$typeof:ve,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new mb,data:new Map,refCount:0}}function Xo(t){t.refCount--,t.refCount===0&&pb(gb,function(){t.controller.abort()})}var $o=null,rf=0,Ma=0,Va=null;function yb(t,n){if($o===null){var r=$o=[];rf=0,Ma=ld(),Va={status:"pending",value:void 0,then:function(o){r.push(o)}}}return rf++,n.then(Gp,Gp),n}function Gp(){if(--rf===0&&$o!==null){Va!==null&&(Va.status="fulfilled");var t=$o;$o=null,Ma=0,Va=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function _b(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Fp=F.S;F.S=function(t,n){Iy=Pe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&yb(t,n),Fp!==null&&Fp(t,n)};var Xr=O(null);function af(){var t=Xr.current;return t!==null?t:Tt.pooledCache}function Lu(t,n){n===null?ie(Xr,Xr.current):ie(Xr,n.pool)}function Qp(){var t=af();return t===null?null:{parent:Yt._currentValue,pool:t}}var ka=Error(a(460)),of=Error(a(474)),Uu=Error(a(542)),Pu={then:function(){}};function Kp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Yp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(hi,hi),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,$p(t),t;default:if(typeof n.status=="string")n.then(hi,hi);else{if(t=Tt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,$p(t),t}throw Zr=n,ka}}function $r(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Zr=r,ka):r}}var Zr=null;function Xp(){if(Zr===null)throw Error(a(459));var t=Zr;return Zr=null,t}function $p(t){if(t===ka||t===Uu)throw Error(a(483))}var La=null,Zo=0;function ju(t){var n=Zo;return Zo+=1,La===null&&(La=[]),Yp(La,t,n)}function Jo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function zu(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Zp(t){function n(k,N){if(t){var P=k.deletions;P===null?(k.deletions=[N],k.flags|=16):P.push(N)}}function r(k,N){if(!t)return null;for(;N!==null;)n(k,N),N=N.sibling;return null}function o(k){for(var N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function h(k,N){return k=ss(k,N),k.index=0,k.sibling=null,k}function f(k,N,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<N?(k.flags|=67108866,N):P):(k.flags|=67108866,N)):(k.flags|=1048576,N)}function g(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function E(k,N,P,K){return N===null||N.tag!==6?(N=Yh(P,k.mode,K),N.return=k,N):(N=h(N,P),N.return=k,N)}function x(k,N,P,K){var ye=P.type;return ye===le?Q(k,N,P.props.children,K,P.key):N!==null&&(N.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===S&&$r(ye)===N.type)?(N=h(N,P.props),Jo(N,P),N.return=k,N):(N=Ou(P.type,P.key,P.props,null,k.mode,K),Jo(N,P),N.return=k,N)}function j(k,N,P,K){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Xh(P,k.mode,K),N.return=k,N):(N=h(N,P.children||[]),N.return=k,N)}function Q(k,N,P,K,ye){return N===null||N.tag!==7?(N=Fr(P,k.mode,K,ye),N.return=k,N):(N=h(N,P),N.return=k,N)}function X(k,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Yh(""+N,k.mode,P),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case G:return P=Ou(N.type,N.key,N.props,null,k.mode,P),Jo(P,N),P.return=k,P;case ee:return N=Xh(N,k.mode,P),N.return=k,N;case S:return N=$r(N),X(k,N,P)}if(Pt(N)||L(N))return N=Fr(N,k.mode,P,null),N.return=k,N;if(typeof N.then=="function")return X(k,ju(N),P);if(N.$$typeof===ve)return X(k,ku(k,N),P);zu(k,N)}return null}function z(k,N,P,K){var ye=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ye!==null?null:E(k,N,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ye?x(k,N,P,K):null;case ee:return P.key===ye?j(k,N,P,K):null;case S:return P=$r(P),z(k,N,P,K)}if(Pt(P)||L(P))return ye!==null?null:Q(k,N,P,K,null);if(typeof P.then=="function")return z(k,N,ju(P),K);if(P.$$typeof===ve)return z(k,N,ku(k,P),K);zu(k,P)}return null}function H(k,N,P,K,ye){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(N,k,""+K,ye);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case G:return k=k.get(K.key===null?P:K.key)||null,x(N,k,K,ye);case ee:return k=k.get(K.key===null?P:K.key)||null,j(N,k,K,ye);case S:return K=$r(K),H(k,N,P,K,ye)}if(Pt(K)||L(K))return k=k.get(P)||null,Q(N,k,K,ye,null);if(typeof K.then=="function")return H(k,N,P,ju(K),ye);if(K.$$typeof===ve)return H(k,N,P,ku(N,K),ye);zu(N,K)}return null}function fe(k,N,P,K){for(var ye=null,st=null,me=N,ke=N=0,Ge=null;me!==null&&ke<P.length;ke++){me.index>ke?(Ge=me,me=null):Ge=me.sibling;var rt=z(k,me,P[ke],K);if(rt===null){me===null&&(me=Ge);break}t&&me&&rt.alternate===null&&n(k,me),N=f(rt,N,ke),st===null?ye=rt:st.sibling=rt,st=rt,me=Ge}if(ke===P.length)return r(k,me),Ze&&rs(k,ke),ye;if(me===null){for(;ke<P.length;ke++)me=X(k,P[ke],K),me!==null&&(N=f(me,N,ke),st===null?ye=me:st.sibling=me,st=me);return Ze&&rs(k,ke),ye}for(me=o(me);ke<P.length;ke++)Ge=H(me,k,ke,P[ke],K),Ge!==null&&(t&&Ge.alternate!==null&&me.delete(Ge.key===null?ke:Ge.key),N=f(Ge,N,ke),st===null?ye=Ge:st.sibling=Ge,st=Ge);return t&&me.forEach(function(lr){return n(k,lr)}),Ze&&rs(k,ke),ye}function Te(k,N,P,K){if(P==null)throw Error(a(151));for(var ye=null,st=null,me=N,ke=N=0,Ge=null,rt=P.next();me!==null&&!rt.done;ke++,rt=P.next()){me.index>ke?(Ge=me,me=null):Ge=me.sibling;var lr=z(k,me,rt.value,K);if(lr===null){me===null&&(me=Ge);break}t&&me&&lr.alternate===null&&n(k,me),N=f(lr,N,ke),st===null?ye=lr:st.sibling=lr,st=lr,me=Ge}if(rt.done)return r(k,me),Ze&&rs(k,ke),ye;if(me===null){for(;!rt.done;ke++,rt=P.next())rt=X(k,rt.value,K),rt!==null&&(N=f(rt,N,ke),st===null?ye=rt:st.sibling=rt,st=rt);return Ze&&rs(k,ke),ye}for(me=o(me);!rt.done;ke++,rt=P.next())rt=H(me,k,ke,rt.value,K),rt!==null&&(t&&rt.alternate!==null&&me.delete(rt.key===null?ke:rt.key),N=f(rt,N,ke),st===null?ye=rt:st.sibling=rt,st=rt);return t&&me.forEach(function(C1){return n(k,C1)}),Ze&&rs(k,ke),ye}function _t(k,N,P,K){if(typeof P=="object"&&P!==null&&P.type===le&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:e:{for(var ye=P.key;N!==null;){if(N.key===ye){if(ye=P.type,ye===le){if(N.tag===7){r(k,N.sibling),K=h(N,P.props.children),K.return=k,k=K;break e}}else if(N.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===S&&$r(ye)===N.type){r(k,N.sibling),K=h(N,P.props),Jo(K,P),K.return=k,k=K;break e}r(k,N);break}else n(k,N);N=N.sibling}P.type===le?(K=Fr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Ou(P.type,P.key,P.props,null,k.mode,K),Jo(K,P),K.return=k,k=K)}return g(k);case ee:e:{for(ye=P.key;N!==null;){if(N.key===ye)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){r(k,N.sibling),K=h(N,P.children||[]),K.return=k,k=K;break e}else{r(k,N);break}else n(k,N);N=N.sibling}K=Xh(P,k.mode,K),K.return=k,k=K}return g(k);case S:return P=$r(P),_t(k,N,P,K)}if(Pt(P))return fe(k,N,P,K);if(L(P)){if(ye=L(P),typeof ye!="function")throw Error(a(150));return P=ye.call(P),Te(k,N,P,K)}if(typeof P.then=="function")return _t(k,N,ju(P),K);if(P.$$typeof===ve)return _t(k,N,ku(k,P),K);zu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(r(k,N.sibling),K=h(N,P),K.return=k,k=K):(r(k,N),K=Yh(P,k.mode,K),K.return=k,k=K),g(k)):r(k,N)}return function(k,N,P,K){try{Zo=0;var ye=_t(k,N,P,K);return La=null,ye}catch(me){if(me===ka||me===Uu)throw me;var st=Bn(29,me,null,k.mode);return st.lanes=K,st.return=k,st}finally{}}}var Jr=Zp(!0),Jp=Zp(!1),Fs=!1;function lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ks(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(ut&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Du(t),kp(t,null,r),n}return Nu(t,o,n,r),Du(t)}function Wo(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Ro(t,r)}}function cf(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var hf=!1;function el(){if(hf){var t=Va;if(t!==null)throw t}}function tl(t,n,r,o){hf=!1;var h=t.updateQueue;Fs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,j=x.next;x.next=null,g===null?f=j:g.next=j,g=x;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=x))}if(f!==null){var X=h.baseState;g=0,Q=j=x=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(qe&z)===z:(o&z)===z){z!==0&&z===Ma&&(hf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var fe=t,Te=E;z=n;var _t=r;switch(Te.tag){case 1:if(fe=Te.payload,typeof fe=="function"){X=fe.call(_t,X,z);break e}X=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Te.payload,z=typeof fe=="function"?fe.call(_t,X,z):fe,z==null)break e;X=w({},X,z);break e;case 2:Fs=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=H,x=X):Q=Q.next=H,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(x=X),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Js|=g,t.lanes=g,t.memoizedState=X}}function Wp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function eg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Wp(r[t],n)}var Ua=O(null),Bu=O(0);function tg(t,n){t=gs,ie(Bu,t),ie(Ua,n),gs=t|n.baseLanes}function ff(){ie(Bu,gs),ie(Ua,Ua.current)}function df(){gs=Bu.current,Y(Ua),Y(Bu)}var Hn=O(null),ii=null;function Ys(t){var n=t.alternate;ie(Bt,Bt.current&1),ie(Hn,t),ii===null&&(n===null||Ua.current!==null||n.memoizedState!==null)&&(ii=t)}function mf(t){ie(Bt,Bt.current),ie(Hn,t),ii===null&&(ii=t)}function ng(t){t.tag===22?(ie(Bt,Bt.current),ie(Hn,t),ii===null&&(ii=t)):Xs()}function Xs(){ie(Bt,Bt.current),ie(Hn,Hn.current)}function qn(t){Y(Hn),ii===t&&(ii=null),Y(Bt)}var Bt=O(0);function Hu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Ed(r)||Td(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ls=0,Me=null,gt=null,Xt=null,qu=!1,Pa=!1,Wr=!1,Gu=0,nl=0,ja=null,vb=0;function kt(){throw Error(a(321))}function pf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!zn(t[r],n[r]))return!1;return!0}function gf(t,n,r,o,h,f){return ls=f,Me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=t===null||t.memoizedState===null?jg:Df,Wr=!1,f=r(o,h),Wr=!1,Pa&&(f=sg(n,r,o,h)),ig(t),f}function ig(t){F.H=rl;var n=gt!==null&&gt.next!==null;if(ls=0,Xt=gt=Me=null,qu=!1,nl=0,ja=null,n)throw Error(a(300));t===null||$t||(t=t.dependencies,t!==null&&Vu(t)&&($t=!0))}function sg(t,n,r,o){Me=t;var h=0;do{if(Pa&&(ja=null),nl=0,Pa=!1,25<=h)throw Error(a(301));if(h+=1,Xt=gt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=zg,f=n(r,o)}while(Pa);return f}function Eb(){var t=F.H,n=t.useState()[0];return n=typeof n.then=="function"?il(n):n,t=t.useState()[0],(gt!==null?gt.memoizedState:null)!==t&&(Me.flags|=1024),n}function yf(){var t=Gu!==0;return Gu=0,t}function _f(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function vf(t){if(qu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}qu=!1}ls=0,Xt=gt=Me=null,Pa=!1,nl=Gu=0,ja=null}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Me.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function Ht(){if(gt===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var n=Xt===null?Me.memoizedState:Xt.next;if(n!==null)Xt=n,gt=t;else{if(t===null)throw Me.alternate===null?Error(a(467)):Error(a(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Xt===null?Me.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(t){var n=nl;return nl+=1,ja===null&&(ja=[]),t=Yp(ja,t,n),n=Me,(Xt===null?n.memoizedState:Xt.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?jg:Df),t}function Qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return il(t);if(t.$$typeof===ve)return fn(t)}throw Error(a(438,String(t)))}function Ef(t){var n=null,r=Me.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=Me.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Fu(),Me.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=V;return n.index++,r}function us(t,n){return typeof n=="function"?n(t):n}function Ku(t){var n=Ht();return Tf(n,gt,t)}function Tf(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var E=g=null,x=null,j=n,Q=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(qe&X)===X:(ls&X)===X){var z=j.revertLane;if(z===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Ma&&(Q=!0);else if((ls&z)===z){j=j.next,z===Ma&&(Q=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=X,g=f):x=x.next=X,Me.lanes|=z,Js|=z;X=j.action,Wr&&r(f,X),f=j.hasEagerState?j.eagerState:r(f,X)}else z={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=z,g=f):x=x.next=z,Me.lanes|=X,Js|=X;j=j.next}while(j!==null&&j!==n);if(x===null?g=f:x.next=E,!zn(f,t.memoizedState)&&($t=!0,Q&&(r=Va,r!==null)))throw r;t.memoizedState=f,t.baseState=g,t.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function bf(t){var n=Ht(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=t(f,g.action),g=g.next;while(g!==h);zn(f,n.memoizedState)||($t=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function rg(t,n,r){var o=Me,h=Ht(),f=Ze;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!zn((gt||h).memoizedState,r);if(g&&(h.memoizedState=r,$t=!0),h=h.queue,wf(lg.bind(null,o,h,t),[t]),h.getSnapshot!==n||g||Xt!==null&&Xt.memoizedState.tag&1){if(o.flags|=2048,za(9,{destroy:void 0},og.bind(null,o,h,r,n),null),Tt===null)throw Error(a(349));f||(ls&127)!==0||ag(o,n,r)}return r}function ag(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Me.updateQueue,n===null?(n=Fu(),Me.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function og(t,n,r,o){n.value=r,n.getSnapshot=o,ug(n)&&cg(t)}function lg(t,n,r){return r(function(){ug(n)&&cg(t)})}function ug(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!zn(t,r)}catch{return!0}}function cg(t){var n=Gr(t,2);n!==null&&Vn(n,t,2)}function Af(t){var n=wn();if(typeof t=="function"){var r=t;if(t=r(),Wr){At(!0);try{r()}finally{At(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:t},n}function hg(t,n,r,o){return t.baseState=r,Tf(t,gt,typeof o=="function"?o:us)}function Tb(t,n,r,o,h){if($u(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,fg(n,f)):(f.next=r.next,n.pending=r.next=f)}}function fg(t,n){var r=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var E=r(h,o),x=F.S;x!==null&&x(g,E),dg(t,n,E)}catch(j){Sf(t,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=r(h,o),dg(t,n,f)}catch(j){Sf(t,n,j)}}function dg(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){mg(t,n,o)},function(o){return Sf(t,n,o)}):mg(t,n,r)}function mg(t,n,r){n.status="fulfilled",n.value=r,pg(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,fg(t,r)))}function Sf(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,pg(n),n=n.next;while(n!==o)}t.action=null}function pg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function gg(t,n){return n}function yg(t,n){if(Ze){var r=Tt.formState;if(r!==null){e:{var o=Me;if(Ze){if(St){t:{for(var h=St,f=ni;h.nodeType!==8;){if(!f){h=null;break t}if(h=si(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){St=si(h.nextSibling),o=h.data==="F!";break e}}qs(o)}o=!1}o&&(n=r[0])}}return r=wn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gg,lastRenderedState:n},r.queue=o,r=Lg.bind(null,Me,o),o.dispatch=r,o=Af(!1),f=Nf.bind(null,Me,!1,o.queue),o=wn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,r=Tb.bind(null,Me,h,f,r),h.dispatch=r,o.memoizedState=t,[n,r,!1]}function _g(t){var n=Ht();return vg(n,gt,t)}function vg(t,n,r){if(n=Tf(t,n,gg)[0],t=Ku(us)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=il(n)}catch(g){throw g===ka?Uu:g}else o=n;n=Ht();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(Me.flags|=2048,za(9,{destroy:void 0},bb.bind(null,h,r),null)),[o,f,t]}function bb(t,n){t.action=n}function Eg(t){var n=Ht(),r=gt;if(r!==null)return vg(n,r,t);Ht(),n=n.memoizedState,r=Ht();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function za(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=Me.updateQueue,n===null&&(n=Fu(),Me.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function Tg(){return Ht().memoizedState}function Yu(t,n,r,o){var h=wn();Me.flags|=t,h.memoizedState=za(1|n,{destroy:void 0},r,o===void 0?null:o)}function Xu(t,n,r,o){var h=Ht();o=o===void 0?null:o;var f=h.memoizedState.inst;gt!==null&&o!==null&&pf(o,gt.memoizedState.deps)?h.memoizedState=za(n,f,r,o):(Me.flags|=t,h.memoizedState=za(1|n,f,r,o))}function bg(t,n){Yu(8390656,8,t,n)}function wf(t,n){Xu(2048,8,t,n)}function Ab(t){Me.flags|=4;var n=Me.updateQueue;if(n===null)n=Fu(),Me.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function Ag(t){var n=Ht().memoizedState;return Ab({ref:n,nextImpl:t}),function(){if((ut&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Sg(t,n){return Xu(4,2,t,n)}function wg(t,n){return Xu(4,4,t,n)}function Rg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function xg(t,n,r){r=r!=null?r.concat([t]):null,Xu(4,4,Rg.bind(null,n,t),r)}function Rf(){}function Ig(t,n){var r=Ht();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&pf(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function Cg(t,n){var r=Ht();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&pf(n,o[1]))return o[0];if(o=t(),Wr){At(!0);try{t()}finally{At(!1)}}return r.memoizedState=[o,n],o}function xf(t,n,r){return r===void 0||(ls&1073741824)!==0&&(qe&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=Ny(),Me.lanes|=t,Js|=t,r)}function Ng(t,n,r,o){return zn(r,n)?r:Ua.current!==null?(t=xf(t,r,o),zn(t,n)||($t=!0),t):(ls&42)===0||(ls&1073741824)!==0&&(qe&261930)===0?($t=!0,t.memoizedState=r):(t=Ny(),Me.lanes|=t,Js|=t,n)}function Dg(t,n,r,o,h){var f=ae.p;ae.p=f!==0&&8>f?f:8;var g=F.T,E={};F.T=E,Nf(t,!1,n,r);try{var x=h(),j=F.S;if(j!==null&&j(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=_b(x,o);sl(t,n,Q,Qn(t))}else sl(t,n,o,Qn(t))}catch(X){sl(t,n,{then:function(){},status:"rejected",reason:X},Qn())}finally{ae.p=f,g!==null&&E.types!==null&&(g.types=E.types),F.T=g}}function Sb(){}function If(t,n,r,o){if(t.tag!==5)throw Error(a(476));var h=Og(t).queue;Dg(t,h,n,ge,r===null?Sb:function(){return Mg(t),r(o)})}function Og(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:ge},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Mg(t){var n=Og(t);n.next===null&&(n=t.alternate.memoizedState),sl(t,n.next.queue,{},Qn())}function Cf(){return fn(Tl)}function Vg(){return Ht().memoizedState}function kg(){return Ht().memoizedState}function wb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Qn();t=Qs(r);var o=Ks(n,t,r);o!==null&&(Vn(o,n,r),Wo(o,n,r)),n={cache:sf()},t.payload=n;return}n=n.return}}function Rb(t,n,r){var o=Qn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},$u(t)?Ug(n,r):(r=Qh(t,n,r,o),r!==null&&(Vn(r,t,o),Pg(r,n,o)))}function Lg(t,n,r){var o=Qn();sl(t,n,r,o)}function sl(t,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if($u(t))Ug(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,zn(E,g))return Nu(t,n,h,0),Tt===null&&Cu(),!1}catch{}finally{}if(r=Qh(t,n,h,o),r!==null)return Vn(r,t,o),Pg(r,n,o),!0}return!1}function Nf(t,n,r,o){if(o={lane:2,revertLane:ld(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$u(t)){if(n)throw Error(a(479))}else n=Qh(t,r,o,2),n!==null&&Vn(n,t,2)}function $u(t){var n=t.alternate;return t===Me||n!==null&&n===Me}function Ug(t,n){Pa=qu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Pg(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Ro(t,r)}}var rl={readContext:fn,use:Qu,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};rl.useEffectEvent=kt;var jg={readContext:fn,use:Qu,useCallback:function(t,n){return wn().memoizedState=[t,n===void 0?null:n],t},useContext:fn,useEffect:bg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Yu(4194308,4,Rg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Yu(4194308,4,t,n)},useInsertionEffect:function(t,n){Yu(4,2,t,n)},useMemo:function(t,n){var r=wn();n=n===void 0?null:n;var o=t();if(Wr){At(!0);try{t()}finally{At(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=wn();if(r!==void 0){var h=r(n);if(Wr){At(!0);try{r(n)}finally{At(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Rb.bind(null,Me,t),[o.memoizedState,t]},useRef:function(t){var n=wn();return t={current:t},n.memoizedState=t},useState:function(t){t=Af(t);var n=t.queue,r=Lg.bind(null,Me,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Rf,useDeferredValue:function(t,n){var r=wn();return xf(r,t,n)},useTransition:function(){var t=Af(!1);return t=Dg.bind(null,Me,t.queue,!0,!1),wn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=Me,h=wn();if(Ze){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Tt===null)throw Error(a(349));(qe&127)!==0||ag(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,bg(lg.bind(null,o,f,t),[t]),o.flags|=2048,za(9,{destroy:void 0},og.bind(null,o,f,r,n),null),r},useId:function(){var t=wn(),n=Tt.identifierPrefix;if(Ze){var r=Bi,o=zi;r=(o&~(1<<32-W(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Gu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=vb++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Cf,useFormState:yg,useActionState:yg,useOptimistic:function(t){var n=wn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Nf.bind(null,Me,!0,r),r.dispatch=n,[t,n]},useMemoCache:Ef,useCacheRefresh:function(){return wn().memoizedState=wb.bind(null,Me)},useEffectEvent:function(t){var n=wn(),r={impl:t};return n.memoizedState=r,function(){if((ut&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Df={readContext:fn,use:Qu,useCallback:Ig,useContext:fn,useEffect:wf,useImperativeHandle:xg,useInsertionEffect:Sg,useLayoutEffect:wg,useMemo:Cg,useReducer:Ku,useRef:Tg,useState:function(){return Ku(us)},useDebugValue:Rf,useDeferredValue:function(t,n){var r=Ht();return Ng(r,gt.memoizedState,t,n)},useTransition:function(){var t=Ku(us)[0],n=Ht().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:rg,useId:Vg,useHostTransitionStatus:Cf,useFormState:_g,useActionState:_g,useOptimistic:function(t,n){var r=Ht();return hg(r,gt,t,n)},useMemoCache:Ef,useCacheRefresh:kg};Df.useEffectEvent=Ag;var zg={readContext:fn,use:Qu,useCallback:Ig,useContext:fn,useEffect:wf,useImperativeHandle:xg,useInsertionEffect:Sg,useLayoutEffect:wg,useMemo:Cg,useReducer:bf,useRef:Tg,useState:function(){return bf(us)},useDebugValue:Rf,useDeferredValue:function(t,n){var r=Ht();return gt===null?xf(r,t,n):Ng(r,gt.memoizedState,t,n)},useTransition:function(){var t=bf(us)[0],n=Ht().memoizedState;return[typeof t=="boolean"?t:il(t),n]},useSyncExternalStore:rg,useId:Vg,useHostTransitionStatus:Cf,useFormState:Eg,useActionState:Eg,useOptimistic:function(t,n){var r=Ht();return gt!==null?hg(r,gt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:kg};zg.useEffectEvent=Ag;function Of(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:w({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Mf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=Qn(),h=Qs(o);h.payload=n,r!=null&&(h.callback=r),n=Ks(t,h,o),n!==null&&(Vn(n,t,o),Wo(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=Qn(),h=Qs(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ks(t,h,o),n!==null&&(Vn(n,t,o),Wo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Qn(),o=Qs(r);o.tag=2,n!=null&&(o.callback=n),n=Ks(t,o,r),n!==null&&(Vn(n,t,r),Wo(n,t,r))}};function Bg(t,n,r,o,h,f,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Fo(r,o)||!Fo(h,f):!0}function Hg(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Mf.enqueueReplaceState(n,n.state,null)}function ea(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=w({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function qg(t){Iu(t)}function Gg(t){console.error(t)}function Fg(t){Iu(t)}function Zu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Qg(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vf(t,n,r){return r=Qs(r),r.tag=3,r.payload={element:null},r.callback=function(){Zu(t,n)},r}function Kg(t){return t=Qs(t),t.tag=3,t}function Yg(t,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){Qg(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Qg(n,r,o),typeof h!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function xb(t,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Oa(n,r,h,!0),r=Hn.current,r!==null){switch(r.tag){case 31:case 13:return ii===null?uc():r.alternate===null&&Lt===0&&(Lt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Pu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),rd(t,o,h)),!1;case 22:return r.flags|=65536,o===Pu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),rd(t,o,h)),!1}throw Error(a(435,r.tag))}return rd(t,o,h),uc(),!1}if(Ze)return n=Hn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Jh&&(t=Error(a(422),{cause:o}),Yo(Wn(t,r)))):(o!==Jh&&(n=Error(a(423),{cause:o}),Yo(Wn(n,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Wn(o,r),h=Vf(t.stateNode,o,h),cf(t,h),Lt!==4&&(Lt=2)),!1;var f=Error(a(520),{cause:o});if(f=Wn(f,r),dl===null?dl=[f]:dl.push(f),Lt!==4&&(Lt=2),n===null)return!0;o=Wn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Vf(r.stateNode,o,t),cf(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ws===null||!Ws.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Kg(h),Yg(h,t,r,o),cf(r,h),!1}r=r.return}while(r!==null);return!1}var kf=Error(a(461)),$t=!1;function dn(t,n,r,o){n.child=t===null?Jp(n,null,r,o):Jr(n,t.child,r,o)}function Xg(t,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Yr(n),o=gf(t,n,r,g,f,h),E=yf(),t!==null&&!$t?(_f(t,n,h),cs(t,n,h)):(Ze&&E&&$h(n),n.flags|=1,dn(t,n,o,h),n.child)}function $g(t,n,r,o,h){if(t===null){var f=r.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Zg(t,n,f,o,h)):(t=Ou(r.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!qf(t,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Fo,r(g,o)&&t.ref===n.ref)return cs(t,n,h)}return n.flags|=1,t=ss(f,o),t.ref=n.ref,t.return=n,n.child=t}function Zg(t,n,r,o,h){if(t!==null){var f=t.memoizedProps;if(Fo(f,o)&&t.ref===n.ref)if($t=!1,n.pendingProps=o=f,qf(t,h))(t.flags&131072)!==0&&($t=!0);else return n.lanes=t.lanes,cs(t,n,h)}return Lf(t,n,r,o,h)}function Jg(t,n,r,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Wg(t,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lu(n,f!==null?f.cachePool:null),f!==null?tg(n,f):ff(),ng(n);else return o=n.lanes=536870912,Wg(t,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Lu(n,f.cachePool),tg(n,f),Xs(),n.memoizedState=null):(t!==null&&Lu(n,null),ff(),Xs());return dn(t,n,h,r),n.child}function al(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wg(t,n,r,o,h){var f=af();return f=f===null?null:{parent:Yt._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},t!==null&&Lu(n,null),ff(),ng(n),t!==null&&Oa(t,n,o,!0),n.childLanes=h,null}function Ju(t,n){return n=ec({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function ey(t,n,r){return Jr(n,t.child,null,r),t=Ju(n,n.pendingProps),t.flags|=2,qn(n),n.memoizedState=null,t}function Ib(t,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ze){if(o.mode==="hidden")return t=Ju(n,o),n.lanes=536870912,al(null,t);if(mf(n),(t=St)?(t=f_(t,ni),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Bs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},r=Up(t),r.return=n,n.child=r,hn=n,St=null)):t=null,t===null)throw qs(n);return n.lanes=536870912,null}return Ju(n,o)}var f=t.memoizedState;if(f!==null){var g=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=ey(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if($t||Oa(t,n,r,!1),h=(r&t.childLanes)!==0,$t||h){if(o=Tt,o!==null&&(g=xo(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Gr(t,g),Vn(o,t,g),kf;uc(),n=ey(t,n,r)}else t=f.treeContext,St=si(g.nextSibling),hn=n,Ze=!0,Hs=null,ni=!1,t!==null&&zp(n,t),n=Ju(n,o),n.flags|=4096;return n}return t=ss(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Wu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Lf(t,n,r,o,h){return Yr(n),r=gf(t,n,r,o,void 0,h),o=yf(),t!==null&&!$t?(_f(t,n,h),cs(t,n,h)):(Ze&&o&&$h(n),n.flags|=1,dn(t,n,r,h),n.child)}function ty(t,n,r,o,h,f){return Yr(n),n.updateQueue=null,r=sg(n,o,r,h),ig(t),o=yf(),t!==null&&!$t?(_f(t,n,f),cs(t,n,f)):(Ze&&o&&$h(n),n.flags|=1,dn(t,n,r,f),n.child)}function ny(t,n,r,o,h){if(Yr(n),n.stateNode===null){var f=Ia,g=r.contextType;typeof g=="object"&&g!==null&&(f=fn(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},lf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?fn(g):Ia,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Of(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Mf.enqueueReplaceState(f,f.state,null),tl(n,o,f,h),el(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,x=ea(r,E);f.props=x;var j=f.context,Q=r.contextType;g=Ia,typeof Q=="object"&&Q!==null&&(g=fn(Q));var X=r.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&Hg(n,f,o,g),Fs=!1;var z=n.memoizedState;f.state=z,tl(n,o,f,h),el(),j=n.memoizedState,E||z!==j||Fs?(typeof X=="function"&&(Of(n,r,X,o),j=n.memoizedState),(x=Fs||Bg(n,r,x,o,z,j,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=g,o=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,uf(t,n),g=n.memoizedProps,Q=ea(r,g),f.props=Q,X=n.pendingProps,z=f.context,j=r.contextType,x=Ia,typeof j=="object"&&j!==null&&(x=fn(j)),E=r.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||z!==x)&&Hg(n,f,o,x),Fs=!1,z=n.memoizedState,f.state=z,tl(n,o,f,h),el();var H=n.memoizedState;g!==X||z!==H||Fs||t!==null&&t.dependencies!==null&&Vu(t.dependencies)?(typeof E=="function"&&(Of(n,r,E,o),H=n.memoizedState),(Q=Fs||Bg(n,r,Q,o,z,H,x)||t!==null&&t.dependencies!==null&&Vu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=x,o=Q):(typeof f.componentDidUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Wu(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Jr(n,t.child,null,h),n.child=Jr(n,null,r,h)):dn(t,n,r,h),n.memoizedState=f.state,t=n.child):t=cs(t,n,h),t}function iy(t,n,r,o){return Qr(),n.flags|=256,dn(t,n,r,o),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(t){return{baseLanes:t,cachePool:Qp()}}function jf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Fn),t}function sy(t,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=t!==null&&t.memoizedState===null?!1:(Bt.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ze){if(h?Ys(n):Xs(),(t=St)?(t=f_(t,ni),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Bs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},r=Up(t),r.return=n,n.child=r,hn=n,St=null)):t=null,t===null)throw qs(n);return Td(t)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Xs(),h=n.mode,E=ec({mode:"hidden",children:E},h),o=Fr(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Pf(r),o.childLanes=jf(t,g,r),n.memoizedState=Uf,al(null,o)):(Ys(n),zf(n,E))}var x=t.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(Ys(n),n.flags&=-257,n=Bf(t,n,r)):n.memoizedState!==null?(Xs(),n.child=t.child,n.flags|=128,n=null):(Xs(),E=o.fallback,h=n.mode,o=ec({mode:"visible",children:o.children},h),E=Fr(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Jr(n,t.child,null,r),o=n.child,o.memoizedState=Pf(r),o.childLanes=jf(t,g,r),n.memoizedState=Uf,n=al(null,o));else if(Ys(n),Td(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(a(419)),o.stack="",o.digest=g,Yo({value:o,source:null,stack:null}),n=Bf(t,n,r)}else if($t||Oa(t,n,r,!1),g=(r&t.childLanes)!==0,$t||g){if(g=Tt,g!==null&&(o=xo(g,r),o!==0&&o!==x.retryLane))throw x.retryLane=o,Gr(t,o),Vn(g,t,o),kf;Ed(E)||uc(),n=Bf(t,n,r)}else Ed(E)?(n.flags|=192,n.child=t.child,n=null):(t=x.treeContext,St=si(E.nextSibling),hn=n,Ze=!0,Hs=null,ni=!1,t!==null&&zp(n,t),n=zf(n,o.children),n.flags|=4096);return n}return h?(Xs(),E=o.fallback,h=n.mode,x=t.child,j=x.sibling,o=ss(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,j!==null?E=ss(j,E):(E=Fr(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,al(null,o),o=n.child,E=t.child.memoizedState,E===null?E=Pf(r):(h=E.cachePool,h!==null?(x=Yt._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Qp(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=jf(t,g,r),n.memoizedState=Uf,al(t.child,o)):(Ys(n),r=t.child,t=r.sibling,r=ss(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function zf(t,n){return n=ec({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ec(t,n){return t=Bn(22,t,null,n),t.lanes=0,t}function Bf(t,n,r){return Jr(n,t.child,null,r),t=zf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ry(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),tf(t.return,n,r)}function Hf(t,n,r,o,h,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function ay(t,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Bt.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,ie(Bt,g),dn(t,n,o,r),o=Ze?Ko:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ry(t,r,n);else if(t.tag===19)ry(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)t=r.alternate,t!==null&&Hu(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Hf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Hu(t)===null){n.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Hf(n,!0,r,null,f,o);break;case"together":Hf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function cs(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),Js|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Oa(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=ss(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=ss(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function qf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Vu(t)))}function Cb(t,n,r){switch(n.tag){case 3:jt(n,n.stateNode.containerInfo),Gs(n,Yt,t.memoizedState.cache),Qr();break;case 27:case 5:Wi(n);break;case 4:jt(n,n.stateNode.containerInfo);break;case 10:Gs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ys(n),n.flags|=128,null):(r&n.child.childLanes)!==0?sy(t,n,r):(Ys(n),t=cs(t,n,r),t!==null?t.sibling:null);Ys(n);break;case 19:var h=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Oa(t,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return ay(t,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(Bt,Bt.current),o)break;return null;case 22:return n.lanes=0,Jg(t,n,r,n.pendingProps);case 24:Gs(n,Yt,t.memoizedState.cache)}return cs(t,n,r)}function oy(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)$t=!0;else{if(!qf(t,r)&&(n.flags&128)===0)return $t=!1,Cb(t,n,r);$t=(t.flags&131072)!==0}else $t=!1,Ze&&(n.flags&1048576)!==0&&jp(n,Ko,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=$r(n.elementType),n.type=t,typeof t=="function")Kh(t)?(o=ea(t,o),n.tag=1,n=ny(null,n,t,o,r)):(n.tag=0,n=Lf(null,n,t,o,r));else{if(t!=null){var h=t.$$typeof;if(h===et){n.tag=11,n=Xg(null,n,t,o,r);break e}else if(h===C){n.tag=14,n=$g(null,n,t,o,r);break e}}throw n=vt(t)||t,Error(a(306,n,""))}}return n;case 0:return Lf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=ea(o,n.pendingProps),ny(t,n,o,h,r);case 3:e:{if(jt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,uf(t,n),tl(n,o,null,r);var g=n.memoizedState;if(o=g.cache,Gs(n,Yt,o),o!==f.cache&&nf(n,[Yt],r,!0),el(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=iy(t,n,o,r);break e}else if(o!==h){h=Wn(Error(a(424)),n),Yo(h),n=iy(t,n,o,r);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(St=si(t.firstChild),hn=n,Ze=!0,Hs=null,ni=!0,r=Jp(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Qr(),o===h){n=cs(t,n,r);break e}dn(t,n,o,r)}n=n.child}return n;case 26:return Wu(t,n),t===null?(r=__(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ze||(r=n.type,t=n.pendingProps,o=gc(De.current).createElement(r),o[Ft]=n,o[rn]=t,mn(o,r,t),Qt(o),n.stateNode=o):n.memoizedState=__(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Wi(n),t===null&&Ze&&(o=n.stateNode=p_(n.type,n.pendingProps,De.current),hn=n,ni=!0,h=St,ir(n.type)?(bd=h,St=si(o.firstChild)):St=h),dn(t,n,n.pendingProps.children,r),Wu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ze&&((h=o=St)&&(o=r1(o,n.type,n.pendingProps,ni),o!==null?(n.stateNode=o,hn=n,St=si(o.firstChild),ni=!1,h=!0):h=!1),h||qs(n)),Wi(n),h=n.type,f=n.pendingProps,g=t!==null?t.memoizedProps:null,o=f.children,yd(h,f)?o=null:g!==null&&yd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(t,n,Eb,null,null,r),Tl._currentValue=h),Wu(t,n),dn(t,n,o,r),n.child;case 6:return t===null&&Ze&&((t=r=St)&&(r=a1(r,n.pendingProps,ni),r!==null?(n.stateNode=r,hn=n,St=null,t=!0):t=!1),t||qs(n)),null;case 13:return sy(t,n,r);case 4:return jt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Jr(n,null,o,r):dn(t,n,o,r),n.child;case 11:return Xg(t,n,n.type,n.pendingProps,r);case 7:return dn(t,n,n.pendingProps,r),n.child;case 8:return dn(t,n,n.pendingProps.children,r),n.child;case 12:return dn(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Gs(n,n.type,o.value),dn(t,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Yr(n),h=fn(h),o=o(h),n.flags|=1,dn(t,n,o,r),n.child;case 14:return $g(t,n,n.type,n.pendingProps,r);case 15:return Zg(t,n,n.type,n.pendingProps,r);case 19:return ay(t,n,r);case 31:return Ib(t,n,r);case 22:return Jg(t,n,r,n.pendingProps);case 24:return Yr(n),o=fn(Yt),t===null?(h=af(),h===null&&(h=Tt,f=sf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},lf(n),Gs(n,Yt,h)):((t.lanes&r)!==0&&(uf(t,n),tl(n,null,null,r),el()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Gs(n,Yt,o)):(o=f.cache,Gs(n,Yt,o),o!==h.cache&&nf(n,[Yt],r,!0))),dn(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function hs(t){t.flags|=4}function Gf(t,n,r,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Vy())t.flags|=8192;else throw Zr=Pu,of}else t.flags&=-16777217}function ly(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!A_(n))if(Vy())t.flags|=8192;else throw Zr=Pu,of}function tc(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ou():536870912,t.lanes|=n,Ga|=n)}function ol(t,n){if(!Ze)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function wt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function Nb(t,n,r){var o=n.pendingProps;switch(Zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(n),null;case 1:return wt(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),os(Yt),Et(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Da(n)?hs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),wt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(hs(n),f!==null?(wt(n),ly(n,f)):(wt(n),Gf(n,h,null,o,r))):f?f!==t.memoizedState?(hs(n),wt(n),ly(n,f)):(wt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&hs(n),wt(n),Gf(n,h,t,o,r)),null;case 27:if(Cs(n),r=De.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&hs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return wt(n),null}t=ue.current,Da(n)?Bp(n):(t=p_(h,o,r),n.stateNode=t,hs(n))}return wt(n),null;case 5:if(Cs(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&hs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return wt(n),null}if(f=ue.current,Da(n))Bp(n);else{var g=gc(De.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ft]=n,f[rn]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;e:switch(mn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&hs(n)}}return wt(n),Gf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&hs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=De.current,Da(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,h=hn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Ft]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||s_(t.nodeValue,r)),t||qs(n,!0)}else t=gc(t).createTextNode(o),t[Ft]=n,n.stateNode=t}return wt(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Da(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ft]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),t=!1}else r=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(qn(n),n):(qn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return wt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Da(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ft]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),h=!1}else h=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(qn(n),n):(qn(n),null)}return qn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),tc(n,n.updateQueue),wt(n),null);case 4:return Et(),t===null&&fd(n.stateNode.containerInfo),wt(n),null;case 10:return os(n.type),wt(n),null;case 19:if(Y(Bt),o=n.memoizedState,o===null)return wt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ol(o,!1);else{if(Lt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Hu(t),f!==null){for(n.flags|=128,ol(o,!1),t=f.updateQueue,n.updateQueue=t,tc(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Lp(r,t),r=r.sibling;return ie(Bt,Bt.current&1|2),Ze&&rs(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Pe()>ac&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304)}else{if(!h)if(t=Hu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,tc(n,t),ol(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ze)return wt(n),null}else 2*Pe()-o.renderingStartTime>ac&&r!==536870912&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Pe(),t.sibling=null,r=Bt.current,ie(Bt,h?r&1|2:r&1),Ze&&rs(n,o.treeForkCount),t):(wt(n),null);case 22:case 23:return qn(n),df(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(wt(n),n.subtreeFlags&6&&(n.flags|=8192)):wt(n),r=n.updateQueue,r!==null&&tc(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&Y(Xr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),os(Yt),wt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Db(t,n){switch(Zh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return os(Yt),Et(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Cs(n),null;case 31:if(n.memoizedState!==null){if(qn(n),n.alternate===null)throw Error(a(340));Qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(qn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(Bt),null;case 4:return Et(),null;case 10:return os(n.type),null;case 22:case 23:return qn(n),df(),t!==null&&Y(Xr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return os(Yt),null;case 25:return null;default:return null}}function uy(t,n){switch(Zh(n),n.tag){case 3:os(Yt),Et();break;case 26:case 27:case 5:Cs(n);break;case 4:Et();break;case 31:n.memoizedState!==null&&qn(n);break;case 13:qn(n);break;case 19:Y(Bt);break;case 10:os(n.type);break;case 22:case 23:qn(n),df(),t!==null&&Y(Xr);break;case 24:os(Yt)}}function ll(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&t)===t){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){dt(n,n.return,E)}}function $s(t,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var x=r,j=E;try{j()}catch(Q){dt(h,x,Q)}}}o=o.next}while(o!==f)}}catch(Q){dt(n,n.return,Q)}}function cy(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{eg(n,r)}catch(o){dt(t,t.return,o)}}}function hy(t,n,r){r.props=ea(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){dt(t,n,o)}}function ul(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(h){dt(t,n,h)}}function Hi(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){dt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){dt(t,n,h)}else r.current=null}function fy(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){dt(t,t.return,h)}}function Ff(t,n,r){try{var o=t.stateNode;Wb(o,t.type,r,n),o[rn]=n}catch(h){dt(t,t.return,h)}}function dy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ir(t.type)||t.tag===4}function Qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ir(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=hi));else if(o!==4&&(o===27&&ir(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Kf(t,n,r),t=t.sibling;t!==null;)Kf(t,n,r),t=t.sibling}function nc(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&ir(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(nc(t,n,r),t=t.sibling;t!==null;)nc(t,n,r),t=t.sibling}function my(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);mn(n,o,r),n[Ft]=t,n[rn]=r}catch(f){dt(t,t.return,f)}}var fs=!1,Zt=!1,Yf=!1,py=typeof WeakSet=="function"?WeakSet:Set,on=null;function Ob(t,n){if(t=t.containerInfo,pd=Ac,t=xp(t),zh(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var g=0,E=-1,x=-1,j=0,Q=0,X=t,z=null;t:for(;;){for(var H;X!==r||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(x=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===t)break t;if(z===r&&++j===h&&(E=g),z===f&&++Q===o&&(x=g),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}r=E===-1||x===-1?null:{start:E,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(gd={focusedElem:t,selectionRange:r},Ac=!1,on=n;on!==null;)if(n=on,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,on=t;else for(;on!==null;){switch(n=on,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var fe=ea(r.type,h);t=o.getSnapshotBeforeUpdate(fe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Te){dt(r,r.return,Te)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)vd(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,on=t;break}on=n.return}}function gy(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ms(t,r),o&4&&ll(5,r);break;case 1:if(ms(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){dt(r,r.return,g)}else{var h=ea(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){dt(r,r.return,g)}}o&64&&cy(r),o&512&&ul(r,r.return);break;case 3:if(ms(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{eg(t,n)}catch(g){dt(r,r.return,g)}}break;case 27:n===null&&o&4&&my(r);case 26:case 5:ms(t,r),n===null&&o&4&&fy(r),o&512&&ul(r,r.return);break;case 12:ms(t,r);break;case 31:ms(t,r),o&4&&vy(t,r);break;case 13:ms(t,r),o&4&&Ey(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=Bb.bind(null,r),o1(t,r))));break;case 22:if(o=r.memoizedState!==null||fs,!o){n=n!==null&&n.memoizedState!==null||Zt,h=fs;var f=Zt;fs=o,(Zt=n)&&!f?ps(t,r,(r.subtreeFlags&8772)!==0):ms(t,r),fs=h,Zt=f}break;case 30:break;default:ms(t,r)}}function yy(t){var n=t.alternate;n!==null&&(t.alternate=null,yy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ma(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Dt=null,Nn=!1;function ds(t,n,r){for(r=r.child;r!==null;)_y(t,n,r),r=r.sibling}function _y(t,n,r){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(bt,r)}catch{}switch(r.tag){case 26:Zt||Hi(r,n),ds(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Zt||Hi(r,n);var o=Dt,h=Nn;ir(r.type)&&(Dt=r.stateNode,Nn=!1),ds(t,n,r),_l(r.stateNode),Dt=o,Nn=h;break;case 5:Zt||Hi(r,n);case 6:if(o=Dt,h=Nn,Dt=null,ds(t,n,r),Dt=o,Nn=h,Dt!==null)if(Nn)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(r.stateNode)}catch(f){dt(r,n,f)}else try{Dt.removeChild(r.stateNode)}catch(f){dt(r,n,f)}break;case 18:Dt!==null&&(Nn?(t=Dt,c_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Ja(t)):c_(Dt,r.stateNode));break;case 4:o=Dt,h=Nn,Dt=r.stateNode.containerInfo,Nn=!0,ds(t,n,r),Dt=o,Nn=h;break;case 0:case 11:case 14:case 15:$s(2,r,n),Zt||$s(4,r,n),ds(t,n,r);break;case 1:Zt||(Hi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&hy(r,n,o)),ds(t,n,r);break;case 21:ds(t,n,r);break;case 22:Zt=(o=Zt)||r.memoizedState!==null,ds(t,n,r),Zt=o;break;default:ds(t,n,r)}}function vy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ja(t)}catch(r){dt(n,n.return,r)}}}function Ey(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ja(t)}catch(r){dt(n,n.return,r)}}function Mb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new py),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new py),n;default:throw Error(a(435,t.tag))}}function ic(t,n){var r=Mb(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=Hb.bind(null,t,o);o.then(h,h)}})}function Dn(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=t,g=n,E=g;e:for(;E!==null;){switch(E.tag){case 27:if(ir(E.type)){Dt=E.stateNode,Nn=!1;break e}break;case 5:Dt=E.stateNode,Nn=!1;break e;case 3:case 4:Dt=E.stateNode.containerInfo,Nn=!0;break e}E=E.return}if(Dt===null)throw Error(a(160));_y(f,g,h),Dt=null,Nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ty(n,t),n=n.sibling}var yi=null;function Ty(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dn(n,t),On(t),o&4&&($s(3,t,t.return),ll(3,t),$s(5,t,t.return));break;case 1:Dn(n,t),On(t),o&512&&(Zt||r===null||Hi(r,r.return)),o&64&&fs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=yi;if(Dn(n,t),On(t),o&512&&(Zt||r===null||Hi(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ii]||f[Ft]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),mn(f,o,r),f[Ft]=t,Qt(f),o=f;break e;case"link":var g=T_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break t}}f=h.createElement(o),mn(f,o,r),h.head.appendChild(f);break;case"meta":if(g=T_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break t}}f=h.createElement(o),mn(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ft]=t,Qt(f),o=f}t.stateNode=o}else b_(h,t.type,t.stateNode);else t.stateNode=E_(h,o,t.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?b_(h,t.type,t.stateNode):E_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Ff(t,t.memoizedProps,r.memoizedProps)}break;case 27:Dn(n,t),On(t),o&512&&(Zt||r===null||Hi(r,r.return)),r!==null&&o&4&&Ff(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Dn(n,t),On(t),o&512&&(Zt||r===null||Hi(r,r.return)),t.flags&32){h=t.stateNode;try{Cn(h,"")}catch(fe){dt(t,t.return,fe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Ff(t,h,r!==null?r.memoizedProps:h)),o&1024&&(Yf=!0);break;case 6:if(Dn(n,t),On(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(fe){dt(t,t.return,fe)}}break;case 3:if(vc=null,h=yi,yi=yc(n.containerInfo),Dn(n,t),yi=h,On(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Ja(n.containerInfo)}catch(fe){dt(t,t.return,fe)}Yf&&(Yf=!1,by(t));break;case 4:o=yi,yi=yc(t.stateNode.containerInfo),Dn(n,t),On(t),yi=o;break;case 12:Dn(n,t),On(t);break;case 31:Dn(n,t),On(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ic(t,o)));break;case 13:Dn(n,t),On(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(rc=Pe()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ic(t,o)));break;case 22:h=t.memoizedState!==null;var x=r!==null&&r.memoizedState!==null,j=fs,Q=Zt;if(fs=j||h,Zt=Q||x,Dn(n,t),Zt=Q,fs=j,On(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||x||fs||Zt||ta(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){x=r=n;try{if(f=x.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=x.stateNode;var X=x.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(fe){dt(x,x.return,fe)}}}else if(n.tag===6){if(r===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(fe){dt(x,x.return,fe)}}}else if(n.tag===18){if(r===null){x=n;try{var H=x.stateNode;h?h_(H,!0):h_(x.stateNode,!1)}catch(fe){dt(x,x.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,ic(t,r))));break;case 19:Dn(n,t),On(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ic(t,o)));break;case 30:break;case 21:break;default:Dn(n,t),On(t)}}function On(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if(dy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=Qf(t);nc(t,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(Cn(g,""),r.flags&=-33);var E=Qf(t);nc(t,E,g);break;case 3:case 4:var x=r.stateNode.containerInfo,j=Qf(t);Kf(t,j,x);break;default:throw Error(a(161))}}catch(Q){dt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function by(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;by(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ms(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gy(t,n.alternate,n),n=n.sibling}function ta(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:$s(4,n,n.return),ta(n);break;case 1:Hi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&hy(n,n.return,r),ta(n);break;case 27:_l(n.stateNode);case 26:case 5:Hi(n,n.return),ta(n);break;case 22:n.memoizedState===null&&ta(n);break;case 30:ta(n);break;default:ta(n)}t=t.sibling}}function ps(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ps(h,f,r),ll(4,f);break;case 1:if(ps(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){dt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Wp(x[h],E)}catch(j){dt(o,o.return,j)}}r&&g&64&&cy(f),ul(f,f.return);break;case 27:my(f);case 26:case 5:ps(h,f,r),r&&o===null&&g&4&&fy(f),ul(f,f.return);break;case 12:ps(h,f,r);break;case 31:ps(h,f,r),r&&g&4&&vy(h,f);break;case 13:ps(h,f,r),r&&g&4&&Ey(h,f);break;case 22:f.memoizedState===null&&ps(h,f,r),ul(f,f.return);break;case 30:break;default:ps(h,f,r)}n=n.sibling}}function Xf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&Xo(r))}function $f(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xo(t))}function _i(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ay(t,n,r,o),n=n.sibling}function Ay(t,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:_i(t,n,r,o),h&2048&&ll(9,n);break;case 1:_i(t,n,r,o);break;case 3:_i(t,n,r,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Xo(t)));break;case 12:if(h&2048){_i(t,n,r,o),t=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){dt(n,n.return,x)}}else _i(t,n,r,o);break;case 31:_i(t,n,r,o);break;case 13:_i(t,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?_i(t,n,r,o):cl(t,n):f._visibility&2?_i(t,n,r,o):(f._visibility|=2,Ba(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(g,n);break;case 24:_i(t,n,r,o),h&2048&&$f(n.alternate,n);break;default:_i(t,n,r,o)}}function Ba(t,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,g=n,E=r,x=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:Ba(f,g,E,x,h),ll(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Ba(f,g,E,x,h):cl(f,g):(Q._visibility|=2,Ba(f,g,E,x,h)),h&&j&2048&&Xf(g.alternate,g);break;case 24:Ba(f,g,E,x,h),h&&j&2048&&$f(g.alternate,g);break;default:Ba(f,g,E,x,h)}n=n.sibling}}function cl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,h=o.flags;switch(o.tag){case 22:cl(r,o),h&2048&&Xf(o.alternate,o);break;case 24:cl(r,o),h&2048&&$f(o.alternate,o);break;default:cl(r,o)}n=n.sibling}}var hl=8192;function Ha(t,n,r){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)Sy(t,n,r),t=t.sibling}function Sy(t,n,r){switch(t.tag){case 26:Ha(t,n,r),t.flags&hl&&t.memoizedState!==null&&v1(r,yi,t.memoizedState,t.memoizedProps);break;case 5:Ha(t,n,r);break;case 3:case 4:var o=yi;yi=yc(t.stateNode.containerInfo),Ha(t,n,r),yi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=hl,hl=16777216,Ha(t,n,r),hl=o):Ha(t,n,r));break;default:Ha(t,n,r)}}function wy(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function fl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];on=o,xy(o,t)}wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ry(t),t=t.sibling}function Ry(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&$s(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,sc(t)):fl(t);break;default:fl(t)}}function sc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];on=o,xy(o,t)}wy(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:$s(8,n,n.return),sc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,sc(n));break;default:sc(n)}t=t.sibling}}function xy(t,n){for(;on!==null;){var r=on;switch(r.tag){case 0:case 11:case 15:$s(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Xo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,on=o;else e:for(r=t;on!==null;){o=on;var h=o.sibling,f=o.return;if(yy(o),o===r){on=null;break e}if(h!==null){h.return=f,on=h;break e}on=f}}}var Vb={getCacheForType:function(t){var n=fn(Yt),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return fn(Yt).controller.signal}},kb=typeof WeakMap=="function"?WeakMap:Map,ut=0,Tt=null,je=null,qe=0,ft=0,Gn=null,Zs=!1,qa=!1,Zf=!1,gs=0,Lt=0,Js=0,na=0,Jf=0,Fn=0,Ga=0,dl=null,Mn=null,Wf=!1,rc=0,Iy=0,ac=1/0,oc=null,Ws=null,tn=0,er=null,Fa=null,ys=0,ed=0,td=null,Cy=null,ml=0,nd=null;function Qn(){return(ut&2)!==0&&qe!==0?qe&-qe:F.T!==null?ld():lu()}function Ny(){if(Fn===0)if((qe&536870912)===0||Ze){var t=Cr;Cr<<=1,(Cr&3932160)===0&&(Cr=262144),Fn=t}else Fn=536870912;return t=Hn.current,t!==null&&(t.flags|=32),Fn}function Vn(t,n,r){(t===Tt&&(ft===2||ft===9)||t.cancelPendingCommit!==null)&&(Qa(t,0),tr(t,qe,Fn,!1)),Nr(t,r),((ut&2)===0||t!==Tt)&&(t===Tt&&((ut&2)===0&&(na|=r),Lt===4&&tr(t,qe,Fn,!1)),qi(t))}function Dy(t,n,r){if((ut&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||li(t,n),h=o?Pb(t,n):sd(t,n,!0),f=o;do{if(h===0){qa&&!o&&tr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!Lb(r)){h=sd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var E=t;h=dl;var x=E.current.memoizedState.isDehydrated;if(x&&(Qa(E,g).flags|=256),g=sd(E,g,!1),g!==2){if(Zf&&!x){E.errorRecoveryDisabledLanes|=f,na|=f,h=4;break e}f=Mn,Mn=h,f!==null&&(Mn===null?Mn=f:Mn.push.apply(Mn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Qa(t,0),tr(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:tr(o,n,Fn,!Zs);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=rc+300-Pe(),10<h)){if(tr(o,n,Fn,!Zs),wi(o,0,!0)!==0)break e;ys=n,o.timeoutHandle=l_(Oy.bind(null,o,r,Mn,oc,Wf,n,Fn,na,Ga,Zs,f,"Throttled",-0,0),h);break e}Oy(o,r,Mn,oc,Wf,n,Fn,na,Ga,Zs,f,null,-0,0)}}break}while(!0);qi(t)}function Oy(t,n,r,o,h,f,g,E,x,j,Q,X,z,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},Sy(n,f,X);var fe=(f&62914560)===f?rc-Pe():(f&4194048)===f?Iy-Pe():0;if(fe=E1(X,fe),fe!==null){ys=f,t.cancelPendingCommit=fe(zy.bind(null,t,n,f,r,o,h,g,E,x,Q,X,null,z,H)),tr(t,f,g,!j);return}}zy(t,n,f,r,o,h,g,E,x)}function Lb(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!zn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function tr(t,n,r,o){n&=~Jf,n&=~na,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-W(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&Dr(t,r,n)}function lc(){return(ut&6)===0?(pl(0),!1):!0}function id(){if(je!==null){if(ft===0)var t=je.return;else t=je,as=Kr=null,vf(t),La=null,Zo=0,t=je;for(;t!==null;)uy(t.alternate,t),t=t.return;je=null}}function Qa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,n1(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),ys=0,id(),Tt=t,je=r=ss(t.current,null),qe=n,ft=0,Gn=null,Zs=!1,qa=li(t,n),Zf=!1,Ga=Fn=Jf=na=Js=Lt=0,Mn=dl=null,Wf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-W(o),f=1<<h;n|=t[h],o&=~f}return gs=n,Cu(),r}function My(t,n){Me=null,F.H=rl,n===ka||n===Uu?(n=Xp(),ft=3):n===of?(n=Xp(),ft=4):ft=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Gn=n,je===null&&(Lt=1,Zu(t,Wn(n,t.current)))}function Vy(){var t=Hn.current;return t===null?!0:(qe&4194048)===qe?ii===null:(qe&62914560)===qe||(qe&536870912)!==0?t===ii:!1}function ky(){var t=F.H;return F.H=rl,t===null?rl:t}function Ly(){var t=F.A;return F.A=Vb,t}function uc(){Lt=4,Zs||(qe&4194048)!==qe&&Hn.current!==null||(qa=!0),(Js&134217727)===0&&(na&134217727)===0||Tt===null||tr(Tt,qe,Fn,!1)}function sd(t,n,r){var o=ut;ut|=2;var h=ky(),f=Ly();(Tt!==t||qe!==n)&&(oc=null,Qa(t,n)),n=!1;var g=Lt;e:do try{if(ft!==0&&je!==null){var E=je,x=Gn;switch(ft){case 8:id(),g=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(n=!0);var j=ft;if(ft=0,Gn=null,Ka(t,E,x,j),r&&qa){g=0;break e}break;default:j=ft,ft=0,Gn=null,Ka(t,E,x,j)}}Ub(),g=Lt;break}catch(Q){My(t,Q)}while(!0);return n&&t.shellSuspendCounter++,as=Kr=null,ut=o,F.H=h,F.A=f,je===null&&(Tt=null,qe=0,Cu()),g}function Ub(){for(;je!==null;)Uy(je)}function Pb(t,n){var r=ut;ut|=2;var o=ky(),h=Ly();Tt!==t||qe!==n?(oc=null,ac=Pe()+500,Qa(t,n)):qa=li(t,n);e:do try{if(ft!==0&&je!==null){n=je;var f=Gn;t:switch(ft){case 1:ft=0,Gn=null,Ka(t,n,f,1);break;case 2:case 9:if(Kp(f)){ft=0,Gn=null,Py(n);break}n=function(){ft!==2&&ft!==9||Tt!==t||(ft=7),qi(t)},f.then(n,n);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:Kp(f)?(ft=0,Gn=null,Py(n)):(ft=0,Gn=null,Ka(t,n,f,7));break;case 5:var g=null;switch(je.tag){case 26:g=je.memoizedState;case 5:case 27:var E=je;if(g?A_(g):E.stateNode.complete){ft=0,Gn=null;var x=E.sibling;if(x!==null)je=x;else{var j=E.return;j!==null?(je=j,cc(j)):je=null}break t}}ft=0,Gn=null,Ka(t,n,f,5);break;case 6:ft=0,Gn=null,Ka(t,n,f,6);break;case 8:id(),Lt=6;break e;default:throw Error(a(462))}}jb();break}catch(Q){My(t,Q)}while(!0);return as=Kr=null,F.H=o,F.A=h,ut=r,je!==null?0:(Tt=null,qe=0,Cu(),Lt)}function jb(){for(;je!==null&&!de();)Uy(je)}function Uy(t){var n=oy(t.alternate,t,gs);t.memoizedProps=t.pendingProps,n===null?cc(t):je=n}function Py(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ty(r,n,n.pendingProps,n.type,void 0,qe);break;case 11:n=ty(r,n,n.pendingProps,n.type.render,n.ref,qe);break;case 5:vf(n);default:uy(r,n),n=je=Lp(n,gs),n=oy(r,n,gs)}t.memoizedProps=t.pendingProps,n===null?cc(t):je=n}function Ka(t,n,r,o){as=Kr=null,vf(n),La=null,Zo=0;var h=n.return;try{if(xb(t,h,n,r,qe)){Lt=1,Zu(t,Wn(r,t.current)),je=null;return}}catch(f){if(h!==null)throw je=h,f;Lt=1,Zu(t,Wn(r,t.current)),je=null;return}n.flags&32768?(Ze||o===1?t=!0:qa||(qe&536870912)!==0?t=!1:(Zs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Hn.current,o!==null&&o.tag===13&&(o.flags|=16384))),jy(n,t)):cc(n)}function cc(t){var n=t;do{if((n.flags&32768)!==0){jy(n,Zs);return}t=n.return;var r=Nb(n.alternate,n,gs);if(r!==null){je=r;return}if(n=n.sibling,n!==null){je=n;return}je=n=t}while(n!==null);Lt===0&&(Lt=5)}function jy(t,n){do{var r=Db(t.alternate,t);if(r!==null){r.flags&=32767,je=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){je=t;return}je=t=r}while(t!==null);Lt=6,je=null}function zy(t,n,r,o,h,f,g,E,x){t.cancelPendingCommit=null;do hc();while(tn!==0);if((ut&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Fh,Lh(t,r,f,g,E,x),t===Tt&&(je=Tt=null,qe=0),Fa=n,er=t,ys=r,ed=f,td=h,Cy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qb(at,function(){return Fy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=ae.p,ae.p=2,g=ut,ut|=4;try{Ob(t,n,r)}finally{ut=g,ae.p=h,F.T=o}}tn=1,By(),Hy(),qy()}}function By(){if(tn===1){tn=0;var t=er,n=Fa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=F.T,F.T=null;var o=ae.p;ae.p=2;var h=ut;ut|=4;try{Ty(n,t);var f=gd,g=xp(t.containerInfo),E=f.focusedElem,x=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Rp(E.ownerDocument.documentElement,E)){if(x!==null&&zh(E)){var j=x.start,Q=x.end;if(Q===void 0&&(Q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),fe=E.textContent.length,Te=Math.min(x.start,fe),_t=x.end===void 0?Te:Math.min(x.end,fe);!H.extend&&Te>_t&&(g=_t,_t=Te,Te=g);var k=wp(E,Te),N=wp(E,_t);if(k&&N&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var P=X.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),Te>_t?(H.addRange(P),H.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Ac=!!pd,gd=pd=null}finally{ut=h,ae.p=o,F.T=r}}t.current=n,tn=2}}function Hy(){if(tn===2){tn=0;var t=er,n=Fa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=F.T,F.T=null;var o=ae.p;ae.p=2;var h=ut;ut|=4;try{gy(t,n.alternate,n)}finally{ut=h,ae.p=o,F.T=r}}tn=3}}function qy(){if(tn===4||tn===3){tn=0,nt();var t=er,n=Fa,r=ys,o=Cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?tn=5:(tn=0,Fa=er=null,Gy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ws=null),es(r),n=n.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(bt,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=ae.p,ae.p=2,F.T=null;try{for(var f=t.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{F.T=n,ae.p=h}}(ys&3)!==0&&hc(),qi(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===nd?ml++:(ml=0,nd=t):ml=0,pl(0)}}function Gy(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Xo(n)))}function hc(){return By(),Hy(),qy(),Fy()}function Fy(){if(tn!==5)return!1;var t=er,n=ed;ed=0;var r=es(ys),o=F.T,h=ae.p;try{ae.p=32>r?32:r,F.T=null,r=td,td=null;var f=er,g=ys;if(tn=0,Fa=er=null,ys=0,(ut&6)!==0)throw Error(a(331));var E=ut;if(ut|=4,Ry(f.current),Ay(f,f.current,g,r),ut=E,pl(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(bt,f)}catch{}return!0}finally{ae.p=h,F.T=o,Gy(t,n)}}function Qy(t,n,r){n=Wn(r,n),n=Vf(t.stateNode,n,2),t=Ks(t,n,2),t!==null&&(Nr(t,2),qi(t))}function dt(t,n,r){if(t.tag===3)Qy(t,t,r);else for(;n!==null;){if(n.tag===3){Qy(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ws===null||!Ws.has(o))){t=Wn(r,t),r=Kg(2),o=Ks(n,r,2),o!==null&&(Yg(r,o,n,t),Nr(o,2),qi(o));break}}n=n.return}}function rd(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new kb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Zf=!0,h.add(r),t=zb.bind(null,t,n,r),n.then(t,t))}function zb(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Tt===t&&(qe&r)===r&&(Lt===4||Lt===3&&(qe&62914560)===qe&&300>Pe()-rc?(ut&2)===0&&Qa(t,0):Jf|=r,Ga===qe&&(Ga=0)),qi(t)}function Ky(t,n){n===0&&(n=ou()),t=Gr(t,n),t!==null&&(Nr(t,n),qi(t))}function Bb(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Ky(t,r)}function Hb(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Ky(t,r)}function qb(t,n){return ce(t,n)}var fc=null,Ya=null,ad=!1,dc=!1,od=!1,nr=0;function qi(t){t!==Ya&&t.next===null&&(Ya===null?fc=Ya=t:Ya=Ya.next=t),dc=!0,ad||(ad=!0,Fb())}function pl(t,n){if(!od&&dc){od=!0;do for(var r=!1,o=fc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-W(42|t)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Zy(o,f))}else f=qe,f=wi(o,o===Tt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||li(o,f)||(r=!0,Zy(o,f));o=o.next}while(r);od=!1}}function Gb(){Yy()}function Yy(){dc=ad=!1;var t=0;nr!==0&&t1()&&(t=nr);for(var n=Pe(),r=null,o=fc;o!==null;){var h=o.next,f=Xy(o,n);f===0?(o.next=null,r===null?fc=h:r.next=h,h===null&&(Ya=r)):(r=o,(t!==0||(f&3)!==0)&&(dc=!0)),o=h}tn!==0&&tn!==5||pl(t),nr!==0&&(nr=0)}function Xy(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var g=31-W(f),E=1<<g,x=h[g];x===-1?((E&r)===0||(E&o)!==0)&&(h[g]=kh(E,n)):x<=n&&(t.expiredLanes|=E),f&=~E}if(n=Tt,r=qe,r=wi(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(ft===2||ft===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&oe(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||li(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&oe(o),es(r)){case 2:case 8:r=it;break;case 32:r=at;break;case 268435456:r=$e;break;default:r=at}return o=$y.bind(null,t),r=ce(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&oe(o),t.callbackPriority=2,t.callbackNode=null,2}function $y(t,n){if(tn!==0&&tn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(hc()&&t.callbackNode!==r)return null;var o=qe;return o=wi(t,t===Tt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Dy(t,o,n),Xy(t,Pe()),t.callbackNode!=null&&t.callbackNode===r?$y.bind(null,t):null)}function Zy(t,n){if(hc())return null;Dy(t,n,!0)}function Fb(){i1(function(){(ut&6)!==0?ce(xn,Gb):Yy()})}function ld(){if(nr===0){var t=Ma;t===0&&(t=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),nr=t}return nr}function Jy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:_a(""+t)}function Wy(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function Qb(t,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Jy((h[rn]||null).action),g=o.submitter;g&&(n=(n=g[rn]||null)?Jy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Li("action","action",null,o,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(nr!==0){var x=g?Wy(h,g):new FormData(h);If(r,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=g?Wy(h,g):new FormData(h),If(r,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var ud=0;ud<Gh.length;ud++){var cd=Gh[ud],Kb=cd.toLowerCase(),Yb=cd[0].toUpperCase()+cd.slice(1);gi(Kb,"on"+Yb)}gi(Np,"onAnimationEnd"),gi(Dp,"onAnimationIteration"),gi(Op,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(cb,"onTransitionRun"),gi(hb,"onTransitionStart"),gi(fb,"onTransitionCancel"),gi(Mp,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function e_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],x=E.instance,j=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){Iu(Q)}h.currentTarget=null,f=x}else for(g=0;g<o.length;g++){if(E=o[g],x=E.instance,j=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break e;f=E,h.currentTarget=j;try{f(h)}catch(Q){Iu(Q)}h.currentTarget=null,f=x}}}}function ze(t,n){var r=n[da];r===void 0&&(r=n[da]=new Set);var o=t+"__bubble";r.has(o)||(t_(n,t,2,!1),r.add(o))}function hd(t,n,r){var o=0;n&&(o|=4),t_(r,t,o,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function fd(t){if(!t[mc]){t[mc]=!0,Io.forEach(function(r){r!=="selectionchange"&&(Xb.has(r)||hd(r,!1,t),hd(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mc]||(n[mc]=!0,hd("selectionchange",!1,n))}}function t_(t,n,r,o){switch(N_(n)){case 2:var h=A1;break;case 8:h=S1;break;default:h=xd}r=h.bind(null,n,r,t),h=void 0,!Lr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,r,{capture:!0,passive:h}):t.addEventListener(n,r,!0):h!==void 0?t.addEventListener(n,r,{passive:h}):t.addEventListener(n,r,!1)}function dd(t,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=Ci(E),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){o=f=g;continue e}E=E.parentNode}}o=o.return}Us(function(){var j=f,Q=Xn(r),X=[];e:{var z=Vp.get(t);if(z!==void 0){var H=Li,fe=t;switch(t){case"keypress":if(Pr(r)===0)break e;case"keydown":case"keyup":H=wu;break;case"focusin":fe="focus",H=zr;break;case"focusout":fe="blur",H=zr;break;case"beforeblur":case"afterblur":H=zr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=p;break;case Np:case Dp:case Op:H=_u;break;case Mp:H=b;break;case"scroll":case"scrollend":H=zo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=is;break;case"toggle":case"beforetoggle":H=Oe}var Te=(n&4)!==0,_t=!Te&&(t==="scroll"||t==="scrollend"),k=Te?z!==null?z+"Capture":null:z;Te=[];for(var N=j,P;N!==null;){var K=N;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=fi(N,k),K!=null&&Te.push(yl(N,K,P))),_t)break;N=N.return}0<Te.length&&(z=new H(z,fe,null,r,Q),X.push({event:z,listeners:Te}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&r!==Uo&&(fe=r.relatedTarget||r.fromElement)&&(Ci(fe)||fe[xi]))break e;if((H||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,H?(fe=r.relatedTarget||r.toElement,H=j,fe=fe?Ci(fe):null,fe!==null&&(_t=c(fe),Te=fe.tag,fe!==_t||Te!==5&&Te!==27&&Te!==6)&&(fe=null)):(H=null,fe=j),H!==fe)){if(Te=Bo,K="onMouseLeave",k="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(Te=is,K="onPointerLeave",k="onPointerEnter",N="pointer"),_t=H==null?z:Pn(H),P=fe==null?z:Pn(fe),z=new Te(K,N+"leave",H,r,Q),z.target=_t,z.relatedTarget=P,K=null,Ci(Q)===j&&(Te=new Te(k,N+"enter",fe,r,Q),Te.target=P,Te.relatedTarget=_t,K=Te),_t=K,H&&fe)t:{for(Te=$b,k=H,N=fe,P=0,K=k;K;K=Te(K))P++;K=0;for(var ye=N;ye;ye=Te(ye))K++;for(;0<P-K;)k=Te(k),P--;for(;0<K-P;)N=Te(N),K--;for(;P--;){if(k===N||N!==null&&k===N.alternate){Te=k;break t}k=Te(k),N=Te(N)}Te=null}else Te=null;H!==null&&n_(X,z,H,Te,!1),fe!==null&&_t!==null&&n_(X,_t,fe,Te,!0)}}e:{if(z=j?Pn(j):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var st=vp;else if(yp(z))if(Ep)st=ob;else{st=rb;var me=sb}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ya(j.elementType)&&(st=vp):st=ab;if(st&&(st=st(t,j))){_p(X,st,r,Q);break e}me&&me(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Vo(z,"number",z.value)}switch(me=j?Pn(j):window,t){case"focusin":(yp(me)||me.contentEditable==="true")&&(wa=me,Bh=j,Qo=null);break;case"focusout":Qo=Bh=wa=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,Ip(X,r,Q);break;case"selectionchange":if(ub)break;case"keydown":case"keyup":Ip(X,r,Q)}var ke;if(lt)e:{switch(t){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Sa?Br(t,r)&&(Ge="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ge="onCompositionStart");Ge&&(ji&&r.locale!=="ko"&&(Sa||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Sa&&(ke=jo()):(ki=Q,Po="value"in ki?ki.value:ki.textContent,Sa=!0)),me=pc(j,Ge),0<me.length&&(Ge=new Pi(Ge,t,null,r,Q),X.push({event:Ge,listeners:me}),ke?Ge.data=ke:(ke=Aa(r),ke!==null&&(Ge.data=ke)))),(ke=Zn?eb(t,r):tb(t,r))&&(Ge=pc(j,"onBeforeInput"),0<Ge.length&&(me=new Pi("onBeforeInput","beforeinput",null,r,Q),X.push({event:me,listeners:Ge}),me.data=ke)),Qb(X,t,j,r,Q)}e_(X,n)})}function yl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function pc(t,n){for(var r=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=fi(t,r),h!=null&&o.unshift(yl(t,h,f)),h=fi(t,n),h!=null&&o.push(yl(t,h,f))),t.tag===3)return o;t=t.return}return[]}function $b(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function n_(t,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,x=E.alternate,j=E.stateNode;if(E=E.tag,x!==null&&x===o)break;E!==5&&E!==26&&E!==27||j===null||(x=j,h?(j=fi(r,f),j!=null&&g.unshift(yl(r,j,x))):h||(j=fi(r,f),j!=null&&g.push(yl(r,j,x)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var Zb=/\r\n?/g,Jb=/\u0000|\uFFFD/g;function i_(t){return(typeof t=="string"?t:""+t).replace(Zb,`
`).replace(Jb,"")}function s_(t,n){return n=i_(n),i_(t)===n}function yt(t,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Cn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Cn(t,""+o);break;case"className":jn(t,"class",o);break;case"tabIndex":jn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":jn(t,r,o);break;case"style":Lo(t,o,f);break;case"data":if(n!=="object"){jn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=_a(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&yt(t,n,"name",h.name,h,null),yt(t,n,"formEncType",h.formEncType,h,null),yt(t,n,"formMethod",h.formMethod,h,null),yt(t,n,"formTarget",h.formTarget,h,null)):(yt(t,n,"encType",h.encType,h,null),yt(t,n,"method",h.method,h,null),yt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=_a(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=hi);break;case"onScroll":o!=null&&ze("scroll",t);break;case"onScrollEnd":o!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=_a(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":ze("beforetoggle",t),ze("toggle",t),pa(t,"popover",o);break;case"xlinkActuate":Kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Kt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Kt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Kt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Kt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":pa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=pu.get(r)||r,pa(t,r,o))}}function md(t,n,r,o,h,f){switch(r){case"style":Lo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?Cn(t,o):(typeof o=="number"||typeof o=="bigint")&&Cn(t,""+o);break;case"onScroll":o!=null&&ze("scroll",t);break;case"onScrollEnd":o!=null&&ze("scrollend",t);break;case"onClick":o!=null&&(t.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=t[rn]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,h);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):pa(t,r,o)}}}function mn(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:yt(t,n,f,g,r,null)}}h&&yt(t,n,"srcSet",r.srcSet,r,null),o&&yt(t,n,"src",r.src,r,null);return;case"input":ze("invalid",t);var E=f=g=h=null,x=null,j=null;for(o in r)if(r.hasOwnProperty(o)){var Q=r[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":g=Q;break;case"checked":x=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:yt(t,n,o,Q,r,null)}}fu(t,f,E,x,j,g,h,!1);return;case"select":ze("invalid",t),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:yt(t,n,h,E,r,null)}n=f,r=g,t.multiple=!!o,n!=null?Ms(t,!!o,n,!1):r!=null&&Ms(t,!!o,r,!0);return;case"textarea":ze("invalid",t),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:yt(t,n,g,E,r,null)}Vs(t,o,h,f);return;case"option":for(x in r)if(r.hasOwnProperty(x)&&(o=r[x],o!=null))switch(x){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:yt(t,n,x,o,r,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(o=0;o<gl.length;o++)ze(gl[o],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in r)if(r.hasOwnProperty(j)&&(o=r[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:yt(t,n,j,o,r,null)}return;default:if(ya(n)){for(Q in r)r.hasOwnProperty(Q)&&(o=r[Q],o!==void 0&&md(t,n,Q,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&yt(t,n,E,o,r,null))}function Wb(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,x=null,j=null,Q=null;for(H in r){var X=r[H];if(r.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":x=X;default:o.hasOwnProperty(H)||yt(t,n,H,null,o,X)}}for(var z in o){var H=o[z];if(X=r[z],o.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":Q=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&yt(t,n,z,H,o,X)}}ga(t,g,E,x,j,Q,f,h);return;case"select":H=g=E=z=null;for(f in r)if(x=r[f],r.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":H=x;default:o.hasOwnProperty(f)||yt(t,n,f,null,o,x)}for(h in o)if(f=o[h],x=r[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==x&&yt(t,n,h,f,o,x)}n=E,r=g,o=H,z!=null?Ms(t,!!r,z,!1):!!o!=!!r&&(n!=null?Ms(t,!!r,n,!0):Ms(t,!!r,r?[]:"",!1));return;case"textarea":H=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:yt(t,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&yt(t,n,g,h,o,f)}du(t,z,H);return;case"option":for(var fe in r)if(z=r[fe],r.hasOwnProperty(fe)&&z!=null&&!o.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:yt(t,n,fe,null,o,z)}for(x in o)if(z=o[x],H=r[x],o.hasOwnProperty(x)&&z!==H&&(z!=null||H!=null))switch(x){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:yt(t,n,x,z,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in r)z=r[Te],r.hasOwnProperty(Te)&&z!=null&&!o.hasOwnProperty(Te)&&yt(t,n,Te,null,o,z);for(j in o)if(z=o[j],H=r[j],o.hasOwnProperty(j)&&z!==H&&(z!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:yt(t,n,j,z,o,H)}return;default:if(ya(n)){for(var _t in r)z=r[_t],r.hasOwnProperty(_t)&&z!==void 0&&!o.hasOwnProperty(_t)&&md(t,n,_t,void 0,o,z);for(Q in o)z=o[Q],H=r[Q],!o.hasOwnProperty(Q)||z===H||z===void 0&&H===void 0||md(t,n,Q,z,o,H);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&yt(t,n,k,null,o,z);for(X in o)z=o[X],H=r[X],!o.hasOwnProperty(X)||z===H||z==null&&H==null||yt(t,n,X,z,o,H)}function r_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function e1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&r_(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var x=r[o],j=x.startTime;if(j>E)break;var Q=x.transferSize,X=x.initiatorType;Q&&r_(X)&&(x=x.responseEnd,g+=Q*(x<E?1:(E-j)/(x-j)))}if(--o,n+=8*(f+g)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pd=null,gd=null;function gc(t){return t.nodeType===9?t:t.ownerDocument}function a_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function yd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function t1(){var t=window.event;return t&&t.type==="popstate"?t===_d?!1:(_d=t,!0):(_d=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,n1=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,i1=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(t){return u_.resolve(null).then(t).catch(s1)}:l_;function s1(t){setTimeout(function(){throw t})}function ir(t){return t==="head"}function c_(t,n){var r=n,o=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(h),Ja(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")_l(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,_l(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[Ii]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&_l(t.ownerDocument.body);r=h}while(r);Ja(n)}function h_(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function vd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":vd(r),ma(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function r1(t,n,r,o){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ii])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=si(t.nextSibling),t===null)break}return null}function a1(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=si(t.nextSibling),t===null))return null;return t}function f_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=si(t.nextSibling),t===null))return null;return t}function Ed(t){return t.data==="$?"||t.data==="$~"}function Td(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function o1(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function si(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var bd=null;function d_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return si(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function m_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function p_(t,n,r){switch(n=gc(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function _l(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ma(t)}var ri=new Map,g_=new Set;function yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var _s=ae.d;ae.d={f:l1,r:u1,D:c1,C:h1,L:f1,m:d1,X:p1,S:m1,M:g1};function l1(){var t=_s.f(),n=lc();return t||n}function u1(t){var n=Yn(t);n!==null&&n.tag===5&&n.type==="form"?Mg(n):_s.r(t)}var Xa=typeof document>"u"?null:document;function y_(t,n,r){var o=Xa;if(o&&typeof n=="string"&&n){var h=In(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),g_.has(h)||(g_.add(h),t={rel:t,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),mn(n,"link",t),Qt(n),o.head.appendChild(n)))}}function c1(t){_s.D(t),y_("dns-prefetch",t,null)}function h1(t,n){_s.C(t,n),y_("preconnect",t,n)}function f1(t,n,r){_s.L(t,n,r);var o=Xa;if(o&&t&&n){var h='link[rel="preload"][as="'+In(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+In(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+In(r.imageSizes)+'"]')):h+='[href="'+In(t)+'"]';var f=h;switch(n){case"style":f=$a(t);break;case"script":f=Za(t)}ri.has(f)||(t=w({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),ri.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(vl(f))||n==="script"&&o.querySelector(El(f))||(n=o.createElement("link"),mn(n,"link",t),Qt(n),o.head.appendChild(n)))}}function d1(t,n){_s.m(t,n);var r=Xa;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+In(o)+'"][href="'+In(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Za(t)}if(!ri.has(f)&&(t=w({rel:"modulepreload",href:t},n),ri.set(f,t),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(El(f)))return}o=r.createElement("link"),mn(o,"link",t),Qt(o),r.head.appendChild(o)}}}function m1(t,n,r){_s.S(t,n,r);var o=Xa;if(o&&t){var h=Ni(o).hoistableStyles,f=$a(t);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(vl(f)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},r),(r=ri.get(f))&&Ad(t,r);var x=g=o.createElement("link");Qt(x),mn(x,"link",t),x._p=new Promise(function(j,Q){x.onload=j,x.onerror=Q}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,_c(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function p1(t,n){_s.X(t,n);var r=Xa;if(r&&t){var o=Ni(r).hoistableScripts,h=Za(t),f=o.get(h);f||(f=r.querySelector(El(h)),f||(t=w({src:t,async:!0},n),(n=ri.get(h))&&Sd(t,n),f=r.createElement("script"),Qt(f),mn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function g1(t,n){_s.M(t,n);var r=Xa;if(r&&t){var o=Ni(r).hoistableScripts,h=Za(t),f=o.get(h);f||(f=r.querySelector(El(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=ri.get(h))&&Sd(t,n),f=r.createElement("script"),Qt(f),mn(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function __(t,n,r,o){var h=(h=De.current)?yc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=$a(r.href),r=Ni(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=$a(r.href);var f=Ni(h).hoistableStyles,g=f.get(t);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,g),(f=h.querySelector(vl(t)))&&!f._p&&(g.instance=f,g.state.loading=5),ri.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ri.set(t,r),f||y1(h,t,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Za(r),r=Ni(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function $a(t){return'href="'+In(t)+'"'}function vl(t){return'link[rel="stylesheet"]['+t+"]"}function v_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function y1(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),mn(n,"link",r),Qt(n),t.head.appendChild(n))}function Za(t){return'[src="'+In(t)+'"]'}function El(t){return"script[async]"+t}function E_(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+In(r.href)+'"]');if(o)return n.instance=o,Qt(o),o;var h=w({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Qt(o),mn(o,"style",h),_c(o,r.precedence,t),n.instance=o;case"stylesheet":h=$a(r.href);var f=t.querySelector(vl(h));if(f)return n.state.loading|=4,n.instance=f,Qt(f),f;o=v_(r),(h=ri.get(h))&&Ad(o,h),f=(t.ownerDocument||t).createElement("link"),Qt(f);var g=f;return g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),mn(f,"link",o),n.state.loading|=4,_c(f,r.precedence,t),n.instance=f;case"script":return f=Za(r.src),(h=t.querySelector(El(f)))?(n.instance=h,Qt(h),h):(o=r,(h=ri.get(f))&&(o=w({},r),Sd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Qt(h),mn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,_c(o,r.precedence,t));return n.instance}function _c(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Sd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var vc=null;function T_(t,n,r){if(vc===null){var o=new Map,h=vc=new Map;h.set(r,o)}else h=vc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var f=r[h];if(!(f[Ii]||f[Ft]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=t+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function b_(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function _1(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function A_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function v1(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=$a(o.href),f=n.querySelector(vl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Ec.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=f,Qt(f);return}f=n.ownerDocument||n,o=v_(o),(h=ri.get(h))&&Ad(o,h),f=f.createElement("link"),Qt(f);var g=f;g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),mn(f,"link",o),r.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Ec.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var wd=0;function E1(t,n){return t.stylesheets&&t.count===0&&bc(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&wd===0&&(wd=62500*e1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&bc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>wd?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tc=null;function bc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tc=new Map,n.forEach(T1,t),Tc=null,Ec.call(t))}function T1(t,n){if(!(n.state.loading&4)){var r=Tc.get(t);if(r)var o=r.get(null);else{r=new Map,Tc.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=Ec.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Tl={$$typeof:ve,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function b1(t,n,r,o,h,f,g,E,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function S_(t,n,r,o,h,f,g,E,x,j,Q,X){return t=new b1(t,n,r,g,x,j,Q,X,E),n=1,f===!0&&(n|=24),f=Bn(3,null,null,n),t.current=f,f.stateNode=t,n=sf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},lf(f),t}function w_(t){return t?(t=Ia,t):Ia}function R_(t,n,r,o,h,f){h=w_(h),o.context===null?o.context=h:o.pendingContext=h,o=Qs(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Ks(t,o,n),r!==null&&(Vn(r,t,n),Wo(r,t,n))}function x_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Rd(t,n){x_(t,n),(t=t.alternate)&&x_(t,n)}function I_(t){if(t.tag===13||t.tag===31){var n=Gr(t,67108864);n!==null&&Vn(n,t,67108864),Rd(t,67108864)}}function C_(t){if(t.tag===13||t.tag===31){var n=Qn();n=Or(n);var r=Gr(t,n);r!==null&&Vn(r,t,n),Rd(t,n)}}var Ac=!0;function A1(t,n,r,o){var h=F.T;F.T=null;var f=ae.p;try{ae.p=2,xd(t,n,r,o)}finally{ae.p=f,F.T=h}}function S1(t,n,r,o){var h=F.T;F.T=null;var f=ae.p;try{ae.p=8,xd(t,n,r,o)}finally{ae.p=f,F.T=h}}function xd(t,n,r,o){if(Ac){var h=Id(o);if(h===null)dd(t,n,o,Sc,r),D_(t,o);else if(R1(h,t,n,r,o))o.stopPropagation();else if(D_(t,o),n&4&&-1<w1.indexOf(t)){for(;h!==null;){var f=Yn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Si(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var x=1<<31-W(g);E.entanglements[1]|=x,g&=~x}qi(f),(ut&6)===0&&(ac=Pe()+500,pl(0))}}break;case 31:case 13:E=Gr(f,2),E!==null&&Vn(E,f,2),lc(),Rd(f,2)}if(f=Id(o),f===null&&dd(t,n,o,Sc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else dd(t,n,o,null,r)}}function Id(t){return t=Xn(t),Cd(t)}var Sc=null;function Cd(t){if(Sc=null,t=Ci(t),t!==null){var n=c(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===31){if(t=y(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Sc=t,null}function N_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(It()){case xn:return 2;case it:return 8;case at:case Ve:return 32;case $e:return 268435456;default:return 32}default:return 32}}var Nd=!1,sr=null,rr=null,ar=null,bl=new Map,Al=new Map,or=[],w1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(t,n){switch(t){case"focusin":case"focusout":sr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(n.pointerId)}}function Sl(t,n,r,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Yn(n),n!==null&&I_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function R1(t,n,r,o,h){switch(n){case"focusin":return sr=Sl(sr,t,n,r,o,h),!0;case"dragenter":return rr=Sl(rr,t,n,r,o,h),!0;case"mouseover":return ar=Sl(ar,t,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return bl.set(f,Sl(bl.get(f)||null,t,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Al.set(f,Sl(Al.get(f)||null,t,n,r,o,h)),!0}return!1}function O_(t){var n=Ci(t.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,ui(t.priority,function(){C_(r)});return}}else if(n===31){if(n=y(r),n!==null){t.blockedOn=n,ui(t.priority,function(){C_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Id(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Uo=o,r.target.dispatchEvent(o),Uo=null}else return n=Yn(r),n!==null&&I_(n),t.blockedOn=r,!1;n.shift()}return!0}function M_(t,n,r){wc(t)&&r.delete(n)}function x1(){Nd=!1,sr!==null&&wc(sr)&&(sr=null),rr!==null&&wc(rr)&&(rr=null),ar!==null&&wc(ar)&&(ar=null),bl.forEach(M_),Al.forEach(M_)}function Rc(t,n){t.blockedOn===n&&(t.blockedOn=null,Nd||(Nd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,x1)))}var xc=null;function V_(t){xc!==t&&(xc=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){xc===t&&(xc=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(Cd(o||r)===null)continue;break}var f=Yn(r);f!==null&&(t.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Ja(t){function n(x){return Rc(x,t)}sr!==null&&Rc(sr,t),rr!==null&&Rc(rr,t),ar!==null&&Rc(ar,t),bl.forEach(n),Al.forEach(n);for(var r=0;r<or.length;r++){var o=or[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<or.length&&(r=or[0],r.blockedOn===null);)O_(r),r.blockedOn===null&&or.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[rn]||null;if(typeof f=="function")g||V_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[rn]||null)E=g.formAction;else if(Cd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),V_(r)}}}function k_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(t){this._internalRoot=t}Ic.prototype.render=Dd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Qn();R_(r,o,t,n,null,null)},Ic.prototype.unmount=Dd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;R_(t.current,2,null,t,null,null),lc(),n[xi]=null}};function Ic(t){this._internalRoot=t}Ic.prototype.unstable_scheduleHydration=function(t){if(t){var n=lu();t={blockedOn:null,target:t,priority:n};for(var r=0;r<or.length&&n!==0&&n<or[r].priority;r++);or.splice(r,0,t),r===0&&O_(t)}};var L_=e.version;if(L_!=="19.2.0")throw Error(a(527,L_,"19.2.0"));ae.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var I1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{bt=Cc.inject(I1),we=Cc}catch{}}return Rl.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",h=qg,f=Gg,g=Fg;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=S_(t,1,!1,null,null,r,o,null,h,f,g,k_),t[xi]=n.current,fd(t),new Dd(n)},Rl.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,h="",f=qg,g=Gg,E=Fg,x=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(x=r.formState)),n=S_(t,1,!0,n,r??null,o,h,x,f,g,E,k_),n.context=w_(null),r=n.current,o=Qn(),o=Or(o),h=Qs(o),h.callback=null,Ks(r,h,o),r=o,n.current.lanes=r,Nr(n,r),qi(n),t[xi]=n.current,fd(t),new Ic(n)},Rl.version="19.2.0",Rl}var Q_;function P1(){if(Q_)return Vd.exports;Q_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Vd.exports=U1(),Vd.exports}var j1=P1();const z1=()=>{};var K_={};const Rv=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},B1=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],y=s[i++],m=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const c=s[i++],d=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},xv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,y=d?s[l+1]:0,m=l+2<s.length,_=m?s[l+2]:0,A=c>>2,w=(c&3)<<4|y>>4;let M=(y&15)<<2|_>>6,G=_&63;m||(G=64,d||(M=64)),a.push(i[A],i[w],i[M],i[G])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Rv(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):B1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],y=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const w=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||y==null||_==null||w==null)throw new H1;const M=c<<2|y>>4;if(a.push(M),_!==64){const G=y<<4&240|_>>2;if(a.push(G),w!==64){const ee=_<<6&192|w;a.push(ee)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class H1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q1=function(s){const e=Rv(s);return xv.encodeByteArray(e,!0)},Yc=function(s){return q1(s).replace(/\./g,"")},Iv=function(s){try{return xv.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function G1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const F1=()=>G1().__FIREBASE_DEFAULTS__,Q1=()=>{if(typeof process>"u"||typeof K_>"u")return;const s=K_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},K1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Iv(s[1]);return e&&JSON.parse(e)},mh=()=>{try{return z1()||F1()||Q1()||K1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Cv=s=>mh()?.emulatorHosts?.[s],Y1=s=>{const e=Cv(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Nv=()=>mh()?.config,Dv=s=>mh()?.[`_${s}`];class X1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function vo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ov(s){return(await fetch(s,{credentials:"include"})).ok}function $1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const Ml={};function Z1(){const s={prod:[],emulator:[]};for(const e of Object.keys(Ml))Ml[e]?s.emulator.push(e):s.prod.push(e);return s}function J1(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Y_=!1;function Mv(s,e){if(typeof window>"u"||typeof document>"u"||!vo(window.location.host)||Ml[s]===e||Ml[s]||Y_)return;Ml[s]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Z1().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function m(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{Y_=!0,d()},M}function A(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=J1(a),G=i("text"),ee=document.getElementById(G)||document.createElement("span"),le=i("learnmore"),ne=document.getElementById(le)||document.createElement("a"),_e=i("preprendIcon"),xe=document.getElementById(_e)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ve=M.element;y(ve),A(ne,le);const et=_();m(xe,_e),ve.append(xe,ee,ne,et),document.body.appendChild(ve)}c?(ee.innerText="Preview backend disconnected.",xe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(xe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function W1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function eA(){const s=mh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nA(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function iA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sA(){const s=bn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function rA(){return!eA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aA(){try{return typeof indexedDB=="object"}catch{return!1}}function oA(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const lA="FirebaseError";class Is extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=lA,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?uA(c,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new Is(l,y,a)}}function uA(s,e){return s.replace(cA,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const cA=/\{\$([^}]+)}/g;function hA(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function Er(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(X_(c)&&X_(d)){if(!Er(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function X_(s){return s!==null&&typeof s=="object"}function Xl(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function fA(s,e){const i=new dA(s,e);return i.subscribe.bind(i)}class dA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");mA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Pd),l.error===void 0&&(l.error=Pd),l.complete===void 0&&(l.complete=Pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mA(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Pd(){}function Rn(s){return s&&s._delegate?s._delegate:s}class aa{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ia="[DEFAULT]";class pA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new X1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yA(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:gA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gA(s){return s===ia?void 0:s}function yA(s){return s.instantiationMode==="EAGER"}class _A{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new pA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Qe||(Qe={}));const vA={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},EA=Qe.INFO,TA={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},bA=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=TA[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xm{constructor(e){this.name=e,this._logLevel=EA,this._logHandler=bA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const AA=(s,e)=>e.some(i=>s instanceof i);let $_,Z_;function SA(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wA(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Vv=new WeakMap,Wd=new WeakMap,kv=new WeakMap,jd=new WeakMap,Im=new WeakMap;function RA(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(pr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Vv.set(i,s)}).catch(()=>{}),Im.set(e,s),e}function xA(s){if(Wd.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Wd.set(s,e)}let em={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Wd.get(s);if(e==="objectStoreNames")return s.objectStoreNames||kv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return pr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function IA(s){em=s(em)}function CA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(zd(this),e,...i);return kv.set(a,e.sort?e.sort():[e]),pr(a)}:wA().includes(s)?function(...e){return s.apply(zd(this),e),pr(Vv.get(this))}:function(...e){return pr(s.apply(zd(this),e))}}function NA(s){return typeof s=="function"?CA(s):(s instanceof IDBTransaction&&xA(s),AA(s,SA())?new Proxy(s,em):s)}function pr(s){if(s instanceof IDBRequest)return RA(s);if(jd.has(s))return jd.get(s);const e=NA(s);return e!==s&&(jd.set(s,e),Im.set(e,s)),e}const zd=s=>Im.get(s);function DA(s,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),y=pr(d);return a&&d.addEventListener("upgradeneeded",m=>{a(pr(d.result),m.oldVersion,m.newVersion,pr(d.transaction),m)}),i&&d.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),y.then(m=>{c&&m.addEventListener("close",()=>c()),l&&m.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const OA=["get","getKey","getAll","getAllKeys","count"],MA=["put","add","delete","clear"],Bd=new Map;function J_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Bd.get(e))return Bd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=MA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||OA.includes(i)))return;const c=async function(d,...y){const m=this.transaction(d,l?"readwrite":"readonly");let _=m.store;return a&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),l&&m.done]))[0]};return Bd.set(e,c),c}IA(s=>({...s,get:(e,i,a)=>J_(e,i)||s.get(e,i,a),has:(e,i)=>!!J_(e,i)||s.has(e,i)}));class VA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(kA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function kA(s){return s.getComponent()?.type==="VERSION"}const tm="@firebase/app",W_="0.14.6";const bs=new xm("@firebase/app"),LA="@firebase/app-compat",UA="@firebase/analytics-compat",PA="@firebase/analytics",jA="@firebase/app-check-compat",zA="@firebase/app-check",BA="@firebase/auth",HA="@firebase/auth-compat",qA="@firebase/database",GA="@firebase/data-connect",FA="@firebase/database-compat",QA="@firebase/functions",KA="@firebase/functions-compat",YA="@firebase/installations",XA="@firebase/installations-compat",$A="@firebase/messaging",ZA="@firebase/messaging-compat",JA="@firebase/performance",WA="@firebase/performance-compat",eS="@firebase/remote-config",tS="@firebase/remote-config-compat",nS="@firebase/storage",iS="@firebase/storage-compat",sS="@firebase/firestore",rS="@firebase/ai",aS="@firebase/firestore-compat",oS="firebase",lS="12.6.0";const nm="[DEFAULT]",uS={[tm]:"fire-core",[LA]:"fire-core-compat",[PA]:"fire-analytics",[UA]:"fire-analytics-compat",[zA]:"fire-app-check",[jA]:"fire-app-check-compat",[BA]:"fire-auth",[HA]:"fire-auth-compat",[qA]:"fire-rtdb",[GA]:"fire-data-connect",[FA]:"fire-rtdb-compat",[QA]:"fire-fn",[KA]:"fire-fn-compat",[YA]:"fire-iid",[XA]:"fire-iid-compat",[$A]:"fire-fcm",[ZA]:"fire-fcm-compat",[JA]:"fire-perf",[WA]:"fire-perf-compat",[eS]:"fire-rc",[tS]:"fire-rc-compat",[nS]:"fire-gcs",[iS]:"fire-gcs-compat",[sS]:"fire-fst",[aS]:"fire-fst-compat",[rS]:"fire-vertex","fire-js":"fire-js",[oS]:"fire-js-all"};const Xc=new Map,cS=new Map,im=new Map;function e0(s,e){try{s.container.addComponent(e)}catch(i){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function co(s){const e=s.name;if(im.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;im.set(e,s);for(const i of Xc.values())e0(i,s);for(const i of cS.values())e0(i,s);return!0}function Cm(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function ai(s){return s==null?!1:s.settings!==void 0}const hS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new Yl("app","Firebase",hS);class fS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}const Eo=lS;function Lv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:nm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw gr.create("bad-app-name",{appName:String(l)});if(i||(i=Nv()),!i)throw gr.create("no-options");const c=Xc.get(l);if(c){if(Er(i,c.options)&&Er(a,c.config))return c;throw gr.create("duplicate-app",{appName:l})}const d=new _A(l);for(const m of im.values())d.addComponent(m);const y=new fS(i,a,d);return Xc.set(l,y),y}function Uv(s=nm){const e=Xc.get(s);if(!e&&s===nm&&Nv())return Lv();if(!e)throw gr.create("no-app",{appName:s});return e}function yr(s,e,i){let a=uS[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(d.join(" "));return}co(new aa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const dS="firebase-heartbeat-database",mS=1,zl="firebase-heartbeat-store";let Hd=null;function Pv(){return Hd||(Hd=DA(dS,mS,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(zl)}catch(i){console.warn(i)}}}}).catch(s=>{throw gr.create("idb-open",{originalErrorMessage:s.message})})),Hd}async function pS(s){try{const i=(await Pv()).transaction(zl),a=await i.objectStore(zl).get(jv(s));return await i.done,a}catch(e){if(e instanceof Is)bs.warn(e.message);else{const i=gr.create("idb-get",{originalErrorMessage:e?.message});bs.warn(i.message)}}}async function t0(s,e){try{const a=(await Pv()).transaction(zl,"readwrite");await a.objectStore(zl).put(e,jv(s)),await a.done}catch(i){if(i instanceof Is)bs.warn(i.message);else{const a=gr.create("idb-set",{originalErrorMessage:i?.message});bs.warn(a.message)}}}function jv(s){return`${s.name}!${s.options.appId}`}const gS=1024,yS=30;class _S{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ES(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=n0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>yS){const l=TS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=n0(),{heartbeatsToSend:i,unsentEntries:a}=vS(this._heartbeatsCache.heartbeats),l=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return bs.warn(e),""}}}function n0(){return new Date().toISOString().substring(0,10)}function vS(s,e=gS){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),i0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),i0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class ES{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aA()?oA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await pS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return t0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return t0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function i0(s){return Yc(JSON.stringify({version:2,heartbeats:s})).length}function TS(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function bS(s){co(new aa("platform-logger",e=>new VA(e),"PRIVATE")),co(new aa("heartbeat",e=>new _S(e),"PRIVATE")),yr(tm,W_,s),yr(tm,W_,"esm2020"),yr("fire-js","")}bS("");var AS="firebase",SS="12.6.0";yr(AS,SS,"app");function zv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wS=zv,Bv=new Yl("auth","Firebase",zv());const $c=new xm("@firebase/auth");function RS(s,...e){$c.logLevel<=Qe.WARN&&$c.warn(`Auth (${Eo}): ${s}`,...e)}function Uc(s,...e){$c.logLevel<=Qe.ERROR&&$c.error(`Auth (${Eo}): ${s}`,...e)}function As(s,...e){throw Nm(s,...e)}function Fi(s,...e){return Nm(s,...e)}function Hv(s,e,i){const a={...wS(),[e]:i};return new Yl("auth","Firebase",a).create(e,{appName:s.name})}function Ts(s){return Hv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Bv.create(s,...e)}function Re(s,e,...i){if(!s)throw Nm(e,...i)}function vs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Uc(e),new Error(e)}function Ss(s,e){s||vs(e)}function sm(){return typeof self<"u"&&self.location?.href||""}function xS(){return s0()==="http:"||s0()==="https:"}function s0(){return typeof self<"u"&&self.location?.protocol||null}function IS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xS()||nA()||"connection"in navigator)?navigator.onLine:!0}function CS(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class $l{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ss(i>e,"Short delay should be less than long delay!"),this.isMobile=W1()||iA()}get(){return IS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dm(s,e){Ss(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class qv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const NS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OS=new $l(3e4,6e4);function Zl(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function To(s,e,i,a,l={}){return Gv(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=Xl({key:s.config.apiKey,...d}).slice(1),m=await s._getAdditionalHeaders();m["Content-Type"]="application/json",s.languageCode&&(m["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:m,...c};return tA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&vo(s.emulatorConfig.host)&&(_.credentials="include"),qv.fetch()(await Fv(s,s.config.apiHost,i,y),_)})}async function Gv(s,e,i){s._canInitEmulator=!1;const a={...NS,...e};try{const l=new MS(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[m,_]=y.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(s,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw Nc(s,"email-already-in-use",d);if(m==="USER_DISABLED")throw Nc(s,"user-disabled",d);const A=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Hv(s,A,_);As(s,A)}}catch(l){if(l instanceof Is)throw l;As(s,"network-request-failed",{message:String(l)})}}async function Om(s,e,i,a,l={}){const c=await To(s,e,i,a,l);return"mfaPendingCredential"in c&&As(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Fv(s,e,i,a){const l=`${e}${i}?${a}`,c=s,d=c.config.emulator?Dm(s.config,l):`${s.config.apiScheme}://${l}`;return DS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class MS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Fi(this.auth,"network-request-failed")),OS.get())})}}function Nc(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Fi(s,e,a);return l.customData._tokenResponse=i,l}async function VS(s,e){return To(s,"POST","/v1/accounts:delete",e)}async function Zc(s,e){return To(s,"POST","/v1/accounts:lookup",e)}function Vl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kS(s,e=!1){const i=Rn(s),a=await i.getIdToken(e),l=Mm(a);Re(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Vl(qd(l.auth_time)),issuedAtTime:Vl(qd(l.iat)),expirationTime:Vl(qd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function qd(s){return Number(s)*1e3}function Mm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Iv(i);return l?JSON.parse(l):(Uc("Failed to decode base64 JWT payload"),null)}catch(l){return Uc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function r0(s){const e=Mm(s);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Bl(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Is&&LS(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function LS({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class US{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jc(s){const e=s.auth,i=await s.getIdToken(),a=await Bl(s,Zc(e,{idToken:i}));Re(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Qv(l.providerUserInfo):[],d=jS(s.providerData,c),y=s.isAnonymous,m=!(s.email&&l.passwordHash)&&!d?.length,_=y?m:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new rm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function PS(s){const e=Rn(s);await Jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jS(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Qv(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function zS(s,e){const i=await Gv(s,{},async()=>{const a=Xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Fv(s,l,"/v1/token",`key=${c}`),y=await s._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:y,body:a};return s.emulatorConfig&&vo(s.emulatorConfig.host)&&(m.credentials="include"),qv.fetch()(d,m)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function BS(s,e){return To(s,"POST","/v2/accounts:revokeToken",Zl(s,e))}class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const i=r0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await zS(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new ro;return a&&(Re(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Re(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Re(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return vs("not implemented")}}function ur(s,e){Re(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class vi{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new US(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new rm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Bl(this,this.stsTokenManager.getToken(this.auth,e));return Re(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return kS(this,e)}reload(){return PS(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new vi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Jc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(Ts(this.auth));const e=await this.getIdToken();return await Bl(this,VS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,m=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:G,providerData:ee,stsTokenManager:le}=i;Re(w&&le,e,"internal-error");const ne=ro.fromJSON(this.name,le);Re(typeof w=="string",e,"internal-error"),ur(a,e.name),ur(l,e.name),Re(typeof M=="boolean",e,"internal-error"),Re(typeof G=="boolean",e,"internal-error"),ur(c,e.name),ur(d,e.name),ur(y,e.name),ur(m,e.name),ur(_,e.name),ur(A,e.name);const _e=new vi({uid:w,auth:e,email:l,emailVerified:M,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:ne,createdAt:_,lastLoginAt:A});return ee&&Array.isArray(ee)&&(_e.providerData=ee.map(xe=>({...xe}))),m&&(_e._redirectEventId=m),_e}static async _fromIdTokenResponse(e,i,a=!1){const l=new ro;l.updateFromServerResponse(i);const c=new vi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Jc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Re(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Qv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new ro;y.updateFromIdToken(a);const m=new vi({uid:l.localId,auth:e,stsTokenManager:y,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new rm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(m,_),m}}const a0=new Map;function Es(s){Ss(s instanceof Function,"Expected a class definition");let e=a0.get(s);return e?(Ss(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,a0.set(s,e),e)}class Kv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Kv.type="NONE";const o0=Kv;function Pc(s,e,i){return`firebase:${s}:${e}:${i}`}class ao{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Pc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Pc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Zc(this.auth,{idToken:e}).catch(()=>{});return i?vi._fromGetAccountInfoResponse(this.auth,i,e):null}return vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new ao(Es(o0),e,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Es(o0);const d=Pc(a,e.config.apiKey,e.name);let y=null;for(const _ of i)try{const A=await _._get(d);if(A){let w;if(typeof A=="string"){const M=await Zc(e,{idToken:A}).catch(()=>{});if(!M)break;w=await vi._fromGetAccountInfoResponse(e,M,A)}else w=vi._fromJSON(e,A);_!==c&&(y=w),c=_;break}}catch{}const m=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new ao(c,e,a):(c=m[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ao(c,e,a))}}function l0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Zv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Yv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wv(e))return"Blackberry";if(eE(e))return"Webos";if(Xv(e))return"Safari";if((e.includes("chrome/")||$v(e))&&!e.includes("edge/"))return"Chrome";if(Jv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function Yv(s=bn()){return/firefox\//i.test(s)}function Xv(s=bn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $v(s=bn()){return/crios\//i.test(s)}function Zv(s=bn()){return/iemobile/i.test(s)}function Jv(s=bn()){return/android/i.test(s)}function Wv(s=bn()){return/blackberry/i.test(s)}function eE(s=bn()){return/webos/i.test(s)}function Vm(s=bn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function HS(s=bn()){return Vm(s)&&!!window.navigator?.standalone}function qS(){return sA()&&document.documentMode===10}function tE(s=bn()){return Vm(s)||Jv(s)||eE(s)||Wv(s)||/windows phone/i.test(s)||Zv(s)}function nE(s,e=[]){let i;switch(s){case"Browser":i=l0(bn());break;case"Worker":i=`${l0(bn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Eo}/${a}`}class GS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const m=e(c);d(m)}catch(m){y(m)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function FS(s,e={}){return To(s,"GET","/v2/passwordPolicy",Zl(s,e))}const QS=6;class KS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??QS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class YS{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u0(this),this.idTokenSubscription=new u0(this),this.beforeStateQueue=new GS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Es(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Zc(this,{idToken:e}),a=await vi._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ai(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Jc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ai(this.app))return Promise.reject(Ts(this));const i=e?Rn(e):null;return i&&Re(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ai(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FS(this),i=new KS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await BS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Es(e)||this._popupRedirectResolver;Re(i,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[Es(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const m=e.addObserver(i,a,l);return()=>{d=!0,m()}}else{const m=e.addObserver(i);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&RS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Jl(s){return Rn(s)}class u0{constructor(e){this.auth=e,this.observer=null,this.addObserver=fA(i=>this.observer=i)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XS(s){km=s}function $S(s){return km.loadJS(s)}function ZS(){return km.gapiScript}function JS(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function WS(s,e){const i=Cm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Er(c,e??{}))return l;As(l,"already-initialized")}return i.initialize({options:e})}function ew(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Es);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function tw(s,e,i){const a=Jl(s);Re(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=iE(e),{host:d,port:y}=nw(e),m=y===null?"":`:${y}`,_={url:`${c}//${d}${m}/`},A=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Re(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Re(Er(_,a.config.emulator)&&Er(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,vo(d)?(Ov(`${c}//${d}${m}`),Mv("Auth",!0)):iw()}function iE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function nw(s){const e=iE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:c0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:c0(d)}}}function c0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function iw(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class sE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,i){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}async function oo(s,e){return Om(s,"POST","/v1/accounts:signInWithIdp",Zl(s,e))}const sw="http://localhost";class oa extends sE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):As("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new oa(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return oo(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,oo(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,oo(e,i)}buildRequest(){const e={requestUri:sw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Xl(i)}return e}}class rE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Wl extends rE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class cr extends Wl{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";cr.PROVIDER_ID="facebook.com";class hr extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return oa._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return hr.credential(i,a)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";class fr extends Wl{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.GITHUB_SIGN_IN_METHOD="github.com";fr.PROVIDER_ID="github.com";class dr extends Wl{constructor(){super("twitter.com")}static credential(e,i){return oa._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return dr.credential(i,a)}catch{return null}}}dr.TWITTER_SIGN_IN_METHOD="twitter.com";dr.PROVIDER_ID="twitter.com";async function rw(s,e){return Om(s,"POST","/v1/accounts:signUp",Zl(s,e))}class ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await vi._fromIdTokenResponse(e,a,l),d=h0(a);return new ws({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=h0(a);return new ws({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function h0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function aw(s){if(ai(s.app))return Promise.reject(Ts(s));const e=Jl(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ws({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await rw(e,{returnSecureToken:!0}),a=await ws._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Wc extends Is{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Wc(e,i,a,l)}}function aE(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(s,c,e,a):c})}async function ow(s,e,i=!1){const a=await Bl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ws._forOperation(s,"link",a)}async function lw(s,e,i=!1){const{auth:a}=s;if(ai(a.app))return Promise.reject(Ts(a));const l="reauthenticate";try{const c=await Bl(s,aE(a,l,e,s),i);Re(c.idToken,a,"internal-error");const d=Mm(c.idToken);Re(d,a,"internal-error");const{sub:y}=d;return Re(s.uid===y,a,"user-mismatch"),ws._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&As(a,"user-mismatch"),c}}async function uw(s,e,i=!1){if(ai(s.app))return Promise.reject(Ts(s));const a="signIn",l=await aE(s,a,e),c=await ws._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}async function cw(s,e){return Om(s,"POST","/v1/accounts:signInWithCustomToken",Zl(s,e))}async function hw(s,e){if(ai(s.app))return Promise.reject(Ts(s));const i=Jl(s),a=await cw(i,{token:e,returnSecureToken:!0}),l=await ws._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function fw(s,e,i,a){return Rn(s).onIdTokenChanged(e,i,a)}function dw(s,e,i){return Rn(s).beforeAuthStateChanged(e,i)}function mw(s,e,i,a){return Rn(s).onAuthStateChanged(e,i,a)}const eh="__sak";class oE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const pw=1e3,gw=10;class lE extends oE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,m)=>{this.notifyListeners(d,m)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);qS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,gw):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},pw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}lE.type="LOCAL";const yw=lE;class uE extends oE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}uE.type="SESSION";const cE=uE;function _w(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new ph(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async _=>_(i.origin,c)),m=await _w(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:m})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];function Lm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class vw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,m)=>{const _=Lm("",20);l.port1.start();const A=setTimeout(()=>{m(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const M=w;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(A),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Qi(){return window}function Ew(s){Qi().location.href=s}function hE(){return typeof Qi().WorkerGlobalScope<"u"&&typeof Qi().importScripts=="function"}async function Tw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bw(){return navigator?.serviceWorker?.controller||null}function Aw(){return hE()?self:null}const fE="firebaseLocalStorageDb",Sw=1,th="firebaseLocalStorage",dE="fbase_key";class eu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function gh(s,e){return s.transaction([th],e?"readwrite":"readonly").objectStore(th)}function ww(){const s=indexedDB.deleteDatabase(fE);return new eu(s).toPromise()}function am(){const s=indexedDB.open(fE,Sw);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(th,{keyPath:dE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(th)?e(a):(a.close(),await ww(),e(await am()))})})}async function f0(s,e,i){const a=gh(s,!0).put({[dE]:e,value:i});return new eu(a).toPromise()}async function Rw(s,e){const i=gh(s,!1).get(e),a=await new eu(i).toPromise();return a===void 0?null:a.value}function d0(s,e){const i=gh(s,!0).delete(e);return new eu(i).toPromise()}const xw=800,Iw=3;class mE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Iw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(Aw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Tw(),!this.activeServiceWorker)return;this.sender=new vw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await am();return await f0(e,eh,"1"),await d0(e,eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>f0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Rw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>d0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=gh(l,!1).getAll();return new eu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}mE.type="LOCAL";const Cw=mE;new $l(3e4,6e4);function Nw(s,e){return e?Es(e):(Re(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Um extends sE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,i){return oo(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Dw(s){return uw(s.auth,new Um(s),s.bypassAuthState)}function Ow(s){const{auth:e,user:i}=s;return Re(i,e,"internal-error"),lw(i,new Um(s),s.bypassAuthState)}async function Mw(s){const{auth:e,user:i}=s;return Re(i,e,"internal-error"),ow(i,new Um(s),s.bypassAuthState)}class pE{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(m))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dw;case"linkViaPopup":case"linkViaRedirect":return Mw;case"reauthViaPopup":case"reauthViaRedirect":return Ow;default:As(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vw=new $l(2e3,1e4);class so extends pE{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Vw.get())};e()}}so.currentPopupAction=null;const kw="pendingRedirect",jc=new Map;class Lw extends pE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const a=await Uw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Uw(s,e){const i=zw(e),a=jw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Pw(s,e){jc.set(s._key(),e)}function jw(s){return Es(s._redirectPersistence)}function zw(s){return Pc(kw,s.config.apiKey,s.name)}async function Bw(s,e,i=!1){if(ai(s.app))return Promise.reject(Ts(s));const a=Jl(s),l=Nw(a,e),d=await new Lw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Hw=600*1e3;class qw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Gw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!gE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Fi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Hw&&this.cachedEventUids.clear(),this.cachedEventUids.has(m0(e))}saveEventToCache(e){this.cachedEventUids.add(m0(e)),this.lastProcessedEventTime=Date.now()}}function m0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function gE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function Gw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gE(s);default:return!1}}async function Fw(s,e={}){return To(s,"GET","/v1/projects",e)}const Qw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kw=/^https?/;async function Yw(s){if(s.config.emulator)return;const{authorizedDomains:e}=await Fw(s);for(const i of e)try{if(Xw(i))return}catch{}As(s,"unauthorized-domain")}function Xw(s){const e=sm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Kw.test(i))return!1;if(Qw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const $w=new $l(3e4,6e4);function p0(){const s=Qi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function Zw(s){return new Promise((e,i)=>{function a(){p0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p0(),i(Fi(s,"network-request-failed"))},timeout:$w.get()})}if(Qi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Qi().gapi?.load)a();else{const l=JS("iframefcb");return Qi()[l]=()=>{gapi.load?a():i(Fi(s,"network-request-failed"))},$S(`${ZS()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw zc=null,e})}let zc=null;function Jw(s){return zc=zc||Zw(s),zc}const Ww=new $l(5e3,15e3),e2="__/auth/iframe",t2="emulator/auth/iframe",n2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s2(s){const e=s.config;Re(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?Dm(e,t2):`https://${s.config.authDomain}/${e2}`,a={apiKey:e.apiKey,appName:s.name,v:Eo},l=i2.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Xl(a).slice(1)}`}async function r2(s){const e=await Jw(s),i=Qi().gapi;return Re(i,s,"internal-error"),e.open({where:document.body,url:s2(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Fi(s,"network-request-failed"),y=Qi().setTimeout(()=>{c(d)},Ww.get());function m(){Qi().clearTimeout(y),l(a)}a.ping(m).then(m,()=>{c(d)})}))}const a2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o2=500,l2=600,u2="_blank",c2="http://localhost";class g0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h2(s,e,i,a=o2,l=l2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const m={...a2,width:a.toString(),height:l.toString(),top:c,left:d},_=bn().toLowerCase();i&&(y=$v(_)?u2:i),Yv(_)&&(e=e||c2,m.scrollbars="yes");const A=Object.entries(m).reduce((M,[G,ee])=>`${M}${G}=${ee},`,"");if(HS(_)&&y!=="_self")return f2(e||"",y),new g0(null);const w=window.open(e||"",y,A);Re(w,s,"popup-blocked");try{w.focus()}catch{}return new g0(w)}function f2(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const d2="__/auth/handler",m2="emulator/auth/handler",p2=encodeURIComponent("fac");async function y0(s,e,i,a,l,c){Re(s.config.authDomain,s,"auth-domain-config-required"),Re(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Eo,eventId:l};if(e instanceof rE){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",hA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(e instanceof Wl){const A=e.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const y=d;for(const A of Object.keys(y))y[A]===void 0&&delete y[A];const m=await s._getAppCheckToken(),_=m?`#${p2}=${encodeURIComponent(m)}`:"";return`${g2(s)}?${Xl(y).slice(1)}${_}`}function g2({config:s}){return s.emulator?Dm(s,m2):`https://${s.authDomain}/${d2}`}const Gd="webStorageSupport";class y2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cE,this._completeRedirectFn=Bw,this._overrideRedirectResult=Pw}async _openPopup(e,i,a,l){Ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await y0(e,i,a,sm(),l);return h2(e,c,Lm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await y0(e,i,a,sm(),l);return Ew(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ss(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await r2(e),a=new qw(e);return i.register("authEvent",l=>(Re(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Gd,{type:Gd},l=>{const c=l?.[0]?.[Gd];c!==void 0&&i(!!c),As(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Yw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return tE()||Xv()||Vm()}}const _2=y2;var _0="@firebase/auth",v0="1.11.1";class v2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function E2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function T2(s){co(new aa("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Re(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:d,authDomain:y,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nE(s)},_=new YS(a,l,c,m);return ew(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),co(new aa("auth-internal",e=>{const i=Jl(e.getProvider("auth").getImmediate());return(a=>new v2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),yr(_0,v0,E2(s)),yr(_0,v0,"esm2020")}const b2=300,A2=Dv("authIdTokenMaxAge")||b2;let E0=null;const S2=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>A2)return;const l=i?.token;E0!==l&&(E0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function w2(s=Uv()){const e=Cm(s,"auth");if(e.isInitialized())return e.getImmediate();const i=WS(s,{popupRedirectResolver:_2,persistence:[Cw,yw,cE]}),a=Dv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=S2(c.toString());dw(i,d,()=>d(i.currentUser)),fw(i,y=>d(y))}}const l=Cv("auth");return l&&tw(i,`http://${l}`),i}function R2(){return document.getElementsByTagName("head")?.[0]??document}XS({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=Fi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",R2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});T2("Browser");var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _r,yE;(function(){var s;function e(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,D,L){for(var R=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)R[vt-2]=arguments[vt];return S.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(D=0;D<16;++D)V[D]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],D=C.g[2];let L=C.g[3],R;R=S+(L^I&(D^L))+V[0]+3614090360&4294967295,S=I+(R<<7&4294967295|R>>>25),R=L+(D^S&(I^D))+V[1]+3905402710&4294967295,L=S+(R<<12&4294967295|R>>>20),R=D+(I^L&(S^I))+V[2]+606105819&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(S^D&(L^S))+V[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(L^I&(D^L))+V[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=L+(D^S&(I^D))+V[5]+1200080426&4294967295,L=S+(R<<12&4294967295|R>>>20),R=D+(I^L&(S^I))+V[6]+2821735955&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(S^D&(L^S))+V[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(L^I&(D^L))+V[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=L+(D^S&(I^D))+V[9]+2336552879&4294967295,L=S+(R<<12&4294967295|R>>>20),R=D+(I^L&(S^I))+V[10]+4294925233&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(S^D&(L^S))+V[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(L^I&(D^L))+V[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=L+(D^S&(I^D))+V[13]+4254626195&4294967295,L=S+(R<<12&4294967295|R>>>20),R=D+(I^L&(S^I))+V[14]+2792965006&4294967295,D=L+(R<<17&4294967295|R>>>15),R=I+(S^D&(L^S))+V[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(D^L&(I^D))+V[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(S^I))+V[6]+3225465664&4294967295,L=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(L^S))+V[11]+643717713&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^S&(D^L))+V[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(D^L&(I^D))+V[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(S^I))+V[10]+38016083&4294967295,L=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(L^S))+V[15]+3634488961&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^S&(D^L))+V[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(D^L&(I^D))+V[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(S^I))+V[14]+3275163606&4294967295,L=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(L^S))+V[3]+4107603335&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^S&(D^L))+V[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(D^L&(I^D))+V[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=L+(I^D&(S^I))+V[2]+4243563512&4294967295,L=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(L^S))+V[7]+1735328473&4294967295,D=L+(R<<14&4294967295|R>>>18),R=I+(L^S&(D^L))+V[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(I^D^L)+V[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=L+(S^I^D)+V[8]+2272392833&4294967295,L=S+(R<<11&4294967295|R>>>21),R=D+(L^S^I)+V[11]+1839030562&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^S)+V[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(I^D^L)+V[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=L+(S^I^D)+V[4]+1272893353&4294967295,L=S+(R<<11&4294967295|R>>>21),R=D+(L^S^I)+V[7]+4139469664&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^S)+V[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(I^D^L)+V[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=L+(S^I^D)+V[0]+3936430074&4294967295,L=S+(R<<11&4294967295|R>>>21),R=D+(L^S^I)+V[3]+3572445317&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^S)+V[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(I^D^L)+V[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=L+(S^I^D)+V[12]+3873151461&4294967295,L=S+(R<<11&4294967295|R>>>21),R=D+(L^S^I)+V[15]+530742520&4294967295,D=L+(R<<16&4294967295|R>>>16),R=I+(D^L^S)+V[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(D^(I|~L))+V[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=L+(I^(S|~D))+V[7]+1126891415&4294967295,L=S+(R<<10&4294967295|R>>>22),R=D+(S^(L|~I))+V[14]+2878612391&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~S))+V[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=S+(D^(I|~L))+V[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=L+(I^(S|~D))+V[3]+2399980690&4294967295,L=S+(R<<10&4294967295|R>>>22),R=D+(S^(L|~I))+V[10]+4293915773&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~S))+V[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=S+(D^(I|~L))+V[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=L+(I^(S|~D))+V[15]+4264355552&4294967295,L=S+(R<<10&4294967295|R>>>22),R=D+(S^(L|~I))+V[6]+2734768916&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~S))+V[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=S+(D^(I|~L))+V[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=L+(I^(S|~D))+V[11]+3174756917&4294967295,L=S+(R<<10&4294967295|R>>>22),R=D+(S^(L|~I))+V[2]+718787259&4294967295,D=L+(R<<15&4294967295|R>>>17),R=I+(L^(D|~S))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+L&4294967295}a.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<S;){if(D==0)for(;L<=I;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<S;)if(V[D++]=C.charCodeAt(L++),D==this.blockSize){l(this,V),D=0;break}}else for(;L<S;)if(V[D++]=C[L++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[S++]=this.g[I]>>>V&255;return C};function c(C,S){var I=y;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function d(C,S){this.h=S;const I=[];let V=!0;for(let D=C.length-1;D>=0;D--){const L=C[D]|0;V&&L==S||(I[D]=L,V=!1)}this.g=I}var y={};function m(C){return-128<=C&&C<128?c(C,function(S){return new d([S|0],S<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return w;if(C<0)return ne(_(-C));const S=[];let I=1;for(let V=0;C>=I;V++)S[V]=C/I|0,I*=4294967296;return new d(S,0)}function A(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return ne(A(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(S,8));let V=w;for(let L=0;L<C.length;L+=8){var D=Math.min(8,C.length-L);const R=parseInt(C.substring(L,L+D),S);D<8?(D=_(Math.pow(S,D)),V=V.j(D).add(_(R))):(V=V.j(I),V=V.add(_(R)))}return V}var w=m(0),M=m(1),G=m(16777216);s=d.prototype,s.m=function(){if(le(this))return-ne(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*S,S*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(ee(this))return"0";if(le(this))return"-"+ne(this).toString(C);const S=_(Math.pow(C,6));var I=this;let V="";for(;;){const D=et(I,S).g;I=_e(I,D.j(S));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=D,ee(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function ee(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function le(C){return C.h==-1}s.l=function(C){return C=_e(this,C),le(C)?-1:ee(C)?0:1};function ne(C){const S=C.g.length,I=[];for(let V=0;V<S;V++)I[V]=~C.g[V];return new d(I,~C.h).add(M)}s.abs=function(){return le(this)?ne(this):this},s.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let D=0;D<=S;D++){let L=V+(this.i(D)&65535)+(C.i(D)&65535),R=(L>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);V=R>>>16,L&=65535,R&=65535,I[D]=R<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function _e(C,S){return C.add(ne(S))}s.j=function(C){if(ee(this)||ee(C))return w;if(le(this))return le(C)?ne(this).j(ne(C)):ne(ne(this).j(C));if(le(C))return ne(this.j(ne(C)));if(this.l(G)<0&&C.l(G)<0)return _(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<C.g.length;D++){const L=this.i(V)>>>16,R=this.i(V)&65535,vt=C.i(D)>>>16,Pt=C.i(D)&65535;I[2*V+2*D]+=R*Pt,xe(I,2*V+2*D),I[2*V+2*D+1]+=L*Pt,xe(I,2*V+2*D+1),I[2*V+2*D+1]+=R*vt,xe(I,2*V+2*D+1),I[2*V+2*D+2]+=L*vt,xe(I,2*V+2*D+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new d(I,0)};function xe(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function ve(C,S){this.g=C,this.h=S}function et(C,S){if(ee(S))throw Error("division by zero");if(ee(C))return new ve(w,w);if(le(C))return S=et(ne(C),S),new ve(ne(S.g),ne(S.h));if(le(S))return S=et(C,ne(S)),new ve(ne(S.g),S.h);if(C.g.length>30){if(le(C)||le(S))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=S;V.l(C)<=0;)I=mt(I),V=mt(V);var D=Xe(I,1),L=Xe(V,1);for(V=Xe(V,2),I=Xe(I,2);!ee(V);){var R=L.add(V);R.l(C)<=0&&(D=D.add(I),L=R),V=Xe(V,1),I=Xe(I,1)}return S=_e(C,D.j(S)),new ve(D,S)}for(D=w;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=_(I),R=L.j(S);le(R)||R.l(C)>0;)I-=V,L=_(I),R=L.j(S);ee(L)&&(L=M),D=D.add(L),C=_e(C,R)}return new ve(D,C)}s.B=function(C){return et(this,C).h},s.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&C.i(V);return new d(I,this.h&C.h)},s.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|C.i(V);return new d(I,this.h|C.h)},s.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^C.i(V);return new d(I,this.h^C.h)};function mt(C){const S=C.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(I,C.h)}function Xe(C,S){const I=S>>5;S%=32;const V=C.g.length-I,D=[];for(let L=0;L<V;L++)D[L]=S>0?C.i(L+I)>>>S|C.i(L+I+1)<<32-S:C.i(L+I);return new d(D,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,yE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,_r=d}).apply(typeof T0<"u"?T0:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var _E,Cl,vE,Bc,om,EE,TE,bE;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var p=0;p<u.length;++p){var v=u[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,p){if(p)e:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in v))break e;v=v[U]}u=u[u.length-1],b=v[u],p=p(b),p!=b&&p!=null&&e(v,u,{configurable:!0,writable:!0,value:p})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(p){var v=[],b;for(b in p)Object.prototype.hasOwnProperty.call(p,b)&&v.push([b,p[b]]);return v}});var c=c||{},d=this||self;function y(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function m(u,p,v){return u.call.apply(u.bind,arguments)}function _(u,p,v){return _=m,_.apply(null,arguments)}function A(u,p){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,p){function v(){}v.prototype=p.prototype,u.Z=p.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,U,B){for(var re=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)re[Oe-2]=arguments[Oe];return p.prototype[U].apply(b,re)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const p=u.length;if(p>0){const v=Array(p);for(let b=0;b<p;b++)v[b]=u[b];return v}return[]}function ee(u,p){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let re=0;re<B;re++)u[v+re]=U[re]}else u.push(U)}}class le{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ne(u){d.setTimeout(()=>{throw u},0)}function _e(){var u=C;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class xe{constructor(){this.h=this.g=null}add(p,v){const b=ve.get();b.set(p,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ve=new le(()=>new et,u=>u.reset());class et{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,Xe=!1,C=new xe,S=()=>{const u=Promise.resolve(void 0);mt=()=>{u.then(I)}};function I(){for(var u;u=_e();){try{u.h.call(u.g)}catch(v){ne(v)}var p=ve;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}Xe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,p),d.removeEventListener("test",v,p)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function vt(u,p){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}w(vt,D),vt.prototype.init=function(u,p){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(v=="mouseover"?p=u.fromElement:v=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&vt.Z.h.call(this)},vt.prototype.h=function(){vt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Pt="closure_listenable_"+(Math.random()*1e6|0),F=0;function ae(u,p,v,b,U){this.listener=u,this.proxy=null,this.src=p,this.type=v,this.capture=!!b,this.ha=U,this.key=++F,this.da=this.fa=!1}function ge(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ue(u,p,v){for(const b in u)p.call(v,u[b],b,u)}function Je(u,p){for(const v in u)p.call(void 0,u[v],v,u)}function O(u){const p={};for(const v in u)p[v]=u[v];return p}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(u,p){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)u[v]=b[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function ue(u){this.src=u,this.g={},this.h=0}ue.prototype.add=function(u,p,v,b,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const re=De(u,p,b,U);return re>-1?(p=u[re],v||(p.fa=!1)):(p=new ae(p,this.src,B,!!b,U),p.fa=v,u.push(p)),p};function Se(u,p){const v=p.type;if(v in u.g){var b=u.g[v],U=Array.prototype.indexOf.call(b,p,void 0),B;(B=U>=0)&&Array.prototype.splice.call(b,U,1),B&&(ge(p),u.g[v].length==0&&(delete u.g[v],u.h--))}}function De(u,p,v,b){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==p&&B.capture==!!v&&B.ha==b)return U}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),jt={};function Et(u,p,v,b,U){if(Array.isArray(p)){for(let B=0;B<p.length;B++)Et(u,p[B],v,b,U);return null}return v=be(v),u&&u[Pt]?u.J(p,v,y(b)?!!b.capture:!1,U):Wi(u,p,v,!1,b,U)}function Wi(u,p,v,b,U,B){if(!p)throw Error("Invalid event type");const re=y(U)?!!U.capture:!!U;let Oe=$(u);if(Oe||(u[Le]=Oe=new ue(u)),v=Oe.add(p,v,b,re,B),v.proxy)return v;if(b=Cs(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)L||(U=re),U===void 0&&(U=!1),u.addEventListener(p.toString(),b,U);else if(u.attachEvent)u.attachEvent(Un(p.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Cs(){function u(v){return p.call(u.src,u.listener,v)}const p=q;return u}function Ns(u,p,v,b,U){if(Array.isArray(p))for(var B=0;B<p.length;B++)Ns(u,p[B],v,b,U);else b=y(b)?!!b.capture:!!b,v=be(v),u&&u[Pt]?(u=u.i,B=String(p).toString(),B in u.g&&(p=u.g[B],v=De(p,v,b,U),v>-1&&(ge(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete u.g[B],u.h--)))):u&&(u=$(u))&&(p=u.g[p.toString()],u=-1,p&&(u=De(p,v,b,U)),(v=u>-1?p[u]:null)&&Ds(v))}function Ds(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Pt])Se(p.i,u);else{var v=u.type,b=u.proxy;p.removeEventListener?p.removeEventListener(v,b,u.capture):p.detachEvent?p.detachEvent(Un(v),b):p.addListener&&p.removeListener&&p.removeListener(b),(v=$(p))?(Se(v,u),v.h==0&&(v.src=null,p[Le]=null)):ge(u)}}}function Un(u){return u in jt?jt[u]:jt[u]="on"+u}function q(u,p){if(u.da)u=!0;else{p=new vt(p,this);const v=u.listener,b=u.ha||u.src;u.fa&&Ds(u),u=v.call(b,p)}return u}function $(u){return u=u[Le],u instanceof ue?u:null}var te="__closure_events_fn_"+(Math.random()*1e9>>>0);function be(u){return typeof u=="function"?u:(u[te]||(u[te]=function(p){return u.handleEvent(p)}),u[te])}function se(){V.call(this),this.i=new ue(this),this.M=this,this.G=null}w(se,V),se.prototype[Pt]=!0,se.prototype.removeEventListener=function(u,p,v,b){Ns(this,u,p,v,b)};function ce(u,p){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=p.type||p,typeof p=="string")p=new D(p,u);else if(p instanceof D)p.target=p.target||u;else{var U=p;p=new D(b,u),ie(p,U)}U=!0;let B,re;if(v)for(re=v.length-1;re>=0;re--)B=p.g=v[re],U=oe(B,b,!0,p)&&U;if(B=p.g=u,U=oe(B,b,!0,p)&&U,U=oe(B,b,!1,p)&&U,v)for(re=0;re<v.length;re++)B=p.g=v[re],U=oe(B,b,!1,p)&&U}se.prototype.N=function(){if(se.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const v=u.g[p];for(let b=0;b<v.length;b++)ge(v[b]);delete u.g[p],u.h--}}this.G=null},se.prototype.J=function(u,p,v,b){return this.i.add(String(u),p,!1,v,b)},se.prototype.K=function(u,p,v,b){return this.i.add(String(u),p,!0,v,b)};function oe(u,p,v,b){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let U=!0;for(let B=0;B<p.length;++B){const re=p[B];if(re&&!re.da&&re.capture==v){const Oe=re.listener,zt=re.ha||re.src;re.fa&&Se(u.i,re),U=Oe.call(zt,b)!==!1&&U}}return U&&!b.defaultPrevented}function de(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:d.setTimeout(u,p||0)}function nt(u){u.g=de(()=>{u.g=null,u.i&&(u.i=!1,nt(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Pe extends V{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:nt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function It(u){V.call(this),this.h=u,this.g={}}w(It,V);var xn=[];function it(u){Ue(u.g,function(p,v){this.g.hasOwnProperty(v)&&Ds(p)},u),u.g={}}It.prototype.N=function(){It.Z.N.call(this),it(this)},It.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var at=d.JSON.stringify,Ve=d.JSON.parse,$e=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ct(){}function An(){}var bt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function we(){D.call(this,"d")}w(we,D);function At(){D.call(this,"c")}w(At,D);var W={},ot=null;function Vt(){return ot=ot||new se}W.Ia="serverreachability";function bi(u){D.call(this,W.Ia,u)}w(bi,D);function Ai(u){const p=Vt();ce(p,new bi(p))}W.STAT_EVENT="statevent";function Cr(u,p){D.call(this,W.STAT_EVENT,u),this.stat=p}w(Cr,D);function Gt(u){const p=Vt();ce(p,new Cr(p,u))}W.Ja="timingevent";function Si(u,p){D.call(this,W.Ja,u),this.size=p}w(Si,D);function wi(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},p)}function li(){this.g=!0}li.prototype.ua=function(){this.g=!1};function kh(u,p,v,b,U,B){u.info(function(){if(u.g)if(B){var re="",Oe=B.split("&");for(let lt=0;lt<Oe.length;lt++){var zt=Oe[lt].split("=");if(zt.length>1){const Nt=zt[0];zt=zt[1];const Zn=Nt.split("_");re=Zn.length>=2&&Zn[1]=="type"?re+(Nt+"="+zt+"&"):re+(Nt+"=redacted&")}}}else re=null;else re=B;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+p+`
`+v+`
`+re})}function ou(u,p,v,b,U,B,re){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+p+`
`+v+`
`+B+" "+re})}function Ri(u,p,v,b){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+Lh(u,v)+(b?" "+b:"")})}function Nr(u,p){u.info(function(){return"TIMEOUT: "+p})}li.prototype.info=function(){};function Lh(u,p){if(!u.g)return p;if(!p)return null;try{const B=JSON.parse(p);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let re=1;re<b.length;re++)b[re]=""}}}}return at(B)}catch{return p}}var Dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ro={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xo;function Or(){}w(Or,Ct),Or.prototype.g=function(){return new XMLHttpRequest},xo=new Or;function es(u){return encodeURIComponent(String(u))}function lu(u){var p=1;u=u.split(":");const v=[];for(;p>0&&u.length;)v.push(u.shift()),p--;return u.length&&v.push(u.join(":")),v}function ui(u,p,v,b){this.j=u,this.i=p,this.l=v,this.S=b||1,this.V=new It(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ci}function ci(){this.i=null,this.g="",this.h=!1}var Ft={},rn={};function xi(u,p,v){u.M=1,u.A=Mr(Kt(p)),u.u=v,u.R=!0,da(u,null)}function da(u,p){u.F=Date.now(),Ii(u),u.B=Kt(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ya(v.i,"t",b),u.C=0,v=u.j.L,u.h=new ci,u.g=Au(u.j,v?p:null,!u.u),u.P>0&&(u.O=new Pe(_(u.Y,u,u.g),u.P)),p=u.V,v=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(xn[0]=U.toString()),U=xn);for(let B=0;B<U.length;B++){const re=Et(v,U[B],b||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),Ai(),kh(u.i,u.v,u.B,u.l,u.S,u.u)}ui.prototype.ba=function(u){u=u.target;const p=this.O;p&&di(u)==3?p.j():this.Y(u)},ui.prototype.Y=function(u){try{if(u==this.g)e:{const Oe=di(this.g),zt=this.g.ya(),lt=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||Oe!=4||zt==7||(zt==8||lt<=0?Ai(3):Ai(2)),Ci(this);var p=this.g.ca();this.X=p;var v=Uh(this);if(this.o=p==200,ou(this.i,this.v,this.B,this.l,this.S,Oe,p),this.o){if(this.U&&!this.L){t:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break t}}B=null}if(u=B)Ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ni(this,u);else{this.o=!1,this.m=3,Gt(12),Pn(this),Yn(this);break e}}if(this.R){u=!0;let Nt;for(;!this.K&&this.C<v.length;)if(Nt=cu(this,v),Nt==rn){Oe==4&&(this.m=4,Gt(14),u=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(Nt==Ft){this.m=4,Gt(15),Ri(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ri(this.i,this.l,Nt,null),Ni(this,Nt);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||v.length!=0||this.h.h||(this.m=1,Gt(16),u=!1),this.o=this.o&&u,!u)Ri(this.i,this.l,v,"[Invalid Chunked Response]"),Pn(this),Yn(this);else if(v.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ho(re),re.P=!0,Gt(11))}}else Ri(this.i,this.l,v,null),Ni(this,v);Oe==4&&Pn(this),this.o&&!this.K&&(Oe==4?vu(this.j,this):(this.o=!1,Ii(this)))}else ns(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,Gt(12)):(this.m=0,Gt(13)),Pn(this),Yn(this)}}}catch{}finally{}};function Uh(u){if(!uu(u))return u.g.la();const p=cn(u.g);if(p==="")return"";let v="";const b=p.length,U=di(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Pn(u),Yn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(p[B],{stream:!(U&&B==b-1)});return p.length=0,u.h.g+=v,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,p){var v=u.C,b=p.indexOf(`
`,v);return b==-1?rn:(v=Number(p.substring(v,b)),isNaN(v)?Ft:(b+=1,b+v>p.length?rn:(p=p.slice(b,b+v),u.C=b+v,p)))}ui.prototype.cancel=function(){this.K=!0,Pn(this)};function Ii(u){u.T=Date.now()+u.H,ma(u,u.H)}function ma(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=wi(_(u.aa,u),p)}function Ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ui.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Nr(this.i,this.B),this.M!=2&&(Ai(),Gt(17)),Pn(this),this.m=2,Yn(this)):ma(this,this.T-u)};function Yn(u){u.j.I==0||u.K||vu(u.j,u)}function Pn(u){Ci(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,it(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function Ni(u,p){try{var v=u.j;if(v.I!=0&&(v.g==u||Oi(v.h,u))){if(!u.L&&Oi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ba(v),js(v);else break e;zr(v),Gt(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=wi(_(v.Va,v),6e3));Di(v.h)<=1&&v.ta&&(v.ta=void 0)}else Pi(v,11)}else if((u.L||v.g==u)&&ba(v),!R(p))for(U=v.Ba.g.parse(p),p=0;p<U.length;p++){let lt=U[p];const Nt=lt[0];if(!(Nt<=v.K))if(v.K=Nt,lt=lt[1],v.I==2)if(lt[0]=="c"){v.M=lt[1],v.ba=lt[2];const Zn=lt[3];Zn!=null&&(v.ka=Zn,v.j.info("VER="+v.ka));const ji=lt[4];ji!=null&&(v.za=ji,v.j.info("SVER="+v.za));const mi=lt[5];mi!=null&&typeof mi=="number"&&mi>0&&(b=1.5*mi,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const pi=u.g;if(pi){const Br=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var B=b.h;B.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(No(B,B.h),B.h=null))}if(b.G){const Aa=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(b.wa=Aa,ht(b.J,b.G,Aa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var re=u;if(b.na=bu(b,b.L?b.ba:null,b.W),re.L){Do(b.h,re);var Oe=re,zt=b.O;zt&&(Oe.H=zt),Oe.D&&(Ci(Oe),Ii(Oe)),b.g=re}else yu(b);v.i.length>0&&Ui(v)}else lt[0]!="stop"&&lt[0]!="close"||Pi(v,7);else v.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?Pi(v,7):zo(v):lt[0]!="noop"&&v.l&&v.l.qa(lt),v.A=0)}}Ai(4)}catch{}}var Qt=class{constructor(u,p){this.g=u,this.map=p}};function Io(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Di(u){return u.h?1:u.g?u.g.size:0}function Oi(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function No(u,p){u.g?u.g.add(p):u.h=p}function Do(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Io.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Oo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const v of u.g.values())p=p.concat(v.G);return p}return G(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(u,p){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let U,B=null;b>=0?(U=u[v].substring(0,b),B=u[v].substring(b+1)):U=u[v],p(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function jn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof jn?(this.l=u.l,an(this,u.j),this.o=u.o,this.g=u.g,Os(this,u.u),this.h=u.h,Mo(this,pu(u.i)),this.m=u.m):u&&(p=String(u).match(hu))?(this.l=!1,an(this,p[1]||"",!0),this.o=Mi(p[2]||""),this.g=Mi(p[3]||"",!0),Os(this,p[4]),this.h=Mi(p[5]||"",!0),Mo(this,p[6]||"",!0),this.m=Mi(p[7]||"")):(this.l=!1,this.i=new Vs(null,this.l))}jn.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(Vr(p,ga,!0),":");var v=this.g;return(v||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Vr(p,ga,!0),"@"),u.push(es(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Vr(v,v.charAt(0)=="/"?Vo:fu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Vr(v,du)),u.join("")},jn.prototype.resolve=function(u){const p=Kt(this);let v=!!u.j;v?an(p,u.j):v=!!u.o,v?p.o=u.o:v=!!u.g,v?p.g=u.g:v=u.u!=null;var b=u.h;if(v)Os(p,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=p.h.lastIndexOf("/");U!=-1&&(b=p.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let re=0;re<U.length;){const Oe=U[re++];Oe=="."?b&&re==U.length&&B.push(""):Oe==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&re==U.length&&B.push("")):(B.push(Oe),b=!0)}b=B.join("/")}else b=U}return v?p.h=b:v=u.i.toString()!=="",v?Mo(p,pu(u.i)):v=!!u.m,v&&(p.m=u.m),p};function Kt(u){return new jn(u)}function an(u,p,v){u.j=v?Mi(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Os(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function Mo(u,p,v){p instanceof Vs?(u.i=p,_a(u.i,u.l)):(v||(p=Vr(p,Ms)),u.i=new Vs(p,u.l))}function ht(u,p,v){u.i.set(p,v)}function Mr(u){return ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Mi(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Vr(u,p,v){return typeof u=="string"?(u=encodeURI(u).replace(p,In),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function In(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ga=/[#\/\?@]/g,fu=/[#\?:]/g,Vo=/[#\?]/g,Ms=/[#\?@]/g,du=/#/g;function Vs(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function Cn(u){u.g||(u.g=new Map,u.h=0,u.i&&pa(u.i,function(p,v){u.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}s=Vs.prototype,s.add=function(u,p){Cn(this),this.i=null,u=ks(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(p),this.h+=1,this};function mu(u,p){Cn(u),p=ks(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function ko(u,p){return Cn(u),p=ks(u,p),u.g.has(p)}s.forEach=function(u,p){Cn(this),this.g.forEach(function(v,b){v.forEach(function(U){u.call(p,U,b,this)},this)},this)};function Lo(u,p){Cn(u);let v=[];if(typeof p=="string")ko(u,p)&&(v=v.concat(u.g.get(ks(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)v=v.concat(u[p]);return v}s.set=function(u,p){return Cn(this),this.i=null,u=ks(this,u),ko(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},s.get=function(u,p){return u?(u=Lo(this,u),u.length>0?String(u[0]):p):p};function ya(u,p,v){mu(u,p),v.length>0&&(u.i=null,u.g.set(ks(u,p),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let b=0;b<p.length;b++){var v=p[b];const U=es(v);v=Lo(this,v);for(let B=0;B<v.length;B++){let re=U;v[B]!==""&&(re+="="+es(v[B])),u.push(re)}}return this.i=u.join("&")};function pu(u){const p=new Vs;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function ks(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function _a(u,p){p&&!u.j&&(Cn(u),u.i=null,u.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(mu(this,b),ya(this,U,v))},u)),u.j=p}function hi(u,p){const v=new li;if(d.Image){const b=new Image;b.onload=A(Xn,v,"TestLoadImage: loaded",!0,p,b),b.onerror=A(Xn,v,"TestLoadImage: error",!1,p,b),b.onabort=A(Xn,v,"TestLoadImage: abort",!1,p,b),b.ontimeout=A(Xn,v,"TestLoadImage: timeout",!1,p,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else p(!1)}function Uo(u,p){const v=new li,b=new AbortController,U=setTimeout(()=>{b.abort(),Xn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(U),B.ok?Xn(v,"TestPingServer: ok",!0,p):Xn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),Xn(v,"TestPingServer: error",!1,p)})}function Xn(u,p,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function Ls(){this.g=new $e}function Vi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Vi,Ct),Vi.prototype.g=function(){return new kr(this.i,this.h)};function kr(u,p){se.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(kr,se),s=kr.prototype,s.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,fi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||d).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Us(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;va(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function va(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Us(this):fi(this),this.readyState==3&&va(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Us(this))},s.Na=function(u){this.g&&(this.response=u,Us(this))},s.ga=function(){this.g&&Us(this)};function Us(u){u.readyState=4,u.l=null,u.j=null,u.B=null,fi(u)}s.setRequestHeader=function(u,p){this.A.append(u,p)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=p.next();return u.join(`\r
`)};function fi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $n(u){let p="";return Ue(u,function(v,b){p+=b,p+=":",p+=v,p+=`\r
`}),p}function Lr(u,p,v){e:{for(b in v){var b=!1;break e}b=!0}b||(v=$n(v),typeof u=="string"?v!=null&&es(v):ht(u,p,v))}function pt(u){se.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(pt,se);var ki=/^https?$/i,Po=["POST","PUT"];s=pt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,p,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xo.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(B){Ur(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Po,p,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,re]of v)this.g.setRequestHeader(B,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Ur(this,B)}};function Ur(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,jo(u),ts(u)}function jo(u){u.A||(u.A=!0,ce(u,"complete"),ce(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ce(this,"complete"),ce(this,"abort"),ts(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),pt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Pr(this):this.Xa())},s.Xa=function(){Pr(this)};function Pr(u){if(u.h&&typeof c<"u"){if(u.v&&di(u)==4)setTimeout(u.Ca.bind(u),0);else if(ce(u,"readystatechange"),di(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var b;if(b=B===0){let re=String(u.D).match(hu)[1]||null;!re&&d.self&&d.self.location&&(re=d.self.location.protocol.slice(0,-1)),b=!ki.test(re?re.toLowerCase():"")}v=b}if(v)ce(u,"complete"),ce(u,"success");else{u.o=6;try{var U=di(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",jo(u)}}finally{ts(u)}}}}function ts(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,p||ce(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function di(u){return u.g?u.g.readyState:0}s.ca=function(){try{return di(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Ve(p)}};function cn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(u){const p={};u=(u.g&&di(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var v=lu(u[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=p[U]||[];p[U]=B,B.push(v)}Je(p,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Li(u,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||p}function Ps(u){this.za=0,this.i=[],this.j=new li,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Li("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Li("baseRetryDelayMs",5e3,u),this.Za=Li("retryDelaySeedMs",1e4,u),this.Ta=Li("forwardChannelMaxRetries",2,u),this.va=Li("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Io(u&&u.concurrentRequestLimit),this.Ba=new Ls,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ps.prototype,s.ka=8,s.I=1,s.connect=function(u,p,v,b){Gt(0),this.W=u,this.H=p||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=bu(this,null,this.W),Ui(this)};function zo(u){if(Ea(u),u.I==3){var p=u.V++,v=Kt(u.J);if(ht(v,"SID",u.M),ht(v,"RID",p),ht(v,"TYPE","terminate"),jr(u,v),p=new ui(u,u.j,p),p.M=2,p.A=Mr(Kt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=p.A,v=!0),v||(p.g=Au(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Ii(p)}Tu(u)}function js(u){u.g&&(Ho(u),u.g.cancel(),u.g=null)}function Ea(u){js(u),u.v&&(d.clearTimeout(u.v),u.v=null),ba(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ui(u){if(!Co(u.h)&&!u.m){u.m=!0;var p=u.Ea;mt||S(),Xe||(mt(),Xe=!0),C.add(p,u),u.D=0}}function Ta(u,p){return Di(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=wi(_(u.Ea,u,p),Eu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ui(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),ie(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=gu(this,U,p),v=Kt(this.J),ht(v,"RID",u),ht(v,"CVER",22),this.G&&ht(v,"X-HTTP-Session-Id",this.G),jr(this,v),B&&(this.R?p="headers="+es($n(B))+"&"+p:this.u&&Lr(v,this.u,B)),No(this.h,U),this.Ra&&ht(v,"TYPE","init"),this.S?(ht(v,"$req",p),ht(v,"SID","null"),U.U=!0,xi(U,v,null)):xi(U,v,p),this.I=2}}else this.I==3&&(u?Bo(this,u):this.i.length==0||Co(this.h)||Bo(this))};function Bo(u,p){var v;p?v=p.l:v=u.V++;const b=Kt(u.J);ht(b,"SID",u.M),ht(b,"RID",v),ht(b,"AID",u.K),jr(u,b),u.u&&u.o&&Lr(b,u.u,u.o),v=new ui(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),p&&(u.i=p.G.concat(u.i)),p=gu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),No(u.h,v),xi(v,b,p)}function jr(u,p){u.H&&Ue(u.H,function(v,b){ht(p,b,v)}),u.l&&Ue({},function(v,b){ht(p,b,v)})}function gu(u,p,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;e:{var U=u.i;let Oe=-1;for(;;){const zt=["count="+v];Oe==-1?v>0?(Oe=U[0].g,zt.push("ofs="+Oe)):Oe=0:zt.push("ofs="+Oe);let lt=!0;for(let Nt=0;Nt<v;Nt++){var B=U[Nt].g;const Zn=U[Nt].map;if(B-=Oe,B<0)Oe=Math.max(0,U[Nt].g-100),lt=!1;else try{B="req"+B+"_"||"";try{var re=Zn instanceof Map?Zn:Object.entries(Zn);for(const[ji,mi]of re){let pi=mi;y(mi)&&(pi=at(mi)),zt.push(B+ji+"="+encodeURIComponent(pi))}}catch(ji){throw zt.push(B+"type="+encodeURIComponent("_badmap")),ji}}catch{b&&b(Zn)}}if(lt){re=zt.join("&");break e}}re=void 0}return u=u.i.splice(0,v),p.G=u,re}function yu(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;mt||S(),Xe||(mt(),Xe=!0),C.add(p,u),u.A=0}}function zr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=wi(_(u.Da,u),Eu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=wi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Gt(10),js(this),_u(this))};function Ho(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new ui(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=Kt(u.na);ht(p,"RID","rpc"),ht(p,"SID",u.M),ht(p,"AID",u.K),ht(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&ht(p,"TO",u.ia),ht(p,"TYPE","xmlhttp"),jr(u,p),u.u&&u.o&&Lr(p,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Mr(Kt(p)),v.u=null,v.R=!0,da(v,u)}s.Va=function(){this.C!=null&&(this.C=null,js(this),zr(this),Gt(19))};function ba(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vu(u,p){var v=null;if(u.g==p){ba(u),Ho(u),u.g=null;var b=2}else if(Oi(u.h,p))v=p.G,Do(u.h,p),b=1;else return;if(u.I!=0){if(p.o)if(b==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var U=u.D;b=Vt(),ce(b,new Si(b,v)),Ui(u)}else yu(u);else if(U=p.m,U==3||U==0&&p.X>0||!(b==1&&Ta(u,p)||b==2&&zr(u)))switch(v&&v.length>0&&(p=u.h,p.i=p.i.concat(v)),U){case 1:Pi(u,5);break;case 4:Pi(u,10);break;case 3:Pi(u,6);break;default:Pi(u,2)}}}function Eu(u,p){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*p}function Pi(u,p){if(u.j.info("Error code "+p),p==2){var v=_(u.bb,u),b=u.Ua;const U=!b;b=new jn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||an(b,"https"),Mr(b),U?hi(b.toString(),v):Uo(b.toString(),v)}else Gt(2);u.I=0,u.l&&u.l.pa(p),Tu(u),Ea(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const p=Oo(u.h);(p.length!=0||u.i.length!=0)&&(ee(u.ja,p),ee(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function bu(u,p,v){var b=v instanceof jn?Kt(v):new jn(v);if(b.g!="")p&&(b.g=p+"."+b.g),Os(b,b.u);else{var U=d.location;b=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;const B=new jn(null);b&&an(B,b),p&&(B.g=p),U&&Os(B,U),v&&(B.h=v),b=B}return v=u.G,p=u.wa,v&&p&&ht(b,v,p),ht(b,"VER",u.ka),jr(u,b),b}function Au(u,p,v){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new pt(new Vi({ab:v})):new pt(u.ma),p.Fa(u.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}s=Su.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function zs(){}zs.prototype.g=function(u,p){return new Sn(u,p)};function Sn(u,p){se.call(this),this.g=new Ps(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!R(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new is(this)}w(Sn,se),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){zo(this.g)},Sn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=at(u),u=v);p.i.push(new Qt(p.Ya++,u)),p.I==3&&Ui(p)},Sn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,Sn.Z.N.call(this)};function wu(u){we.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const v in p){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}w(wu,we);function Ru(){At.call(this),this.status=1}w(Ru,At);function is(u){this.g=u}w(is,Su),is.prototype.ra=function(){ce(this.g,"a")},is.prototype.qa=function(u){ce(this.g,new wu(u))},is.prototype.pa=function(u){ce(this.g,new Ru)},is.prototype.oa=function(){ce(this.g,"b")},zs.prototype.createWebChannel=zs.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,bE=function(){return new zs},TE=function(){return Vt()},EE=W,om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Dr.NO_ERROR=0,Dr.TIMEOUT=8,Dr.HTTP_ERROR=6,Bc=Dr,Ro.COMPLETE="complete",vE=Ro,An.EventType=bt,bt.OPEN="a",bt.CLOSE="b",bt.ERROR="c",bt.MESSAGE="d",se.prototype.listen=se.prototype.J,Cl=An,pt.prototype.listenOnce=pt.prototype.K,pt.prototype.getLastError=pt.prototype.Ha,pt.prototype.getLastErrorCode=pt.prototype.ya,pt.prototype.getStatus=pt.prototype.ca,pt.prototype.getResponseJson=pt.prototype.La,pt.prototype.getResponseText=pt.prototype.la,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Fa,_E=pt}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const b0="@firebase/firestore",A0="4.9.2";let En=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");let bo="12.3.0";const la=new xm("@firebase/firestore");function eo(){return la.logLevel}function he(s,...e){if(la.logLevel<=Qe.DEBUG){const i=e.map(Pm);la.debug(`Firestore (${bo}): ${s}`,...i)}}function Rs(s,...e){if(la.logLevel<=Qe.ERROR){const i=e.map(Pm);la.error(`Firestore (${bo}): ${s}`,...i)}}function ho(s,...e){if(la.logLevel<=Qe.WARN){const i=e.map(Pm);la.warn(`Firestore (${bo}): ${s}`,...i)}}function Pm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function Ae(s,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,AE(s,a,i)}function AE(s,e,i){let a=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Rs(a),new Error(a)}function ct(s,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||AE(e,l,a)}function Ne(s,e){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Is{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class SE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class x2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(En.UNAUTHENTICATED)))}shutdown(){}}class I2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class C2{constructor(e){this.t=e,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ct(this.o===void 0,42304);let a=this.i;const l=m=>this.i!==a?(a=this.i,i(m)):Promise.resolve();let c=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new vr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const m=c;e.enqueueRetryable((async()=>{await m.promise,await l(this.currentUser)}))},y=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((m=>y(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?y(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new vr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ct(typeof a.accessToken=="string",31837,{l:a}),new SE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new En(e)}}class N2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class D2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new N2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class S0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ct(this.o===void 0,3512);const a=c=>{c.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,he("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new S0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(ct(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new S0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function M2(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=M2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Ke(s,e){return s<e?-1:s>e?1:0}function lm(s,e){const i=Math.min(s.length,e.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return Fd(l)===Fd(c)?Ke(l,c):Fd(l)?1:-1}return Ke(s.length,e.length)}const V2=55296,k2=57343;function Fd(s){const e=s.charCodeAt(0);return e>=V2&&e<=k2}function fo(s,e,i){return s.length===e.length&&s.every(((a,l)=>i(a,e[l])))}const w0="__name__";class Gi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ae(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ae(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Gi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Gi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=Gi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Ke(e.length,i.length)}static compareSegments(e,i){const a=Gi.isNumericId(e),l=Gi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Gi.extractNumericId(e).compare(Gi.extractNumericId(i)):lm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _r.fromString(e.substring(4,e.length-2))}}class Ot extends Gi{construct(e,i,a){return new Ot(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new pe(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new Ot(i)}static emptyPath(){return new Ot([])}}const L2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends Gi{construct(e,i,a){return new gn(e,i,a)}static isValidIdentifier(e){return L2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w0}static keyField(){return new gn([w0])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const y=e[l];if(y==="\\"){if(l+1===e.length)throw new pe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[l+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new pe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=m,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(c(),l++)}if(c(),d)throw new pe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(i)}static emptyPath(){return new gn([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(Ot.fromString(e))}static fromName(e){return new Ee(Ot.fromString(e).popFirst(5))}static empty(){return new Ee(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Ot.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new Ot(e.slice()))}}function U2(s,e,i){if(!i)throw new pe(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function P2(s,e,i,a){if(e===!0&&a===!0)throw new pe(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function R0(s){if(!Ee.isDocumentKey(s))throw new pe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function wE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function zm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Ae(12329,{type:typeof s})}function Ei(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new pe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=zm(s);throw new pe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}function Wt(s,e){const i={typeString:s};return e&&(i.value=e),i}function tu(s,e){if(!wE(s))throw new pe(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new pe(J.INVALID_ARGUMENT,i);return!0}const x0=-62135596800,I0=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*I0);return new xt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<x0)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I0}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(tu(e,xt._jsonSchema))return new xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-x0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:Wt("string",xt._jsonSchemaVersion),seconds:Wt("number"),nanoseconds:Wt("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new xt(0,0))}static max(){return new Ie(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Hl=-1;function j2(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=Ie.fromTimestamp(a===1e9?new xt(i+1,0):new xt(i,a));return new Tr(l,Ee.empty(),e)}function z2(s){return new Tr(s.readTime,s.key,Hl)}class Tr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Tr(Ie.min(),Ee.empty(),Hl)}static max(){return new Tr(Ie.max(),Ee.empty(),Hl)}}function B2(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=Ee.comparator(s.documentKey,e.documentKey),i!==0?i:Ke(s.largestBatchId,e.largestBatchId))}const H2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ao(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==H2)throw s;he("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,a)=>{i(e)}))}static reject(e){return new Z(((i,a)=>{a(e)}))}static waitFor(e){return new Z(((i,a)=>{let l=0,c=0,d=!1;e.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(m=>a(m)))})),d=!0,c===l&&i()}))}static or(e){let i=Z.resolve(!1);for(const a of e)i=i.next((l=>l?Z.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new Z(((a,l)=>{const c=e.length,d=new Array(c);let y=0;for(let m=0;m<c;m++){const _=m;i(e[_]).next((A=>{d[_]=A,++y,y===c&&a(d)}),(A=>l(A)))}}))}static doWhile(e,i){return new Z(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function G2(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function So(s){return s.name==="IndexedDbTransactionError"}class yh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;const Bm=-1;function _h(s){return s==null}function nh(s){return s===0&&1/s==-1/0}function F2(s){return typeof s=="number"&&Number.isInteger(s)&&!nh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const RE="";function Q2(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=C0(e)),e=K2(s.get(i),e);return C0(e)}function K2(s,e){let i=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case RE:i+="";break;default:i+=c}}return i}function C0(s){return s+RE+""}function N0(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function xr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function xE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class Mt{constructor(e,i){this.comparator=e,this.root=i||pn.EMPTY}insert(e,i){return new Mt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??pn.RED,this.left=l??pn.EMPTY,this.right=c??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new pn(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return pn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new pn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sn{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new D0(this.data.getIterator())}getIteratorFrom(e){return new D0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new sn(this.comparator);return i.data=e,i}}class D0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Kn{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new Kn([])}unionWith(e){let i=new sn(gn.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Kn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class IE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new IE("Invalid base64 string: "+c):c}})(e);return new yn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new yn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const Y2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(s){if(ct(!!s,39018),typeof s=="string"){let e=0;const i=Y2.exec(s);if(ct(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:qt(s.seconds),nanos:qt(s.nanos)}}function qt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ar(s){return typeof s=="string"?yn.fromBase64String(s):yn.fromUint8Array(s)}const CE="server_timestamp",NE="__type__",DE="__previous_value__",OE="__local_write_time__";function Hm(s){return(s?.mapValue?.fields||{})[NE]?.stringValue===CE}function vh(s){const e=s.mapValue.fields[DE];return Hm(e)?vh(e):e}function ql(s){const e=br(s.mapValue.fields[OE].timestampValue);return new xt(e.seconds,e.nanos)}class X2{constructor(e,i,a,l,c,d,y,m,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=m,this.useFetchStreams=_,this.isUsingEmulator=A}}const ih="(default)";class Gl{constructor(e,i){this.projectId=e,this.database=i||ih}static empty(){return new Gl("","")}get isDefaultDatabase(){return this.database===ih}isEqual(e){return e instanceof Gl&&e.projectId===this.projectId&&e.database===this.database}}const ME="__type__",$2="__max__",Mc={mapValue:{}},VE="__vector__",sh="value";function Sr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Hm(s)?4:J2(s)?9007199254740991:Z2(s)?10:11:Ae(28295,{value:s})}function Zi(s,e){if(s===e)return!0;const i=Sr(s);if(i!==Sr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ql(s).isEqual(ql(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=br(l.timestampValue),y=br(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return Ar(l.bytesValue).isEqual(Ar(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return qt(l.geoPointValue.latitude)===qt(c.geoPointValue.latitude)&&qt(l.geoPointValue.longitude)===qt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return qt(l.integerValue)===qt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=qt(l.doubleValue),y=qt(c.doubleValue);return d===y?nh(d)===nh(y):isNaN(d)&&isNaN(y)}return!1})(s,e);case 9:return fo(s.arrayValue.values||[],e.arrayValue.values||[],Zi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(N0(d)!==N0(y))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(y[m]===void 0||!Zi(d[m],y[m])))return!1;return!0})(s,e);default:return Ae(52216,{left:s})}}function Fl(s,e){return(s.values||[]).find((i=>Zi(i,e)))!==void 0}function mo(s,e){if(s===e)return 0;const i=Sr(s),a=Sr(e);if(i!==a)return Ke(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ke(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=qt(c.integerValue||c.doubleValue),m=qt(d.integerValue||d.doubleValue);return y<m?-1:y>m?1:y===m?0:isNaN(y)?isNaN(m)?0:-1:1})(s,e);case 3:return O0(s.timestampValue,e.timestampValue);case 4:return O0(ql(s),ql(e));case 5:return lm(s.stringValue,e.stringValue);case 6:return(function(c,d){const y=Ar(c),m=Ar(d);return y.compareTo(m)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),m=d.split("/");for(let _=0;_<y.length&&_<m.length;_++){const A=Ke(y[_],m[_]);if(A!==0)return A}return Ke(y.length,m.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=Ke(qt(c.latitude),qt(d.latitude));return y!==0?y:Ke(qt(c.longitude),qt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return M0(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},m=d.fields||{},_=y[sh]?.arrayValue,A=m[sh]?.arrayValue,w=Ke(_?.values?.length||0,A?.values?.length||0);return w!==0?w:M0(_,A)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Mc.mapValue&&d===Mc.mapValue)return 0;if(c===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const y=c.fields||{},m=Object.keys(y),_=d.fields||{},A=Object.keys(_);m.sort(),A.sort();for(let w=0;w<m.length&&w<A.length;++w){const M=lm(m[w],A[w]);if(M!==0)return M;const G=mo(y[m[w]],_[A[w]]);if(G!==0)return G}return Ke(m.length,A.length)})(s.mapValue,e.mapValue);default:throw Ae(23264,{he:i})}}function O0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ke(s,e);const i=br(s),a=br(e),l=Ke(i.seconds,a.seconds);return l!==0?l:Ke(i.nanos,a.nanos)}function M0(s,e){const i=s.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=mo(i[l],a[l]);if(c)return c}return Ke(i.length,a.length)}function po(s){return um(s)}function um(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=br(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ar(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return Ee.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=um(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${um(i.fields[d])}`;return l+"}"})(s.mapValue):Ae(61005,{value:s})}function Hc(s){switch(Sr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(s);return e?16+Hc(e):16;case 5:return 2*s.stringValue.length;case 6:return Ar(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Hc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return xr(a.fields,((c,d)=>{l+=c.length+Hc(d)})),l})(s.mapValue);default:throw Ae(13486,{value:s})}}function cm(s){return!!s&&"integerValue"in s}function qm(s){return!!s&&"arrayValue"in s}function V0(s){return!!s&&"nullValue"in s}function k0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function qc(s){return!!s&&"mapValue"in s}function Z2(s){return(s?.mapValue?.fields||{})[ME]?.stringValue===VE}function kl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return xr(s.mapValue.fields,((i,a)=>e.mapValue.fields[i]=kl(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=kl(s.arrayValue.values[i]);return e}return{...s}}function J2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===$2}class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!qc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(i)}setAll(e){let i=gn.emptyPath(),a={},l=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const m=this.getFieldsMap(i);this.applyChanges(m,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=kl(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Zi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];qc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){xr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Ln(kl(this.value))}}function kE(s){const e=[];return xr(s.fields,((i,a)=>{const l=new gn([i]);if(qc(a)){const c=kE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Kn(e)}class Tn{constructor(e,i,a,l,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new Tn(e,0,Ie.min(),Ie.min(),Ie.min(),Ln.empty(),0)}static newFoundDocument(e,i,a,l){return new Tn(e,1,i,Ie.min(),a,l,0)}static newNoDocument(e,i){return new Tn(e,2,i,Ie.min(),Ie.min(),Ln.empty(),0)}static newUnknownDocument(e,i){return new Tn(e,3,i,Ie.min(),Ie.min(),Ln.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rh{constructor(e,i){this.position=e,this.inclusive=i}}function L0(s,e,i){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=Ee.comparator(Ee.fromName(d.referenceValue),i.key):a=mo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function U0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Zi(s.position[i],e.position[i]))return!1;return!0}class ah{constructor(e,i="asc"){this.field=e,this.dir=i}}function W2(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class LE{}class nn extends LE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new tR(e,i,a):i==="array-contains"?new sR(e,a):i==="in"?new rR(e,a):i==="not-in"?new aR(e,a):i==="array-contains-any"?new oR(e,a):new nn(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new nR(e,a):new iR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(mo(i,this.value)):i!==null&&Sr(this.value)===Sr(i)&&this.matchesComparison(mo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ji extends LE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Ji(e,i)}matches(e){return UE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UE(s){return s.op==="and"}function PE(s){return eR(s)&&UE(s)}function eR(s){for(const e of s.filters)if(e instanceof Ji)return!1;return!0}function hm(s){if(s instanceof nn)return s.field.canonicalString()+s.op.toString()+po(s.value);if(PE(s))return s.filters.map((e=>hm(e))).join(",");{const e=s.filters.map((i=>hm(i))).join(",");return`${s.op}(${e})`}}function jE(s,e){return s instanceof nn?(function(a,l){return l instanceof nn&&a.op===l.op&&a.field.isEqual(l.field)&&Zi(a.value,l.value)})(s,e):s instanceof Ji?(function(a,l){return l instanceof Ji&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,y)=>c&&jE(d,l.filters[y])),!0):!1})(s,e):void Ae(19439)}function zE(s){return s instanceof nn?(function(i){return`${i.field.canonicalString()} ${i.op} ${po(i.value)}`})(s):s instanceof Ji?(function(i){return i.op.toString()+" {"+i.getFilters().map(zE).join(" ,")+"}"})(s):"Filter"}class tR extends nn{constructor(e,i,a){super(e,i,a),this.key=Ee.fromName(a.referenceValue)}matches(e){const i=Ee.comparator(e.key,this.key);return this.matchesComparison(i)}}class nR extends nn{constructor(e,i){super(e,"in",i),this.keys=BE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class iR extends nn{constructor(e,i){super(e,"not-in",i),this.keys=BE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function BE(s,e){return(e.arrayValue?.values||[]).map((i=>Ee.fromName(i.referenceValue)))}class sR extends nn{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return qm(i)&&Fl(i.arrayValue,this.value)}}class rR extends nn{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Fl(this.value.arrayValue,i)}}class aR extends nn{constructor(e,i){super(e,"not-in",i)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Fl(this.value.arrayValue,i)}}class oR extends nn{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!qm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Fl(this.value.arrayValue,a)))}}class lR{constructor(e,i=null,a=[],l=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function P0(s,e=null,i=[],a=[],l=null,c=null,d=null){return new lR(s,e,i,a,l,c,d)}function Gm(s){const e=Ne(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>hm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),_h(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>po(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>po(a))).join(",")),e.Te=i}return e.Te}function Fm(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!W2(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!jE(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!U0(s.startAt,e.startAt)&&U0(s.endAt,e.endAt)}function fm(s){return Ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Eh{constructor(e,i=null,a=[],l=[],c=null,d="F",y=null,m=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function uR(s,e,i,a,l,c,d,y){return new Eh(s,e,i,a,l,c,d,y)}function Th(s){return new Eh(s)}function j0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function cR(s){return s.collectionGroup!==null}function Ll(s){const e=Ne(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new sn(gn.comparator);return d.filters.forEach((m=>{m.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ah(c,a))})),i.has(gn.keyField().canonicalString())||e.Ie.push(new ah(gn.keyField(),a))}return e.Ie}function Ki(s){const e=Ne(s);return e.Ee||(e.Ee=hR(e,Ll(s))),e.Ee}function hR(s,e){if(s.limitType==="F")return P0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ah(l.field,c)}));const i=s.endAt?new rh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new rh(s.startAt.position,s.startAt.inclusive):null;return P0(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function dm(s,e,i){return new Eh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function bh(s,e){return Fm(Ki(s),Ki(e))&&s.limitType===e.limitType}function HE(s){return`${Gm(Ki(s))}|lt:${s.limitType}`}function to(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>zE(l))).join(", ")}]`),_h(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>po(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>po(l))).join(",")),`Target(${a})`})(Ki(s))}; limitType=${s.limitType})`}function Ah(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Ee.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of Ll(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,y,m){const _=L0(d,y,m);return d.inclusive?_<=0:_<0})(a.startAt,Ll(a),l)||a.endAt&&!(function(d,y,m){const _=L0(d,y,m);return d.inclusive?_>=0:_>0})(a.endAt,Ll(a),l))})(s,e)}function fR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function qE(s){return(e,i)=>{let a=!1;for(const l of Ll(s)){const c=dR(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function dR(s,e,i){const a=s.field.isKeyField()?Ee.comparator(e.key,i.key):(function(c,d,y){const m=d.data.field(c),_=y.data.field(c);return m!==null&&_!==null?mo(m,_):Ae(42886)})(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Ae(19790,{direction:s.dir})}}class ha{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){xr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return xE(this.inner)}size(){return this.innerSize}}const mR=new Mt(Ee.comparator);function xs(){return mR}const GE=new Mt(Ee.comparator);function Nl(...s){let e=GE;for(const i of s)e=e.insert(i.key,i);return e}function FE(s){let e=GE;return s.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function sa(){return Ul()}function QE(){return Ul()}function Ul(){return new ha((s=>s.toString()),((s,e)=>s.isEqual(e)))}const pR=new Mt(Ee.comparator),gR=new sn(Ee.comparator);function Ye(...s){let e=gR;for(const i of s)e=e.add(i);return e}const yR=new sn(Ke);function _R(){return yR}function Qm(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function KE(s){return{integerValue:""+s}}function vR(s,e){return F2(e)?KE(e):Qm(s,e)}class Sh{constructor(){this._=void 0}}function ER(s,e,i){return s instanceof oh?(function(l,c){const d={fields:{[NE]:{stringValue:CE},[OE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Hm(c)&&(c=vh(c)),c&&(d.fields[DE]=c),{mapValue:d}})(i,e):s instanceof go?XE(s,e):s instanceof Ql?$E(s,e):(function(l,c){const d=YE(l,c),y=z0(d)+z0(l.Ae);return cm(d)&&cm(l.Ae)?KE(y):Qm(l.serializer,y)})(s,e)}function TR(s,e,i){return s instanceof go?XE(s,e):s instanceof Ql?$E(s,e):i}function YE(s,e){return s instanceof lh?(function(a){return cm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class oh extends Sh{}class go extends Sh{constructor(e){super(),this.elements=e}}function XE(s,e){const i=ZE(e);for(const a of s.elements)i.some((l=>Zi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ql extends Sh{constructor(e){super(),this.elements=e}}function $E(s,e){let i=ZE(e);for(const a of s.elements)i=i.filter((l=>!Zi(l,a)));return{arrayValue:{values:i}}}class lh extends Sh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function z0(s){return qt(s.integerValue||s.doubleValue)}function ZE(s){return qm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class bR{constructor(e,i){this.field=e,this.transform=i}}function AR(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof go&&l instanceof go||a instanceof Ql&&l instanceof Ql?fo(a.elements,l.elements,Zi):a instanceof lh&&l instanceof lh?Zi(a.Ae,l.Ae):a instanceof oh&&l instanceof oh})(s.transform,e.transform)}class SR{constructor(e,i){this.version=e,this.transformResults=i}}class Ti{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gc(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class wh{}function JE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Km(s.key,Ti.none()):new nu(s.key,s.data,Ti.none());{const i=s.data,a=Ln.empty();let l=new sn(gn.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Ir(s.key,a,new Kn(l.toArray()),Ti.none())}}function wR(s,e,i){s instanceof nu?(function(l,c,d){const y=l.value.clone(),m=H0(l.fieldTransforms,c,d.transformResults);y.setAll(m),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,e,i):s instanceof Ir?(function(l,c,d){if(!Gc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=H0(l.fieldTransforms,c,d.transformResults),m=c.data;m.setAll(WE(l)),m.setAll(y),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(s,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Pl(s,e,i,a){return s instanceof nu?(function(c,d,y,m){if(!Gc(c.precondition,d))return y;const _=c.value.clone(),A=q0(c.fieldTransforms,m,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,a):s instanceof Ir?(function(c,d,y,m){if(!Gc(c.precondition,d))return y;const _=q0(c.fieldTransforms,m,d),A=d.data;return A.setAll(WE(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,i,a):(function(c,d,y){return Gc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(s,e,i)}function RR(s,e){let i=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=YE(a.transform,l||null);c!=null&&(i===null&&(i=Ln.empty()),i.set(a.field,c))}return i||null}function B0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&fo(a,l,((c,d)=>AR(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class nu extends wh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ir extends wh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function WE(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}})),e}function H0(s,e,i){const a=new Map;ct(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,y=e.data.field(c.field);a.set(c.field,TR(d,y,i[l]))}return a}function q0(s,e,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,ER(c,d,e))}return a}class Km extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xR extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&wR(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Pl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Pl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=QE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const m=JE(d,y);m!==null&&a.set(l.key,m),d.isValidDocument()||d.convertToNoDocument(Ie.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,((i,a)=>B0(i,a)))&&fo(this.baseMutations,e.baseMutations,((i,a)=>B0(i,a)))}}class Ym{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){ct(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return pR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Ym(e,i,a,l)}}class CR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class NR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Jt,We;function DR(s){switch(s){case J.OK:return Ae(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ae(15467,{code:s})}}function eT(s){if(s===void 0)return Rs("GRPC error has no .code"),J.UNKNOWN;switch(s){case Jt.OK:return J.OK;case Jt.CANCELLED:return J.CANCELLED;case Jt.UNKNOWN:return J.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return J.INTERNAL;case Jt.UNAVAILABLE:return J.UNAVAILABLE;case Jt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Jt.NOT_FOUND:return J.NOT_FOUND;case Jt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Jt.ABORTED:return J.ABORTED;case Jt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Jt.DATA_LOSS:return J.DATA_LOSS;default:return Ae(39323,{code:s})}}(We=Jt||(Jt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";function OR(){return new TextEncoder}const MR=new _r([4294967295,4294967295],0);function G0(s){const e=OR().encode(s),i=new yE;return i.update(e),new Uint8Array(i.digest())}function F0(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new _r([i,a],0),new _r([l,c],0)]}class Xm{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Dl(`Invalid padding: ${i}`);if(a<0)throw new Dl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=_r.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(_r.fromNumber(a)));return l.compare(MR)===1&&(l=new _r([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=G0(e),[a,l]=F0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Xm(c,l,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=G0(e),[a,l]=F0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Rh(Ie.min(),l,new Mt(Ke),xs(),Ye())}}class iu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new iu(a,i,Ye(),Ye(),Ye())}}class Fc{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class tT{constructor(e,i){this.targetId=e,this.Ce=i}}class nT{constructor(e,i,a=yn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Q0{constructor(){this.ve=0,this.Fe=K0(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),i=Ye(),a=Ye();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Ae(38017,{changeType:c})}})),new iu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=K0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VR{constructor(e){this.Ge=e,this.ze=new Map,this.je=xs(),this.Je=Vc(),this.He=Vc(),this.Ye=new Mt(Ke)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(fm(c))if(a===0){const d=new Ee(c.path);this.et(i,d,Tn.newNoDocument(d,Ie.min()))}else ct(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),m=y?this.ct(y,e,d):1;if(m!==0){this.it(i);const _=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=Ar(a).toUint8Array()}catch(m){if(m instanceof IE)return ho("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{y=new Xm(d,l,c)}catch(m){return ho(m instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&fm(y.target)){const m=new Ee(y.target.path);this.It(m).has(d)||this.Et(d,m)||this.et(d,m,Tn.newNoDocument(m,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ye();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((m=>{const _=this.ot(m);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Rh(e,i,this.Ye,this.je,a);return this.je=xs(),this.Je=Vc(),this.He=Vc(),this.Ye=new Mt(Ke),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new Q0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new sn(Ke),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new sn(Ke),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||he("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Q0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Vc(){return new Mt(Ee.comparator)}function K0(){return new Mt(Ee.comparator)}const kR={asc:"ASCENDING",desc:"DESCENDING"},LR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UR={and:"AND",or:"OR"};class PR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function mm(s,e){return s.useProto3Json||_h(e)?e:{value:e}}function uh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iT(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function jR(s,e){return uh(s,e.toTimestamp())}function Yi(s){return ct(!!s,49232),Ie.fromTimestamp((function(i){const a=br(i);return new xt(a.seconds,a.nanos)})(s))}function $m(s,e){return pm(s,e).canonicalString()}function pm(s,e){const i=(function(l){return new Ot(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?i:i.child(e)}function sT(s){const e=Ot.fromString(s);return ct(uT(e),10190,{key:e.toString()}),e}function gm(s,e){return $m(s.databaseId,e.path)}function Qd(s,e){const i=sT(e);if(i.get(1)!==s.databaseId.projectId)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new Ee(aT(i))}function rT(s,e){return $m(s.databaseId,e)}function zR(s){const e=sT(s);return e.length===4?Ot.emptyPath():aT(e)}function ym(s){return new Ot(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function aT(s){return ct(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Y0(s,e,i){return{name:gm(s,e),fields:i.value.mapValue.fields}}function BR(s,e){let i;if("targetChange"in e){e.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ae(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(ct(A===void 0||typeof A=="string",58123),yn.fromBase64String(A||"")):(ct(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),yn.fromUint8Array(A||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?J.UNKNOWN:eT(_.code);return new pe(A,_.message||"")})(d);i=new nT(a,l,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Qd(s,a.document.name),c=Yi(a.document.updateTime),d=a.document.createTime?Yi(a.document.createTime):Ie.min(),y=new Ln({mapValue:{fields:a.document.fields}}),m=Tn.newFoundDocument(l,c,d,y),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Fc(_,A,m.key,m)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Qd(s,a.document),c=a.readTime?Yi(a.readTime):Ie.min(),d=Tn.newNoDocument(l,c),y=a.removedTargetIds||[];i=new Fc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Qd(s,a.document),c=a.removedTargetIds||[];i=new Fc([],c,l,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new NR(l,c),y=a.targetId;i=new tT(y,d)}}return i}function HR(s,e){let i;if(e instanceof nu)i={update:Y0(s,e.key,e.value)};else if(e instanceof Km)i={delete:gm(s,e.key)};else if(e instanceof Ir)i={update:Y0(s,e.key,e.data),updateMask:ZR(e.fieldMask)};else{if(!(e instanceof xR))return Ae(16599,{Vt:e.type});i={verify:gm(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof oh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof go)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof lh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Ae(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:jR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Ae(27497)})(s,e.precondition)),i}function qR(s,e){return s&&s.length>0?(ct(e!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Yi(l.updateTime):Yi(c);return d.isEqual(Ie.min())&&(d=Yi(c)),new SR(d,l.transformResults||[])})(i,e)))):[]}function GR(s,e){return{documents:[rT(s,e.path)]}}function FR(s,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=rT(s,l);const c=(function(_){if(_.length!==0)return lT(Ji.create(_,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(M){return{field:no(M.field),direction:YR(M.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=mm(s,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:l}}function QR(s){let e=zR(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){ct(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:e=e.child(A.collectionId)}let c=[];i.where&&(c=(function(w){const M=oT(w);return M instanceof Ji&&PE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(ee){return new ah(io(ee.field),(function(ne){switch(ne){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(w){let M;return M=typeof w=="object"?w.value:w,_h(M)?null:M})(i.limit));let m=null;i.startAt&&(m=(function(w){const M=!!w.before,G=w.values||[];return new rh(G,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,G=w.values||[];return new rh(G,M)})(i.endAt)),uR(e,l,d,c,y,"F",m,_)}function KR(s,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function oT(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=io(i.unaryFilter.field);return nn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=io(i.unaryFilter.field);return nn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=io(i.unaryFilter.field);return nn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=io(i.unaryFilter.field);return nn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(s):s.fieldFilter!==void 0?(function(i){return nn.create(io(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ji.create(i.compositeFilter.filters.map((a=>oT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(i.compositeFilter.op))})(s):Ae(30097,{filter:s})}function YR(s){return kR[s]}function XR(s){return LR[s]}function $R(s){return UR[s]}function no(s){return{fieldPath:s.canonicalString()}}function io(s){return gn.fromServerFormat(s.fieldPath)}function lT(s){return s instanceof nn?(function(i){if(i.op==="=="){if(k0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NAN"}};if(V0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(k0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NAN"}};if(V0(i.value))return{unaryFilter:{field:no(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(i.field),op:XR(i.op),value:i.value}}})(s):s instanceof Ji?(function(i){const a=i.getFilters().map((l=>lT(l)));return a.length===1?a[0]:{compositeFilter:{op:$R(i.op),filters:a}}})(s):Ae(54877,{filter:s})}function ZR(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function uT(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class mr{constructor(e,i,a,l,c=Ie.min(),d=Ie.min(),y=yn.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=m}withSequenceNumber(e){return new mr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class JR{constructor(e){this.yt=e}}function WR(s){const e=QR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?dm(e,e.limit,"L"):e}class ex{constructor(){this.Cn=new tx}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(Tr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(Tr.min())}updateCollectionGroup(e,i,a){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class tx{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new sn(Ot.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new sn(Ot.comparator)).toArray()}}const X0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cT=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(cT,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);class yo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yo(0)}static cr(){return new yo(-1)}}const $0="LruGarbageCollector",nx=1048576;function Z0([s,e],[i,a]){const l=Ke(s,i);return l===0?Ke(e,a):l}class ix{constructor(e){this.Ir=e,this.buffer=new sn(Z0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Z0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class sx{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he($0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){So(i)?he($0,"Ignoring IndexedDB error during garbage collection: ",i):await Ao(i)}await this.Vr(3e5)}))}}class rx{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(yh.ce);const a=new ix(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(X0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,y,m,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(a=w,y=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,m=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(_=Date.now(),eo()<=Qe.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(m-y)+`ms
	Removed ${w} documents in `+(_-m)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function ax(s,e){return new rx(s,e)}class ox{constructor(){this.changes=new ha((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class ux{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&Pl(a.mutation,l,Kn.empty(),xt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Ye()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Ye()){const l=sa();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Nl();return c.forEach(((y,m)=>{d=d.insert(y,m.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=sa();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Ye())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,l){let c=xs();const d=Ul(),y=(function(){return Ul()})();return i.forEach(((m,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof Ir)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Pl(A.mutation,_,A.mutation.getFieldMask(),xt.now())):d.set(_.key,Kn.empty())})),this.recalculateAndSaveOverlays(e,c).next((m=>(m.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new lx(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Ul();let l=new Mt(((d,y)=>d-y)),c=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((m=>{const _=i.get(m);if(_===null)return;let A=a.get(m)||Kn.empty();A=y.applyToLocalView(_,A),a.set(m,A);const w=(l.get(y.batchId)||Ye()).add(m);l=l.insert(y.batchId,w)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const m=y.getNext(),_=m.key,A=m.value,w=QE();A.forEach((M=>{if(!c.has(M)){const G=JE(i.get(M),a.get(M));G!==null&&w.set(M,G),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return Ee.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):cR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):Z.resolve(sa());let y=Hl,m=c;return d.next((_=>Z.forEach(_,((A,w)=>(y<w.largestBatchId&&(y=w.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(e,A).next((M=>{m=m.insert(A,M)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,m,_,Ye()))).next((A=>({batchId:y,changes:FE(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Ee(i)).next((a=>{let l=Nl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Nl();return this.indexManager.getCollectionParents(e,c).next((y=>Z.forEach(y,(m=>{const _=(function(w,M){return new Eh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,m.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,a,l).next((A=>{A.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((m,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Tn.newInvalidDocument(A)))}));let y=Nl();return d.forEach(((m,_)=>{const A=c.get(m);A!==void 0&&Pl(A.mutation,_,Kn.empty(),xt.now()),Ah(i,_)&&(y=y.insert(m,_))})),y}))}}class cx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Yi(l.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:WR(l.bundledQuery),readTime:Yi(l.readTime)}})(i)),Z.resolve()}}class hx{constructor(){this.overlays=new Mt(Ee.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const a=sa();return Z.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),Z.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(e,i,a){const l=sa(),c=i.length+1,d=new Ee(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const m=y.getNext().value,_=m.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&m.largestBatchId>a&&l.set(m.getKey(),m)}return Z.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new Mt(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=sa(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=sa(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=l)););return Z.resolve(y)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new CR(i,a));let c=this.qr.get(i);c===void 0&&(c=Ye(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class fx{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}class Zm{constructor(){this.Qr=new sn(un.$r),this.Ur=new sn(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new un(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new un(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new Ee(new Ot([])),a=new un(i,e),l=new un(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Ee(new Ot([])),a=new un(i,e),l=new un(i,e+1);let c=Ye();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new un(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class un{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Ee.comparator(e.key,i.key)||Ke(e.Yr,i.Yr)}static Kr(e,i){return Ke(e.Yr,i.Yr)||Ee.comparator(e.key,i.key)}}class dx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new sn(un.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new IR(c,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Zr=this.Zr.add(new un(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Bm:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new un(i,0),l=new un(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const y=this.Xr(d.Yr);c.push(y)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new sn(Ke);return i.forEach((l=>{const c=new un(l,0),d=new un(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{a=a.add(y.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;Ee.isDocumentKey(c)||(c=c.child(""));const d=new un(new Ee(c),0);let y=new sn(Ke);return this.Zr.forEachWhile((m=>{const _=m.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(y=y.add(m.Yr)),!0)}),d),Z.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){ct(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new un(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new un(i,0),l=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class mx{constructor(e){this.ri=e,this.docs=(function(){return new Mt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():Tn.newInvalidDocument(i))}getEntries(e,i){let a=xs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Tn.newInvalidDocument(l))})),Z.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=xs();const d=i.path,y=new Ee(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(y);for(;m.hasNext();){const{key:_,value:{document:A}}=m.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||B2(z2(A),a)<=0||(l.has(A.key)||Ah(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,a,l){Ae(9500)}ii(e,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new px(this)}getSize(e){return Z.resolve(this.size)}}class px extends ox{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class gx{constructor(e){this.persistence=e,this.si=new ha((i=>Gm(i)),Fm),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=yo.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new yo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}class hT{constructor(e,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new fx,this.referenceDelegate=e(this),this.Pi=new gx(this),this.indexManager=new ex,this.remoteDocumentCache=(function(l){return new mx(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new JR(i),this.Ii=new cx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new hx,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new dx(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){he("MemoryPersistence","Starting transaction:",e);const l=new yx(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class yx extends q2{constructor(e){super(),this.currentSequenceNumber=e}}class Jm{constructor(e){this.persistence=e,this.Ri=new Zm,this.Vi=null}static mi(e){return new Jm(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const l=Ee.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Ie.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ch{constructor(e,i){this.persistence=e,this.pi=new ha((a=>Q2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=ax(this,i)}static mi(e,i){return new ch(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((y=>{y||(a++,c.removeEntry(d,Ie.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Hc(e.data.value)),i}br(e,i,a){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Wm{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Ye(),l=Ye();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Wm(e,i.fromCache,a,l)}}class _x{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class vx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rA()?8:G2(bn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new _x;return this.Ss(e,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?(eo()<=Qe.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",to(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(eo()<=Qe.DEBUG&&he("QueryEngine","Query:",to(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(eo()<=Qe.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",to(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(i))):Z.resolve())}ys(e,i){if(j0(i))return Z.resolve(null);let a=Ki(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=dm(i,null,"F"),a=Ki(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Ye(...c);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((m=>{const _=this.Ds(i,y);return this.Cs(i,_,d,m.readTime)?this.ys(e,dm(i,null,"F")):this.vs(e,_,i,m)}))))})))))}ws(e,i,a,l){return j0(i)||l.isEqual(Ie.min())?Z.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?Z.resolve(null):(eo()<=Qe.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),to(i)),this.vs(e,d,i,j2(l,Hl)).next((y=>y)))}))}Ds(e,i){let a=new sn(qE(e));return i.forEach(((l,c)=>{Ah(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return eo()<=Qe.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",to(i)),this.ps.getDocumentsMatchingQuery(e,i,Tr.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ep="LocalStore",Ex=3e8;class Tx{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Mt(Ke),this.xs=new ha((c=>Gm(c)),Fm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ux(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function bx(s,e,i,a){return new Tx(s,e,i,a)}async function fT(s,e){const i=Ne(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let m=Ye();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)m=m.add(A.key)}for(const _ of c){y.push(_.batchId);for(const A of _.mutations)m=m.add(A.key)}return i.localDocuments.getDocuments(a,m).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function Ax(s,e){const i=Ne(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,m,_,A){const w=_.batch,M=w.keys();let G=Z.resolve();return M.forEach((ee=>{G=G.next((()=>A.getEntry(m,ee))).next((le=>{const ne=_.docVersions.get(ee);ct(ne!==null,48541),le.version.compareTo(ne)<0&&(w.applyToRemoteDocument(le,_),le.isValidDocument()&&(le.setReadTime(_.commitVersion),A.addEntry(le)))}))})),G.next((()=>y.mutationQueue.removeMutationBatch(m,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let m=Ye();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(m=m.add(y.batch.mutations[_].key));return m})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function dT(s){const e=Ne(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Sx(s,e){const i=Ne(s),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const y=[];e.targetChanges.forEach(((A,w)=>{const M=l.get(w);if(!M)return;y.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,w))));let G=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?G=G.withResumeToken(yn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),l=l.insert(w,G),(function(le,ne,_e){return le.resumeToken.approximateByteSize()===0||ne.snapshotVersion.toMicroseconds()-le.snapshotVersion.toMicroseconds()>=Ex?!0:_e.addedDocuments.size+_e.modifiedDocuments.size+_e.removedDocuments.size>0})(M,G,A)&&y.push(i.Pi.updateTargetData(c,G))}));let m=xs(),_=Ye();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),y.push(wx(c,d,e.documentUpdates).next((A=>{m=A.ks,_=A.qs}))),!a.isEqual(Ie.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(A)}return Z.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,m,_))).next((()=>m))})).then((c=>(i.Ms=l,c)))}function wx(s,e,i){let a=Ye(),l=Ye();return i.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=xs();return i.forEach(((y,m)=>{const _=c.get(y);m.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(y)),m.isNoDocument()&&m.version.isEqual(Ie.min())?(e.removeEntry(y,m.readTime),d=d.insert(y,m)):!_.isValidDocument()||m.version.compareTo(_.version)>0||m.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(m),d=d.insert(y,m)):he(ep,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",m.version)})),{ks:d,qs:l}}))}function Rx(s,e){const i=Ne(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Bm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function xx(s,e){const i=Ne(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new mr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function _m(s,e,i){const a=Ne(s),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!So(d))throw d;he(ep,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function J0(s,e,i){const a=Ne(s);let l=Ie.min(),c=Ye();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(m,_,A){const w=Ne(m),M=w.xs.get(A);return M!==void 0?Z.resolve(w.Ms.get(M)):w.Pi.getTargetData(_,A)})(a,d,Ki(e)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((m=>{c=m}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:Ie.min(),i?c:Ye()))).next((y=>(Ix(a,fR(e),y),{documents:y,Qs:c})))))}function Ix(s,e,i){let a=s.Os.get(e)||Ie.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class W0{constructor(){this.activeTargetIds=_R()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cx{constructor(){this.Mo=new W0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new W0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Nx{Oo(e){}shutdown(){}}const ev="ConnectivityMonitor";class tv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(ev,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(ev,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function vm(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const Kd="RestConnection",Dx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ox{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===ih?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=vm(),y=this.zo(e,i.toUriEncodedString());he(Kd,`Sending RPC '${e}' ${d}:`,y,a);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,l,c);const{host:_}=new URL(y),A=vo(_);return this.Jo(e,y,m,a,A).then((w=>(he(Kd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw ho(Kd,`RPC '${e}' ${d} failed with error: `,w,"url: ",y,"request:",a),w}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=Dx[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class Mx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const vn="WebChannelConnection";class Vx extends Ox{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=vm();return new Promise(((y,m)=>{const _=new _E;_.setWithCredentials(!0),_.listenOnce(vE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Bc.NO_ERROR:const w=_.getResponseJson();he(vn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),y(w);break;case Bc.TIMEOUT:he(vn,`RPC '${e}' ${d} timed out`),m(new pe(J.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const M=_.getStatus();if(he(vn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const ee=G?.error;if(ee&&ee.status&&ee.message){const le=(function(_e){const xe=_e.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(xe)>=0?xe:J.UNKNOWN})(ee.status);m(new pe(le,ee.message))}else m(new pe(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else m(new pe(J.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{he(vn,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(l);he(vn,`RPC '${e}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(e,i,a){const l=vm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=bE(),y=TE(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(m.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,i,a),m.encodeInitMessageHeaders=!0;const A=c.join("");he(vn,`Creating RPC '${e}' stream ${l}: ${A}`,m);const w=d.createWebChannel(A,m);this.I_(w);let M=!1,G=!1;const ee=new Mx({Yo:ne=>{G?he(vn,`Not sending because RPC '${e}' stream ${l} is closed:`,ne):(M||(he(vn,`Opening RPC '${e}' stream ${l} transport.`),w.open(),M=!0),he(vn,`RPC '${e}' stream ${l} sending:`,ne),w.send(ne))},Zo:()=>w.close()}),le=(ne,_e,xe)=>{ne.listen(_e,(ve=>{try{xe(ve)}catch(et){setTimeout((()=>{throw et}),0)}}))};return le(w,Cl.EventType.OPEN,(()=>{G||(he(vn,`RPC '${e}' stream ${l} transport opened.`),ee.o_())})),le(w,Cl.EventType.CLOSE,(()=>{G||(G=!0,he(vn,`RPC '${e}' stream ${l} transport closed`),ee.a_(),this.E_(w))})),le(w,Cl.EventType.ERROR,(ne=>{G||(G=!0,ho(vn,`RPC '${e}' stream ${l} transport errored. Name:`,ne.name,"Message:",ne.message),ee.a_(new pe(J.UNAVAILABLE,"The operation could not be completed")))})),le(w,Cl.EventType.MESSAGE,(ne=>{if(!G){const _e=ne.data[0];ct(!!_e,16349);const xe=_e,ve=xe?.error||xe[0]?.error;if(ve){he(vn,`RPC '${e}' stream ${l} received error:`,ve);const et=ve.status;let mt=(function(S){const I=Jt[S];if(I!==void 0)return eT(I)})(et),Xe=ve.message;mt===void 0&&(mt=J.INTERNAL,Xe="Unknown error status: "+et+" with message "+ve.message),G=!0,ee.a_(new pe(mt,Xe)),w.close()}else he(vn,`RPC '${e}' stream ${l} received:`,_e),ee.u_(_e)}})),le(y,EE.STAT_EVENT,(ne=>{ne.stat===om.PROXY?he(vn,`RPC '${e}' stream ${l} detected buffering proxy`):ne.stat===om.NOPROXY&&he(vn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{ee.__()}),0),ee}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Yd(){return typeof document<"u"?document:null}function xh(s){return new PR(s,!0)}class mT{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&he("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nv="PersistentStream";class pT{constructor(e,i,a,l,c,d,y,m){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Rs(i.toString()),Rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new pe(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(nv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(he(nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kx extends pT{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=BR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ie.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ie.min():d.readTime?Yi(d.readTime):Ie.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=ym(this.serializer),i.addTarget=(function(c,d){let y;const m=d.target;if(y=fm(m)?{documents:GR(c,m)}:{query:FR(c,m).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=iT(c,d.resumeToken);const _=mm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ie.min())>0){y.readTime=uh(c,d.snapshotVersion.toTimestamp());const _=mm(c,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const a=KR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=ym(this.serializer),i.removeTarget=e,this.q_(i)}}class Lx extends pT{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=qR(e.writeResults,e.commitTime),a=Yi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=ym(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>HR(this.serializer,a)))};this.q_(i)}}class Ux{}class Px extends Ux{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,pm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(J.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,pm(i,a),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new pe(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class jx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rs(i),this.aa=!1):he("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class zx{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{fa(this)&&(he(ua,"Restarting streams for network reachability change."),await(async function(m){const _=Ne(m);_.Ea.add(4),await su(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ih(_)})(this))}))})),this.Ra=new jx(a,l)}}async function Ih(s){if(fa(s))for(const e of s.da)await e(!0)}async function su(s){for(const e of s.da)await e(!1)}function gT(s,e){const i=Ne(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),sp(i)?ip(i):wo(i).O_()&&np(i,e))}function tp(s,e){const i=Ne(s),a=wo(i);i.Ia.delete(e),a.O_()&&yT(i,e),i.Ia.size===0&&(a.O_()?a.L_():fa(i)&&i.Ra.set("Unknown"))}function np(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}wo(s).Y_(e)}function yT(s,e){s.Va.Ue(e),wo(s).Z_(e)}function ip(s){s.Va=new VR({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),wo(s).start(),s.Ra.ua()}function sp(s){return fa(s)&&!wo(s).x_()&&s.Ia.size>0}function fa(s){return Ne(s).Ea.size===0}function _T(s){s.Va=void 0}async function Bx(s){s.Ra.set("Online")}async function Hx(s){s.Ia.forEach(((e,i)=>{np(s,e)}))}async function qx(s,e){_T(s),sp(s)?(s.Ra.ha(e),ip(s)):s.Ra.set("Unknown")}async function Gx(s,e,i){if(s.Ra.set("Online"),e instanceof nT&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.Va.removeTarget(y))})(s,e)}catch(a){he(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await hh(s,a)}else if(e instanceof Fc?s.Va.Ze(e):e instanceof tT?s.Va.st(e):s.Va.tt(e),!i.isEqual(Ie.min()))try{const a=await dT(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((m,_)=>{if(m.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(m.resumeToken,d))}})),y.targetMismatches.forEach(((m,_)=>{const A=c.Ia.get(m);if(!A)return;c.Ia.set(m,A.withResumeToken(yn.EMPTY_BYTE_STRING,A.snapshotVersion)),yT(c,m);const w=new mr(A.target,m,_,A.sequenceNumber);np(c,w)})),c.remoteSyncer.applyRemoteEvent(y)})(s,i)}catch(a){he(ua,"Failed to raise snapshot:",a),await hh(s,a)}}async function hh(s,e,i){if(!So(e))throw e;s.Ea.add(1),await su(s),s.Ra.set("Offline"),i||(i=()=>dT(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{he(ua,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ih(s)}))}function vT(s,e){return e().catch((i=>hh(s,i,e)))}async function Ch(s){const e=Ne(s),i=wr(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bm;for(;Fx(e);)try{const l=await Rx(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,Qx(e,l)}catch(l){await hh(e,l)}ET(e)&&TT(e)}function Fx(s){return fa(s)&&s.Ta.length<10}function Qx(s,e){s.Ta.push(e);const i=wr(s);i.O_()&&i.X_&&i.ea(e.mutations)}function ET(s){return fa(s)&&!wr(s).x_()&&s.Ta.length>0}function TT(s){wr(s).start()}async function Kx(s){wr(s).ra()}async function Yx(s){const e=wr(s);for(const i of s.Ta)e.ea(i.mutations)}async function Xx(s,e,i){const a=s.Ta.shift(),l=Ym.from(a,e,i);await vT(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Ch(s)}async function $x(s,e){e&&wr(s).X_&&await(async function(a,l){if((function(d){return DR(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();wr(a).B_(),await vT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ch(a)}})(s,e),ET(s)&&TT(s)}async function iv(s,e){const i=Ne(s);i.asyncQueue.verifyOperationInProgress(),he(ua,"RemoteStore received new credentials");const a=fa(i);i.Ea.add(3),await su(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ih(i)}async function Zx(s,e){const i=Ne(s);e?(i.Ea.delete(2),await Ih(i)):e||(i.Ea.add(2),await su(i),i.Ra.set("Unknown"))}function wo(s){return s.ma||(s.ma=(function(i,a,l){const c=Ne(i);return c.sa(),new kx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:Bx.bind(null,s),t_:Hx.bind(null,s),r_:qx.bind(null,s),H_:Gx.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),sp(s)?ip(s):s.Ra.set("Unknown")):(await s.ma.stop(),_T(s))}))),s.ma}function wr(s){return s.fa||(s.fa=(function(i,a,l){const c=Ne(i);return c.sa(),new Lx(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:Kx.bind(null,s),r_:$x.bind(null,s),ta:Yx.bind(null,s),na:Xx.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Ch(s)):(await s.fa.stop(),s.Ta.length>0&&(he(ua,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class rp{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,y=new rp(e,i,d,l,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ap(s,e){if(Rs("AsyncQueue",`${e}: ${s}`),So(s))return new pe(J.UNAVAILABLE,`${e}: ${s}`);throw s}class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||Ee.comparator(i.key,a.key):(i,a)=>Ee.comparator(i.key,a.key),this.keyedMap=Nl(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new lo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class sv{constructor(){this.ga=new Mt(Ee.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class _o{constructor(e,i,a,l,c,d,y,m,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=m,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new _o(e,i,lo.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class Jx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Wx{constructor(){this.queries=rv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Ne(i),c=l.queries;l.queries=rv(),c.forEach(((d,y)=>{for(const m of y.Sa)m.onError(a)}))})(this,new pe(J.ABORTED,"Firestore shutting down"))}}function rv(){return new ha((s=>HE(s)),bh)}async function bT(s,e){const i=Ne(s);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new Jx,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=ap(d,`Initialization of query '${to(e.query)}' failed`);return void e.onError(y)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&op(i)}async function AT(s,e){const i=Ne(s),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function eI(s,e){const i=Ne(s);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(l)&&(a=!0);d.wa=l}}a&&op(i)}function tI(s,e,i){const a=Ne(s),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function op(s){s.Ca.forEach((e=>{e.next()}))}var Em,av;(av=Em||(Em={})).Ma="default",av.Cache="cache";class ST{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new _o(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Em.Cache}}class wT{constructor(e){this.key=e}}class RT{constructor(e){this.key=e}}class nI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=qE(e),this.tu=new lo(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new sv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const m=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((A,w)=>{const M=l.get(A),G=Ah(this.query,w)?w:null,ee=!!M&&this.mutatedKeys.has(M.key),le=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let ne=!1;M&&G?M.data.isEqual(G.data)?ee!==le&&(a.track({type:3,doc:G}),ne=!0):this.su(M,G)||(a.track({type:2,doc:G}),ne=!0,(m&&this.eu(G,m)>0||_&&this.eu(G,_)<0)&&(y=!0)):!M&&G?(a.track({type:0,doc:G}),ne=!0):M&&!G&&(a.track({type:1,doc:M}),ne=!0,(m||_)&&(y=!0)),ne&&(G?(d=d.add(G),c=le?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,w)=>(function(G,ee){const le=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:ne})}};return le(G)-le(ee)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],m=this.Xa.size===0&&this.current&&!l?1:0,_=m!==this.Za;return this.Za=m,d.length!==0||_?{snapshot:new _o(this.query,e.tu,c,d,e.mutatedKeys,m===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new RT(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new wT(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ye();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lp="SyncEngine";class iI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class sI{constructor(e){this.key=e,this.hu=!1}}class rI{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ha((y=>HE(y)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new Mt(Ee.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=yo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aI(s,e,i=!0){const a=OT(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await xT(a,e,i,!0),l}async function oI(s,e){const i=OT(s);await xT(i,e,!0,!1)}async function xT(s,e,i,a){const l=await xx(s.localStore,Ki(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await lI(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&gT(s.remoteStore,l),y}async function lI(s,e,i,a,l){s.pu=(w,M,G)=>(async function(le,ne,_e,xe){let ve=ne.view.ru(_e);ve.Cs&&(ve=await J0(le.localStore,ne.query,!1).then((({documents:C})=>ne.view.ru(C,ve))));const et=xe&&xe.targetChanges.get(ne.targetId),mt=xe&&xe.targetMismatches.get(ne.targetId)!=null,Xe=ne.view.applyChanges(ve,le.isPrimaryClient,et,mt);return lv(le,ne.targetId,Xe.au),Xe.snapshot})(s,w,M,G);const c=await J0(s.localStore,e,!0),d=new nI(e,c.Qs),y=d.ru(c.documents),m=iu.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(y,s.isPrimaryClient,m);lv(s,i,_.au);const A=new iI(e,i,d);return s.Tu.set(e,A),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function uI(s,e,i){const a=Ne(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!bh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await _m(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&tp(a.remoteStore,l.targetId),Tm(a,l.targetId)})).catch(Ao)):(Tm(a,l.targetId),await _m(a.localStore,l.targetId,!0))}async function cI(s,e){const i=Ne(s),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),tp(i.remoteStore,a.targetId))}async function hI(s,e,i){const a=_I(s);try{const l=await(function(d,y){const m=Ne(d),_=xt.now(),A=y.reduce(((G,ee)=>G.add(ee.key)),Ye());let w,M;return m.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let ee=xs(),le=Ye();return m.Ns.getEntries(G,A).next((ne=>{ee=ne,ee.forEach(((_e,xe)=>{xe.isValidDocument()||(le=le.add(_e))}))})).next((()=>m.localDocuments.getOverlayedDocuments(G,ee))).next((ne=>{w=ne;const _e=[];for(const xe of y){const ve=RR(xe,w.get(xe.key).overlayedDocument);ve!=null&&_e.push(new Ir(xe.key,ve,kE(ve.value.mapValue),Ti.exists(!0)))}return m.mutationQueue.addMutationBatch(G,_,_e,y)})).next((ne=>{M=ne;const _e=ne.applyToLocalDocumentSet(w,le);return m.documentOverlayCache.saveOverlays(G,ne.batchId,_e)}))})).then((()=>({batchId:M.batchId,changes:FE(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,m){let _=d.Vu[d.currentUser.toKey()];_||(_=new Mt(Ke)),_=_.insert(y,m),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await ru(a,l.changes),await Ch(a.remoteStore)}catch(l){const c=ap(l,"Failed to persist write");i.reject(c)}}async function IT(s,e){const i=Ne(s);try{const a=await Sx(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(ct(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?ct(d.hu,14607):l.removedDocuments.size>0&&(ct(d.hu,42227),d.hu=!1))})),await ru(i,a,e)}catch(a){await Ao(a)}}function ov(s,e,i){const a=Ne(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const m=Ne(d);m.onlineState=y;let _=!1;m.queries.forEach(((A,w)=>{for(const M of w.Sa)M.va(y)&&(_=!0)})),_&&op(m)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function fI(s,e,i){const a=Ne(s);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new Mt(Ee.comparator);d=d.insert(c,Tn.newNoDocument(c,Ie.min()));const y=Ye().add(c),m=new Rh(Ie.min(),new Map,new Mt(Ke),d,y);await IT(a,m),a.du=a.du.remove(c),a.Au.delete(e),up(a)}else await _m(a.localStore,e,!1).then((()=>Tm(a,e,i))).catch(Ao)}async function dI(s,e){const i=Ne(s),a=e.batch.batchId;try{const l=await Ax(i.localStore,e);NT(i,a,null),CT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await ru(i,l)}catch(l){await Ao(l)}}async function mI(s,e,i){const a=Ne(s);try{const l=await(function(d,y){const m=Ne(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return m.mutationQueue.lookupMutationBatch(_,y).next((w=>(ct(w!==null,37113),A=w.keys(),m.mutationQueue.removeMutationBatch(_,w)))).next((()=>m.mutationQueue.performConsistencyCheck(_))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>m.localDocuments.getDocuments(_,A)))}))})(a.localStore,e);NT(a,e,i),CT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await ru(a,l)}catch(l){await Ao(l)}}function CT(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function NT(s,e,i){const a=Ne(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function Tm(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||DT(s,a)}))}function DT(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(tp(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),up(s))}function lv(s,e,i){for(const a of i)a instanceof wT?(s.Ru.addReference(a.key,e),pI(s,a)):a instanceof RT?(he(lp,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||DT(s,a.key)):Ae(19791,{wu:a})}function pI(s,e){const i=e.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(he(lp,"New document in limbo: "+i),s.Eu.add(a),up(s))}function up(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new Ee(Ot.fromString(e)),a=s.fu.next();s.Au.set(a,new sI(i)),s.du=s.du.insert(i,a),gT(s.remoteStore,new mr(Ki(Th(i.path)),a,"TargetPurposeLimboResolution",yh.ce))}}async function ru(s,e,i){const a=Ne(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,m)=>{d.push(a.pu(m,e,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(m.targetId)?.current;a.sharedClientState.updateQueryState(m.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Wm.As(m.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(m,_){const A=Ne(m);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Z.forEach(_,(M=>Z.forEach(M.Es,(G=>A.persistence.referenceDelegate.addReference(w,M.targetId,G))).next((()=>Z.forEach(M.ds,(G=>A.persistence.referenceDelegate.removeReference(w,M.targetId,G)))))))))}catch(w){if(!So(w))throw w;he(ep,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const G=A.Ms.get(M),ee=G.snapshotVersion,le=G.withLastLimboFreeSnapshotVersion(ee);A.Ms=A.Ms.insert(M,le)}}})(a.localStore,c))}async function gI(s,e){const i=Ne(s);if(!i.currentUser.isEqual(e)){he(lp,"User change. New user:",e.toKey());const a=await fT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((m=>{m.reject(new pe(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await ru(i,a.Ls)}}function yI(s,e){const i=Ne(s),a=i.Au.get(e);if(a&&a.hu)return Ye().add(a.key);{let l=Ye();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function OT(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=IT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fI.bind(null,e),e.Pu.H_=eI.bind(null,e.eventManager),e.Pu.yu=tI.bind(null,e.eventManager),e}function _I(s){const e=Ne(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mI.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return bx(this.persistence,new vx,e.initialUser,this.serializer)}Cu(e){return new hT(Jm.mi,this.serializer)}Du(e){return new Cx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class vI extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ct(this.persistence.referenceDelegate instanceof ch,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new sx(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new hT((a=>ch.mi(a,i)),this.serializer)}}class bm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ov(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=gI.bind(null,this.syncEngine),await Zx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Wx})()}createDatastore(e){const i=xh(e.databaseInfo.databaseId),a=(function(c){return new Vx(c)})(e.databaseInfo);return(function(c,d,y,m){return new Px(c,d,y,m)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,y){return new zx(a,l,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>ov(this.syncEngine,i,0)),(function(){return tv.v()?new tv:new Nx})())}createSyncEngine(e,i){return(function(l,c,d,y,m,_,A){const w=new rI(l,c,d,y,m,_);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ne(i);he(ua,"RemoteStore shutting down."),a.Ea.add(5),await su(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class MT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Rr="FirestoreClient";class EI{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=En.UNAUTHENTICATED,this.clientId=jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{he(Rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(he(Rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=ap(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Xd(s,e){s.asyncQueue.verifyOperationInProgress(),he(Rr,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await fT(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function uv(s,e){s.asyncQueue.verifyOperationInProgress();const i=await TI(s);he(Rr,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((a=>iv(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>iv(e.remoteStore,l))),s._onlineComponents=e}async function TI(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){he(Rr,"Using user provided OfflineComponentProvider");try{await Xd(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;ho("Error using user provided cache. Falling back to memory cache: "+i),await Xd(s,new fh)}}else he(Rr,"Using default OfflineComponentProvider"),await Xd(s,new vI(void 0));return s._offlineComponents}async function VT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(he(Rr,"Using user provided OnlineComponentProvider"),await uv(s,s._uninitializedComponentsProvider._online)):(he(Rr,"Using default OnlineComponentProvider"),await uv(s,new bm))),s._onlineComponents}function bI(s){return VT(s).then((e=>e.syncEngine))}async function Am(s){const e=await VT(s),i=e.eventManager;return i.onListen=aI.bind(null,e.syncEngine),i.onUnlisten=uI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=oI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=cI.bind(null,e.syncEngine),i}function AI(s,e,i={}){const a=new vr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,m,_){const A=new MT({next:M=>{A.Nu(),d.enqueueAndForget((()=>AT(c,w)));const G=M.docs.has(y);!G&&M.fromCache?_.reject(new pe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&M.fromCache&&m&&m.source==="server"?_.reject(new pe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),w=new ST(Th(y.path),A,{includeMetadataChanges:!0,qa:!0});return bT(c,w)})(await Am(s),s.asyncQueue,e,i,a))),a.promise}function kT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const cv=new Map;const LT="firestore.googleapis.com",hv=!0;class fv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LT,this.ssl=hv}else this.host=e.host,this.ssl=e.ssl??hv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nx)throw new pe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cp{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new x2;switch(a.type){case"firstParty":return new D2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new pe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=cv.get(i);a&&(he("ComponentProvider","Removing Datastore"),cv.delete(i),a.terminate())})(this),Promise.resolve()}}function SI(s,e,i,a={}){s=Ei(s,cp);const l=vo(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},y=`${e}:${i}`;l&&(Ov(`https://${y}`),Mv("Firestore",!0)),c.host!==LT&&c.host!==y&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...c,host:y,ssl:l,emulatorOptions:a};if(!Er(m,d)&&(s._setSettings(m),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=En.MOCK_USER;else{_=$1(a.mockUserToken,s._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new pe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new En(w)}s._authCredentials=new I2(new SE(_,A))}}class Nh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Nh(this.firestore,e,this._query)}}class en{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(tu(i,en._jsonSchema))return new en(e,a||null,new Ee(Ot.fromString(i.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:Wt("string",en._jsonSchemaVersion),referencePath:Wt("string")};class Kl extends Nh{constructor(e,i,a){super(e,i,Th(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new Ee(e))}withConverter(e){return new Kl(this.firestore,e,this._path)}}function Be(s,e,...i){if(s=Rn(s),arguments.length===1&&(e=jm.newId()),U2("doc","path",e),s instanceof cp){const a=Ot.fromString(e,...i);return R0(a),new en(s,null,new Ee(a))}{if(!(s instanceof en||s instanceof Kl))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Ot.fromString(e,...i));return R0(a),new en(s.firestore,s instanceof Kl?s.converter:null,new Ee(a))}}const dv="AsyncQueue";class mv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mT(this,"async_queue_retry"),this._c=()=>{const a=Yd();a&&he(dv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new vr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!So(e))throw e;he(dv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Rs("INTERNAL UNHANDLED ERROR: ",pv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=rp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Ae(47125,{Pc:pv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function pv(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function gv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class ca extends cp{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new mv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mv(e),this._firestoreClient=void 0,await e}}}function wI(s,e){const i=typeof s=="object"?s:Uv(),a=typeof s=="string"?s:ih,l=Cm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Y1("firestore");c&&SI(l,...c)}return l}function hp(s){if(s._terminated)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||RI(s),s._firestoreClient}function RI(s){const e=s._freezeSettings(),i=(function(l,c,d,y){return new X2(l,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,kT(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new EI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class oi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oi(yn.fromBase64String(e))}catch(i){throw new pe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new oi(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:oi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(tu(e,oi._jsonSchema))return oi.fromBase64String(e.bytes)}}oi._jsonSchemaVersion="firestore/bytes/1.0",oi._jsonSchema={type:Wt("string",oi._jsonSchemaVersion),bytes:Wt("string")};class Dh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new pe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oh{constructor(e){this._methodName=e}}class Xi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new pe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new pe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xi._jsonSchemaVersion}}static fromJSON(e){if(tu(e,Xi._jsonSchema))return new Xi(e.latitude,e.longitude)}}Xi._jsonSchemaVersion="firestore/geoPoint/1.0",Xi._jsonSchema={type:Wt("string",Xi._jsonSchemaVersion),latitude:Wt("number"),longitude:Wt("number")};class $i{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:$i._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(tu(e,$i._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new $i(e.vectorValues);throw new pe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}$i._jsonSchemaVersion="firestore/vectorValue/1.0",$i._jsonSchema={type:Wt("string",$i._jsonSchemaVersion),vectorValues:Wt("object")};const xI=/^__.*__$/;class II{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,i,this.fieldTransforms):new nu(e,this.data,i,this.fieldTransforms)}}class UT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Ir(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function PT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:s})}}class Mh{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(PT(this.Ac)&&xI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class CI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||xh(e)}Cc(e,i,a,l=!1){return new Mh({Ac:e,methodName:i,Dc:a,path:gn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jT(s){const e=s._freezeSettings(),i=xh(s._databaseId);return new CI(s._databaseId,!!e.ignoreUndefinedProperties,i)}function NI(s,e,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,i,l);dp("Data must be an object, but it was:",d,a);const y=zT(a,d);let m,_;if(c.merge)m=new Kn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const w of c.mergeFields){const M=Sm(e,w,i);if(!d.contains(M))throw new pe(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);HT(A,M)||A.push(M)}m=new Kn(A),_=d.fieldTransforms.filter((w=>m.covers(w.field)))}else m=null,_=d.fieldTransforms;return new II(new Ln(y),m,_)}class Vh extends Oh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function DI(s,e,i){return new Mh({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class fp extends Oh{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=DI(this,e,!0),a=this.vc.map((c=>au(c,i))),l=new go(a);return new bR(e.path,l)}isEqual(e){return e instanceof fp&&Er(this.vc,e.vc)}}function OI(s,e,i,a){const l=s.Cc(1,e,i);dp("Data must be an object, but it was:",l,a);const c=[],d=Ln.empty();xr(a,((m,_)=>{const A=mp(e,m,i);_=Rn(_);const w=l.yc(A);if(_ instanceof Vh)c.push(A);else{const M=au(_,w);M!=null&&(c.push(A),d.set(A,M))}}));const y=new Kn(c);return new UT(d,y,l.fieldTransforms)}function MI(s,e,i,a,l,c){const d=s.Cc(1,e,i),y=[Sm(e,a,i)],m=[l];if(c.length%2!=0)throw new pe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Sm(e,c[M])),m.push(c[M+1]);const _=[],A=Ln.empty();for(let M=y.length-1;M>=0;--M)if(!HT(_,y[M])){const G=y[M];let ee=m[M];ee=Rn(ee);const le=d.yc(G);if(ee instanceof Vh)_.push(G);else{const ne=au(ee,le);ne!=null&&(_.push(G),A.set(G,ne))}}const w=new Kn(_);return new UT(A,w,d.fieldTransforms)}function au(s,e){if(BT(s=Rn(s)))return dp("Unsupported field value:",e,s),zT(s,e);if(s instanceof Oh)return(function(a,l){if(!PT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const y of a){let m=au(y,l.wc(d));m==null&&(m={nullValue:"NULL_VALUE"}),c.push(m),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=Rn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return vR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=xt.fromDate(a);return{timestampValue:uh(l.serializer,c)}}if(a instanceof xt){const c=new xt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:uh(l.serializer,c)}}if(a instanceof Xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof oi)return{bytesValue:iT(l.serializer,a._byteString)};if(a instanceof en){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:$m(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof $i)return(function(d,y){return{mapValue:{fields:{[ME]:{stringValue:VE},[sh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw y.Sc("VectorValues must only contain numeric values.");return Qm(y.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${zm(a)}`)})(s,e)}function zT(s,e){const i={};return xE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xr(s,((a,l)=>{const c=au(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function BT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof xt||s instanceof Xi||s instanceof oi||s instanceof en||s instanceof Oh||s instanceof $i)}function dp(s,e,i){if(!BT(i)||!wE(i)){const a=zm(i);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Sm(s,e,i){if((e=Rn(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return mp(s,e);throw dh("Field path arguments must be of type string or ",s,!1,void 0,i)}const VI=new RegExp("[~\\*/\\[\\]]");function mp(s,e,i){if(e.search(VI)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Dh(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function dh(s,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let m="";return(c||d)&&(m+=" (found",c&&(m+=` in field ${a}`),d&&(m+=` in document ${l}`),m+=")"),new pe(J.INVALID_ARGUMENT,y+s+m)}function HT(s,e){return s.some((i=>i.isEqual(e)))}class qT{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(GT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class kI extends qT{data(){return super.data()}}function GT(s,e){return typeof e=="string"?mp(s,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}function LI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new pe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UI{convertValue(e,i="none"){switch(Sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return xr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[sh].arrayValue?.values?.map((a=>qt(a.doubleValue)));return new $i(i)}convertGeoPoint(e){return new Xi(qt(e.latitude),qt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=vh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ql(e));default:return null}}convertTimestamp(e){const i=br(e);return new xt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Ot.fromString(e);ct(uT(a),9688,{name:e});const l=new Gl(a.get(1),a.get(3)),c=new Ee(a.popFirst(5));return l.isEqual(i)||Rs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function PI(s,e,i){let a;return a=s?s.toFirestore(e):e,a}class Ol{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ra extends qT{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(GT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=ra._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:Wt("string",ra._jsonSchemaVersion),bundleSource:Wt("string","DocumentSnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class Qc extends ra{data(e={}){return super.data(e)}}class uo{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Ol(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Qc(this._firestore,this._userDataWriter,a.key,a,new Ol(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new pe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const m=new Qc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Ol(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const m=new Qc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new Ol(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:jI(y.type),doc:m,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=uo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:s})}}function zI(s){s=Ei(s,en);const e=Ei(s.firestore,ca);return AI(hp(e),s._key).then((i=>QT(e,s,i)))}uo._jsonSchemaVersion="firestore/querySnapshot/1.0",uo._jsonSchema={type:Wt("string",uo._jsonSchemaVersion),bundleSource:Wt("string","QuerySnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class FT extends UI{constructor(e){super(),this.firestore=e}convertBytes(e){return new oi(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,i)}}function BI(s,e,i){s=Ei(s,en);const a=Ei(s.firestore,ca),l=PI(s.converter,e);return pp(a,[NI(jT(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Ti.none())])}function tt(s,e,i,...a){s=Ei(s,en);const l=Ei(s.firestore,ca),c=jT(l);let d;return d=typeof(e=Rn(e))=="string"||e instanceof Dh?MI(c,"updateDoc",s._key,e,i,a):OI(c,"updateDoc",s._key,e),pp(l,[d.toMutation(s._key,Ti.exists(!0))])}function HI(s){return pp(Ei(s.firestore,ca),[new Km(s._key,Ti.none())])}function yv(s,...e){s=Rn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||gv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(gv(e[a])){const m=e[a];e[a]=m.next?.bind(m),e[a+1]=m.error?.bind(m),e[a+2]=m.complete?.bind(m)}let c,d,y;if(s instanceof en)d=Ei(s.firestore,ca),y=Th(s._key.path),c={next:m=>{e[a]&&e[a](QT(d,s,m))},error:e[a+1],complete:e[a+2]};else{const m=Ei(s,Nh);d=Ei(m.firestore,ca),y=m._query;const _=new FT(d);c={next:A=>{e[a]&&e[a](new uo(d,_,m,A))},error:e[a+1],complete:e[a+2]},LI(s._query)}return(function(_,A,w,M){const G=new MT(M),ee=new ST(A,G,w);return _.asyncQueue.enqueueAndForget((async()=>bT(await Am(_),ee))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>AT(await Am(_),ee)))}})(hp(d),y,l,c)}function pp(s,e){return(function(a,l){const c=new vr;return a.asyncQueue.enqueueAndForget((async()=>hI(await bI(a),l,c))),c.promise})(hp(s),e)}function QT(s,e,i){const a=i.docs.get(e._key),l=new FT(s);return new ra(s,l,e._key,a,new Ol(i.hasPendingWrites,i.fromCache),e.converter)}function ln(...s){return new fp("arrayUnion",s)}(function(e,i=!0){(function(l){bo=l})(Eo),co(new aa("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new ca(new C2(a.getProvider("auth-internal")),new O2(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new pe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gl(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),yr(b0,A0,e),yr(b0,A0,"esm2020")})();const qI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),_v=s=>{const e=GI(s);return e.charAt(0).toUpperCase()+e.slice(1)},KT=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),FI=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var QI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const KI=Rt.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...y},m)=>Rt.createElement("svg",{ref:m,...QI,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:KT("lucide",l),...!c&&!FI(y)&&{"aria-hidden":"true"},...y},[...d.map(([_,A])=>Rt.createElement(_,A)),...Array.isArray(c)?c:[c]]));const Ut=(s,e)=>{const i=Rt.forwardRef(({className:a,...l},c)=>Rt.createElement(KI,{ref:c,iconNode:e,className:KT(`lucide-${qI(_v(s))}`,`lucide-${s}`,a),...l}));return i.displayName=_v(s),i};const YI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],wm=Ut("book-open",YI);const XI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wa=Ut("circle-check-big",XI);const $I=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],YT=Ut("circle-x",$I);const ZI=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Kc=Ut("coins",ZI);const JI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],jl=Ut("crown",JI);const WI=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],eC=Ut("door-open",WI);const tC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],gp=Ut("eye",tC);const nC=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],iC=Ut("hammer",nC);const sC=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],rC=Ut("hand",sC);const aC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],vv=Ut("history",aC);const oC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ev=Ut("log-out",oC);const lC=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],XT=Ut("refresh-ccw",lC);const uC=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],cC=Ut("rotate-ccw",uC);const hC=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],fC=Ut("shield",hC);const dC=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],Tv=Ut("skull",dC);const mC=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],bv=Ut("sparkles",mC);const pC=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],$T=Ut("sword",pC);const gC=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],yC=Ut("trash-2",gC);const _C=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],vC=Ut("trophy",_C);const EC=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$d=Ut("user",EC);const TC=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bC=Ut("users",TC);const AC=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ZT=Ut("x",AC),SC={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:2c9029761ef876856aa637"},JT=Lv(SC),Zd=w2(JT),He=wI(JT),Fe=typeof __app_id<"u"?__app_id:"conspiracy-game",wC="1",WT={HERO:{name:"Hero",color:"bg-purple-600",icon:jl,desc:"Grabs 3 coins. Blocks Export."},ROBBER:{name:"Robber",color:"bg-blue-600",icon:rC,desc:"Steal 2 coins. Blocks Stealing."},GENIE:{name:"Genie",color:"bg-pink-600",icon:fC,desc:"Blocks Stab."},MONSTER:{name:"Monster",color:"bg-red-700",icon:$T,desc:"Stab (Pay 3 to kill)."},RIDDLER:{name:"Riddler",color:"bg-emerald-600",icon:XT,desc:"Exchange cards. Blocks Stealing."}},xl=[...Array(3).fill("HERO"),...Array(3).fill("ROBBER"),...Array(3).fill("GENIE"),...Array(3).fill("MONSTER"),...Array(3).fill("RIDDLER")],Il={EARN:{name:"Earn",cost:0,income:1,blockable:!1,challengeable:!1},EXPORT:{name:"Export",cost:0,income:2,blockable:!0,challengeable:!1,blockedBy:["HERO"]},TAX:{name:"Hero Bonus",cost:0,income:3,blockable:!1,challengeable:!0,claim:"HERO"},STEAL:{name:"Steal",cost:0,income:0,blockable:!0,challengeable:!0,claim:"ROBBER",blockedBy:["ROBBER","RIDDLER"]},STAB:{name:"Stab",cost:3,income:0,blockable:!0,challengeable:!0,claim:"MONSTER",blockedBy:["GENIE"]},EXCHANGE:{name:"Exchange",cost:0,income:0,blockable:!1,challengeable:!0,claim:"RIDDLER"},KILL:{name:"Kill",cost:7,income:0,blockable:!1,challengeable:!1}},Lc=s=>{let e=s.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[s[e],s[i]]=[s[i],s[e]];return s},Jd=()=>T.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[T.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,var(--tw-gradient-stops))] from-gray-900 via-gray-900 to-black"}),T.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-purple-500/5 mix-blend-overlay"}),T.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/black-scales.png")'}})]}),Av=({onClose:s})=>{const[e,i]=Rt.useState("basics"),a=({id:l,label:c,icon:d})=>T.jsxs("button",{onClick:()=>i(l),className:`flex items-center gap-2 px-4 py-3 text-sm font-bold rounded-lg transition-all ${e===l?"bg-purple-600 text-white shadow-lg":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:[d&&T.jsx(d,{size:16})," ",c]});return T.jsx("div",{className:"fixed inset-0 bg-black/90 z-100 flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-gray-900 rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden border border-purple-500/30 shadow-2xl flex flex-col",children:[T.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[T.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 font-serif tracking-wider",children:[T.jsx(wm,{className:"text-purple-400"})," Archive of Secrets"]}),T.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-800 rounded-full text-gray-400 hover:text-white",children:T.jsx(ZT,{})})]}),T.jsxs("div",{className:"flex gap-2 p-4 bg-gray-900 border-b border-gray-800 overflow-x-auto",children:[T.jsx(a,{id:"basics",label:"Basics",icon:Kc}),T.jsx(a,{id:"cards",label:"Roles",icon:jl}),T.jsx(a,{id:"actions",label:"Actions",icon:$T}),T.jsx(a,{id:"challenges",label:"Bluffing",icon:YT})]}),T.jsxs("div",{className:"p-6 overflow-y-auto flex-1 text-gray-300 space-y-6",children:[e==="basics"&&T.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[T.jsx("h3",{className:"text-xl font-bold text-purple-400",children:"Objective: Last Survivor"}),T.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm md:text-base",children:[T.jsxs("li",{children:["Start with ",T.jsx("strong",{children:"2 Cards"})," (Lives) and"," ",T.jsx("strong",{children:"2 Coins"}),"."]}),T.jsxs("li",{children:["Cards are hidden. You can ",T.jsx("strong",{children:"lie"})," about what you have."]}),T.jsx("li",{children:"Lose a life (flip card) if you are successfully challenged or assassinated."}),T.jsxs("li",{children:["Lose all cards = ",T.jsx("strong",{children:"Eliminated"}),"."]})]})]}),e==="cards"&&T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in",children:Object.entries(WT).map(([l,c])=>T.jsxs("div",{className:"p-4 rounded-lg border border-gray-700 bg-gray-800 flex items-start gap-3",children:[T.jsx("div",{className:`p-3 rounded-lg ${c.color} text-white shadow-lg`,children:T.jsx(c.icon,{size:24})}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold text-white",children:c.name}),T.jsx("p",{className:"text-sm text-gray-400",children:c.desc})]})]},l))}),e==="actions"&&T.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[T.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg border-l-4 border-green-500",children:[T.jsx("h4",{className:"font-bold text-white mb-2",children:"Safe Actions (Unblockable and Unchallengeable)"}),T.jsxs("ul",{className:"list-disc pl-5 text-sm space-y-1",children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Earn:"})," +1 Coin."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Kill:"})," Pay 7 coins to eliminate a life."]})]})]}),T.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg border-l-4 border-purple-500",children:[T.jsx("h4",{className:"font-bold text-white mb-2",children:"Unsafe/Role Actions (Can LIE about these! Challengeable and Blockable)"}),T.jsxs("ul",{className:"list-disc pl-5 text-sm space-y-1",children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Export:"})," +2 Coins."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Hero Bonus:"})," +3 Coins."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Steal:"})," Take 2 coins from player."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Stab:"})," Pay 3 coins to kill."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Exchange:"})," Draw 2 new cards, return 2."]})]})]})]}),e==="challenges"&&T.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[T.jsxs("div",{children:[T.jsx("h3",{className:"text-xl font-bold text-red-400 mb-2",children:"The Art of Lying"}),T.jsx("p",{className:"text-sm",children:"You can perform ANY action, even if you don't have the card. If someone challenges you, you must prove it."})]}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[T.jsxs("div",{className:"bg-red-900/20 p-4 rounded-lg border border-red-500/30",children:[T.jsx("h4",{className:"font-bold text-white mb-2",children:"If Challenged:"}),T.jsxs("ul",{className:"list-disc pl-5 text-sm mt-2 space-y-1",children:[T.jsxs("li",{children:[T.jsx("strong",{children:"Have it?"})," Reveal it. Challenger loses a life. You get a fresh card."]}),T.jsxs("li",{children:[T.jsx("strong",{children:"Don't have it?"})," You lose a life."]})]})]}),T.jsxs("div",{className:"bg-blue-900/20 p-4 rounded-lg border border-blue-500/30",children:[T.jsx("h4",{className:"font-bold text-white mb-2",children:"Blocking"}),T.jsx("p",{className:"text-sm",children:"Block attacks by claiming a defensive role (e.g. Genie blocks Stab). Blocks can also be challenged!"})]})]})]})]})]})})},Sv=({onConfirm:s,onCancel:e,isHost:i,onReturnToLobby:a})=>T.jsx("div",{className:"fixed inset-0 bg-black/90 z-200 flex items-center justify-center p-4 animate-in fade-in",children:T.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[T.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon Conspiracy?"}),T.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:i&&a?"As Host, you can return everyone to the lobby or leave the game completely.":i?"WARNING: Leaving as Host will close the room for everyone.":"Leaving now will forfeit your position in the game."}),T.jsxs("div",{className:"flex flex-col gap-3",children:[i&&a&&T.jsx("button",{onClick:a,className:"w-full bg-purple-700 hover:bg-purple-600 text-white py-3 rounded font-bold transition-colors border border-purple-500 shadow-lg mb-2",children:"Return Group to Lobby"}),T.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[T.jsx("button",{onClick:e,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold transition-colors",children:"Stay"}),T.jsx("button",{onClick:s,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold transition-colors",children:i?"Close Room":"Leave"})]})]})]})}),wv=()=>T.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[T.jsx(gp,{size:12,className:"text-purple-500"}),T.jsx("span",{className:"text-[10px] font-black tracking-widest text-purple-500 uppercase",children:"CONSPIRACY"})]}),RC=()=>T.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[T.jsx(gp,{size:22,className:"text-purple-500"}),T.jsx("span",{className:"text-[20px] font-black tracking-widest text-purple-500 uppercase",children:"CONSPIRACY"})]});function xC(){const[s,e]=Rt.useState(null),[i,a]=Rt.useState("menu"),[l,c]=Rt.useState(""),[d,y]=Rt.useState(null),[m,_]=Rt.useState(null),[A,w]=Rt.useState(""),[M,G]=Rt.useState(!1),[ee,le]=Rt.useState([]),[ne,_e]=Rt.useState(!1),[xe,ve]=Rt.useState(!1),[et,mt]=Rt.useState(!1),[Xe,C]=Rt.useState(!1),[S,I]=Rt.useState(()=>localStorage.getItem("gameHub_playerName")||"");if(Rt.useEffect(()=>{S&&localStorage.setItem("gameHub_playerName",S)},[S]),Rt.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await hw(Zd,__initial_auth_token):await aw(Zd)})();const $=mw(Zd,te=>e(te));return()=>$()},[]),Rt.useEffect(()=>{if(s&&i==="menu"){const q=localStorage.getItem("conspiracy_room_id"),$=localStorage.getItem("conspiracy_player_name");q&&$&&(G(!0),I($),y(q))}},[s,i]),Rt.useEffect(()=>{if(!d||!s)return;const q=Be(He,"artifacts",Fe,"public","data","rooms",d),$=yv(q,te=>{if(te.exists()){const be=te.data();if(!be.players?.find(ce=>ce.id===s.uid)){y(null),a("menu"),w("You have been removed from the room."),localStorage.removeItem("conspiracy_room_id"),G(!1);return}if(be.status==="closed"){y(null),a("menu"),w("The Host has closed the room."),localStorage.removeItem("conspiracy_room_id"),G(!1);return}_({id:te.id,...be}),be.status==="lobby"?a("lobby"):be.status==="playing"||be.status==="finished"?a("game"):a("lobby"),G(!1)}else y(null),a("menu"),w("Room closed or does not exist."),G(!1),localStorage.removeItem("conspiracy_room_id")},te=>console.error(te));return()=>$()},[d,s]),Rt.useEffect(()=>{const q=yv(Be(He,"game_hub_settings","config"),$=>{$.exists()&&($.data()[wC]?.maintenance?C(!0):C(!1))});return()=>q()},[]),Xe)return T.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[T.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[T.jsx(iC,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),T.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),T.jsx("p",{className:"text-gray-400",children:"The Council is in a closed session. No plots can be hatched at this time."})]}),T.jsx("div",{className:"h-8"}),T.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:T.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:T.jsx("div",{className:"text-center pb-12 animate-pulse",children:T.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[T.jsx(bv,{size:16})," Visit Gamehub...Try our other releases..."," ",T.jsx(bv,{size:16})]})})})})]});const V=async()=>{if(!s||!S.trim())return w("Enter a nickname first.");G(!0);const q=Math.random().toString(36).substring(2,8).toUpperCase(),$={hostId:s.uid,maxPlayers:6,startingCards:2,players:[{id:s.uid,name:S,coins:2,cards:[],isEliminated:!1,ready:!0}],status:"lobby",turnIndex:0,deck:[],logs:[],turnState:"IDLE",currentAction:null};try{await BI(Be(He,"artifacts",Fe,"public","data","rooms",q),$),localStorage.setItem("conspiracy_room_id",q),localStorage.setItem("conspiracy_player_name",S),y(q)}catch{w("Failed to create room.")}G(!1)},D=async q=>{!m||m.hostId!==s.uid||await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{startingCards:parseInt(q)})},L=async q=>{if(!m||m.hostId!==s.uid)return;const $=m.players.filter(te=>te.id!==q);await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{players:$})},R=async()=>{if(!s||!l||!S.trim())return w("Enter nickname & room code.");G(!0);try{const q=Be(He,"artifacts",Fe,"public","data","rooms",l),$=await zI(q);if(!$.exists())throw new Error("Room not found.");const te=$.data();if(te.status==="closed")throw new Error("Room has been closed.");if(te.players.length>=te.maxPlayers)throw new Error("Room full.");const be=te.players.find(se=>se.id===s.uid);if(te.status!=="lobby"&&!be)throw new Error("Game started.");be||await tt(q,{players:ln({id:s.uid,name:S,coins:2,cards:[],isEliminated:!1,ready:!0})}),localStorage.setItem("conspiracy_room_id",l),localStorage.setItem("conspiracy_player_name",S),y(l)}catch(q){w(q.message)}G(!1)},vt=async()=>{if(!d||!s||!m)return;if(m.hostId===s.uid)try{await HI(Be(He,"artifacts",Fe,"public","data","rooms",d))}catch($){console.error("Error deleting room:",$)}else{const $=m.players.filter(de=>de.id!==s.uid);let te=m.status;te==="playing"&&$.length<2&&(te="finished");const be=m.players.findIndex(de=>de.id===s.uid);let se=m.turnIndex;be<m.turnIndex&&(se=Math.max(0,se-1)),se>=$.length&&(se=0);const ce=[...m.logs||[]],oe=m.players.find(de=>de.id===s.uid);oe&&ce.push({text:`${oe.name} left the game.`,type:"danger"}),te==="finished"&&m.status==="playing"&&ce.push({text:"Not enough players. Game Over.",type:"neutral"});try{await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{players:$,status:te,turnIndex:se,logs:ce})}catch(de){console.error("Error leaving room",de)}}localStorage.removeItem("conspiracy_room_id"),y(null),a("menu"),ve(!1)},Pt=async()=>{if(!m||m.hostId!==s.uid)return;if(m.players.length<2)return w("Need 2+ players.");const q=Lc([...xl,...xl]),$=m.startingCards||2,te=m.players.map(be=>{const se=[];for(let ce=0;ce<$;ce++)se.push({type:q.pop(),flipped:!1});return{...be,coins:2,cards:se,isEliminated:!1,ready:!1}});await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{status:"playing",deck:q,players:te,turnIndex:0,turnState:"IDLE",logs:ln({text:"Game Started!",type:"info"})})},F=async()=>{if(!m||m.hostId!==s.uid)return;const q=Lc([...xl,...xl]),$=m.startingCards||2,te=m.players.map(be=>{const se=[];for(let ce=0;ce<$;ce++)se.push({type:q.pop(),flipped:!1});return{...be,coins:2,cards:se,isEliminated:!1,ready:!1}});await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{status:"playing",deck:q,players:te,turnIndex:0,turnState:"IDLE",logs:[{text:"Game Restarted!",type:"info"}],currentAction:null})},ae=async()=>{if(!m||m.hostId!==s.uid)return;const q=m.players.map($=>({...$,coins:2,cards:[],isEliminated:!1,ready:!0}));try{await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{status:"lobby",players:q,deck:[],turnIndex:0,turnState:"IDLE",currentAction:null,logs:[{text:"Host returned the group to the lobby.",type:"neutral"}]}),ve(!1)}catch($){console.error("Error returning to lobby:",$)}},ge=async()=>{if(!m)return;const q=m.players.map($=>$.id===s.uid?{...$,ready:!0}:$);await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{players:q})},Ue=()=>m?.players.filter(q=>!q.isEliminated)||[],Je=()=>m?.players[m.turnIndex],O=()=>Je()?.id===s.uid,Y=q=>q.filter(te=>!te.isEliminated).length<=1,ie=async q=>{let $=(q.turnIndex+1)%q.players.length,te=0;for(;q.players[$].isEliminated&&te<10;)$=($+1)%q.players.length,te++;te>=10&&($=q.players.findIndex(be=>!be.isEliminated)),await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{turnIndex:$,turnState:"IDLE",currentAction:null,players:q.players,loseReason:null})},ue=async(q,$=null)=>{if(!O())return;const te=Je(),be=Il[q];if(te.coins<be.cost)return;if(te.coins>=10&&q!=="KILL")return alert("Must use Kill!");const se={type:q,actorId:s.uid,targetId:$,status:"PENDING",votes:[],actionPending:!1};if(q==="EARN"){const ce=[...m.players];ce[m.turnIndex].coins+=1,await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{players:ce,logs:ln({text:`${te.name} takes Income (+1 coin).`,type:"neutral"})}),await ie({...m,players:ce});return}if(q==="KILL"){const ce=[...m.players];ce[m.turnIndex].coins-=7;const oe=m.players.find(de=>de.id===$).name;await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{players:ce,turnState:"LOSE_CARD",currentAction:se,loserId:$,loseReason:"kill",logs:ln({text:`${te.name} killed ${oe} (-7 coins).`,type:"danger"})});return}if(q==="STAB"){const ce=[...m.players];ce[m.turnIndex].coins-=3,await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{players:ce,turnState:"ACTION_PENDING",currentAction:se});return}await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{turnState:"ACTION_PENDING",currentAction:se})},Se=async()=>{if(m.turnState!=="ACTION_PENDING"||!m.currentAction||m.currentAction.votes.includes(s.uid))return;const q=[...m.currentAction.votes,s.uid],$=Ue().length;q.length>=$-1?await De():await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{"currentAction.votes":q})},De=async()=>{if(m.turnState!=="ACTION_PENDING")return;Il[m.currentAction.type];const q=m.players.find(se=>se.id===m.currentAction.actorId),$=[...m.players];let te="";const be=$.findIndex(se=>se.id===q.id);if(m.currentAction.type==="EXPORT")$[be].coins+=2,te=`${q.name} completes Export and gains 2 coins.`;else if(m.currentAction.type==="TAX")$[be].coins+=3,te=`${q.name} collects Hero Bonus and gains 3 coins.`;else if(m.currentAction.type==="STEAL"){const se=$.findIndex(de=>de.id===m.currentAction.targetId),ce=$[se].name,oe=Math.min($[se].coins,2);$[se].coins-=oe,$[be].coins+=oe,te=`${q.name} steals ${oe} coins from ${ce}.`}else if(m.currentAction.type==="STAB"){const se=m.players.find(ce=>ce.id===m.currentAction.targetId).name;await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{players:$,turnState:"LOSE_CARD",loserId:m.currentAction.targetId,loseReason:"stab",logs:ln({text:`${q.name} Assassinated ${se}!`,type:"danger"})});return}else if(m.currentAction.type==="EXCHANGE"){const se=[...m.deck];se.length<2&&se.push(...xl);const ce=[se.pop(),se.pop()];await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{turnState:"EXCHANGE_SELECT",deck:se,tempCards:ce,logs:ln({text:`${q.name} examines the deck (Exchange).`,type:"neutral"})});return}await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{players:$,logs:ln({text:te,type:"success"})}),await ie({...m,players:$})},Le=async(q,$)=>{const te=m.players.find(ce=>ce.id===q).name,be=m.players.find(ce=>ce.id===m.currentAction.actorId).name,se=Il[m.currentAction.type].name;await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{turnState:"BLOCK_PENDING",currentAction:{...m.currentAction,blockerId:q,blockClaim:$,votes:[]},logs:ln({text:`${te} blocks ${be}'s ${se} claiming ${$}!`,type:"warning"})})},jt=async()=>{if(m.turnState!=="BLOCK_PENDING"||m.currentAction.votes.includes(s.uid))return;const q=[...m.currentAction.votes,s.uid],$=Ue().length;q.length>=$-1?(await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{logs:ln({text:"Block Accepted. Action Failed (Coins lost).",type:"info"})}),await ie({...m})):await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{"currentAction.votes":q})},Et=async q=>{const $=m.turnState==="BLOCK_PENDING",te=$?m.currentAction.blockerId:m.currentAction.actorId,be=$?m.currentAction.blockClaim:Il[m.currentAction.type].claim,se=m.players.find(oe=>oe.id===q).name,ce=m.players.find(oe=>oe.id===te).name;await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{turnState:"CHALLENGE_RESOLVE",challengerId:q,accusedId:te,challengedCard:be,logs:ln({text:`${se} challenges ${ce}'s claim of ${be}!`,type:"danger"})})},Wi=async()=>{const q=[...m.players],$=q.find(Ve=>Ve.id===s.uid),te=q.findIndex(Ve=>Ve.id===s.uid),be=$.cards.map((Ve,$e)=>({...Ve,index:$e})).filter(Ve=>!Ve.flipped),se=m.players.find(Ve=>Ve.id===m.currentAction.actorId);let ce="";if(m.currentAction.targetId){const Ve=m.players.find($e=>$e.id===m.currentAction.targetId);ce=Ve?Ve.name:"Target"}let oe=[],de=!1,nt="IDLE",Pe=null,It=null;if(m.currentAction.blockerId===s.uid){oe.push({text:`Blocker ${$.name} admits to lying! Block removed.`,type:"danger"});const Ve=m.currentAction,$e=q.findIndex(Ct=>Ct.id===Ve.actorId);if(Ve.type==="STEAL"){const Ct=q.findIndex(bt=>bt.id===Ve.targetId),An=Math.min(q[Ct].coins,2);q[Ct].coins-=An,q[$e].coins+=An,oe.push({text:`Block Failed: ${se.name} steals ${An} from ${ce}.`,type:"success"})}else Ve.type==="EXPORT"?(q[$e].coins+=2,oe.push({text:`Block Failed: ${se.name} gains 2 coins (Export).`,type:"success"})):Ve.type==="TAX"?(q[$e].coins+=3,oe.push({text:`Block Failed: ${se.name} gains 3 coins (Hero Bonus).`,type:"success"})):Ve.type==="STAB"?(de=!0,oe.push({text:`Block Failed: ${se.name}'s Assassination proceeds!`,type:"danger"})):Ve.type==="EXCHANGE"&&(de=!0,oe.push({text:`Block Failed: ${se.name} proceeds with Exchange.`,type:"info"}))}else oe.push({text:`Actor ${$.name} admits to lying! Action cancelled.`,type:"danger"});be.length===1?(q[te].cards[be[0].index].flipped=!0,q[te].isEliminated=!0,oe.push({text:`${$.name} is ELIMINATED!`,type:"danger"})):(nt="LOSE_CARD",Pe=s.uid,It="challenge");const it=Y(q);let at={players:q,logs:ln(...oe),"currentAction.actionPending":de};if(it?(at.status="finished",at.players=q.map(Ve=>({...Ve,ready:!1}))):nt==="LOSE_CARD"&&(at.turnState="LOSE_CARD",at.loserId=Pe,It&&(at.loseReason=It)),await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),at),!it&&nt!=="LOSE_CARD"){if(de){if(m.currentAction.type==="STAB"){const Ve=m.currentAction,$e=q.find(Ct=>Ct.id===Ve.targetId);if($e&&!$e.isEliminated){await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{turnState:"LOSE_CARD",loserId:Ve.targetId,loseReason:"stab","currentAction.actionPending":!1,logs:ln({text:"Assassination continues... Target must lose a life.",type:"danger"})});return}else{await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{logs:ln({text:"Target eliminated. Assassination complete.",type:"neutral"})}),await ie({...m,players:q});return}}else if(m.currentAction.type==="EXCHANGE"){const Ve=[...m.deck],$e=[Ve.pop(),Ve.pop()];await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{turnState:"EXCHANGE_SELECT",deck:Ve,tempCards:$e,"currentAction.actionPending":!1});return}}await ie({...m,players:q})}},Cs=async q=>{const $=m.players.find(we=>we.id===s.uid),te=$.cards[q],be=m.challengedCard,se=te.type===be,ce=m.players.find(we=>we.id===m.currentAction.actorId),oe=m.players.find(we=>we.id===m.challengerId);m.currentAction.targetId&&m.players.find(we=>we.id===m.currentAction.targetId).name;let de=[...m.players],nt=[...m.deck],Pe=[],It="IDLE",xn=null,it=null,at=!1;const Ve=m.currentAction.blockerId&&m.currentAction.blockerId===m.accusedId;if(se){Pe.push({text:`Challenge Failed: ${$.name} shows ${be}! ${oe.name} loses a life.`,type:"success"}),nt.push(te.type),nt=Lc(nt);const we=de.findIndex(At=>At.id===s.uid);de[we].cards[q]={type:nt.pop(),flipped:!1},It="LOSE_CARD",xn=m.challengerId,it="challenge"}else Pe.push({text:`Challenge Won: ${$.name} caught lying! Choose a card to lose.`,type:"danger"}),It="LOSE_CARD",xn=s.uid,it="challenge";const $e=m.currentAction,Ct=de.findIndex(we=>we.id===$e.actorId);if(Ve)if(se)Pe.push({text:`Block Upheld. ${ce.name}'s action blocked.`,type:"warning"});else{if($e.type==="TAX"&&(de[Ct].coins+=3,Pe.push({text:"Block Invalid: Hero Bonus succeeds (+3).",type:"success"})),$e.type==="EXPORT"&&(de[Ct].coins+=2,Pe.push({text:"Block Invalid: Export succeeds (+2).",type:"success"})),$e.type==="STEAL"){const we=de.findIndex(W=>W.id===$e.targetId),At=Math.min(de[we].coins,2);de[we].coins-=At,de[Ct].coins+=At,Pe.push({text:`Block Invalid: Steal succeeds (+${At}).`,type:"success"})}$e.type==="STAB"&&(at=!0,Pe.push({text:"Block Invalid: Stab proceeds! (Double Kill pending)",type:"danger"})),$e.type==="EXCHANGE"&&(at=!0)}else if(se){if($e.type==="TAX"&&(de[Ct].coins+=3),$e.type==="EXPORT"&&(de[Ct].coins+=2),$e.type==="STEAL"){const we=de.findIndex(W=>W.id===$e.targetId),At=Math.min(de[we].coins,2);de[we].coins-=At,de[Ct].coins+=At}$e.type==="STAB"&&(at=!0),$e.type==="EXCHANGE"&&(at=!0),at||Pe.push({text:"Action Upheld: Success.",type:"success"})}else Pe.push({text:"Action Failed: Bluff called.",type:"warning"});const An=Y(de);let bt={players:de,deck:nt,logs:ln(...Pe),"currentAction.actionPending":at};if(An?(bt.status="finished",bt.players=de.map(we=>({...we,ready:!1}))):It==="LOSE_CARD"&&(bt.turnState="LOSE_CARD",bt.loserId=xn,it&&(bt.loseReason=it)),await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),bt),!(An||It==="LOSE_CARD"))if(at&&m.currentAction.type==="EXCHANGE"){const we=[...nt],At=[we.pop(),we.pop()];await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{turnState:"EXCHANGE_SELECT",deck:we,tempCards:At,"currentAction.actionPending":!1})}else await ie({...m,players:de})},Ns=async q=>{if(m.loserId!==s.uid)return;const $=[...m.players],te=$.findIndex(de=>de.id===s.uid);if($[te].cards[q].flipped)return;$[te].cards[q].flipped=!0;const be=$[te].cards.every(de=>de.flipped);be&&($[te].isEliminated=!0);const se=[{text:`${$[te].name} lost a life (${m.loseReason}).`,type:"danger"}];be&&se.push({text:`${$[te].name} is ELIMINATED!`,type:"danger"});const ce=Y($);let oe={players:$,logs:ln(...se)};if(ce){const de=$.filter(nt=>!nt.isEliminated);oe.status="finished",oe.logs=ln({text:`Game Over! ${de[0]?.name} Wins!`,type:"success"}),oe.players=$.map(nt=>({...nt,ready:!1})),await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),oe);return}if(m.currentAction?.actionPending){if(m.currentAction.type==="EXCHANGE"){await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),oe);const de=[...m.deck],nt=[de.pop(),de.pop()];await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{turnState:"EXCHANGE_SELECT",deck:de,tempCards:nt,"currentAction.actionPending":!1});return}if(m.currentAction.type==="STAB"){const de=m.currentAction.targetId,nt=$.find(Pe=>Pe.id===de);if(nt&&!nt.isEliminated){oe.logs=ln(...se,{text:"Challenge penalty paid. Assassination continues... (Lose 2nd Life)",type:"danger"}),oe.turnState="LOSE_CARD",oe.loserId=de,oe.loseReason="stab",oe["currentAction.actionPending"]=!1,await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),oe);return}else se.push({text:"Target eliminated. Assassination complete.",type:"neutral"}),oe.logs=ln(...se)}}await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),oe),await ie({...m,players:$})},Ds=async()=>{const q=m.players.find(it=>it.id===s.uid),$=q.cards.filter(it=>!it.flipped).length;if(ee.length!==$){alert(`You must select exactly ${$} cards.`);return}const te=[...m.players],be=te.findIndex(it=>it.id===s.uid),ce=[...q.cards.filter(it=>!it.flipped).map(it=>it.type),...m.tempCards],oe=ee.map(it=>ce[it]),de=ce.filter((it,at)=>!ee.includes(at)),nt=q.cards.filter(it=>it.flipped),It=[...oe.map(it=>({type:it,flipped:!1})),...nt],xn=[...m.deck,...de];te[be].cards=It,await tt(Be(He,"artifacts",Fe,"public","data","rooms",d),{players:te,deck:Lc(xn),turnState:"IDLE",tempCards:null,currentAction:null}),await ie({...m,players:te}),le([])},Un=({type:q,flipped:$,onClick:te,selectable:be,selected:se,size:ce="md"})=>{const oe=WT[q];if(!oe&&!$)return null;let de="ring-purple-400";se&&(de="ring-emerald-400 ring-offset-emerald-900");const nt=`rounded-lg shadow-md border-2 transition-all duration-200 relative ${be||se?`cursor-pointer hover:scale-105 ring-2 ring-offset-2 ${de}`:""}`,Pe=ce==="sm"?"w-14 h-20 text-[10px]":"w-24 h-36 text-sm";return $?T.jsx("div",{className:`${nt} ${Pe} bg-gray-800 border-gray-700 flex items-center justify-center opacity-60`,children:T.jsx(Tv,{className:"text-gray-500"})}):T.jsxs("div",{onClick:te,className:`${nt} ${Pe} ${oe.color} border-white/20 flex flex-col items-center justify-between p-2 text-white shadow-lg`,children:[T.jsx("div",{className:"font-bold uppercase tracking-wider truncate w-full text-center",children:oe.name}),T.jsx(oe.icon,{size:ce==="sm"?16:32}),ce!=="sm"&&T.jsx("div",{className:"text-[10px] leading-tight text-center opacity-90",children:oe.desc}),se&&T.jsx("div",{className:"absolute -top-2 -right-2 bg-emerald-500 text-white rounded-full p-1 shadow-lg",children:T.jsx(Wa,{size:12})})]})};if(!s)return T.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center text-white font-serif",children:T.jsx("div",{className:"animate-pulse",children:"Loading Archive..."})});if(i==="menu")return T.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[T.jsx(Jd,{}),ne&&T.jsx(Av,{onClose:()=>_e(!1)}),T.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[T.jsx(gp,{size:64,className:"text-purple-500 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(168,85,247,0.5)]"}),T.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-linear-to-b from-purple-300 to-purple-600 font-serif tracking-widest drop-shadow-md",children:"CONSPIRACY"}),T.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"The Silent Betrayal"})]}),T.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-purple-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[A&&T.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:A}),T.jsx("input",{className:"w-full bg-black/50 border border-gray-600 p-3 rounded mb-4 text-white placeholder-gray-500 focus:border-purple-500 outline-none transition-colors",placeholder:"Agent Codename",value:S,onChange:q=>I(q.target.value)}),T.jsxs("button",{onClick:V,disabled:M,className:"w-full bg-linear-to-r from-purple-700 to-purple-600 hover:from-purple-600 hover:to-purple-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-purple-500/30 shadow-[0_0_15px_rgba(147,51,234,0.2)] transition-all",children:[T.jsx(jl,{size:20})," Establish Dark Chamber"]}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[T.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-gray-600 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-purple-500 outline-none",placeholder:"ROOM CODE",value:l,onChange:q=>c(q.target.value.toUpperCase())}),T.jsx("button",{onClick:R,disabled:M,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-3 rounded font-bold transition-colors",children:"Infiltrate"})]}),T.jsxs("button",{onClick:()=>_e(!0),className:"w-full text-sm text-gray-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[T.jsx(wm,{size:16})," Archive of Secrets"]})]}),T.jsxs("div",{className:"absolute bottom-4 text-slate-600 text-xs text-center",children:["Inspired by Coup. A tribute game.",T.jsx("br",{}),"Developed by ",T.jsx("strong",{children:"RAWFID K SHUVO"}),". Visit"," ",T.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",target:"_blank",rel:"noopener noreferrer",className:"text-purple-500 underline hover:text-purple-600",children:"GAMEHUB"})," ","for more games."]})]});if(i==="lobby"&&m){const q=m.hostId===s.uid,$=m.startingCards||2;return T.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative",children:[T.jsx(Jd,{}),T.jsx(RC,{}),T.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-900/90 backdrop-blur p-8 rounded-2xl border border-purple-900/50 shadow-2xl",children:[T.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[T.jsxs("h2",{className:"text-2xl font-serif text-purple-400",children:["Back Room:"," ",T.jsx("span",{className:"text-white font-mono",children:m.id})]}),T.jsx("button",{onClick:()=>ve(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded text-red-300",title:"Leave Room",children:T.jsx(Ev,{size:16})})]}),q&&T.jsxs("div",{className:"bg-black/30 rounded-lg p-3 mb-6 border border-gray-700",children:[T.jsx("h3",{className:"text-purple-300 font-bold mb-2 uppercase text-xs tracking-wider",children:"Protocol Settings"}),T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("span",{className:"text-gray-400 text-sm",children:"Lives per Agent:"}),T.jsx("div",{className:"flex gap-2",children:[2,3].map(te=>T.jsx("button",{onClick:()=>D(te),className:`px-3 py-1 rounded text-xs font-bold transition-all ${$===te?"bg-purple-600 text-white shadow-lg":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:te},te))})]})]}),T.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-8 border border-gray-800",children:[T.jsxs("h3",{className:"text-gray-500 text-xs uppercase tracking-wider mb-4 flex justify-between",children:[T.jsxs("span",{children:["Operatives (",m.players.length,"/",m.maxPlayers,")"]}),T.jsxs("span",{className:"text-purple-400 font-bold",children:["Mode: ",$," Lives"]})]}),T.jsxs("div",{className:"space-y-2",children:[m.players.map(te=>T.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded border border-gray-700/50 group",children:[T.jsxs("span",{className:`font-bold flex items-center gap-2 ${te.id===s.uid?"text-purple-400":"text-gray-300"}`,children:[T.jsx($d,{size:14,className:te.id===s.uid?"text-purple-400":"text-gray-500"}),te.name,te.id===m.hostId&&T.jsx(jl,{size:14,className:"text-yellow-500"})]}),T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[T.jsx(Wa,{size:12})," Ready"]}),q&&te.id!==s.uid&&T.jsx("button",{onClick:()=>L(te.id),className:"p-1.5 text-red-500/60 hover:text-red-500 hover:bg-red-900/20 rounded transition-colors",title:"Kick Player",children:T.jsx(yC,{size:14})})]})]},te.id)),m.players.length<2&&T.jsx("div",{className:"text-center text-gray-500 italic text-sm py-2",children:"Waiting for more agents..."})]})]}),q?T.jsx("button",{onClick:Pt,disabled:m.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all flex items-center justify-center gap-2 ${m.players.length>=2?"bg-green-700 hover:bg-green-600 text-white shadow-green-900/20":"bg-gray-800 cursor-not-allowed text-gray-500"}`,children:m.players.length<2?"Awaiting Agents...":"Commence Operation"}):T.jsx("div",{className:"text-center text-purple-400/60 animate-pulse font-serif italic",children:"Waiting for Host command..."})]}),T.jsx(wv,{}),xe&&T.jsx(Sv,{onConfirm:vt,onCancel:()=>ve(!1),isHost:m?.hostId===s?.uid})]})}if(i==="game"&&m){const q=m.players.find(W=>W.id===s.uid);if(!q)return null;const $=O(),te=m.currentAction?Il[m.currentAction.type].name:"",be=m.turnState==="ACTION_PENDING"?m.currentAction.votes.length:0,se=Ue().length-1,ce=m.currentAction?.votes.includes(s.uid),oe=m.currentAction,de=oe&&(oe.type==="STEAL"||oe.type==="STAB"),nt=de&&oe.votes.includes(oe.targetId),Pe=de&&oe.targetId===s.uid;let It=!1;m.turnState==="ACTION_PENDING"&&oe.actorId!==s.uid&&!q.isEliminated&&(de?nt?Pe||(It=!0):Pe&&(It=!0):It=!0);const xn=m.turnState==="BLOCK_PENDING"&&m.currentAction.blockerId!==s.uid&&!q.isEliminated,it=m.players.filter(W=>!W.isEliminated);Ue().every(W=>W.ready);const at=m.players.every(W=>W.ready);let Ve=!1;oe&&(oe.type==="EXPORT"||(oe.type==="STEAL"||oe.type==="STAB")&&oe.targetId===s.uid)&&(Ve=!0);const $e=m.turnState==="EXCHANGE_SELECT"&&q.id===Je().id;let Ct=null,An=null;if(oe){const W=m.players.find(Vt=>Vt.id===oe.targetId),ot=m.players.find(Vt=>Vt.id===oe.actorId);W&&(Ct=W.name),ot&&(An=ot.name)}let bt="",we="";if(m.turnState==="LOSE_CARD"){const W=m.players.find(Vt=>Vt.id===m.loserId),ot=W?W.name:"Player";m.loseReason==="challenge"?(bt="Challenge Lost",we=`${ot} is discarding a card...`):oe&&oe.type==="KILL"?(bt=`${An} performs`,we=`Kill on ${Ct}`):oe&&oe.type==="STAB"?(bt=`${An} performs`,we=`Stab on ${Ct}`):(bt=`${ot} lost a life`,we="Choosing card to lose...")}const At=$e||m.status==="finished";return T.jsxs("div",{className:"min-h-screen bg-gray-950 text-white overflow-hidden flex flex-col relative font-sans",children:[T.jsx(Jd,{}),ne&&T.jsx(Av,{onClose:()=>_e(!1)}),T.jsxs("div",{className:"h-14 bg-gray-900/80 border-b border-gray-800 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("span",{className:"font-serif text-purple-500 font-bold tracking-wider hidden md:block",children:"CONSPIRACY"}),T.jsx("span",{className:"text-xs text-gray-500 bg-black/50 px-2 py-1 rounded",children:"Back Room"})]}),T.jsxs("div",{className:"flex gap-2",children:[T.jsx("button",{onClick:()=>_e(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400",title:"Rules",children:T.jsx(wm,{size:18})}),T.jsx("button",{onClick:()=>mt(!et),className:`p-2 rounded-full ${et?"bg-green-900 text-green-400":"text-gray-400 hover:bg-gray-800"}`,children:T.jsx(vv,{size:18})}),T.jsx("button",{onClick:()=>ve(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",title:"Leave Game",children:T.jsx(Ev,{size:18})})]})]}),T.jsxs("div",{className:"flex-1 relative p-4 flex flex-col z-10 max-w-5xl mx-auto w-full",children:[T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-4 z-10",children:m.players.map((W,ot)=>W.id===s.uid?null:T.jsxs("div",{className:`bg-gray-900/90 p-3 rounded-lg border transition-all ${m.turnIndex===ot?"border-purple-500 shadow-[0_0_10px_rgba(168,85,247,0.3)]":"border-gray-700"} ${W.isEliminated?"opacity-50 grayscale":""} relative`,children:[m.turnIndex===ot&&!W.isEliminated&&T.jsx("div",{className:"absolute -top-2.5 left-1/2 -translate-x-1/2 bg-purple-600 text-white text-[9px] font-bold px-2 py-0.5 rounded-full shadow-lg animate-pulse border border-purple-400 tracking-wider z-30",children:"PLAYING"}),W.isEliminated&&T.jsx("div",{className:"absolute inset-x-0 top-1/2 -translate-y-1/2 bg-red-900/90 text-red-200 text-xs font-black uppercase tracking-widest text-center py-1 z-20 border-y border-red-500 rotate-12",children:"Terminated"}),m.status==="finished"&&W.ready&&T.jsx("div",{className:"absolute -top-2 -right-2 bg-green-500 text-white rounded-full p-1 z-30 shadow-lg animate-in zoom-in",children:T.jsx(Wa,{size:12})}),T.jsxs("div",{className:"flex justify-between items-start mb-2",children:[T.jsxs("span",{className:`font-bold text-sm truncate w-20 flex items-center gap-1 ${m.turnIndex===ot?"text-purple-300":"text-gray-300"}`,children:[T.jsx($d,{size:12})," ",W.name]}),T.jsxs("div",{className:"flex items-center space-x-1 bg-black/40 px-2 py-0.5 rounded-full border border-gray-700",children:[T.jsx(Kc,{size:10,className:"text-yellow-400"}),T.jsx("span",{className:"text-xs font-mono",children:W.coins})]})]}),T.jsx("div",{className:"flex justify-center space-x-1 mb-2",children:W.cards.map((Vt,bi)=>T.jsx("div",{className:`w-6 h-9 rounded border ${Vt.flipped?"bg-black border-gray-800":"bg-linear-to-br from-purple-900 to-indigo-900 border-purple-700"} flex items-center justify-center`,children:Vt.flipped?T.jsx(Tv,{size:10,className:"text-gray-700"}):T.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500/50"})},bi))}),$&&m.turnState==="IDLE"&&!W.isEliminated&&T.jsxs("div",{className:"grid grid-cols-3 gap-1 mt-1",children:[T.jsx("button",{disabled:W.coins<2,onClick:()=>ue("STEAL",W.id),className:"disabled:opacity-20 bg-blue-900/40 border border-blue-800 hover:bg-blue-800 text-blue-300 py-1 rounded text-[9px] font-bold",children:"Steal"}),T.jsx("button",{disabled:q.coins<3,onClick:()=>ue("STAB",W.id),className:"disabled:opacity-20 bg-red-900/40 border border-red-800 hover:bg-red-800 text-red-300 py-1 rounded text-[9px] font-bold",children:"Stab(3)"}),T.jsx("button",{disabled:q.coins<7,onClick:()=>ue("KILL",W.id),className:"disabled:opacity-20 bg-gray-800 border border-red-900/50 hover:bg-red-950 text-red-500 py-1 rounded text-[9px] font-bold",children:"Kill(7)"})]}),m.currentAction?.votes.includes(W.id)&&(m.turnState==="ACTION_PENDING"||m.turnState==="BLOCK_PENDING")&&T.jsx("div",{className:"absolute -top-2 -right-2 z-20 text-green-400 bg-gray-900 rounded-full p-0.5 border border-green-500 shadow-lg",children:T.jsx(Wa,{size:14,className:"fill-current"})})]},W.id))}),T.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center my-2 space-y-4 z-10 relative",children:[m.status==="finished"&&T.jsxs("div",{className:"absolute inset-0 bg-black/95 flex flex-col items-center justify-center z-50 backdrop-blur-md rounded-xl border border-purple-500/30 p-8",children:[T.jsx(vC,{size:64,className:"text-yellow-400 mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(250,204,21,0.5)]"}),T.jsx("div",{className:"text-4xl font-bold text-white mb-2 font-serif",children:"Victory"}),T.jsxs("div",{className:"text-xl text-purple-400 mb-6",children:["Agent ",it[0]?.name," Survives"]}),T.jsxs("div",{className:"w-full max-w-sm mb-6 bg-gray-900/50 rounded-lg p-4 border border-gray-700",children:[T.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:m.players.map(W=>T.jsxs("div",{className:`flex items-center gap-1 text-xs px-2 py-1 rounded border ${W.ready?"bg-green-900/30 border-green-600 text-green-400":"bg-gray-800 border-gray-700 text-gray-500"}`,children:[W.ready?T.jsx(Wa,{size:10}):T.jsx("div",{className:"w-2.5 h-2.5 rounded-full border border-gray-500"}),W.name]},W.id))}),q.ready?T.jsx("div",{className:"text-center text-green-500 font-bold py-2 bg-green-900/20 rounded",children:"You are Ready"}):T.jsx("button",{onClick:ge,className:"w-full bg-purple-600 hover:bg-purple-500 text-white font-bold py-3 rounded-lg transition-all animate-pulse",children:"Mark as Ready"})]}),m.hostId===s.uid?T.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-xs",children:[T.jsxs("button",{onClick:F,disabled:!at,className:`px-8 py-3 rounded-xl font-bold text-lg flex items-center justify-center gap-2 shadow-lg transition-all ${at?"bg-green-700 hover:bg-green-600 cursor-pointer":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,children:[T.jsx(cC,{size:18})," New Operation"]}),T.jsxs("button",{onClick:ae,disabled:!at,className:`px-8 py-3 rounded-xl font-bold text-lg flex items-center justify-center gap-2 shadow-lg transition-all border ${at?"bg-transparent border-purple-500 text-purple-300 hover:bg-purple-900/20 cursor-pointer":"bg-transparent border-gray-700 text-gray-600 cursor-not-allowed"}`,children:[T.jsx(bC,{size:18})," Return to Lobby"]}),!at&&T.jsx("div",{className:"text-xs text-center text-gray-500 animate-pulse mt-1",children:"Wait for all agents to signal readiness..."})]}):T.jsx("div",{className:"text-gray-500 animate-pulse text-sm mt-4",children:"Waiting for Host Protocol..."})]}),(m.turnState==="ACTION_PENDING"||m.turnState==="LOSE_CARD")&&T.jsxs("div",{className:"w-full max-w-md bg-gray-900/95 p-6 rounded-xl border border-purple-500 shadow-[0_0_30px_rgba(168,85,247,0.15)] relative animate-in zoom-in-95",children:[T.jsx("div",{className:"text-center mb-6",children:m.turnState==="LOSE_CARD"?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:bt}),T.jsx("div",{className:`text-2xl font-black ${m.loseReason==="challenge"?"text-red-500":"text-purple-400"}`,children:we})]}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Current Operation"}),T.jsxs("div",{className:"text-xl font-bold text-white mb-2",children:[T.jsx("span",{className:"text-purple-400",children:Je().name})," ","uses"," ",T.jsx("span",{className:"text-yellow-400 uppercase",children:te}),Ct&&T.jsxs("span",{className:"text-gray-400",children:[" ","on ",Ct]})]}),T.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-4 mb-1",children:[T.jsx("span",{children:"Consensus"}),T.jsxs("span",{children:[be,"/",se]})]}),T.jsx("div",{className:"w-full bg-gray-800 h-1.5 rounded-full overflow-hidden",children:T.jsx("div",{className:"bg-purple-500 h-full transition-all duration-300",style:{width:`${be/se*100}%`}})})]})}),m.turnState==="ACTION_PENDING"&&It&&!q.isEliminated&&T.jsx("div",{className:"grid grid-cols-2 gap-3",children:ce?T.jsx("div",{className:"col-span-2 bg-gray-800 py-3 text-center text-gray-400 text-sm rounded font-mono animate-pulse",children:"... Awaiting Network ..."}):T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:Se,className:"col-span-2 bg-gray-700 hover:bg-gray-600 border border-gray-600 py-3 rounded font-bold text-white transition-all",children:"Allow / Pass"}),oe.type!=="EXPORT"&&T.jsxs("button",{onClick:()=>Et(s.uid),className:"bg-red-900/80 hover:bg-red-800 border border-red-700 py-3 rounded text-xs font-bold flex items-center justify-center gap-1 text-red-200 transition-all",children:[T.jsx(YT,{size:14})," Challenge Bluff"]}),Ve&&oe.type==="EXPORT"&&T.jsx("button",{onClick:()=>Le(s.uid,"HERO"),className:"bg-purple-700 hover:bg-purple-600 border border-purple-500 py-3 rounded text-xs font-bold",children:"Block (Hero)"}),Ve&&oe.type==="STEAL"&&T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:()=>Le(s.uid,"ROBBER"),className:"bg-blue-700 hover:bg-blue-600 border border-blue-500 py-3 rounded text-xs font-bold",children:"Block (Robber)"}),T.jsx("button",{onClick:()=>Le(s.uid,"RIDDLER"),className:"bg-emerald-700 hover:bg-emerald-600 border border-emerald-500 py-3 rounded text-xs font-bold",children:"Block (Riddler)"})]}),Ve&&oe.type==="STAB"&&T.jsx("button",{onClick:()=>Le(s.uid,"GENIE"),className:"bg-pink-700 hover:bg-pink-600 border border-pink-500 py-3 rounded text-xs font-bold",children:"Block (Genie)"})]})}),m.turnState==="ACTION_PENDING"&&!It&&T.jsx("div",{className:"text-center text-xs text-purple-400/60 animate-pulse font-mono mt-4",children:de&&!nt?T.jsx("span",{children:"Target is deliberating..."}):T.jsx("span",{children:"Waiting for consensus..."})})]}),m.turnState==="BLOCK_PENDING"&&T.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl border border-purple-500 w-full max-w-md text-center shadow-2xl animate-in zoom-in-95",children:[T.jsxs("div",{className:"mb-4",children:[T.jsx("span",{className:"font-bold text-white",children:m.players.find(W=>W.id===m.currentAction.blockerId).name})," ","is blocking with"," ",T.jsx("span",{className:"font-black text-purple-400 text-lg block mt-1",children:m.currentAction.blockClaim})]}),xn&&T.jsx("div",{className:"grid grid-cols-2 gap-3",children:m.currentAction.votes.includes(s.uid)?T.jsx("div",{className:"col-span-2 text-gray-500 text-xs italic",children:"Processing..."}):T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:jt,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold",children:"Accept Block"}),T.jsx("button",{onClick:()=>Et(s.uid),className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold shadow-red-900/20",children:"Challenge!"})]})})]}),m.turnState==="CHALLENGE_RESOLVE"&&T.jsxs("div",{className:"text-center w-full max-w-md animate-in fade-in slide-in-from-bottom-4",children:[T.jsx("div",{className:"text-red-400 font-bold text-xs uppercase tracking-widest mb-2 bg-red-950/50 p-2 rounded border border-red-900",children:"Interrogation in Progress"}),m.accusedId===s.uid?T.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl border border-red-500 shadow-[0_0_30px_rgba(239,68,68,0.2)]",children:[T.jsxs("div",{className:"text-lg mb-6 font-medium text-gray-300",children:["Prove you possess the: ",T.jsx("br",{}),T.jsx("span",{className:"text-3xl font-black text-yellow-400 uppercase tracking-wider block mt-2 drop-shadow-md",children:m.challengedCard})]}),T.jsx("div",{className:"flex justify-center gap-3 flex-wrap",children:q.cards.map((W,ot)=>W.flipped||W.type!==m.challengedCard?null:T.jsxs("button",{onClick:()=>Cs(ot),className:"bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-lg font-bold shadow-lg border-b-4 border-green-800 active:border-b-0 active:translate-y-1 transition-all flex items-center gap-2",children:[T.jsx(Wa,{size:20})," Reveal ",W.type]},ot))}),T.jsx("button",{onClick:Wi,className:`mt-8 text-sm uppercase tracking-wider font-bold transition-all p-2 rounded ${q.cards.some(W=>!W.flipped&&W.type===m.challengedCard)?"text-gray-600 hover:text-gray-400":"text-red-400 hover:text-white hover:bg-red-900 border border-transparent hover:border-red-500"}`,children:"I Admit Deception (Surrender)"})]}):T.jsxs("div",{className:"text-sm animate-pulse text-gray-400 bg-gray-900/80 p-6 rounded-xl border border-gray-700",children:["Awaiting confession from"," ",T.jsx("span",{className:"text-white font-bold",children:m.players.find(W=>W.id===m.accusedId)?.name}),"..."]})]}),$e&&T.jsx("div",{className:"fixed inset-0 bg-black/95 z-50 flex flex-col items-center justify-center p-4",children:T.jsxs("div",{className:"w-full max-w-2xl bg-gray-900 p-6 rounded-2xl border border-emerald-500/50 shadow-2xl max-h-[85vh] overflow-y-auto",children:[T.jsx("h3",{className:"text-2xl font-bold mb-2 text-emerald-400 font-serif sticky top-0 bg-gray-900/90 backdrop-blur pb-2 z-10",children:"The Riddler's Exchange"}),T.jsxs("p",{className:"text-gray-400 mb-6",children:["Select exactly"," ",T.jsx("span",{className:"text-white font-bold",children:q.cards.filter(W=>!W.flipped).length})," ","cards to keep."]}),T.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8",children:[...q.cards.filter(W=>!W.flipped).map(W=>W.type),...m.tempCards].map((W,ot)=>T.jsx("div",{children:T.jsx(Un,{type:W,flipped:!1,selected:ee.includes(ot),selectable:!0,onClick:()=>{const Vt=[...ee];if(Vt.includes(ot)){const bi=Vt.indexOf(ot);Vt.splice(bi,1),le(Vt)}else Vt.length<q.cards.filter(bi=>!bi.flipped).length&&le([...Vt,ot])}})},ot))}),T.jsx("button",{onClick:Ds,className:"w-full bg-emerald-600 hover:bg-emerald-500 py-4 rounded-xl font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-emerald-900/20",disabled:ee.length!==q.cards.filter(W=>!W.flipped).length,children:"Confirm Selection"})]})})]}),!$e&&m.status!=="finished"&&T.jsx("div",{className:"w-full max-w-md mx-auto mb-2 flex flex-col items-center space-y-1 pointer-events-none z-20 h-16 justify-end",children:m.logs?.slice(-2).reverse().map((W,ot)=>T.jsx("div",{className:"text-xs px-3 py-1.5 rounded bg-black/80 backdrop-blur-md border border-gray-800 text-gray-300 shadow-lg transition-opacity duration-500",style:{opacity:Math.max(.4,.9-ot*.3)},children:W.text},ot))}),!At&&(q.isEliminated?T.jsx("div",{className:"bg-red-950/80 backdrop-blur-sm p-6 text-center border-t border-red-800 text-red-500 font-black tracking-widest z-30 relative shadow-[0_-10px_50px_rgba(220,38,38,0.3)]",children:"ELIMINATED"}):T.jsxs("div",{className:`mt-auto bg-gray-900/95 backdrop-blur-md p-4 rounded-t-2xl border-t border-purple-500/30 shadow-[0_-10px_40px_rgba(0,0,0,0.5)] relative z-30 transition-all ${m.turnState==="LOSE_CARD"&&m.loserId===s.uid?"ring-2 ring-red-500 shadow-red-900/20":""}`,children:[T.jsxs("div",{className:"grid grid-cols-3 items-center mb-4",children:[T.jsxs("div",{className:"flex items-center gap-2 justify-start",children:[T.jsx($d,{size:16,className:"text-purple-400"}),T.jsx("span",{className:"text-sm font-bold text-gray-300 truncate",children:q.name})]}),T.jsx("div",{className:"flex justify-center",children:m.turnState==="LOSE_CARD"&&m.loserId===s.uid?T.jsx("div",{className:"text-red-400 font-black text-[10px] md:text-xs animate-bounce bg-red-900/20 px-2 py-1 rounded border border-red-500/50 whitespace-nowrap",children:" SACRIFICE"}):$&&m.turnState==="IDLE"&&T.jsx("span",{className:"bg-green-600 text-white text-[10px] md:text-xs font-bold px-3 py-0.5 rounded-full shadow-lg animate-bounce border border-green-400 tracking-wider whitespace-nowrap",children:"YOUR TURN"})}),T.jsx("div",{className:"flex justify-end",children:T.jsxs("div",{className:"bg-yellow-600/20 border border-yellow-600/50 text-yellow-500 px-3 py-1 rounded-full font-bold text-sm flex items-center shadow-sm",children:[T.jsx(Kc,{size:14,className:"mr-1.5"})," ",q.coins]})})]}),T.jsx("div",{className:"flex justify-center space-x-3 mb-6 perspective-1000",children:q.cards.map((W,ot)=>T.jsx("div",{className:`transition-transform hover:-translate-y-2 duration-300 ${m.turnState==="LOSE_CARD"&&m.loserId===s.uid&&!W.flipped?"animate-pulse cursor-pointer":""}`,children:T.jsx(Un,{type:W.type,flipped:W.flipped,selectable:m.turnState==="LOSE_CARD"&&m.loserId===s.uid&&!W.flipped,onClick:()=>{m.turnState==="LOSE_CARD"&&m.loserId===s.uid&&!W.flipped&&Ns(ot)}})},ot))}),$&&m.turnState==="IDLE"&&T.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[T.jsxs("button",{onClick:()=>ue("EARN"),className:"bg-gray-800 hover:bg-gray-700 border border-gray-700 p-2 rounded-lg flex flex-col items-center transition-colors group",children:[T.jsx(Kc,{size:20,className:"text-gray-400 group-hover:text-yellow-200 mb-1"}),T.jsx("span",{className:"text-[10px] text-gray-400 group-hover:text-white font-bold",children:"Income (+1)"})]}),T.jsxs("button",{onClick:()=>ue("EXPORT"),className:"bg-gray-800 hover:bg-gray-700 border border-gray-700 p-2 rounded-lg flex flex-col items-center transition-colors group",children:[T.jsx(eC,{size:20,className:"text-blue-400/70 group-hover:text-blue-300 mb-1"}),T.jsx("span",{className:"text-[10px] text-gray-400 group-hover:text-white font-bold",children:"Export (+2)"})]}),T.jsxs("button",{onClick:()=>ue("TAX"),className:"bg-purple-900/30 hover:bg-purple-900/50 border border-purple-800/50 p-2 rounded-lg flex flex-col items-center transition-colors group",children:[T.jsx(jl,{size:20,className:"text-purple-400 mb-1"}),T.jsx("span",{className:"text-[10px] text-purple-300 font-bold",children:"Hero (+3)"})]}),T.jsxs("button",{onClick:()=>ue("EXCHANGE"),className:"bg-emerald-900/30 hover:bg-emerald-900/50 border border-emerald-800/50 p-2 rounded-lg flex flex-col items-center transition-colors group",children:[T.jsx(XT,{size:20,className:"text-emerald-400 mb-1"}),T.jsx("span",{className:"text-[10px] text-emerald-300 font-bold",children:"Exchange"})]})]})]}))]}),T.jsx("div",{className:"bg-gray-950 pb-1 pt-1 z-50",children:T.jsx(wv,{})}),xe&&T.jsx(Sv,{onConfirm:vt,onCancel:()=>ve(!1),isHost:m?.hostId===s?.uid,onReturnToLobby:ae}),et&&T.jsx("div",{className:"fixed top-16 right-4 w-64 max-h-60 bg-gray-900/95 border border-gray-700 rounded-xl z-155 overflow-y-auto p-2 shadow-2xl",children:T.jsxs("div",{className:"bg-gray-900 rounded-2xl w-full max-w-md h-[70vh] flex flex-col border border-gray-700 shadow-2xl",children:[T.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center bg-gray-950 rounded-t-2xl",children:[T.jsxs("h3",{className:"font-bold text-white flex items-center gap-2 font-serif",children:[T.jsx(vv,{size:18,className:"text-purple-500"})," Mission Log"]}),T.jsx("button",{onClick:()=>mt(!et),children:T.jsx(ZT,{className:"text-gray-400 hover:text-white"})})]}),T.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...m.logs||[]].reverse().map((W,ot)=>T.jsx("div",{className:`text-xs p-3 rounded border-l-2 ${W.type==="danger"?"bg-red-900/10 border-red-500 text-red-300":W.type==="success"?"bg-green-900/10 border-green-500 text-green-300":W.type==="warning"?"bg-yellow-900/10 border-yellow-500 text-yellow-300":"bg-gray-800 border-gray-600 text-gray-400"}`,children:W.text},ot))})]})})]})}return null}j1.createRoot(document.getElementById("root")).render(T.jsx(Rt.StrictMode,{children:T.jsx(xC,{})}));
