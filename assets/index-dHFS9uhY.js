(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Od={exports:{}},bl={};var V_;function N1(){if(V_)return bl;V_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return bl.Fragment=e,bl.jsx=i,bl.jsxs=i,bl}var k_;function D1(){return k_||(k_=1,Od.exports=N1()),Od.exports}var A=D1(),Md={exports:{}},xe={};var L_;function O1(){if(L_)return xe;L_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function q(N){return N===null||typeof N!="object"?null:(N=M&&N[M]||N["@@iterator"],typeof N=="function"?N:null)}var te={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oe=Object.assign,ee={};function ye(N,K,ae){this.props=N,this.context=K,this.refs=ee,this.updater=ae||te}ye.prototype.isReactComponent={},ye.prototype.setState=function(N,K){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,K,"setState")},ye.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Ce(){}Ce.prototype=ye.prototype;function _e(N,K,ae){this.props=N,this.context=K,this.refs=ee,this.updater=ae||te}var st=_e.prototype=new Ce;st.constructor=_e,oe(st,ye.prototype),st.isPureReactComponent=!0;var tt=Array.isArray;function Qe(){}var x={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(N,K,ae){var ue=ae.ref;return{$$typeof:r,type:N,key:K,ref:ue!==void 0?ue:null,props:ae}}function V(N,K){return I(N.type,K,N.props)}function O(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function L(N){var K={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ae){return K[ae]})}var R=/\/+/g;function Tt(N,K){return typeof N=="object"&&N!==null&&N.key!=null?L(""+N.key):K.toString(36)}function kt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Qe,Qe):(N.status="pending",N.then(function(K){N.status==="pending"&&(N.status="fulfilled",N.value=K)},function(K){N.status==="pending"&&(N.status="rejected",N.reason=K)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function G(N,K,ae,ue,be){var De=typeof N;(De==="undefined"||De==="boolean")&&(N=null);var Ue=!1;if(N===null)Ue=!0;else switch(De){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(N.$$typeof){case r:case e:Ue=!0;break;case _:return Ue=N._init,G(Ue(N._payload),K,ae,ue,be)}}if(Ue)return be=be(N),Ue=ue===""?"."+Tt(N,0):ue,tt(be)?(ae="",Ue!=null&&(ae=Ue.replace(R,"$&/")+"/"),G(be,K,ae,"",function(Zi){return Zi})):be!=null&&(O(be)&&(be=V(be,ae+(be.key==null||N&&N.key===be.key?"":(""+be.key).replace(R,"$&/")+"/")+Ue)),K.push(be)),1;Ue=0;var Lt=ue===""?".":ue+":";if(tt(N))for(var bt=0;bt<N.length;bt++)ue=N[bt],De=Lt+Tt(ue,bt),Ue+=G(ue,K,ae,De,be);else if(bt=q(N),typeof bt=="function")for(N=bt.call(N),bt=0;!(ue=N.next()).done;)ue=ue.value,De=Lt+Tt(ue,bt++),Ue+=G(ue,K,ae,De,be);else if(De==="object"){if(typeof N.then=="function")return G(kt(N),K,ae,ue,be);throw K=String(N),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function se(N,K,ae){if(N==null)return N;var ue=[],be=0;return G(N,ue,"","",function(De){return K.call(ae,De,be++)}),ue}function pe(N){if(N._status===-1){var K=N._result;K=K(),K.then(function(ae){(N._status===0||N._status===-1)&&(N._status=1,N._result=ae)},function(ae){(N._status===0||N._status===-1)&&(N._status=2,N._result=ae)}),N._status===-1&&(N._status=0,N._result=K)}if(N._status===1)return N._result.default;throw N._result}var ze=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},We={map:se,forEach:function(N,K,ae){se(N,function(){K.apply(this,arguments)},ae)},count:function(N){var K=0;return se(N,function(){K++}),K},toArray:function(N){return se(N,function(K){return K})||[]},only:function(N){if(!O(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return xe.Activity=w,xe.Children=We,xe.Component=ye,xe.Fragment=i,xe.Profiler=l,xe.PureComponent=_e,xe.StrictMode=a,xe.Suspense=g,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,xe.__COMPILER_RUNTIME={__proto__:null,c:function(N){return x.H.useMemoCache(N)}},xe.cache=function(N){return function(){return N.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(N,K,ae){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ue=oe({},N.props),be=N.key;if(K!=null)for(De in K.key!==void 0&&(be=""+K.key),K)!S.call(K,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&K.ref===void 0||(ue[De]=K[De]);var De=arguments.length-2;if(De===1)ue.children=ae;else if(1<De){for(var Ue=Array(De),Lt=0;Lt<De;Lt++)Ue[Lt]=arguments[Lt+2];ue.children=Ue}return I(N.type,be,ue)},xe.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},xe.createElement=function(N,K,ae){var ue,be={},De=null;if(K!=null)for(ue in K.key!==void 0&&(De=""+K.key),K)S.call(K,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(be[ue]=K[ue]);var Ue=arguments.length-2;if(Ue===1)be.children=ae;else if(1<Ue){for(var Lt=Array(Ue),bt=0;bt<Ue;bt++)Lt[bt]=arguments[bt+2];be.children=Lt}if(N&&N.defaultProps)for(ue in Ue=N.defaultProps,Ue)be[ue]===void 0&&(be[ue]=Ue[ue]);return I(N,De,be)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(N){return{$$typeof:y,render:N}},xe.isValidElement=O,xe.lazy=function(N){return{$$typeof:_,_payload:{_status:-1,_result:N},_init:pe}},xe.memo=function(N,K){return{$$typeof:v,type:N,compare:K===void 0?null:K}},xe.startTransition=function(N){var K=x.T,ae={};x.T=ae;try{var ue=N(),be=x.S;be!==null&&be(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Qe,ze)}catch(De){ze(De)}finally{K!==null&&ae.types!==null&&(K.types=ae.types),x.T=K}},xe.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},xe.use=function(N){return x.H.use(N)},xe.useActionState=function(N,K,ae){return x.H.useActionState(N,K,ae)},xe.useCallback=function(N,K){return x.H.useCallback(N,K)},xe.useContext=function(N){return x.H.useContext(N)},xe.useDebugValue=function(){},xe.useDeferredValue=function(N,K){return x.H.useDeferredValue(N,K)},xe.useEffect=function(N,K){return x.H.useEffect(N,K)},xe.useEffectEvent=function(N){return x.H.useEffectEvent(N)},xe.useId=function(){return x.H.useId()},xe.useImperativeHandle=function(N,K,ae){return x.H.useImperativeHandle(N,K,ae)},xe.useInsertionEffect=function(N,K){return x.H.useInsertionEffect(N,K)},xe.useLayoutEffect=function(N,K){return x.H.useLayoutEffect(N,K)},xe.useMemo=function(N,K){return x.H.useMemo(N,K)},xe.useOptimistic=function(N,K){return x.H.useOptimistic(N,K)},xe.useReducer=function(N,K,ae){return x.H.useReducer(N,K,ae)},xe.useRef=function(N){return x.H.useRef(N)},xe.useState=function(N){return x.H.useState(N)},xe.useSyncExternalStore=function(N,K,ae){return x.H.useSyncExternalStore(N,K,ae)},xe.useTransition=function(){return x.H.useTransition()},xe.version="19.2.0",xe}var U_;function Rm(){return U_||(U_=1,Md.exports=O1()),Md.exports}var Nt=Rm(),Vd={exports:{}},Al={},kd={exports:{}},Ld={};var P_;function M1(){return P_||(P_=1,(function(r){function e(G,se){var pe=G.length;G.push(se);e:for(;0<pe;){var ze=pe-1>>>1,We=G[ze];if(0<l(We,se))G[ze]=se,G[pe]=We,pe=ze;else break e}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var se=G[0],pe=G.pop();if(pe!==se){G[0]=pe;e:for(var ze=0,We=G.length,N=We>>>1;ze<N;){var K=2*(ze+1)-1,ae=G[K],ue=K+1,be=G[ue];if(0>l(ae,pe))ue<We&&0>l(be,ae)?(G[ze]=be,G[ue]=pe,ze=ue):(G[ze]=ae,G[K]=pe,ze=K);else if(ue<We&&0>l(be,pe))G[ze]=be,G[ue]=pe,ze=ue;else break e}}return se}function l(G,se){var pe=G.sortIndex-se.sortIndex;return pe!==0?pe:G.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var g=[],v=[],_=1,w=null,M=3,q=!1,te=!1,oe=!1,ee=!1,ye=typeof setTimeout=="function"?setTimeout:null,Ce=typeof clearTimeout=="function"?clearTimeout:null,_e=typeof setImmediate<"u"?setImmediate:null;function st(G){for(var se=i(v);se!==null;){if(se.callback===null)a(v);else if(se.startTime<=G)a(v),se.sortIndex=se.expirationTime,e(g,se);else break;se=i(v)}}function tt(G){if(oe=!1,st(G),!te)if(i(g)!==null)te=!0,Qe||(Qe=!0,L());else{var se=i(v);se!==null&&kt(tt,se.startTime-G)}}var Qe=!1,x=-1,S=5,I=-1;function V(){return ee?!0:!(r.unstable_now()-I<S)}function O(){if(ee=!1,Qe){var G=r.unstable_now();I=G;var se=!0;try{e:{te=!1,oe&&(oe=!1,Ce(x),x=-1),q=!0;var pe=M;try{t:{for(st(G),w=i(g);w!==null&&!(w.expirationTime>G&&V());){var ze=w.callback;if(typeof ze=="function"){w.callback=null,M=w.priorityLevel;var We=ze(w.expirationTime<=G);if(G=r.unstable_now(),typeof We=="function"){w.callback=We,st(G),se=!0;break t}w===i(g)&&a(g),st(G)}else a(g);w=i(g)}if(w!==null)se=!0;else{var N=i(v);N!==null&&kt(tt,N.startTime-G),se=!1}}break e}finally{w=null,M=pe,q=!1}se=void 0}}finally{se?L():Qe=!1}}}var L;if(typeof _e=="function")L=function(){_e(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Tt=R.port2;R.port1.onmessage=O,L=function(){Tt.postMessage(null)}}else L=function(){ye(O,0)};function kt(G,se){x=ye(function(){G(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var se=3;break;default:se=M}var pe=M;M=se;try{return G()}finally{M=pe}},r.unstable_requestPaint=function(){ee=!0},r.unstable_runWithPriority=function(G,se){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var pe=M;M=G;try{return se()}finally{M=pe}},r.unstable_scheduleCallback=function(G,se,pe){var ze=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?ze+pe:ze):pe=ze,G){case 1:var We=-1;break;case 2:We=250;break;case 5:We=1073741823;break;case 4:We=1e4;break;default:We=5e3}return We=pe+We,G={id:_++,callback:se,priorityLevel:G,startTime:pe,expirationTime:We,sortIndex:-1},pe>ze?(G.sortIndex=pe,e(v,G),i(g)===null&&G===i(v)&&(oe?(Ce(x),x=-1):oe=!0,kt(tt,pe-ze))):(G.sortIndex=We,e(g,G),te||q||(te=!0,Qe||(Qe=!0,L()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var se=M;return function(){var pe=M;M=se;try{return G.apply(this,arguments)}finally{M=pe}}}})(Ld)),Ld}var j_;function V1(){return j_||(j_=1,kd.exports=M1()),kd.exports}var Ud={exports:{}},En={};var z_;function k1(){if(z_)return En;z_=1;var r=Rm();function e(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)v+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,v,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:g,containerInfo:v,implementation:_}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,En.createPortal=function(g,v){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(g,v,null,_)},En.flushSync=function(g){var v=d.T,_=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=v,a.p=_,a.d.f()}},En.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(g,v))},En.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},En.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var _=v.as,w=y(_,v.crossOrigin),M=typeof v.integrity=="string"?v.integrity:void 0,q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;_==="style"?a.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:q}):_==="script"&&a.d.X(g,{crossOrigin:w,integrity:M,fetchPriority:q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},En.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var _=y(v.as,v.crossOrigin);a.d.M(g,{crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(g)},En.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var _=v.as,w=y(_,v.crossOrigin);a.d.L(g,_,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},En.preloadModule=function(g,v){if(typeof g=="string")if(v){var _=y(v.as,v.crossOrigin);a.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(g)},En.requestFormReset=function(g){a.d.r(g)},En.unstable_batchedUpdates=function(g,v){return g(v)},En.useFormState=function(g,v,_){return d.H.useFormState(g,v,_)},En.useFormStatus=function(){return d.H.useHostTransitionStatus()},En.version="19.2.0",En}var B_;function L1(){if(B_)return Ud.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ud.exports=k1(),Ud.exports}var H_;function U1(){if(H_)return Al;H_=1;var r=V1(),e=Rm(),i=L1();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,T=h.child;T;){if(T===s){p=!0,s=h,o=f;break}if(T===o){p=!0,o=h,s=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===s){p=!0,s=f,o=h;break}if(T===o){p=!0,o=f,s=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),te=Symbol.for("react.portal"),oe=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),ye=Symbol.for("react.profiler"),Ce=Symbol.for("react.consumer"),_e=Symbol.for("react.context"),st=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oe:return"Fragment";case ye:return"Profiler";case ee:return"StrictMode";case tt:return"Suspense";case Qe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case te:return"Portal";case _e:return t.displayName||"Context";case Ce:return(t._context.displayName||"Context")+".Consumer";case st:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:Tt(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Tt(t(n))}catch{}}return null}var kt=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},ze=[],We=-1;function N(t){return{current:t}}function K(t){0>We||(t.current=ze[We],ze[We]=null,We--)}function ae(t,n){We++,ze[We]=t.current,t.current=n}var ue=N(null),be=N(null),De=N(null),Ue=N(null);function Lt(t,n){switch(ae(De,n),ae(be,t),ae(ue,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?i_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=i_(n),t=s_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ue),ae(ue,t)}function bt(){K(ue),K(be),K(De)}function Zi(t){t.memoizedState!==null&&ae(Ue,t);var n=ue.current,s=s_(n,t.type);n!==s&&(ae(be,t),ae(ue,s))}function Is(t){be.current===t&&(K(ue),K(be)),Ue.current===t&&(K(Ue),_l._currentValue=pe)}var Ji,Q;function Z(t){if(Ji===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ji=n&&n[1]||"",Q=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ji+t+Q}var re=!1;function ve(t,n){if(!t||re)return"";re=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){z=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var C=p.split(`
`),j=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var F=`
`+C[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{re=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Z(s):""}function he(t,n){switch(t.tag){case 26:case 27:case 5:return Z(t.type);case 16:return Z("Lazy");case 13:return t.child!==n&&n!==null?Z("Suspense Fallback"):Z("Suspense");case 19:return Z("SuspenseList");case 0:case 15:return ve(t.type,!1);case 11:return ve(t.type.render,!1);case 1:return ve(t.type,!0);case 31:return Z("Activity");default:return""}}function Ee(t){try{var n="",s=null;do n+=he(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var W=Object.prototype.hasOwnProperty,le=r.unstable_scheduleCallback,Ye=r.unstable_cancelCallback,At=r.unstable_shouldYield,Ut=r.unstable_requestPaint,Ct=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,_t=r.unstable_ImmediatePriority,Le=r.unstable_UserBlockingPriority,Ve=r.unstable_NormalPriority,Pt=r.unstable_LowPriority,hn=r.unstable_IdlePriority,rn=r.log,ft=r.unstable_setDisableYieldValue,ie=null,we=null;function dt(t){if(typeof rn=="function"&&ft(t),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(ie,t)}catch{}}var vt=Math.clz32?Math.clz32:ru,su=Math.log,ua=Math.LN2;function ru(t){return t>>>=0,t===0?32:31-(su(t)/ua|0)|0}var vi=256,Rr=262144,qt=4194304;function Ei(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ti(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=Ei(o):(p&=T,p!==0?h=Ei(p):s||(s=T&~t,s!==0&&(h=Ei(s))))):(T=o&~f,T!==0?h=Ei(T):p!==0?h=Ei(p):s||(s=o&~t,s!==0&&(h=Ei(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function oi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function kh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var t=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),t}function bi(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Cr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lh(t,n,s,o,h,f){var p=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,j=t.hiddenUpdates;for(s=p&~s;0<s;){var F=31-vt(s),X=1<<F;T[F]=0,C[F]=-1;var z=j[F];if(z!==null)for(j[F]=null,F=0;F<z.length;F++){var H=z[F];H!==null&&(H.lane&=-536870913)}s&=~X}o!==0&&Ir(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Ir(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-vt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function Ao(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-vt(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function So(t,n){var s=n&-n;return s=(s&42)!==0?1:xr(s),(s&(t.suspendedLanes|n))!==0?0:s}function xr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Wi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ou(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:C_(t.type))}function li(t,n){var s=se.p;try{return se.p=t,n()}finally{se.p=s}}var ui=Math.random().toString(36).slice(2),Gt="__reactFiber$"+ui,an="__reactProps$"+ui,Ai="__reactContainer$"+ui,ca="__reactEvents$"+ui,Uh="__reactListeners$"+ui,lu="__reactHandles$"+ui,uu="__reactResources$"+ui,Si="__reactMarker$"+ui;function ha(t){delete t[Gt],delete t[an],delete t[ca],delete t[Uh],delete t[lu]}function wi(t){var n=t[Gt];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Ai]||s[Gt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=h_(t);t!==null;){if(s=t[Gt])return s;t=h_(t)}return n}t=s,s=t.parentNode}return null}function Kn(t){if(t=t[Gt]||t[Ai]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ri(t){var n=t[uu];return n||(n=t[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ft(t){t[Si]=!0}var wo=new Set,Ro={};function Ci(t,n){Ii(t,n),Ii(t+"Capture",n)}function Ii(t,n){for(Ro[t]=n,t=0;t<n.length;t++)wo.add(n[t])}var Co=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},xo={};function cu(t){return W.call(xo,t)?!0:W.call(Io,t)?!1:Co.test(t)?xo[t]=!0:(Io[t]=!0,!1)}function fa(t,n,s){if(cu(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Pn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Qt(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function No(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ut(t){if(!t._valueTracker){var n=xs(t)?"checked":"value";t._valueTracker=No(t,n,""+t[n])}}function Nr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=xs(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dr=/[\n"\\]/g;function In(t){return t.replace(Dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function da(t,n,s,o,h,f,p,T){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+on(n)):t.value!==""+on(n)&&(t.value=""+on(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Do(t,p,on(n)):s!=null?Do(t,p,on(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+on(T):t.removeAttribute("name")}function hu(t,n,s,o,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ut(t);return}s=s!=null?""+on(s):"",n=n!=null?""+on(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),ut(t)}function Do(t,n,s){n==="number"&&xi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ns(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+on(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function fu(t,n,s){if(n!=null&&(n=""+on(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+on(s):""}function Ds(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(kt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=on(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),ut(t)}function xn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||du.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Mo(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Oo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Oo(t,f,n[f])}function ma(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(t){return Os.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ci(){}var Vo=null;function Yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ms=null,Ni=null;function Or(t){var n=Kn(t);if(n&&(t=n.stateNode)){var s=t[an]||null;e:switch(t=n.stateNode,n.type){case"input":if(da(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+In(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[an]||null;if(!h)throw Error(a(90));da(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&Nr(o)}break e;case"textarea":fu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Ns(t,!!s.multiple,n,!1)}}}var ga=!1;function Vs(t,n,s){if(ga)return t(n,s);ga=!0;try{var o=t(n);return o}finally{if(ga=!1,(Ms!==null||Ni!==null)&&(oc(),Ms&&(n=Ms,t=Ni,Ni=Ms=null,Or(n),t)))for(n=0;n<t.length;n++)Or(t[n])}}function hi(t,n){var s=t.stateNode;if(s===null)return null;var o=s[an]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(Xn)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{Mr=!1}var Di=null,ko=null,Vr=null;function Lo(){if(Vr)return Vr;var t,n=ko,s=n.length,o,h="value"in Di?Di.value:Di.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var p=s-t;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return Vr=h.slice(t,1<o?1-o:void 0)}function kr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function es(){return!0}function fi(){return!1}function fn(t){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?es:fi,this.isPropagationStopped=fi,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),n}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=fn(ts),ks=w({},ts,{view:0,detail:0}),Uo=fn(ks),Ls,ya,Mi,_a=w({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mi&&(Mi&&t.type==="mousemove"?(Ls=t.screenX-Mi.screenX,ya=t.screenY-Mi.screenY):ya=Ls=0,Mi=t),Ls)},movementY:function(t){return"movementY"in t?t.movementY:ya}}),Po=fn(_a),Lr=w({},_a,{dataTransfer:0}),pu=fn(Lr),gu=w({},ks,{relatedTarget:0}),Ur=fn(gu),jo=w({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=fn(jo),va=w({},ts,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_u=fn(va),vu=w({},ts,{data:0}),Vi=fn(vu),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=bu[t])?!!n[t]:!1}function Us(){return Au}var wn=w({},ks,{key:function(t){if(t.key){var n=Eu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(t){return t.type==="keypress"?kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Su=fn(wn),wu=w({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ns=fn(wu),u=w({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),m=fn(u),E=w({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=fn(E),U=w({},_a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=fn(U),ne=w({},ts,{newState:0,oldState:0}),Oe=fn(ne),jt=[9,13,27,32],rt=Xn&&"CompositionEvent"in window,It=null;Xn&&"documentMode"in document&&(It=document.documentMode);var $n=Xn&&"TextEvent"in window&&!It,ki=Xn&&(!rt||It&&8<It&&11>=It),di=" ",mi=!1;function Pr(t,n){switch(t){case"keyup":return jt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ta=!1;function eb(t,n){switch(t){case"compositionend":return Ea(n);case"keypress":return n.which!==32?null:(mi=!0,di);case"textInput":return t=n.data,t===di&&mi?null:t;default:return null}}function tb(t,n){if(Ta)return t==="compositionend"||!rt&&Pr(t,n)?(t=Lo(),Vr=ko=Di=null,Ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ki&&n.locale!=="ko"?null:n.data;default:return null}}var nb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!nb[t.type]:n==="textarea"}function pp(t,n,s,o){Ms?Ni?Ni.push(o):Ni=[o]:Ms=o,n=mc(n,"onChange"),0<n.length&&(s=new Oi("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var zo=null,Bo=null;function ib(t){Zy(t,0)}function Ru(t){var n=Un(t);if(Nr(n))return t}function gp(t,n){if(t==="change")return n}var yp=!1;if(Xn){var Ph;if(Xn){var jh="oninput"in document;if(!jh){var _p=document.createElement("div");_p.setAttribute("oninput","return;"),jh=typeof _p.oninput=="function"}Ph=jh}else Ph=!1;yp=Ph&&(!document.documentMode||9<document.documentMode)}function vp(){zo&&(zo.detachEvent("onpropertychange",Ep),Bo=zo=null)}function Ep(t){if(t.propertyName==="value"&&Ru(Bo)){var n=[];pp(n,Bo,t,Yn(t)),Vs(ib,n)}}function sb(t,n,s){t==="focusin"?(vp(),zo=n,Bo=s,zo.attachEvent("onpropertychange",Ep)):t==="focusout"&&vp()}function rb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(Bo)}function ab(t,n){if(t==="click")return Ru(n)}function ob(t,n){if(t==="input"||t==="change")return Ru(n)}function lb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var jn=typeof Object.is=="function"?Object.is:lb;function Ho(t,n){if(jn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!W.call(n,h)||!jn(t[h],n[h]))return!1}return!0}function Tp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bp(t,n){var s=Tp(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Tp(s)}}function Ap(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ap(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Sp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=xi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=xi(t.document)}return n}function zh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ub=Xn&&"documentMode"in document&&11>=document.documentMode,ba=null,Bh=null,qo=null,Hh=!1;function wp(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Hh||ba==null||ba!==xi(o)||(o=ba,"selectionStart"in o&&zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qo&&Ho(qo,o)||(qo=o,o=mc(Bh,"onSelect"),0<o.length&&(n=new Oi("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=ba)))}function jr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Aa={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},qh={},Rp={};Xn&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function zr(t){if(qh[t])return qh[t];if(!Aa[t])return t;var n=Aa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Rp)return qh[t]=n[s];return t}var Cp=zr("animationend"),Ip=zr("animationiteration"),xp=zr("animationstart"),cb=zr("transitionrun"),hb=zr("transitionstart"),fb=zr("transitioncancel"),Np=zr("transitionend"),Dp=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function pi(t,n){Dp.set(t,n),Ci(n,[t])}var Cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Zn=[],Sa=0,Fh=0;function Iu(){for(var t=Sa,n=Fh=Sa=0;n<t;){var s=Zn[n];Zn[n++]=null;var o=Zn[n];Zn[n++]=null;var h=Zn[n];Zn[n++]=null;var f=Zn[n];if(Zn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Op(s,h,f)}}function xu(t,n,s,o){Zn[Sa++]=t,Zn[Sa++]=n,Zn[Sa++]=s,Zn[Sa++]=o,Fh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Qh(t,n,s,o){return xu(t,n,s,o),Nu(t)}function Br(t,n){return xu(t,null,null,n),Nu(t)}function Op(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-vt(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Nu(t){if(50<hl)throw hl=0,nd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var wa={};function db(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,n,s,o){return new db(t,n,s,o)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function is(t,n){var s=t.alternate;return s===null?(s=zn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Mp(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Du(t,n,s,o,h,f){var p=0;if(o=t,typeof t=="function")Kh(t)&&(p=1);else if(typeof t=="string")p=_1(t,s,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=zn(31,s,n,h),t.elementType=I,t.lanes=f,t;case oe:return Hr(s.children,h,f,n);case ee:p=8,h|=24;break;case ye:return t=zn(12,s,n,h|2),t.elementType=ye,t.lanes=f,t;case tt:return t=zn(13,s,n,h),t.elementType=tt,t.lanes=f,t;case Qe:return t=zn(19,s,n,h),t.elementType=Qe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _e:p=10;break e;case Ce:p=9;break e;case st:p=11;break e;case x:p=14;break e;case S:p=16,o=null;break e}p=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=zn(p,s,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Hr(t,n,s,o){return t=zn(7,t,o,n),t.lanes=s,t}function Yh(t,n,s){return t=zn(6,t,null,n),t.lanes=s,t}function Vp(t){var n=zn(18,null,null,0);return n.stateNode=t,n}function Xh(t,n,s){return n=zn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var kp=new WeakMap;function Jn(t,n){if(typeof t=="object"&&t!==null){var s=kp.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Ee(n)},kp.set(t,n),n)}return{value:t,source:n,stack:Ee(n)}}var Ra=[],Ca=0,Ou=null,Go=0,Wn=[],ei=0,Ps=null,Li=1,Ui="";function ss(t,n){Ra[Ca++]=Go,Ra[Ca++]=Ou,Ou=t,Go=n}function Lp(t,n,s){Wn[ei++]=Li,Wn[ei++]=Ui,Wn[ei++]=Ps,Ps=t;var o=Li;t=Ui;var h=32-vt(o)-1;o&=~(1<<h),s+=1;var f=32-vt(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Li=1<<32-vt(n)+h|s<<h|o,Ui=f+t}else Li=1<<f|s<<h|o,Ui=t}function $h(t){t.return!==null&&(ss(t,1),Lp(t,1,0))}function Zh(t){for(;t===Ou;)Ou=Ra[--Ca],Ra[Ca]=null,Go=Ra[--Ca],Ra[Ca]=null;for(;t===Ps;)Ps=Wn[--ei],Wn[ei]=null,Ui=Wn[--ei],Wn[ei]=null,Li=Wn[--ei],Wn[ei]=null}function Up(t,n){Wn[ei++]=Li,Wn[ei++]=Ui,Wn[ei++]=Ps,Li=n.id,Ui=n.overflow,Ps=t}var dn=null,St=null,Ke=!1,js=null,ti=!1,Jh=Error(a(519));function zs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(Jn(n,t)),Jh}function Pp(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[Gt]=t,n[an]=o,s){case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":case"embed":je("load",n);break;case"video":case"audio":for(s=0;s<dl.length;s++)je(dl[s],n);break;case"source":je("error",n);break;case"img":case"image":case"link":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"input":je("invalid",n),hu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":je("invalid",n);break;case"textarea":je("invalid",n),Ds(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||t_(n.textContent,s)?(o.popover!=null&&(je("beforetoggle",n),je("toggle",n)),o.onScroll!=null&&je("scroll",n),o.onScrollEnd!=null&&je("scrollend",n),o.onClick!=null&&(n.onclick=ci),n=!0):n=!1,n||zs(t,!0)}function jp(t){for(dn=t.return;dn;)switch(dn.tag){case 5:case 31:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:dn=dn.return}}function Ia(t){if(t!==dn)return!1;if(!Ke)return jp(t),Ke=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||yd(t.type,t.memoizedProps)),s=!s),s&&St&&zs(t),jp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));St=c_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));St=c_(t)}else n===27?(n=St,er(t.type)?(t=bd,bd=null,St=t):St=n):St=dn?ii(t.stateNode.nextSibling):null;return!0}function qr(){St=dn=null,Ke=!1}function Wh(){var t=js;return t!==null&&(Mn===null?Mn=t:Mn.push.apply(Mn,t),js=null),t}function Fo(t){js===null?js=[t]:js.push(t)}var ef=N(null),Gr=null,rs=null;function Bs(t,n,s){ae(ef,n._currentValue),n._currentValue=s}function as(t){t._currentValue=ef.current,K(ef)}function tf(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function nf(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),tf(f.return,s,t),o||(p=null);break e}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),tf(p,s,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function xa(t,n,s,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;jn(h.pendingProps.value,p.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ue.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(_l):t=[_l])}h=h.return}t!==null&&nf(n,t,s,o),n.flags|=262144}function Mu(t){for(t=t.firstContext;t!==null;){if(!jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fr(t){Gr=t,rs=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function mn(t){return zp(Gr,t)}function Vu(t,n){return Gr===null&&Fr(t),zp(t,n)}function zp(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},rs===null){if(t===null)throw Error(a(308));rs=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else rs=rs.next=n;return s}var mb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},pb=r.unstable_scheduleCallback,gb=r.unstable_NormalPriority,Kt={$$typeof:_e,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new mb,data:new Map,refCount:0}}function Qo(t){t.refCount--,t.refCount===0&&pb(gb,function(){t.controller.abort()})}var Ko=null,rf=0,Na=0,Da=null;function yb(t,n){if(Ko===null){var s=Ko=[];rf=0,Na=ld(),Da={status:"pending",value:void 0,then:function(o){s.push(o)}}}return rf++,n.then(Bp,Bp),n}function Bp(){if(--rf===0&&Ko!==null){Da!==null&&(Da.status="fulfilled");var t=Ko;Ko=null,Na=0,Da=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function _b(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Hp=G.S;G.S=function(t,n){wy=Ct(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&yb(t,n),Hp!==null&&Hp(t,n)};var Qr=N(null);function af(){var t=Qr.current;return t!==null?t:Et.pooledCache}function ku(t,n){n===null?ae(Qr,Qr.current):ae(Qr,n.pool)}function qp(){var t=af();return t===null?null:{parent:Kt._currentValue,pool:t}}var Oa=Error(a(460)),of=Error(a(474)),Lu=Error(a(542)),Uu={then:function(){}};function Gp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fp(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(ci,ci),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Kp(t),t;default:if(typeof n.status=="string")n.then(ci,ci);else{if(t=Et,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Kp(t),t}throw Yr=n,Oa}}function Kr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Yr=s,Oa):s}}var Yr=null;function Qp(){if(Yr===null)throw Error(a(459));var t=Yr;return Yr=null,t}function Kp(t){if(t===Oa||t===Lu)throw Error(a(483))}var Ma=null,Yo=0;function Pu(t){var n=Yo;return Yo+=1,Ma===null&&(Ma=[]),Fp(Ma,t,n)}function Xo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ju(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Yp(t){function n(k,D){if(t){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function s(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=is(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,P,Y){return D===null||D.tag!==6?(D=Yh(P,k.mode,Y),D.return=k,D):(D=h(D,P),D.return=k,D)}function C(k,D,P,Y){var ge=P.type;return ge===oe?F(k,D,P.props.children,Y,P.key):D!==null&&(D.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&Kr(ge)===D.type)?(D=h(D,P.props),Xo(D,P),D.return=k,D):(D=Du(P.type,P.key,P.props,null,k.mode,Y),Xo(D,P),D.return=k,D)}function j(k,D,P,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Xh(P,k.mode,Y),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function F(k,D,P,Y,ge){return D===null||D.tag!==7?(D=Hr(P,k.mode,Y,ge),D.return=k,D):(D=h(D,P),D.return=k,D)}function X(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Yh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case q:return P=Du(D.type,D.key,D.props,null,k.mode,P),Xo(P,D),P.return=k,P;case te:return D=Xh(D,k.mode,P),D.return=k,D;case S:return D=Kr(D),X(k,D,P)}if(kt(D)||L(D))return D=Hr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return X(k,Pu(D),P);if(D.$$typeof===_e)return X(k,Vu(k,D),P);ju(k,D)}return null}function z(k,D,P,Y){var ge=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ge!==null?null:T(k,D,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case q:return P.key===ge?C(k,D,P,Y):null;case te:return P.key===ge?j(k,D,P,Y):null;case S:return P=Kr(P),z(k,D,P,Y)}if(kt(P)||L(P))return ge!==null?null:F(k,D,P,Y,null);if(typeof P.then=="function")return z(k,D,Pu(P),Y);if(P.$$typeof===_e)return z(k,D,Vu(k,P),Y);ju(k,P)}return null}function H(k,D,P,Y,ge){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(P)||null,T(D,k,""+Y,ge);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case q:return k=k.get(Y.key===null?P:Y.key)||null,C(D,k,Y,ge);case te:return k=k.get(Y.key===null?P:Y.key)||null,j(D,k,Y,ge);case S:return Y=Kr(Y),H(k,D,P,Y,ge)}if(kt(Y)||L(Y))return k=k.get(P)||null,F(D,k,Y,ge,null);if(typeof Y.then=="function")return H(k,D,P,Pu(Y),ge);if(Y.$$typeof===_e)return H(k,D,P,Vu(D,Y),ge);ju(D,Y)}return null}function fe(k,D,P,Y){for(var ge=null,nt=null,de=D,ke=D=0,He=null;de!==null&&ke<P.length;ke++){de.index>ke?(He=de,de=null):He=de.sibling;var it=z(k,de,P[ke],Y);if(it===null){de===null&&(de=He);break}t&&de&&it.alternate===null&&n(k,de),D=f(it,D,ke),nt===null?ge=it:nt.sibling=it,nt=it,de=He}if(ke===P.length)return s(k,de),Ke&&ss(k,ke),ge;if(de===null){for(;ke<P.length;ke++)de=X(k,P[ke],Y),de!==null&&(D=f(de,D,ke),nt===null?ge=de:nt.sibling=de,nt=de);return Ke&&ss(k,ke),ge}for(de=o(de);ke<P.length;ke++)He=H(de,k,ke,P[ke],Y),He!==null&&(t&&He.alternate!==null&&de.delete(He.key===null?ke:He.key),D=f(He,D,ke),nt===null?ge=He:nt.sibling=He,nt=He);return t&&de.forEach(function(rr){return n(k,rr)}),Ke&&ss(k,ke),ge}function Ae(k,D,P,Y){if(P==null)throw Error(a(151));for(var ge=null,nt=null,de=D,ke=D=0,He=null,it=P.next();de!==null&&!it.done;ke++,it=P.next()){de.index>ke?(He=de,de=null):He=de.sibling;var rr=z(k,de,it.value,Y);if(rr===null){de===null&&(de=He);break}t&&de&&rr.alternate===null&&n(k,de),D=f(rr,D,ke),nt===null?ge=rr:nt.sibling=rr,nt=rr,de=He}if(it.done)return s(k,de),Ke&&ss(k,ke),ge;if(de===null){for(;!it.done;ke++,it=P.next())it=X(k,it.value,Y),it!==null&&(D=f(it,D,ke),nt===null?ge=it:nt.sibling=it,nt=it);return Ke&&ss(k,ke),ge}for(de=o(de);!it.done;ke++,it=P.next())it=H(de,k,ke,it.value,Y),it!==null&&(t&&it.alternate!==null&&de.delete(it.key===null?ke:it.key),D=f(it,D,ke),nt===null?ge=it:nt.sibling=it,nt=it);return t&&de.forEach(function(x1){return n(k,x1)}),Ke&&ss(k,ke),ge}function yt(k,D,P,Y){if(typeof P=="object"&&P!==null&&P.type===oe&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case q:e:{for(var ge=P.key;D!==null;){if(D.key===ge){if(ge=P.type,ge===oe){if(D.tag===7){s(k,D.sibling),Y=h(D,P.props.children),Y.return=k,k=Y;break e}}else if(D.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===S&&Kr(ge)===D.type){s(k,D.sibling),Y=h(D,P.props),Xo(Y,P),Y.return=k,k=Y;break e}s(k,D);break}else n(k,D);D=D.sibling}P.type===oe?(Y=Hr(P.props.children,k.mode,Y,P.key),Y.return=k,k=Y):(Y=Du(P.type,P.key,P.props,null,k.mode,Y),Xo(Y,P),Y.return=k,k=Y)}return p(k);case te:e:{for(ge=P.key;D!==null;){if(D.key===ge)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(k,D.sibling),Y=h(D,P.children||[]),Y.return=k,k=Y;break e}else{s(k,D);break}else n(k,D);D=D.sibling}Y=Xh(P,k.mode,Y),Y.return=k,k=Y}return p(k);case S:return P=Kr(P),yt(k,D,P,Y)}if(kt(P))return fe(k,D,P,Y);if(L(P)){if(ge=L(P),typeof ge!="function")throw Error(a(150));return P=ge.call(P),Ae(k,D,P,Y)}if(typeof P.then=="function")return yt(k,D,Pu(P),Y);if(P.$$typeof===_e)return yt(k,D,Vu(k,P),Y);ju(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(k,D.sibling),Y=h(D,P),Y.return=k,k=Y):(s(k,D),Y=Yh(P,k.mode,Y),Y.return=k,k=Y),p(k)):s(k,D)}return function(k,D,P,Y){try{Yo=0;var ge=yt(k,D,P,Y);return Ma=null,ge}catch(de){if(de===Oa||de===Lu)throw de;var nt=zn(29,de,null,k.mode);return nt.lanes=Y,nt.return=k,nt}finally{}}}var Xr=Yp(!0),Xp=Yp(!1),Hs=!1;function lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(at&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Nu(t),Op(t,null,s),n}return xu(t,o,n,s),Nu(t)}function $o(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Ao(t,s)}}function cf(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var hf=!1;function Zo(){if(hf){var t=Da;if(t!==null)throw t}}function Jo(t,n,s,o){hf=!1;var h=t.updateQueue;Hs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,j=C.next;C.next=null,p===null?f=j:p.next=j,p=C;var F=t.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==p&&(T===null?F.firstBaseUpdate=j:T.next=j,F.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;p=0,F=j=C=null,T=f;do{var z=T.lane&-536870913,H=z!==T.lane;if(H?(Be&z)===z:(o&z)===z){z!==0&&z===Na&&(hf=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,Ae=T;z=n;var yt=s;switch(Ae.tag){case 1:if(fe=Ae.payload,typeof fe=="function"){X=fe.call(yt,X,z);break e}X=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Ae.payload,z=typeof fe=="function"?fe.call(yt,X,z):fe,z==null)break e;X=w({},X,z);break e;case 2:Hs=!0}}z=T.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(j=F=H,C=X):F=F.next=H,p|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(C=X),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Xs|=p,t.lanes=p,t.memoizedState=X}}function $p(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Zp(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)$p(s[t],n)}var Va=N(null),zu=N(0);function Jp(t,n){t=ps,ae(zu,t),ae(Va,n),ps=t|n.baseLanes}function ff(){ae(zu,ps),ae(Va,Va.current)}function df(){ps=zu.current,K(Va),K(zu)}var Bn=N(null),ni=null;function Fs(t){var n=t.alternate;ae(zt,zt.current&1),ae(Bn,t),ni===null&&(n===null||Va.current!==null||n.memoizedState!==null)&&(ni=t)}function mf(t){ae(zt,zt.current),ae(Bn,t),ni===null&&(ni=t)}function Wp(t){t.tag===22?(ae(zt,zt.current),ae(Bn,t),ni===null&&(ni=t)):Qs()}function Qs(){ae(zt,zt.current),ae(Bn,Bn.current)}function Hn(t){K(Bn),ni===t&&(ni=null),K(zt)}var zt=N(0);function Bu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Ed(s)||Td(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var os=0,Me=null,pt=null,Yt=null,Hu=!1,ka=!1,$r=!1,qu=0,Wo=0,La=null,vb=0;function Mt(){throw Error(a(321))}function pf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!jn(t[s],n[s]))return!1;return!0}function gf(t,n,s,o,h,f){return os=f,Me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=t===null||t.memoizedState===null?Lg:Df,$r=!1,f=s(o,h),$r=!1,ka&&(f=tg(n,s,o,h)),eg(t),f}function eg(t){G.H=nl;var n=pt!==null&&pt.next!==null;if(os=0,Yt=pt=Me=null,Hu=!1,Wo=0,La=null,n)throw Error(a(300));t===null||Xt||(t=t.dependencies,t!==null&&Mu(t)&&(Xt=!0))}function tg(t,n,s,o){Me=t;var h=0;do{if(ka&&(La=null),Wo=0,ka=!1,25<=h)throw Error(a(301));if(h+=1,Yt=pt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Ug,f=n(s,o)}while(ka);return f}function Eb(){var t=G.H,n=t.useState()[0];return n=typeof n.then=="function"?el(n):n,t=t.useState()[0],(pt!==null?pt.memoizedState:null)!==t&&(Me.flags|=1024),n}function yf(){var t=qu!==0;return qu=0,t}function _f(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function vf(t){if(Hu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Hu=!1}os=0,Yt=pt=Me=null,ka=!1,Wo=qu=0,La=null}function Rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Me.memoizedState=Yt=t:Yt=Yt.next=t,Yt}function Bt(){if(pt===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var n=Yt===null?Me.memoizedState:Yt.next;if(n!==null)Yt=n,pt=t;else{if(t===null)throw Me.alternate===null?Error(a(467)):Error(a(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Yt===null?Me.memoizedState=Yt=t:Yt=Yt.next=t}return Yt}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(t){var n=Wo;return Wo+=1,La===null&&(La=[]),t=Fp(La,t,n),n=Me,(Yt===null?n.memoizedState:Yt.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Lg:Df),t}function Fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return el(t);if(t.$$typeof===_e)return mn(t)}throw Error(a(438,String(t)))}function Ef(t){var n=null,s=Me.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Me.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Gu(),Me.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=V;return n.index++,s}function ls(t,n){return typeof n=="function"?n(t):n}function Qu(t){var n=Bt();return Tf(n,pt,t)}function Tf(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=p=null,C=null,j=n,F=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Be&X)===X:(os&X)===X){var z=j.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Na&&(F=!0);else if((os&z)===z){j=j.next,z===Na&&(F=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=X,p=f):C=C.next=X,Me.lanes|=z,Xs|=z;X=j.action,$r&&s(f,X),f=j.hasEagerState?j.eagerState:s(f,X)}else z={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=z,p=f):C=C.next=z,Me.lanes|=X,Xs|=X;j=j.next}while(j!==null&&j!==n);if(C===null?p=f:C.next=T,!jn(f,t.memoizedState)&&(Xt=!0,F&&(s=Da,s!==null)))throw s;t.memoizedState=f,t.baseState=p,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function bf(t){var n=Bt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);jn(f,n.memoizedState)||(Xt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function ng(t,n,s){var o=Me,h=Bt(),f=Ke;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!jn((pt||h).memoizedState,s);if(p&&(h.memoizedState=s,Xt=!0),h=h.queue,wf(rg.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||Yt!==null&&Yt.memoizedState.tag&1){if(o.flags|=2048,Ua(9,{destroy:void 0},sg.bind(null,o,h,s,n),null),Et===null)throw Error(a(349));f||(os&127)!==0||ig(o,n,s)}return s}function ig(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=Me.updateQueue,n===null?(n=Gu(),Me.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function sg(t,n,s,o){n.value=s,n.getSnapshot=o,ag(n)&&og(t)}function rg(t,n,s){return s(function(){ag(n)&&og(t)})}function ag(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!jn(t,s)}catch{return!0}}function og(t){var n=Br(t,2);n!==null&&Vn(n,t,2)}function Af(t){var n=Rn();if(typeof t=="function"){var s=t;if(t=s(),$r){dt(!0);try{s()}finally{dt(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n}function lg(t,n,s,o){return t.baseState=s,Tf(t,pt,typeof o=="function"?o:ls)}function Tb(t,n,s,o,h){if(Xu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,ug(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ug(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var T=s(h,o),C=G.S;C!==null&&C(p,T),cg(t,n,T)}catch(j){Sf(t,n,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(h,o),cg(t,n,f)}catch(j){Sf(t,n,j)}}function cg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){hg(t,n,o)},function(o){return Sf(t,n,o)}):hg(t,n,s)}function hg(t,n,s){n.status="fulfilled",n.value=s,fg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,ug(t,s)))}function Sf(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,fg(n),n=n.next;while(n!==o)}t.action=null}function fg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function dg(t,n){return n}function mg(t,n){if(Ke){var s=Et.formState;if(s!==null){e:{var o=Me;if(Ke){if(St){t:{for(var h=St,f=ti;h.nodeType!==8;){if(!f){h=null;break t}if(h=ii(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){St=ii(h.nextSibling),o=h.data==="F!";break e}}zs(o)}o=!1}o&&(n=s[0])}}return s=Rn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dg,lastRenderedState:n},s.queue=o,s=Mg.bind(null,Me,o),o.dispatch=s,o=Af(!1),f=Nf.bind(null,Me,!1,o.queue),o=Rn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=Tb.bind(null,Me,h,f,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function pg(t){var n=Bt();return gg(n,pt,t)}function gg(t,n,s){if(n=Tf(t,n,dg)[0],t=Qu(ls)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=el(n)}catch(p){throw p===Oa?Lu:p}else o=n;n=Bt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Me.flags|=2048,Ua(9,{destroy:void 0},bb.bind(null,h,s),null)),[o,f,t]}function bb(t,n){t.action=n}function yg(t){var n=Bt(),s=pt;if(s!==null)return gg(n,s,t);Bt(),n=n.memoizedState,s=Bt();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function Ua(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=Me.updateQueue,n===null&&(n=Gu(),Me.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function _g(){return Bt().memoizedState}function Ku(t,n,s,o){var h=Rn();Me.flags|=t,h.memoizedState=Ua(1|n,{destroy:void 0},s,o===void 0?null:o)}function Yu(t,n,s,o){var h=Bt();o=o===void 0?null:o;var f=h.memoizedState.inst;pt!==null&&o!==null&&pf(o,pt.memoizedState.deps)?h.memoizedState=Ua(n,f,s,o):(Me.flags|=t,h.memoizedState=Ua(1|n,f,s,o))}function vg(t,n){Ku(8390656,8,t,n)}function wf(t,n){Yu(2048,8,t,n)}function Ab(t){Me.flags|=4;var n=Me.updateQueue;if(n===null)n=Gu(),Me.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Eg(t){var n=Bt().memoizedState;return Ab({ref:n,nextImpl:t}),function(){if((at&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Tg(t,n){return Yu(4,2,t,n)}function bg(t,n){return Yu(4,4,t,n)}function Ag(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Sg(t,n,s){s=s!=null?s.concat([t]):null,Yu(4,4,Ag.bind(null,n,t),s)}function Rf(){}function wg(t,n){var s=Bt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&pf(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Rg(t,n){var s=Bt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&pf(n,o[1]))return o[0];if(o=t(),$r){dt(!0);try{t()}finally{dt(!1)}}return s.memoizedState=[o,n],o}function Cf(t,n,s){return s===void 0||(os&1073741824)!==0&&(Be&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Cy(),Me.lanes|=t,Xs|=t,s)}function Cg(t,n,s,o){return jn(s,n)?s:Va.current!==null?(t=Cf(t,s,o),jn(t,n)||(Xt=!0),t):(os&42)===0||(os&1073741824)!==0&&(Be&261930)===0?(Xt=!0,t.memoizedState=s):(t=Cy(),Me.lanes|=t,Xs|=t,n)}function Ig(t,n,s,o,h){var f=se.p;se.p=f!==0&&8>f?f:8;var p=G.T,T={};G.T=T,Nf(t,!1,n,s);try{var C=h(),j=G.S;if(j!==null&&j(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=_b(C,o);tl(t,n,F,Fn(t))}else tl(t,n,o,Fn(t))}catch(X){tl(t,n,{then:function(){},status:"rejected",reason:X},Fn())}finally{se.p=f,p!==null&&T.types!==null&&(p.types=T.types),G.T=p}}function Sb(){}function If(t,n,s,o){if(t.tag!==5)throw Error(a(476));var h=xg(t).queue;Ig(t,h,n,pe,s===null?Sb:function(){return Ng(t),s(o)})}function xg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:pe},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ng(t){var n=xg(t);n.next===null&&(n=t.alternate.memoizedState),tl(t,n.next.queue,{},Fn())}function xf(){return mn(_l)}function Dg(){return Bt().memoizedState}function Og(){return Bt().memoizedState}function wb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Fn();t=qs(s);var o=Gs(n,t,s);o!==null&&(Vn(o,n,s),$o(o,n,s)),n={cache:sf()},t.payload=n;return}n=n.return}}function Rb(t,n,s){var o=Fn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Xu(t)?Vg(n,s):(s=Qh(t,n,s,o),s!==null&&(Vn(s,t,o),kg(s,n,o)))}function Mg(t,n,s){var o=Fn();tl(t,n,s,o)}function tl(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Xu(t))Vg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,s);if(h.hasEagerState=!0,h.eagerState=T,jn(T,p))return xu(t,n,h,0),Et===null&&Iu(),!1}catch{}finally{}if(s=Qh(t,n,h,o),s!==null)return Vn(s,t,o),kg(s,n,o),!0}return!1}function Nf(t,n,s,o){if(o={lane:2,revertLane:ld(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Xu(t)){if(n)throw Error(a(479))}else n=Qh(t,s,o,2),n!==null&&Vn(n,t,2)}function Xu(t){var n=t.alternate;return t===Me||n!==null&&n===Me}function Vg(t,n){ka=Hu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function kg(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Ao(t,s)}}var nl={readContext:mn,use:Fu,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};nl.useEffectEvent=Mt;var Lg={readContext:mn,use:Fu,useCallback:function(t,n){return Rn().memoizedState=[t,n===void 0?null:n],t},useContext:mn,useEffect:vg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Ku(4194308,4,Ag.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Ku(4194308,4,t,n)},useInsertionEffect:function(t,n){Ku(4,2,t,n)},useMemo:function(t,n){var s=Rn();n=n===void 0?null:n;var o=t();if($r){dt(!0);try{t()}finally{dt(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=Rn();if(s!==void 0){var h=s(n);if($r){dt(!0);try{s(n)}finally{dt(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Rb.bind(null,Me,t),[o.memoizedState,t]},useRef:function(t){var n=Rn();return t={current:t},n.memoizedState=t},useState:function(t){t=Af(t);var n=t.queue,s=Mg.bind(null,Me,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Rf,useDeferredValue:function(t,n){var s=Rn();return Cf(s,t,n)},useTransition:function(){var t=Af(!1);return t=Ig.bind(null,Me,t.queue,!0,!1),Rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=Me,h=Rn();if(Ke){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Et===null)throw Error(a(349));(Be&127)!==0||ig(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,vg(rg.bind(null,o,f,t),[t]),o.flags|=2048,Ua(9,{destroy:void 0},sg.bind(null,o,f,s,n),null),s},useId:function(){var t=Rn(),n=Et.identifierPrefix;if(Ke){var s=Ui,o=Li;s=(o&~(1<<32-vt(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=qu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=vb++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:xf,useFormState:mg,useActionState:mg,useOptimistic:function(t){var n=Rn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Nf.bind(null,Me,!0,s),s.dispatch=n,[t,n]},useMemoCache:Ef,useCacheRefresh:function(){return Rn().memoizedState=wb.bind(null,Me)},useEffectEvent:function(t){var n=Rn(),s={impl:t};return n.memoizedState=s,function(){if((at&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Df={readContext:mn,use:Fu,useCallback:wg,useContext:mn,useEffect:wf,useImperativeHandle:Sg,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:Qu,useRef:_g,useState:function(){return Qu(ls)},useDebugValue:Rf,useDeferredValue:function(t,n){var s=Bt();return Cg(s,pt.memoizedState,t,n)},useTransition:function(){var t=Qu(ls)[0],n=Bt().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:ng,useId:Dg,useHostTransitionStatus:xf,useFormState:pg,useActionState:pg,useOptimistic:function(t,n){var s=Bt();return lg(s,pt,t,n)},useMemoCache:Ef,useCacheRefresh:Og};Df.useEffectEvent=Eg;var Ug={readContext:mn,use:Fu,useCallback:wg,useContext:mn,useEffect:wf,useImperativeHandle:Sg,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:bf,useRef:_g,useState:function(){return bf(ls)},useDebugValue:Rf,useDeferredValue:function(t,n){var s=Bt();return pt===null?Cf(s,t,n):Cg(s,pt.memoizedState,t,n)},useTransition:function(){var t=bf(ls)[0],n=Bt().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:ng,useId:Dg,useHostTransitionStatus:xf,useFormState:yg,useActionState:yg,useOptimistic:function(t,n){var s=Bt();return pt!==null?lg(s,pt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Og};Ug.useEffectEvent=Eg;function Of(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:w({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Mf={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=Fn(),h=qs(o);h.payload=n,s!=null&&(h.callback=s),n=Gs(t,h,o),n!==null&&(Vn(n,t,o),$o(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=Fn(),h=qs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Gs(t,h,o),n!==null&&(Vn(n,t,o),$o(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Fn(),o=qs(s);o.tag=2,n!=null&&(o.callback=n),n=Gs(t,o,s),n!==null&&(Vn(n,t,s),$o(n,t,s))}};function Pg(t,n,s,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Ho(s,o)||!Ho(h,f):!0}function jg(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&Mf.enqueueReplaceState(n,n.state,null)}function Zr(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=w({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function zg(t){Cu(t)}function Bg(t){console.error(t)}function Hg(t){Cu(t)}function $u(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function qg(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vf(t,n,s){return s=qs(s),s.tag=3,s.payload={element:null},s.callback=function(){$u(t,n)},s}function Gg(t){return t=qs(t),t.tag=3,t}function Fg(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){qg(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){qg(n,s,o),typeof h!="function"&&($s===null?$s=new Set([this]):$s.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function Cb(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&xa(n,s,h,!0),s=Bn.current,s!==null){switch(s.tag){case 31:case 13:return ni===null?lc():s.alternate===null&&Vt===0&&(Vt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),rd(t,o,h)),!1;case 22:return s.flags|=65536,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),rd(t,o,h)),!1}throw Error(a(435,s.tag))}return rd(t,o,h),lc(),!1}if(Ke)return n=Bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Jh&&(t=Error(a(422),{cause:o}),Fo(Jn(t,s)))):(o!==Jh&&(n=Error(a(423),{cause:o}),Fo(Jn(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Jn(o,s),h=Vf(t.stateNode,o,h),cf(t,h),Vt!==4&&(Vt=2)),!1;var f=Error(a(520),{cause:o});if(f=Jn(f,s),cl===null?cl=[f]:cl.push(f),Vt!==4&&(Vt=2),n===null)return!0;o=Jn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Vf(s.stateNode,o,t),cf(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($s===null||!$s.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Gg(h),Fg(h,t,s,o),cf(s,h),!1}s=s.return}while(s!==null);return!1}var kf=Error(a(461)),Xt=!1;function pn(t,n,s,o){n.child=t===null?Xp(n,null,s,o):Xr(n,t.child,s,o)}function Qg(t,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var T in o)T!=="ref"&&(p[T]=o[T])}else p=o;return Fr(n),o=gf(t,n,s,p,f,h),T=yf(),t!==null&&!Xt?(_f(t,n,h),us(t,n,h)):(Ke&&T&&$h(n),n.flags|=1,pn(t,n,o,h),n.child)}function Kg(t,n,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Yg(t,n,f,o,h)):(t=Du(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!qf(t,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ho,s(p,o)&&t.ref===n.ref)return us(t,n,h)}return n.flags|=1,t=is(f,o),t.ref=n.ref,t.return=n,n.child=t}function Yg(t,n,s,o,h){if(t!==null){var f=t.memoizedProps;if(Ho(f,o)&&t.ref===n.ref)if(Xt=!1,n.pendingProps=o=f,qf(t,h))(t.flags&131072)!==0&&(Xt=!0);else return n.lanes=t.lanes,us(t,n,h)}return Lf(t,n,s,o,h)}function Xg(t,n,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return $g(t,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ku(n,f!==null?f.cachePool:null),f!==null?Jp(n,f):ff(),Wp(n);else return o=n.lanes=536870912,$g(t,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(ku(n,f.cachePool),Jp(n,f),Qs(),n.memoizedState=null):(t!==null&&ku(n,null),ff(),Qs());return pn(t,n,h,s),n.child}function il(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function $g(t,n,s,o,h){var f=af();return f=f===null?null:{parent:Kt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&ku(n,null),ff(),Wp(n),t!==null&&xa(t,n,o,!0),n.childLanes=h,null}function Zu(t,n){return n=Wu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Zg(t,n,s){return Xr(n,t.child,null,s),t=Zu(n,n.pendingProps),t.flags|=2,Hn(n),n.memoizedState=null,t}function Ib(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ke){if(o.mode==="hidden")return t=Zu(n,o),n.lanes=536870912,il(null,t);if(mf(n),(t=St)?(t=u_(t,ti),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ps!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},s=Vp(t),s.return=n,n.child=s,dn=n,St=null)):t=null,t===null)throw zs(n);return n.lanes=536870912,null}return Zu(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=Zg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(Xt||xa(t,n,s,!1),h=(s&t.childLanes)!==0,Xt||h){if(o=Et,o!==null&&(p=So(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Br(t,p),Vn(o,t,p),kf;lc(),n=Zg(t,n,s)}else t=f.treeContext,St=ii(p.nextSibling),dn=n,Ke=!0,js=null,ti=!1,t!==null&&Up(n,t),n=Zu(n,o),n.flags|=4096;return n}return t=is(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ju(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Lf(t,n,s,o,h){return Fr(n),s=gf(t,n,s,o,void 0,h),o=yf(),t!==null&&!Xt?(_f(t,n,h),us(t,n,h)):(Ke&&o&&$h(n),n.flags|=1,pn(t,n,s,h),n.child)}function Jg(t,n,s,o,h,f){return Fr(n),n.updateQueue=null,s=tg(n,o,s,h),eg(t),o=yf(),t!==null&&!Xt?(_f(t,n,f),us(t,n,f)):(Ke&&o&&$h(n),n.flags|=1,pn(t,n,s,f),n.child)}function Wg(t,n,s,o,h){if(Fr(n),n.stateNode===null){var f=wa,p=s.contextType;typeof p=="object"&&p!==null&&(f=mn(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},lf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?mn(p):wa,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Of(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Mf.enqueueReplaceState(f,f.state,null),Jo(n,o,f,h),Zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=Zr(s,T);f.props=C;var j=f.context,F=s.contextType;p=wa,typeof F=="object"&&F!==null&&(p=mn(F));var X=s.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==p)&&jg(n,f,o,p),Hs=!1;var z=n.memoizedState;f.state=z,Jo(n,o,f,h),Zo(),j=n.memoizedState,T||z!==j||Hs?(typeof X=="function"&&(Of(n,s,X,o),j=n.memoizedState),(C=Hs||Pg(n,s,C,o,z,j,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=p,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,uf(t,n),p=n.memoizedProps,F=Zr(s,p),f.props=F,X=n.pendingProps,z=f.context,j=s.contextType,C=wa,typeof j=="object"&&j!==null&&(C=mn(j)),T=s.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||z!==C)&&jg(n,f,o,C),Hs=!1,z=n.memoizedState,f.state=z,Jo(n,o,f,h),Zo();var H=n.memoizedState;p!==X||z!==H||Hs||t!==null&&t.dependencies!==null&&Mu(t.dependencies)?(typeof T=="function"&&(Of(n,s,T,o),H=n.memoizedState),(F=Hs||Pg(n,s,F,o,z,H,C)||t!==null&&t.dependencies!==null&&Mu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Xr(n,t.child,null,h),n.child=Xr(n,null,s,h)):pn(t,n,s,h),n.memoizedState=f.state,t=n.child):t=us(t,n,h),t}function ey(t,n,s,o){return qr(),n.flags|=256,pn(t,n,s,o),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(t){return{baseLanes:t,cachePool:qp()}}function jf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Gn),t}function ty(t,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(zt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ke){if(h?Fs(n):Qs(),(t=St)?(t=u_(t,ti),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ps!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},s=Vp(t),s.return=n,n.child=s,dn=n,St=null)):t=null,t===null)throw zs(n);return Td(t)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Qs(),h=n.mode,T=Wu({mode:"hidden",children:T},h),o=Hr(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Pf(s),o.childLanes=jf(t,p,s),n.memoizedState=Uf,il(null,o)):(Fs(n),zf(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Fs(n),n.flags&=-257,n=Bf(t,n,s)):n.memoizedState!==null?(Qs(),n.child=t.child,n.flags|=128,n=null):(Qs(),T=o.fallback,h=n.mode,o=Wu({mode:"visible",children:o.children},h),T=Hr(T,h,s,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Xr(n,t.child,null,s),o=n.child,o.memoizedState=Pf(s),o.childLanes=jf(t,p,s),n.memoizedState=Uf,n=il(null,o));else if(Fs(n),Td(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var j=p.dgst;p=j,o=Error(a(419)),o.stack="",o.digest=p,Fo({value:o,source:null,stack:null}),n=Bf(t,n,s)}else if(Xt||xa(t,n,s,!1),p=(s&t.childLanes)!==0,Xt||p){if(p=Et,p!==null&&(o=So(p,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Br(t,o),Vn(p,t,o),kf;Ed(T)||lc(),n=Bf(t,n,s)}else Ed(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,St=ii(T.nextSibling),dn=n,Ke=!0,js=null,ti=!1,t!==null&&Up(n,t),n=zf(n,o.children),n.flags|=4096);return n}return h?(Qs(),T=o.fallback,h=n.mode,C=t.child,j=C.sibling,o=is(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?T=is(j,T):(T=Hr(T,h,s,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,il(null,o),o=n.child,T=t.child.memoizedState,T===null?T=Pf(s):(h=T.cachePool,h!==null?(C=Kt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=qp(),T={baseLanes:T.baseLanes|s,cachePool:h}),o.memoizedState=T,o.childLanes=jf(t,p,s),n.memoizedState=Uf,il(t.child,o)):(Fs(n),s=t.child,t=s.sibling,s=is(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=s,n.memoizedState=null,s)}function zf(t,n){return n=Wu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Wu(t,n){return t=zn(22,t,null,n),t.lanes=0,t}function Bf(t,n,s){return Xr(n,t.child,null,s),t=zf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ny(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),tf(t.return,n,s)}function Hf(t,n,s,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function iy(t,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=zt.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,ae(zt,p),pn(t,n,o,s),o=Ke?Go:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ny(t,s,n);else if(t.tag===19)ny(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Bu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Hf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Bu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Hf(n,!0,s,null,f,o);break;case"together":Hf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function us(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Xs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(xa(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=is(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=is(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function qf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Mu(t)))}function xb(t,n,s){switch(n.tag){case 3:Lt(n,n.stateNode.containerInfo),Bs(n,Kt,t.memoizedState.cache),qr();break;case 27:case 5:Zi(n);break;case 4:Lt(n,n.stateNode.containerInfo);break;case 10:Bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Fs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ty(t,n,s):(Fs(n),t=us(t,n,s),t!==null?t.sibling:null);Fs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(xa(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return iy(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(zt,zt.current),o)break;return null;case 22:return n.lanes=0,Xg(t,n,s,n.pendingProps);case 24:Bs(n,Kt,t.memoizedState.cache)}return us(t,n,s)}function sy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)Xt=!0;else{if(!qf(t,s)&&(n.flags&128)===0)return Xt=!1,xb(t,n,s);Xt=(t.flags&131072)!==0}else Xt=!1,Ke&&(n.flags&1048576)!==0&&Lp(n,Go,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Kr(n.elementType),n.type=t,typeof t=="function")Kh(t)?(o=Zr(t,o),n.tag=1,n=Wg(null,n,t,o,s)):(n.tag=0,n=Lf(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===st){n.tag=11,n=Qg(null,n,t,o,s);break e}else if(h===x){n.tag=14,n=Kg(null,n,t,o,s);break e}}throw n=Tt(t)||t,Error(a(306,n,""))}}return n;case 0:return Lf(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Zr(o,n.pendingProps),Wg(t,n,o,h,s);case 3:e:{if(Lt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,uf(t,n),Jo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,Bs(n,Kt,o),o!==f.cache&&nf(n,[Kt],s,!0),Zo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ey(t,n,o,s);break e}else if(o!==h){h=Jn(Error(a(424)),n),Fo(h),n=ey(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(St=ii(t.firstChild),dn=n,Ke=!0,js=null,ti=!0,s=Xp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(qr(),o===h){n=us(t,n,s);break e}pn(t,n,o,s)}n=n.child}return n;case 26:return Ju(t,n),t===null?(s=p_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ke||(s=n.type,t=n.pendingProps,o=pc(De.current).createElement(s),o[Gt]=n,o[an]=t,gn(o,s,t),Ft(o),n.stateNode=o):n.memoizedState=p_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Zi(n),t===null&&Ke&&(o=n.stateNode=f_(n.type,n.pendingProps,De.current),dn=n,ti=!0,h=St,er(n.type)?(bd=h,St=ii(o.firstChild)):St=h),pn(t,n,n.pendingProps.children,s),Ju(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ke&&((h=o=St)&&(o=r1(o,n.type,n.pendingProps,ti),o!==null?(n.stateNode=o,dn=n,St=ii(o.firstChild),ti=!1,h=!0):h=!1),h||zs(n)),Zi(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,yd(h,f)?o=null:p!==null&&yd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(t,n,Eb,null,null,s),_l._currentValue=h),Ju(t,n),pn(t,n,o,s),n.child;case 6:return t===null&&Ke&&((t=s=St)&&(s=a1(s,n.pendingProps,ti),s!==null?(n.stateNode=s,dn=n,St=null,t=!0):t=!1),t||zs(n)),null;case 13:return ty(t,n,s);case 4:return Lt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Xr(n,null,o,s):pn(t,n,o,s),n.child;case 11:return Qg(t,n,n.type,n.pendingProps,s);case 7:return pn(t,n,n.pendingProps,s),n.child;case 8:return pn(t,n,n.pendingProps.children,s),n.child;case 12:return pn(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Bs(n,n.type,o.value),pn(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Fr(n),h=mn(h),o=o(h),n.flags|=1,pn(t,n,o,s),n.child;case 14:return Kg(t,n,n.type,n.pendingProps,s);case 15:return Yg(t,n,n.type,n.pendingProps,s);case 19:return iy(t,n,s);case 31:return Ib(t,n,s);case 22:return Xg(t,n,s,n.pendingProps);case 24:return Fr(n),o=mn(Kt),t===null?(h=af(),h===null&&(h=Et,f=sf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},lf(n),Bs(n,Kt,h)):((t.lanes&s)!==0&&(uf(t,n),Jo(n,null,null,s),Zo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Bs(n,Kt,o)):(o=f.cache,Bs(n,Kt,o),o!==h.cache&&nf(n,[Kt],s,!0))),pn(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function cs(t){t.flags|=4}function Gf(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Dy())t.flags|=8192;else throw Yr=Uu,of}else t.flags&=-16777217}function ry(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!E_(n))if(Dy())t.flags|=8192;else throw Yr=Uu,of}function ec(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?au():536870912,t.lanes|=n,Ba|=n)}function sl(t,n){if(!Ke)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function wt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function Nb(t,n,s){var o=n.pendingProps;switch(Zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(n),null;case 1:return wt(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),as(Kt),bt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ia(n)?cs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),wt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(cs(n),f!==null?(wt(n),ry(n,f)):(wt(n),Gf(n,h,null,o,s))):f?f!==t.memoizedState?(cs(n),wt(n),ry(n,f)):(wt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&cs(n),wt(n),Gf(n,h,t,o,s)),null;case 27:if(Is(n),s=De.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&cs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return wt(n),null}t=ue.current,Ia(n)?Pp(n):(t=f_(h,o,s),n.stateNode=t,cs(n))}return wt(n),null;case 5:if(Is(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&cs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return wt(n),null}if(f=ue.current,Ia(n))Pp(n);else{var p=pc(De.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Gt]=n,f[an]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(gn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&cs(n)}}return wt(n),Gf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&cs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=De.current,Ia(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=dn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Gt]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||t_(t.nodeValue,s)),t||zs(n,!0)}else t=pc(t).createTextNode(o),t[Gt]=n,n.stateNode=t}return wt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ia(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Gt]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),t=!1}else s=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Hn(n),n):(Hn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return wt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ia(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Gt]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),h=!1}else h=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Hn(n),n):(Hn(n),null)}return Hn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),ec(n,n.updateQueue),wt(n),null);case 4:return bt(),t===null&&fd(n.stateNode.containerInfo),wt(n),null;case 10:return as(n.type),wt(n),null;case 19:if(K(zt),o=n.memoizedState,o===null)return wt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)sl(o,!1);else{if(Vt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Bu(t),f!==null){for(n.flags|=128,sl(o,!1),t=f.updateQueue,n.updateQueue=t,ec(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Mp(s,t),s=s.sibling;return ae(zt,zt.current&1|2),Ke&&ss(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Ct()>rc&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Bu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ec(n,t),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ke)return wt(n),null}else 2*Ct()-o.renderingStartTime>rc&&s!==536870912&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ct(),t.sibling=null,s=zt.current,ae(zt,h?s&1|2:s&1),Ke&&ss(n,o.treeForkCount),t):(wt(n),null);case 22:case 23:return Hn(n),df(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(wt(n),n.subtreeFlags&6&&(n.flags|=8192)):wt(n),s=n.updateQueue,s!==null&&ec(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&K(Qr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),as(Kt),wt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Db(t,n){switch(Zh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return as(Kt),bt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Is(n),null;case 31:if(n.memoizedState!==null){if(Hn(n),n.alternate===null)throw Error(a(340));qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Hn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(zt),null;case 4:return bt(),null;case 10:return as(n.type),null;case 22:case 23:return Hn(n),df(),t!==null&&K(Qr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return as(Kt),null;case 25:return null;default:return null}}function ay(t,n){switch(Zh(n),n.tag){case 3:as(Kt),bt();break;case 26:case 27:case 5:Is(n);break;case 4:bt();break;case 31:n.memoizedState!==null&&Hn(n);break;case 13:Hn(n);break;case 19:K(zt);break;case 10:as(n.type);break;case 22:case 23:Hn(n),df(),t!==null&&K(Qr);break;case 24:as(Kt)}}function rl(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(T){ht(n,n.return,T)}}function Ks(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var C=s,j=T;try{j()}catch(F){ht(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){ht(n,n.return,F)}}function oy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Zp(n,s)}catch(o){ht(t,t.return,o)}}}function ly(t,n,s){s.props=Zr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){ht(t,n,o)}}function al(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){ht(t,n,h)}}function Pi(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){ht(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){ht(t,n,h)}else s.current=null}function uy(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){ht(t,t.return,h)}}function Ff(t,n,s){try{var o=t.stateNode;Wb(o,t.type,s,n),o[an]=n}catch(h){ht(t,t.return,h)}}function cy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&er(t.type)||t.tag===4}function Qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&er(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ci));else if(o!==4&&(o===27&&er(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Kf(t,n,s),t=t.sibling;t!==null;)Kf(t,n,s),t=t.sibling}function tc(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&er(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(tc(t,n,s),t=t.sibling;t!==null;)tc(t,n,s),t=t.sibling}function hy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);gn(n,o,s),n[Gt]=t,n[an]=s}catch(f){ht(t,t.return,f)}}var hs=!1,$t=!1,Yf=!1,fy=typeof WeakSet=="function"?WeakSet:Set,ln=null;function Ob(t,n){if(t=t.containerInfo,pd=bc,t=Sp(t),zh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var p=0,T=-1,C=-1,j=0,F=0,X=t,z=null;t:for(;;){for(var H;X!==s||h!==0&&X.nodeType!==3||(T=p+h),X!==f||o!==0&&X.nodeType!==3||(C=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===t)break t;if(z===s&&++j===h&&(T=p),z===f&&++F===o&&(C=p),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(gd={focusedElem:t,selectionRange:s},bc=!1,ln=n;ln!==null;)if(n=ln,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ln=t;else for(;ln!==null;){switch(n=ln,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var fe=Zr(s.type,h);t=o.getSnapshotBeforeUpdate(fe,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){ht(s,s.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)vd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,ln=t;break}ln=n.return}}function dy(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ds(t,s),o&4&&rl(5,s);break;case 1:if(ds(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(p){ht(s,s.return,p)}else{var h=Zr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){ht(s,s.return,p)}}o&64&&oy(s),o&512&&al(s,s.return);break;case 3:if(ds(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Zp(t,n)}catch(p){ht(s,s.return,p)}}break;case 27:n===null&&o&4&&hy(s);case 26:case 5:ds(t,s),n===null&&o&4&&uy(s),o&512&&al(s,s.return);break;case 12:ds(t,s);break;case 31:ds(t,s),o&4&&gy(t,s);break;case 13:ds(t,s),o&4&&yy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Bb.bind(null,s),o1(t,s))));break;case 22:if(o=s.memoizedState!==null||hs,!o){n=n!==null&&n.memoizedState!==null||$t,h=hs;var f=$t;hs=o,($t=n)&&!f?ms(t,s,(s.subtreeFlags&8772)!==0):ds(t,s),hs=h,$t=f}break;case 30:break;default:ds(t,s)}}function my(t){var n=t.alternate;n!==null&&(t.alternate=null,my(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ha(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var xt=null,Nn=!1;function fs(t,n,s){for(s=s.child;s!==null;)py(t,n,s),s=s.sibling}function py(t,n,s){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(ie,s)}catch{}switch(s.tag){case 26:$t||Pi(s,n),fs(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:$t||Pi(s,n);var o=xt,h=Nn;er(s.type)&&(xt=s.stateNode,Nn=!1),fs(t,n,s),pl(s.stateNode),xt=o,Nn=h;break;case 5:$t||Pi(s,n);case 6:if(o=xt,h=Nn,xt=null,fs(t,n,s),xt=o,Nn=h,xt!==null)if(Nn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(s.stateNode)}catch(f){ht(s,n,f)}else try{xt.removeChild(s.stateNode)}catch(f){ht(s,n,f)}break;case 18:xt!==null&&(Nn?(t=xt,o_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Xa(t)):o_(xt,s.stateNode));break;case 4:o=xt,h=Nn,xt=s.stateNode.containerInfo,Nn=!0,fs(t,n,s),xt=o,Nn=h;break;case 0:case 11:case 14:case 15:Ks(2,s,n),$t||Ks(4,s,n),fs(t,n,s);break;case 1:$t||(Pi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ly(s,n,o)),fs(t,n,s);break;case 21:fs(t,n,s);break;case 22:$t=(o=$t)||s.memoizedState!==null,fs(t,n,s),$t=o;break;default:fs(t,n,s)}}function gy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xa(t)}catch(s){ht(n,n.return,s)}}}function yy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xa(t)}catch(s){ht(n,n.return,s)}}function Mb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new fy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new fy),n;default:throw Error(a(435,t.tag))}}function nc(t,n){var s=Mb(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=Hb.bind(null,t,o);o.then(h,h)}})}function Dn(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,p=n,T=p;e:for(;T!==null;){switch(T.tag){case 27:if(er(T.type)){xt=T.stateNode,Nn=!1;break e}break;case 5:xt=T.stateNode,Nn=!1;break e;case 3:case 4:xt=T.stateNode.containerInfo,Nn=!0;break e}T=T.return}if(xt===null)throw Error(a(160));py(f,p,h),xt=null,Nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)_y(n,t),n=n.sibling}var gi=null;function _y(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dn(n,t),On(t),o&4&&(Ks(3,t,t.return),rl(3,t),Ks(5,t,t.return));break;case 1:Dn(n,t),On(t),o&512&&($t||s===null||Pi(s,s.return)),o&64&&hs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=gi;if(Dn(n,t),On(t),o&512&&($t||s===null||Pi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Si]||f[Gt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),gn(f,o,s),f[Gt]=t,Ft(f),o=f;break e;case"link":var p=__("link","href",h).get(o+(s.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(T,1);break t}}f=h.createElement(o),gn(f,o,s),h.head.appendChild(f);break;case"meta":if(p=__("meta","content",h).get(o+(s.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(T,1);break t}}f=h.createElement(o),gn(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Gt]=t,Ft(f),o=f}t.stateNode=o}else v_(h,t.type,t.stateNode);else t.stateNode=y_(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?v_(h,t.type,t.stateNode):y_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Ff(t,t.memoizedProps,s.memoizedProps)}break;case 27:Dn(n,t),On(t),o&512&&($t||s===null||Pi(s,s.return)),s!==null&&o&4&&Ff(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Dn(n,t),On(t),o&512&&($t||s===null||Pi(s,s.return)),t.flags&32){h=t.stateNode;try{xn(h,"")}catch(fe){ht(t,t.return,fe)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Ff(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Yf=!0);break;case 6:if(Dn(n,t),On(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(fe){ht(t,t.return,fe)}}break;case 3:if(_c=null,h=gi,gi=gc(n.containerInfo),Dn(n,t),gi=h,On(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Xa(n.containerInfo)}catch(fe){ht(t,t.return,fe)}Yf&&(Yf=!1,vy(t));break;case 4:o=gi,gi=gc(t.stateNode.containerInfo),Dn(n,t),On(t),gi=o;break;case 12:Dn(n,t),On(t);break;case 31:Dn(n,t),On(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,nc(t,o)));break;case 13:Dn(n,t),On(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(sc=Ct()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,nc(t,o)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,j=hs,F=$t;if(hs=j||h,$t=F||C,Dn(n,t),$t=F,hs=j,On(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||hs||$t||Jr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=C.stateNode;var X=C.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(fe){ht(C,C.return,fe)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(fe){ht(C,C.return,fe)}}}else if(n.tag===18){if(s===null){C=n;try{var H=C.stateNode;h?l_(H,!0):l_(C.stateNode,!1)}catch(fe){ht(C,C.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,nc(t,s))));break;case 19:Dn(n,t),On(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,nc(t,o)));break;case 30:break;case 21:break;default:Dn(n,t),On(t)}}function On(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(cy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Qf(t);tc(t,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(xn(p,""),s.flags&=-33);var T=Qf(t);tc(t,T,p);break;case 3:case 4:var C=s.stateNode.containerInfo,j=Qf(t);Kf(t,j,C);break;default:throw Error(a(161))}}catch(F){ht(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function vy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ds(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dy(t,n.alternate,n),n=n.sibling}function Jr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ks(4,n,n.return),Jr(n);break;case 1:Pi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ly(n,n.return,s),Jr(n);break;case 27:pl(n.stateNode);case 26:case 5:Pi(n,n.return),Jr(n);break;case 22:n.memoizedState===null&&Jr(n);break;case 30:Jr(n);break;default:Jr(n)}t=t.sibling}}function ms(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ms(h,f,s),rl(4,f);break;case 1:if(ms(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){ht(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)$p(C[h],T)}catch(j){ht(o,o.return,j)}}s&&p&64&&oy(f),al(f,f.return);break;case 27:hy(f);case 26:case 5:ms(h,f,s),s&&o===null&&p&4&&uy(f),al(f,f.return);break;case 12:ms(h,f,s);break;case 31:ms(h,f,s),s&&p&4&&gy(h,f);break;case 13:ms(h,f,s),s&&p&4&&yy(h,f);break;case 22:f.memoizedState===null&&ms(h,f,s),al(f,f.return);break;case 30:break;default:ms(h,f,s)}n=n.sibling}}function Xf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Qo(s))}function $f(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Qo(t))}function yi(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ey(t,n,s,o),n=n.sibling}function Ey(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:yi(t,n,s,o),h&2048&&rl(9,n);break;case 1:yi(t,n,s,o);break;case 3:yi(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Qo(t)));break;case 12:if(h&2048){yi(t,n,s,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){ht(n,n.return,C)}}else yi(t,n,s,o);break;case 31:yi(t,n,s,o);break;case 13:yi(t,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?yi(t,n,s,o):ol(t,n):f._visibility&2?yi(t,n,s,o):(f._visibility|=2,Pa(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(p,n);break;case 24:yi(t,n,s,o),h&2048&&$f(n.alternate,n);break;default:yi(t,n,s,o)}}function Pa(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,T=s,C=o,j=p.flags;switch(p.tag){case 0:case 11:case 15:Pa(f,p,T,C,h),rl(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Pa(f,p,T,C,h):ol(f,p):(F._visibility|=2,Pa(f,p,T,C,h)),h&&j&2048&&Xf(p.alternate,p);break;case 24:Pa(f,p,T,C,h),h&&j&2048&&$f(p.alternate,p);break;default:Pa(f,p,T,C,h)}n=n.sibling}}function ol(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:ol(s,o),h&2048&&Xf(o.alternate,o);break;case 24:ol(s,o),h&2048&&$f(o.alternate,o);break;default:ol(s,o)}n=n.sibling}}var ll=8192;function ja(t,n,s){if(t.subtreeFlags&ll)for(t=t.child;t!==null;)Ty(t,n,s),t=t.sibling}function Ty(t,n,s){switch(t.tag){case 26:ja(t,n,s),t.flags&ll&&t.memoizedState!==null&&v1(s,gi,t.memoizedState,t.memoizedProps);break;case 5:ja(t,n,s);break;case 3:case 4:var o=gi;gi=gc(t.stateNode.containerInfo),ja(t,n,s),gi=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=ll,ll=16777216,ja(t,n,s),ll=o):ja(t,n,s));break;default:ja(t,n,s)}}function by(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ul(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ln=o,Sy(o,t)}by(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ay(t),t=t.sibling}function Ay(t){switch(t.tag){case 0:case 11:case 15:ul(t),t.flags&2048&&Ks(9,t,t.return);break;case 3:ul(t);break;case 12:ul(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ic(t)):ul(t);break;default:ul(t)}}function ic(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];ln=o,Sy(o,t)}by(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ks(8,n,n.return),ic(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ic(n));break;default:ic(n)}t=t.sibling}}function Sy(t,n){for(;ln!==null;){var s=ln;switch(s.tag){case 0:case 11:case 15:Ks(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Qo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,ln=o;else e:for(s=t;ln!==null;){o=ln;var h=o.sibling,f=o.return;if(my(o),o===s){ln=null;break e}if(h!==null){h.return=f,ln=h;break e}ln=f}}}var Vb={getCacheForType:function(t){var n=mn(Kt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return mn(Kt).controller.signal}},kb=typeof WeakMap=="function"?WeakMap:Map,at=0,Et=null,Pe=null,Be=0,ct=0,qn=null,Ys=!1,za=!1,Zf=!1,ps=0,Vt=0,Xs=0,Wr=0,Jf=0,Gn=0,Ba=0,cl=null,Mn=null,Wf=!1,sc=0,wy=0,rc=1/0,ac=null,$s=null,tn=0,Zs=null,Ha=null,gs=0,ed=0,td=null,Ry=null,hl=0,nd=null;function Fn(){return(at&2)!==0&&Be!==0?Be&-Be:G.T!==null?ld():ou()}function Cy(){if(Gn===0)if((Be&536870912)===0||Ke){var t=Rr;Rr<<=1,(Rr&3932160)===0&&(Rr=262144),Gn=t}else Gn=536870912;return t=Bn.current,t!==null&&(t.flags|=32),Gn}function Vn(t,n,s){(t===Et&&(ct===2||ct===9)||t.cancelPendingCommit!==null)&&(qa(t,0),Js(t,Be,Gn,!1)),Cr(t,s),((at&2)===0||t!==Et)&&(t===Et&&((at&2)===0&&(Wr|=s),Vt===4&&Js(t,Be,Gn,!1)),ji(t))}function Iy(t,n,s){if((at&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||oi(t,n),h=o?Pb(t,n):sd(t,n,!0),f=o;do{if(h===0){za&&!o&&Js(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!Lb(s)){h=sd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var T=t;h=cl;var C=T.current.memoizedState.isDehydrated;if(C&&(qa(T,p).flags|=256),p=sd(T,p,!1),p!==2){if(Zf&&!C){T.errorRecoveryDisabledLanes|=f,Wr|=f,h=4;break e}f=Mn,Mn=h,f!==null&&(Mn===null?Mn=f:Mn.push.apply(Mn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){qa(t,0),Js(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Js(o,n,Gn,!Ys);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=sc+300-Ct(),10<h)){if(Js(o,n,Gn,!Ys),Ti(o,0,!0)!==0)break e;gs=n,o.timeoutHandle=r_(xy.bind(null,o,s,Mn,ac,Wf,n,Gn,Wr,Ba,Ys,f,"Throttled",-0,0),h);break e}xy(o,s,Mn,ac,Wf,n,Gn,Wr,Ba,Ys,f,null,-0,0)}}break}while(!0);ji(t)}function xy(t,n,s,o,h,f,p,T,C,j,F,X,z,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ci},Ty(n,f,X);var fe=(f&62914560)===f?sc-Ct():(f&4194048)===f?wy-Ct():0;if(fe=E1(X,fe),fe!==null){gs=f,t.cancelPendingCommit=fe(Uy.bind(null,t,n,f,s,o,h,p,T,C,F,X,null,z,H)),Js(t,f,p,!j);return}}Uy(t,n,f,s,o,h,p,T,C)}function Lb(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!jn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Js(t,n,s,o){n&=~Jf,n&=~Wr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-vt(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&Ir(t,s,n)}function oc(){return(at&6)===0?(fl(0),!1):!0}function id(){if(Pe!==null){if(ct===0)var t=Pe.return;else t=Pe,rs=Gr=null,vf(t),Ma=null,Yo=0,t=Pe;for(;t!==null;)ay(t.alternate,t),t=t.return;Pe=null}}function qa(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,n1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),gs=0,id(),Et=t,Pe=s=is(t.current,null),Be=n,ct=0,qn=null,Ys=!1,za=oi(t,n),Zf=!1,Ba=Gn=Jf=Wr=Xs=Vt=0,Mn=cl=null,Wf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-vt(o),f=1<<h;n|=t[h],o&=~f}return ps=n,Iu(),s}function Ny(t,n){Me=null,G.H=nl,n===Oa||n===Lu?(n=Qp(),ct=3):n===of?(n=Qp(),ct=4):ct=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,qn=n,Pe===null&&(Vt=1,$u(t,Jn(n,t.current)))}function Dy(){var t=Bn.current;return t===null?!0:(Be&4194048)===Be?ni===null:(Be&62914560)===Be||(Be&536870912)!==0?t===ni:!1}function Oy(){var t=G.H;return G.H=nl,t===null?nl:t}function My(){var t=G.A;return G.A=Vb,t}function lc(){Vt=4,Ys||(Be&4194048)!==Be&&Bn.current!==null||(za=!0),(Xs&134217727)===0&&(Wr&134217727)===0||Et===null||Js(Et,Be,Gn,!1)}function sd(t,n,s){var o=at;at|=2;var h=Oy(),f=My();(Et!==t||Be!==n)&&(ac=null,qa(t,n)),n=!1;var p=Vt;e:do try{if(ct!==0&&Pe!==null){var T=Pe,C=qn;switch(ct){case 8:id(),p=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(n=!0);var j=ct;if(ct=0,qn=null,Ga(t,T,C,j),s&&za){p=0;break e}break;default:j=ct,ct=0,qn=null,Ga(t,T,C,j)}}Ub(),p=Vt;break}catch(F){Ny(t,F)}while(!0);return n&&t.shellSuspendCounter++,rs=Gr=null,at=o,G.H=h,G.A=f,Pe===null&&(Et=null,Be=0,Iu()),p}function Ub(){for(;Pe!==null;)Vy(Pe)}function Pb(t,n){var s=at;at|=2;var o=Oy(),h=My();Et!==t||Be!==n?(ac=null,rc=Ct()+500,qa(t,n)):za=oi(t,n);e:do try{if(ct!==0&&Pe!==null){n=Pe;var f=qn;t:switch(ct){case 1:ct=0,qn=null,Ga(t,n,f,1);break;case 2:case 9:if(Gp(f)){ct=0,qn=null,ky(n);break}n=function(){ct!==2&&ct!==9||Et!==t||(ct=7),ji(t)},f.then(n,n);break e;case 3:ct=7;break e;case 4:ct=5;break e;case 7:Gp(f)?(ct=0,qn=null,ky(n)):(ct=0,qn=null,Ga(t,n,f,7));break;case 5:var p=null;switch(Pe.tag){case 26:p=Pe.memoizedState;case 5:case 27:var T=Pe;if(p?E_(p):T.stateNode.complete){ct=0,qn=null;var C=T.sibling;if(C!==null)Pe=C;else{var j=T.return;j!==null?(Pe=j,uc(j)):Pe=null}break t}}ct=0,qn=null,Ga(t,n,f,5);break;case 6:ct=0,qn=null,Ga(t,n,f,6);break;case 8:id(),Vt=6;break e;default:throw Error(a(462))}}jb();break}catch(F){Ny(t,F)}while(!0);return rs=Gr=null,G.H=o,G.A=h,at=s,Pe!==null?0:(Et=null,Be=0,Iu(),Vt)}function jb(){for(;Pe!==null&&!At();)Vy(Pe)}function Vy(t){var n=sy(t.alternate,t,ps);t.memoizedProps=t.pendingProps,n===null?uc(t):Pe=n}function ky(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Jg(s,n,n.pendingProps,n.type,void 0,Be);break;case 11:n=Jg(s,n,n.pendingProps,n.type.render,n.ref,Be);break;case 5:vf(n);default:ay(s,n),n=Pe=Mp(n,ps),n=sy(s,n,ps)}t.memoizedProps=t.pendingProps,n===null?uc(t):Pe=n}function Ga(t,n,s,o){rs=Gr=null,vf(n),Ma=null,Yo=0;var h=n.return;try{if(Cb(t,h,n,s,Be)){Vt=1,$u(t,Jn(s,t.current)),Pe=null;return}}catch(f){if(h!==null)throw Pe=h,f;Vt=1,$u(t,Jn(s,t.current)),Pe=null;return}n.flags&32768?(Ke||o===1?t=!0:za||(Be&536870912)!==0?t=!1:(Ys=t=!0,(o===2||o===9||o===3||o===6)&&(o=Bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ly(n,t)):uc(n)}function uc(t){var n=t;do{if((n.flags&32768)!==0){Ly(n,Ys);return}t=n.return;var s=Nb(n.alternate,n,ps);if(s!==null){Pe=s;return}if(n=n.sibling,n!==null){Pe=n;return}Pe=n=t}while(n!==null);Vt===0&&(Vt=5)}function Ly(t,n){do{var s=Db(t.alternate,t);if(s!==null){s.flags&=32767,Pe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=s}while(t!==null);Vt=6,Pe=null}function Uy(t,n,s,o,h,f,p,T,C){t.cancelPendingCommit=null;do cc();while(tn!==0);if((at&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Fh,Lh(t,s,f,p,T,C),t===Et&&(Pe=Et=null,Be=0),Ha=n,Zs=t,gs=s,ed=f,td=h,Ry=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qb(Ve,function(){return Hy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=se.p,se.p=2,p=at,at|=4;try{Ob(t,n,s)}finally{at=p,se.p=h,G.T=o}}tn=1,Py(),jy(),zy()}}function Py(){if(tn===1){tn=0;var t=Zs,n=Ha,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=se.p;se.p=2;var h=at;at|=4;try{_y(n,t);var f=gd,p=Sp(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Ap(T.ownerDocument.documentElement,T)){if(C!==null&&zh(T)){var j=C.start,F=C.end;if(F===void 0&&(F=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(F,T.value.length);else{var X=T.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),fe=T.textContent.length,Ae=Math.min(C.start,fe),yt=C.end===void 0?Ae:Math.min(C.end,fe);!H.extend&&Ae>yt&&(p=yt,yt=Ae,Ae=p);var k=bp(T,Ae),D=bp(T,yt);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=X.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),Ae>yt?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for(X=[],H=T;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}bc=!!pd,gd=pd=null}finally{at=h,se.p=o,G.T=s}}t.current=n,tn=2}}function jy(){if(tn===2){tn=0;var t=Zs,n=Ha,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=se.p;se.p=2;var h=at;at|=4;try{dy(t,n.alternate,n)}finally{at=h,se.p=o,G.T=s}}tn=3}}function zy(){if(tn===4||tn===3){tn=0,Ut();var t=Zs,n=Ha,s=gs,o=Ry;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?tn=5:(tn=0,Ha=Zs=null,By(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&($s=null),Wi(s),n=n.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(ie,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=se.p,se.p=2,G.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var T=o[p];f(T.value,{componentStack:T.stack})}}finally{G.T=n,se.p=h}}(gs&3)!==0&&cc(),ji(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===nd?hl++:(hl=0,nd=t):hl=0,fl(0)}}function By(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Qo(n)))}function cc(){return Py(),jy(),zy(),Hy()}function Hy(){if(tn!==5)return!1;var t=Zs,n=ed;ed=0;var s=Wi(gs),o=G.T,h=se.p;try{se.p=32>s?32:s,G.T=null,s=td,td=null;var f=Zs,p=gs;if(tn=0,Ha=Zs=null,gs=0,(at&6)!==0)throw Error(a(331));var T=at;if(at|=4,Ay(f.current),Ey(f,f.current,p,s),at=T,fl(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(ie,f)}catch{}return!0}finally{se.p=h,G.T=o,By(t,n)}}function qy(t,n,s){n=Jn(s,n),n=Vf(t.stateNode,n,2),t=Gs(t,n,2),t!==null&&(Cr(t,2),ji(t))}function ht(t,n,s){if(t.tag===3)qy(t,t,s);else for(;n!==null;){if(n.tag===3){qy(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&($s===null||!$s.has(o))){t=Jn(s,t),s=Gg(2),o=Gs(n,s,2),o!==null&&(Fg(s,o,n,t),Cr(o,2),ji(o));break}}n=n.return}}function rd(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new kb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Zf=!0,h.add(s),t=zb.bind(null,t,n,s),n.then(t,t))}function zb(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Et===t&&(Be&s)===s&&(Vt===4||Vt===3&&(Be&62914560)===Be&&300>Ct()-sc?(at&2)===0&&qa(t,0):Jf|=s,Ba===Be&&(Ba=0)),ji(t)}function Gy(t,n){n===0&&(n=au()),t=Br(t,n),t!==null&&(Cr(t,n),ji(t))}function Bb(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Gy(t,s)}function Hb(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Gy(t,s)}function qb(t,n){return le(t,n)}var hc=null,Fa=null,ad=!1,fc=!1,od=!1,Ws=0;function ji(t){t!==Fa&&t.next===null&&(Fa===null?hc=Fa=t:Fa=Fa.next=t),fc=!0,ad||(ad=!0,Fb())}function fl(t,n){if(!od&&fc){od=!0;do for(var s=!1,o=hc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-vt(42|t)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Yy(o,f))}else f=Be,f=Ti(o,o===Et?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||oi(o,f)||(s=!0,Yy(o,f));o=o.next}while(s);od=!1}}function Gb(){Fy()}function Fy(){fc=ad=!1;var t=0;Ws!==0&&t1()&&(t=Ws);for(var n=Ct(),s=null,o=hc;o!==null;){var h=o.next,f=Qy(o,n);f===0?(o.next=null,s===null?hc=h:s.next=h,h===null&&(Fa=s)):(s=o,(t!==0||(f&3)!==0)&&(fc=!0)),o=h}tn!==0&&tn!==5||fl(t),Ws!==0&&(Ws=0)}function Qy(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-vt(f),T=1<<p,C=h[p];C===-1?((T&s)===0||(T&o)!==0)&&(h[p]=kh(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=Et,s=Be,s=Ti(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(ct===2||ct===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ye(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||oi(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&Ye(o),Wi(s)){case 2:case 8:s=Le;break;case 32:s=Ve;break;case 268435456:s=hn;break;default:s=Ve}return o=Ky.bind(null,t),s=le(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&Ye(o),t.callbackPriority=2,t.callbackNode=null,2}function Ky(t,n){if(tn!==0&&tn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(cc()&&t.callbackNode!==s)return null;var o=Be;return o=Ti(t,t===Et?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Iy(t,o,n),Qy(t,Ct()),t.callbackNode!=null&&t.callbackNode===s?Ky.bind(null,t):null)}function Yy(t,n){if(cc())return null;Iy(t,n,!0)}function Fb(){i1(function(){(at&6)!==0?le(_t,Gb):Fy()})}function ld(){if(Ws===0){var t=Na;t===0&&(t=vi,vi<<=1,(vi&261888)===0&&(vi=256)),Ws=t}return Ws}function Xy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pa(""+t)}function $y(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Qb(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Xy((h[an]||null).action),p=o.submitter;p&&(n=(n=p[an]||null)?Xy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new Oi("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ws!==0){var C=p?$y(h,p):new FormData(h);If(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=p?$y(h,p):new FormData(h),If(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ud=0;ud<Gh.length;ud++){var cd=Gh[ud],Kb=cd.toLowerCase(),Yb=cd[0].toUpperCase()+cd.slice(1);pi(Kb,"on"+Yb)}pi(Cp,"onAnimationEnd"),pi(Ip,"onAnimationIteration"),pi(xp,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(cb,"onTransitionRun"),pi(hb,"onTransitionStart"),pi(fb,"onTransitionCancel"),pi(Np,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function Zy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var T=o[p],C=T.instance,j=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=j;try{f(h)}catch(F){Cu(F)}h.currentTarget=null,f=C}else for(p=0;p<o.length;p++){if(T=o[p],C=T.instance,j=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=j;try{f(h)}catch(F){Cu(F)}h.currentTarget=null,f=C}}}}function je(t,n){var s=n[ca];s===void 0&&(s=n[ca]=new Set);var o=t+"__bubble";s.has(o)||(Jy(n,t,2,!1),s.add(o))}function hd(t,n,s){var o=0;n&&(o|=4),Jy(s,t,o,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function fd(t){if(!t[dc]){t[dc]=!0,wo.forEach(function(s){s!=="selectionchange"&&(Xb.has(s)||hd(s,!1,t),hd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[dc]||(n[dc]=!0,hd("selectionchange",!1,n))}}function Jy(t,n,s,o){switch(C_(n)){case 2:var h=A1;break;case 8:h=S1;break;default:h=Cd}s=h.bind(null,n,s,t),h=void 0,!Mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function dd(t,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var T=o.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=wi(T),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=f=p;continue e}T=T.parentNode}}o=o.return}Vs(function(){var j=f,F=Yn(s),X=[];e:{var z=Dp.get(t);if(z!==void 0){var H=Oi,fe=t;switch(t){case"keypress":if(kr(s)===0)break e;case"keydown":case"keyup":H=Su;break;case"focusin":fe="focus",H=Ur;break;case"focusout":fe="blur",H=Ur;break;case"beforeblur":case"afterblur":H=Ur;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Cp:case Ip:case xp:H=yu;break;case Np:H=b;break;case"scroll":case"scrollend":H=Uo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ns;break;case"toggle":case"beforetoggle":H=Oe}var Ae=(n&4)!==0,yt=!Ae&&(t==="scroll"||t==="scrollend"),k=Ae?z!==null?z+"Capture":null:z;Ae=[];for(var D=j,P;D!==null;){var Y=D;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||k===null||(Y=hi(D,k),Y!=null&&Ae.push(ml(D,Y,P))),yt)break;D=D.return}0<Ae.length&&(z=new H(z,fe,null,s,F),X.push({event:z,listeners:Ae}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&s!==Vo&&(fe=s.relatedTarget||s.fromElement)&&(wi(fe)||fe[Ai]))break e;if((H||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,H?(fe=s.relatedTarget||s.toElement,H=j,fe=fe?wi(fe):null,fe!==null&&(yt=c(fe),Ae=fe.tag,fe!==yt||Ae!==5&&Ae!==27&&Ae!==6)&&(fe=null)):(H=null,fe=j),H!==fe)){if(Ae=Po,Y="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=ns,Y="onPointerLeave",k="onPointerEnter",D="pointer"),yt=H==null?z:Un(H),P=fe==null?z:Un(fe),z=new Ae(Y,D+"leave",H,s,F),z.target=yt,z.relatedTarget=P,Y=null,wi(F)===j&&(Ae=new Ae(k,D+"enter",fe,s,F),Ae.target=P,Ae.relatedTarget=yt,Y=Ae),yt=Y,H&&fe)t:{for(Ae=$b,k=H,D=fe,P=0,Y=k;Y;Y=Ae(Y))P++;Y=0;for(var ge=D;ge;ge=Ae(ge))Y++;for(;0<P-Y;)k=Ae(k),P--;for(;0<Y-P;)D=Ae(D),Y--;for(;P--;){if(k===D||D!==null&&k===D.alternate){Ae=k;break t}k=Ae(k),D=Ae(D)}Ae=null}else Ae=null;H!==null&&Wy(X,z,H,Ae,!1),fe!==null&&yt!==null&&Wy(X,yt,fe,Ae,!0)}}e:{if(z=j?Un(j):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var nt=gp;else if(mp(z))if(yp)nt=ob;else{nt=rb;var de=sb}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ma(j.elementType)&&(nt=gp):nt=ab;if(nt&&(nt=nt(t,j))){pp(X,nt,s,F);break e}de&&de(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Do(z,"number",z.value)}switch(de=j?Un(j):window,t){case"focusin":(mp(de)||de.contentEditable==="true")&&(ba=de,Bh=j,qo=null);break;case"focusout":qo=Bh=ba=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,wp(X,s,F);break;case"selectionchange":if(ub)break;case"keydown":case"keyup":wp(X,s,F)}var ke;if(rt)e:{switch(t){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Ta?Pr(t,s)&&(He="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(He="onCompositionStart");He&&(ki&&s.locale!=="ko"&&(Ta||He!=="onCompositionStart"?He==="onCompositionEnd"&&Ta&&(ke=Lo()):(Di=F,ko="value"in Di?Di.value:Di.textContent,Ta=!0)),de=mc(j,He),0<de.length&&(He=new Vi(He,t,null,s,F),X.push({event:He,listeners:de}),ke?He.data=ke:(ke=Ea(s),ke!==null&&(He.data=ke)))),(ke=$n?eb(t,s):tb(t,s))&&(He=mc(j,"onBeforeInput"),0<He.length&&(de=new Vi("onBeforeInput","beforeinput",null,s,F),X.push({event:de,listeners:He}),de.data=ke)),Qb(X,t,j,s,F)}Zy(X,n)})}function ml(t,n,s){return{instance:t,listener:n,currentTarget:s}}function mc(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=hi(t,s),h!=null&&o.unshift(ml(t,h,f)),h=hi(t,n),h!=null&&o.push(ml(t,h,f))),t.tag===3)return o;t=t.return}return[]}function $b(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wy(t,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var T=s,C=T.alternate,j=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||j===null||(C=j,h?(j=hi(s,f),j!=null&&p.unshift(ml(s,j,C))):h||(j=hi(s,f),j!=null&&p.push(ml(s,j,C)))),s=s.return}p.length!==0&&t.push({event:n,listeners:p})}var Zb=/\r\n?/g,Jb=/\u0000|\uFFFD/g;function e_(t){return(typeof t=="string"?t:""+t).replace(Zb,`
`).replace(Jb,"")}function t_(t,n){return n=e_(n),e_(t)===n}function gt(t,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||xn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&xn(t,""+o);break;case"className":Pn(t,"class",o);break;case"tabIndex":Pn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,s,o);break;case"style":Mo(t,o,f);break;case"data":if(n!=="object"){Pn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=pa(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&gt(t,n,"name",h.name,h,null),gt(t,n,"formEncType",h.formEncType,h,null),gt(t,n,"formMethod",h.formMethod,h,null),gt(t,n,"formTarget",h.formTarget,h,null)):(gt(t,n,"encType",h.encType,h,null),gt(t,n,"method",h.method,h,null),gt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=pa(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=ci);break;case"onScroll":o!=null&&je("scroll",t);break;case"onScrollEnd":o!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=pa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":je("beforetoggle",t),je("toggle",t),fa(t,"popover",o);break;case"xlinkActuate":Qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Qt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Qt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Qt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Qt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":fa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=mu.get(s)||s,fa(t,s,o))}}function md(t,n,s,o,h,f){switch(s){case"style":Mo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?xn(t,o):(typeof o=="number"||typeof o=="bigint")&&xn(t,""+o);break;case"onScroll":o!=null&&je("scroll",t);break;case"onScrollEnd":o!=null&&je("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ci);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[an]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):fa(t,s,o)}}}function gn(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:gt(t,n,f,p,s,null)}}h&&gt(t,n,"srcSet",s.srcSet,s,null),o&&gt(t,n,"src",s.src,s,null);return;case"input":je("invalid",t);var T=f=p=h=null,C=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":C=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:gt(t,n,o,F,s,null)}}hu(t,f,T,C,j,p,h,!1);return;case"select":je("invalid",t),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":o=T;default:gt(t,n,h,T,s,null)}n=f,s=p,t.multiple=!!o,n!=null?Ns(t,!!o,n,!1):s!=null&&Ns(t,!!o,s,!0);return;case"textarea":je("invalid",t),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(T=s[p],T!=null))switch(p){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:gt(t,n,p,T,s,null)}Ds(t,o,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:gt(t,n,C,o,s,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(o=0;o<dl.length;o++)je(dl[o],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:gt(t,n,j,o,s,null)}return;default:if(ma(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&md(t,n,F,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&gt(t,n,T,o,s,null))}function Wb(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,C=null,j=null,F=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||gt(t,n,H,null,o,X)}}for(var z in o){var H=o[z];if(X=s[z],o.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":F=H;break;case"value":p=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&gt(t,n,z,H,o,X)}}da(t,p,T,C,j,F,f,h);return;case"select":H=p=T=z=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||gt(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==C&&gt(t,n,h,f,o,C)}n=T,s=p,o=H,z!=null?Ns(t,!!s,z,!1):!!o!=!!s&&(n!=null?Ns(t,!!s,n,!0):Ns(t,!!s,s?[]:"",!1));return;case"textarea":H=z=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:gt(t,n,T,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&gt(t,n,p,h,o,f)}fu(t,z,H);return;case"option":for(var fe in s)if(z=s[fe],s.hasOwnProperty(fe)&&z!=null&&!o.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:gt(t,n,fe,null,o,z)}for(C in o)if(z=o[C],H=s[C],o.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null))switch(C){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:gt(t,n,C,z,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in s)z=s[Ae],s.hasOwnProperty(Ae)&&z!=null&&!o.hasOwnProperty(Ae)&&gt(t,n,Ae,null,o,z);for(j in o)if(z=o[j],H=s[j],o.hasOwnProperty(j)&&z!==H&&(z!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:gt(t,n,j,z,o,H)}return;default:if(ma(n)){for(var yt in s)z=s[yt],s.hasOwnProperty(yt)&&z!==void 0&&!o.hasOwnProperty(yt)&&md(t,n,yt,void 0,o,z);for(F in o)z=o[F],H=s[F],!o.hasOwnProperty(F)||z===H||z===void 0&&H===void 0||md(t,n,F,z,o,H);return}}for(var k in s)z=s[k],s.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&gt(t,n,k,null,o,z);for(X in o)z=o[X],H=s[X],!o.hasOwnProperty(X)||z===H||z==null&&H==null||gt(t,n,X,z,o,H)}function n_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function e1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&n_(p)){for(p=0,T=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],j=C.startTime;if(j>T)break;var F=C.transferSize,X=C.initiatorType;F&&n_(X)&&(C=C.responseEnd,p+=F*(C<T?1:(T-j)/(C-j)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pd=null,gd=null;function pc(t){return t.nodeType===9?t:t.ownerDocument}function i_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function yd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function t1(){var t=window.event;return t&&t.type==="popstate"?t===_d?!1:(_d=t,!0):(_d=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,n1=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,i1=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(t){return a_.resolve(null).then(t).catch(s1)}:r_;function s1(t){setTimeout(function(){throw t})}function er(t){return t==="head"}function o_(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),Xa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")pl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,pl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[Si]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&pl(t.ownerDocument.body);s=h}while(s);Xa(n)}function l_(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function vd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":vd(s),ha(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function r1(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Si])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ii(t.nextSibling),t===null)break}return null}function a1(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ii(t.nextSibling),t===null))return null;return t}function u_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ii(t.nextSibling),t===null))return null;return t}function Ed(t){return t.data==="$?"||t.data==="$~"}function Td(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function o1(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ii(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var bd=null;function c_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return ii(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function h_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function f_(t,n,s){switch(n=pc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function pl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ha(t)}var si=new Map,d_=new Set;function gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ys=se.d;se.d={f:l1,r:u1,D:c1,C:h1,L:f1,m:d1,X:p1,S:m1,M:g1};function l1(){var t=ys.f(),n=oc();return t||n}function u1(t){var n=Kn(t);n!==null&&n.tag===5&&n.type==="form"?Ng(n):ys.r(t)}var Qa=typeof document>"u"?null:document;function m_(t,n,s){var o=Qa;if(o&&typeof n=="string"&&n){var h=In(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),d_.has(h)||(d_.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),gn(n,"link",t),Ft(n),o.head.appendChild(n)))}}function c1(t){ys.D(t),m_("dns-prefetch",t,null)}function h1(t,n){ys.C(t,n),m_("preconnect",t,n)}function f1(t,n,s){ys.L(t,n,s);var o=Qa;if(o&&t&&n){var h='link[rel="preload"][as="'+In(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+In(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+In(s.imageSizes)+'"]')):h+='[href="'+In(t)+'"]';var f=h;switch(n){case"style":f=Ka(t);break;case"script":f=Ya(t)}si.has(f)||(t=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),si.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(gl(f))||n==="script"&&o.querySelector(yl(f))||(n=o.createElement("link"),gn(n,"link",t),Ft(n),o.head.appendChild(n)))}}function d1(t,n){ys.m(t,n);var s=Qa;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+In(o)+'"][href="'+In(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ya(t)}if(!si.has(f)&&(t=w({rel:"modulepreload",href:t},n),si.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(yl(f)))return}o=s.createElement("link"),gn(o,"link",t),Ft(o),s.head.appendChild(o)}}}function m1(t,n,s){ys.S(t,n,s);var o=Qa;if(o&&t){var h=Ri(o).hoistableStyles,f=Ka(t);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=o.querySelector(gl(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},s),(s=si.get(f))&&Ad(t,s);var C=p=o.createElement("link");Ft(C),gn(C,"link",t),C._p=new Promise(function(j,F){C.onload=j,C.onerror=F}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function p1(t,n){ys.X(t,n);var s=Qa;if(s&&t){var o=Ri(s).hoistableScripts,h=Ya(t),f=o.get(h);f||(f=s.querySelector(yl(h)),f||(t=w({src:t,async:!0},n),(n=si.get(h))&&Sd(t,n),f=s.createElement("script"),Ft(f),gn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function g1(t,n){ys.M(t,n);var s=Qa;if(s&&t){var o=Ri(s).hoistableScripts,h=Ya(t),f=o.get(h);f||(f=s.querySelector(yl(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=si.get(h))&&Sd(t,n),f=s.createElement("script"),Ft(f),gn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function p_(t,n,s,o){var h=(h=De.current)?gc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ka(s.href),s=Ri(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ka(s.href);var f=Ri(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(gl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),si.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},si.set(t,s),f||y1(h,t,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ya(s),s=Ri(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ka(t){return'href="'+In(t)+'"'}function gl(t){return'link[rel="stylesheet"]['+t+"]"}function g_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function y1(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),gn(n,"link",s),Ft(n),t.head.appendChild(n))}function Ya(t){return'[src="'+In(t)+'"]'}function yl(t){return"script[async]"+t}function y_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+In(s.href)+'"]');if(o)return n.instance=o,Ft(o),o;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Ft(o),gn(o,"style",h),yc(o,s.precedence,t),n.instance=o;case"stylesheet":h=Ka(s.href);var f=t.querySelector(gl(h));if(f)return n.state.loading|=4,n.instance=f,Ft(f),f;o=g_(s),(h=si.get(h))&&Ad(o,h),f=(t.ownerDocument||t).createElement("link"),Ft(f);var p=f;return p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),gn(f,"link",o),n.state.loading|=4,yc(f,s.precedence,t),n.instance=f;case"script":return f=Ya(s.src),(h=t.querySelector(yl(f)))?(n.instance=h,Ft(h),h):(o=s,(h=si.get(f))&&(o=w({},s),Sd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ft(h),gn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,yc(o,s.precedence,t));return n.instance}function yc(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var T=o[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Sd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var _c=null;function __(t,n,s){if(_c===null){var o=new Map,h=_c=new Map;h.set(s,o)}else h=_c,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[Si]||f[Gt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var T=o.get(p);T?T.push(f):o.set(p,[f])}}return o}function v_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function _1(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function E_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function v1(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ka(o.href),f=n.querySelector(gl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=vc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Ft(f);return}f=n.ownerDocument||n,o=g_(o),(h=si.get(h))&&Ad(o,h),f=f.createElement("link"),Ft(f);var p=f;p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),gn(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=vc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var wd=0;function E1(t,n){return t.stylesheets&&t.count===0&&Tc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&wd===0&&(wd=62500*e1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>wd?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ec=null;function Tc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ec=new Map,n.forEach(T1,t),Ec=null,vc.call(t))}function T1(t,n){if(!(n.state.loading&4)){var s=Ec.get(t);if(s)var o=s.get(null);else{s=new Map,Ec.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=vc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var _l={$$typeof:_e,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function b1(t,n,s,o,h,f,p,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function T_(t,n,s,o,h,f,p,T,C,j,F,X){return t=new b1(t,n,s,p,C,j,F,X,T),n=1,f===!0&&(n|=24),f=zn(3,null,null,n),t.current=f,f.stateNode=t,n=sf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},lf(f),t}function b_(t){return t?(t=wa,t):wa}function A_(t,n,s,o,h,f){h=b_(h),o.context===null?o.context=h:o.pendingContext=h,o=qs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Gs(t,o,n),s!==null&&(Vn(s,t,n),$o(s,t,n))}function S_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Rd(t,n){S_(t,n),(t=t.alternate)&&S_(t,n)}function w_(t){if(t.tag===13||t.tag===31){var n=Br(t,67108864);n!==null&&Vn(n,t,67108864),Rd(t,67108864)}}function R_(t){if(t.tag===13||t.tag===31){var n=Fn();n=xr(n);var s=Br(t,n);s!==null&&Vn(s,t,n),Rd(t,n)}}var bc=!0;function A1(t,n,s,o){var h=G.T;G.T=null;var f=se.p;try{se.p=2,Cd(t,n,s,o)}finally{se.p=f,G.T=h}}function S1(t,n,s,o){var h=G.T;G.T=null;var f=se.p;try{se.p=8,Cd(t,n,s,o)}finally{se.p=f,G.T=h}}function Cd(t,n,s,o){if(bc){var h=Id(o);if(h===null)dd(t,n,o,Ac,s),I_(t,o);else if(R1(h,t,n,s,o))o.stopPropagation();else if(I_(t,o),n&4&&-1<w1.indexOf(t)){for(;h!==null;){var f=Kn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Ei(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var C=1<<31-vt(p);T.entanglements[1]|=C,p&=~C}ji(f),(at&6)===0&&(rc=Ct()+500,fl(0))}}break;case 31:case 13:T=Br(f,2),T!==null&&Vn(T,f,2),oc(),Rd(f,2)}if(f=Id(o),f===null&&dd(t,n,o,Ac,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else dd(t,n,o,null,s)}}function Id(t){return t=Yn(t),xd(t)}var Ac=null;function xd(t){if(Ac=null,t=wi(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=y(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ac=t,null}function C_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xe()){case _t:return 2;case Le:return 8;case Ve:case Pt:return 32;case hn:return 268435456;default:return 32}default:return 32}}var Nd=!1,tr=null,nr=null,ir=null,vl=new Map,El=new Map,sr=[],w1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(t,n){switch(t){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(n.pointerId)}}function Tl(t,n,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Kn(n),n!==null&&w_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function R1(t,n,s,o,h){switch(n){case"focusin":return tr=Tl(tr,t,n,s,o,h),!0;case"dragenter":return nr=Tl(nr,t,n,s,o,h),!0;case"mouseover":return ir=Tl(ir,t,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return vl.set(f,Tl(vl.get(f)||null,t,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,El.set(f,Tl(El.get(f)||null,t,n,s,o,h)),!0}return!1}function x_(t){var n=wi(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,li(t.priority,function(){R_(s)});return}}else if(n===31){if(n=y(s),n!==null){t.blockedOn=n,li(t.priority,function(){R_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Id(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Vo=o,s.target.dispatchEvent(o),Vo=null}else return n=Kn(s),n!==null&&w_(n),t.blockedOn=s,!1;n.shift()}return!0}function N_(t,n,s){Sc(t)&&s.delete(n)}function C1(){Nd=!1,tr!==null&&Sc(tr)&&(tr=null),nr!==null&&Sc(nr)&&(nr=null),ir!==null&&Sc(ir)&&(ir=null),vl.forEach(N_),El.forEach(N_)}function wc(t,n){t.blockedOn===n&&(t.blockedOn=null,Nd||(Nd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,C1)))}var Rc=null;function D_(t){Rc!==t&&(Rc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rc===t&&(Rc=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(xd(o||s)===null)continue;break}var f=Kn(s);f!==null&&(t.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Xa(t){function n(C){return wc(C,t)}tr!==null&&wc(tr,t),nr!==null&&wc(nr,t),ir!==null&&wc(ir,t),vl.forEach(n),El.forEach(n);for(var s=0;s<sr.length;s++){var o=sr[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<sr.length&&(s=sr[0],s.blockedOn===null);)x_(s),s.blockedOn===null&&sr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[an]||null;if(typeof f=="function")p||D_(s);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[an]||null)T=p.formAction;else if(xd(h)!==null)continue}else T=p.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),D_(s)}}}function O_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(t){this._internalRoot=t}Cc.prototype.render=Dd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Fn();A_(s,o,t,n,null,null)},Cc.prototype.unmount=Dd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;A_(t.current,2,null,t,null,null),oc(),n[Ai]=null}};function Cc(t){this._internalRoot=t}Cc.prototype.unstable_scheduleHydration=function(t){if(t){var n=ou();t={blockedOn:null,target:t,priority:n};for(var s=0;s<sr.length&&n!==0&&n<sr[s].priority;s++);sr.splice(s,0,t),s===0&&x_(t)}};var M_=e.version;if(M_!=="19.2.0")throw Error(a(527,M_,"19.2.0"));se.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var I1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{ie=Ic.inject(I1),we=Ic}catch{}}return Al.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",h=zg,f=Bg,p=Hg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=T_(t,1,!1,null,null,s,o,null,h,f,p,O_),t[Ai]=n.current,fd(t),new Dd(n)},Al.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,h="",f=zg,p=Bg,T=Hg,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=T_(t,1,!0,n,s??null,o,h,C,f,p,T,O_),n.context=b_(null),s=n.current,o=Fn(),o=xr(o),h=qs(o),h.callback=null,Gs(s,h,o),s=o,n.current.lanes=s,Cr(n,s),ji(n),t[Ai]=n.current,fd(t),new Cc(n)},Al.version="19.2.0",Al}var q_;function P1(){if(q_)return Vd.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vd.exports=U1(),Vd.exports}var j1=P1();const z1=()=>{};var G_={};const Av=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},B1=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],y=r[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Sv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,y=d?r[l+1]:0,g=l+2<r.length,v=g?r[l+2]:0,_=c>>2,w=(c&3)<<4|y>>4;let M=(y&15)<<2|v>>6,q=v&63;g||(q=64,d||(M=64)),a.push(i[_],i[w],i[M],i[q])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Av(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):B1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],y=l<r.length?i[r.charAt(l)]:0;++l;const v=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||y==null||v==null||w==null)throw new H1;const M=c<<2|y>>4;if(a.push(M),v!==64){const q=y<<4&240|v>>2;if(a.push(q),w!==64){const te=v<<6&192|w;a.push(te)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class H1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q1=function(r){const e=Av(r);return Sv.encodeByteArray(e,!0)},Yc=function(r){return q1(r).replace(/\./g,"")},wv=function(r){try{return Sv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function G1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const F1=()=>G1().__FIREBASE_DEFAULTS__,Q1=()=>{if(typeof process>"u"||typeof G_>"u")return;const r=G_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},K1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&wv(r[1]);return e&&JSON.parse(e)},mh=()=>{try{return z1()||F1()||Q1()||K1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Rv=r=>mh()?.emulatorHosts?.[r],Y1=r=>{const e=Rv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Cv=()=>mh()?.config,Iv=r=>mh()?.[`_${r}`];class X1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function go(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xv(r){return(await fetch(r,{credentials:"include"})).ok}function $1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const Nl={};function Z1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Nl))Nl[e]?r.emulator.push(e):r.prod.push(e);return r}function J1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let F_=!1;function Nv(r,e){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||Nl[r]===e||Nl[r]||F_)return;Nl[r]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Z1().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function g(M,q){M.setAttribute("width","24"),M.setAttribute("id",q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function v(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{F_=!0,d()},M}function _(M,q){M.setAttribute("id",q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=J1(a),q=i("text"),te=document.getElementById(q)||document.createElement("span"),oe=i("learnmore"),ee=document.getElementById(oe)||document.createElement("a"),ye=i("preprendIcon"),Ce=document.getElementById(ye)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const _e=M.element;y(_e),_(ee,oe);const st=v();g(Ce,ye),_e.append(Ce,te,ee,st),document.body.appendChild(_e)}c?(te.innerText="Preview backend disconnected.",Ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,te.innerText="Preview backend running in this workspace."),te.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function W1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function eA(){const r=mh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function iA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sA(){const r=Sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function rA(){return!eA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aA(){try{return typeof indexedDB=="object"}catch{return!1}}function oA(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const lA="FirebaseError";class Cs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=lA,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?uA(c,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new Cs(l,y,a)}}function uA(r,e){return r.replace(cA,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const cA=/\{\$([^}]+)}/g;function hA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function yr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=e[l];if(Q_(c)&&Q_(d)){if(!yr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Q_(r){return r!==null&&typeof r=="object"}function Ql(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function fA(r,e){const i=new dA(r,e);return i.subscribe.bind(i)}class dA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");mA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Pd),l.error===void 0&&(l.error=Pd),l.complete===void 0&&(l.complete=Pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Pd(){}function Cn(r){return r&&r._delegate?r._delegate:r}class ia{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ea="[DEFAULT]";class pA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new X1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yA(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:gA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gA(r){return r===ea?void 0:r}function yA(r){return r.instantiationMode==="EAGER"}class _A{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new pA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qe||(qe={}));const vA={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},EA=qe.INFO,TA={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},bA=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=TA[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=EA,this._logHandler=bA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const AA=(r,e)=>e.some(i=>r instanceof i);let K_,Y_;function SA(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wA(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dv=new WeakMap,Wd=new WeakMap,Ov=new WeakMap,jd=new WeakMap,Im=new WeakMap;function RA(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(fr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Dv.set(i,r)}).catch(()=>{}),Im.set(e,r),e}function CA(r){if(Wd.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Wd.set(r,e)}let em={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Wd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Ov.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return fr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function IA(r){em=r(em)}function xA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(zd(this),e,...i);return Ov.set(a,e.sort?e.sort():[e]),fr(a)}:wA().includes(r)?function(...e){return r.apply(zd(this),e),fr(Dv.get(this))}:function(...e){return fr(r.apply(zd(this),e))}}function NA(r){return typeof r=="function"?xA(r):(r instanceof IDBTransaction&&CA(r),AA(r,SA())?new Proxy(r,em):r)}function fr(r){if(r instanceof IDBRequest)return RA(r);if(jd.has(r))return jd.get(r);const e=NA(r);return e!==r&&(jd.set(r,e),Im.set(e,r)),e}const zd=r=>Im.get(r);function DA(r,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),y=fr(d);return a&&d.addEventListener("upgradeneeded",g=>{a(fr(d.result),g.oldVersion,g.newVersion,fr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),y.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),y}const OA=["get","getKey","getAll","getAllKeys","count"],MA=["put","add","delete","clear"],Bd=new Map;function X_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Bd.get(e))return Bd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=MA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||OA.includes(i)))return;const c=async function(d,...y){const g=this.transaction(d,l?"readwrite":"readonly");let v=g.store;return a&&(v=v.index(y.shift())),(await Promise.all([v[i](...y),l&&g.done]))[0]};return Bd.set(e,c),c}IA(r=>({...r,get:(e,i,a)=>X_(e,i)||r.get(e,i,a),has:(e,i)=>!!X_(e,i)||r.has(e,i)}));class VA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(kA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function kA(r){return r.getComponent()?.type==="VERSION"}const tm="@firebase/app",$_="0.14.6";const Ts=new Cm("@firebase/app"),LA="@firebase/app-compat",UA="@firebase/analytics-compat",PA="@firebase/analytics",jA="@firebase/app-check-compat",zA="@firebase/app-check",BA="@firebase/auth",HA="@firebase/auth-compat",qA="@firebase/database",GA="@firebase/data-connect",FA="@firebase/database-compat",QA="@firebase/functions",KA="@firebase/functions-compat",YA="@firebase/installations",XA="@firebase/installations-compat",$A="@firebase/messaging",ZA="@firebase/messaging-compat",JA="@firebase/performance",WA="@firebase/performance-compat",eS="@firebase/remote-config",tS="@firebase/remote-config-compat",nS="@firebase/storage",iS="@firebase/storage-compat",sS="@firebase/firestore",rS="@firebase/ai",aS="@firebase/firestore-compat",oS="firebase",lS="12.6.0";const nm="[DEFAULT]",uS={[tm]:"fire-core",[LA]:"fire-core-compat",[PA]:"fire-analytics",[UA]:"fire-analytics-compat",[zA]:"fire-app-check",[jA]:"fire-app-check-compat",[BA]:"fire-auth",[HA]:"fire-auth-compat",[qA]:"fire-rtdb",[GA]:"fire-data-connect",[FA]:"fire-rtdb-compat",[QA]:"fire-fn",[KA]:"fire-fn-compat",[YA]:"fire-iid",[XA]:"fire-iid-compat",[$A]:"fire-fcm",[ZA]:"fire-fcm-compat",[JA]:"fire-perf",[WA]:"fire-perf-compat",[eS]:"fire-rc",[tS]:"fire-rc-compat",[nS]:"fire-gcs",[iS]:"fire-gcs-compat",[sS]:"fire-fst",[aS]:"fire-fst-compat",[rS]:"fire-vertex","fire-js":"fire-js",[oS]:"fire-js-all"};const Xc=new Map,cS=new Map,im=new Map;function Z_(r,e){try{r.container.addComponent(e)}catch(i){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function ao(r){const e=r.name;if(im.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;im.set(e,r);for(const i of Xc.values())Z_(i,r);for(const i of cS.values())Z_(i,r);return!0}function xm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function ri(r){return r==null?!1:r.settings!==void 0}const hS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new Fl("app","Firebase",hS);class fS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const yo=lS;function Mv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:nm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw dr.create("bad-app-name",{appName:String(l)});if(i||(i=Cv()),!i)throw dr.create("no-options");const c=Xc.get(l);if(c){if(yr(i,c.options)&&yr(a,c.config))return c;throw dr.create("duplicate-app",{appName:l})}const d=new _A(l);for(const g of im.values())d.addComponent(g);const y=new fS(i,a,d);return Xc.set(l,y),y}function Vv(r=nm){const e=Xc.get(r);if(!e&&r===nm&&Cv())return Mv();if(!e)throw dr.create("no-app",{appName:r});return e}function mr(r,e,i){let a=uS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(d.join(" "));return}ao(new ia(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const dS="firebase-heartbeat-database",mS=1,Ul="firebase-heartbeat-store";let Hd=null;function kv(){return Hd||(Hd=DA(dS,mS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ul)}catch(i){console.warn(i)}}}}).catch(r=>{throw dr.create("idb-open",{originalErrorMessage:r.message})})),Hd}async function pS(r){try{const i=(await kv()).transaction(Ul),a=await i.objectStore(Ul).get(Lv(r));return await i.done,a}catch(e){if(e instanceof Cs)Ts.warn(e.message);else{const i=dr.create("idb-get",{originalErrorMessage:e?.message});Ts.warn(i.message)}}}async function J_(r,e){try{const a=(await kv()).transaction(Ul,"readwrite");await a.objectStore(Ul).put(e,Lv(r)),await a.done}catch(i){if(i instanceof Cs)Ts.warn(i.message);else{const a=dr.create("idb-set",{originalErrorMessage:i?.message});Ts.warn(a.message)}}}function Lv(r){return`${r.name}!${r.options.appId}`}const gS=1024,yS=30;class _S{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ES(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>yS){const l=TS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ts.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=W_(),{heartbeatsToSend:i,unsentEntries:a}=vS(this._heartbeatsCache.heartbeats),l=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Ts.warn(e),""}}}function W_(){return new Date().toISOString().substring(0,10)}function vS(r,e=gS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),e0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),e0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class ES{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aA()?oA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await pS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function e0(r){return Yc(JSON.stringify({version:2,heartbeats:r})).length}function TS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function bS(r){ao(new ia("platform-logger",e=>new VA(e),"PRIVATE")),ao(new ia("heartbeat",e=>new _S(e),"PRIVATE")),mr(tm,$_,r),mr(tm,$_,"esm2020"),mr("fire-js","")}bS("");var AS="firebase",SS="12.6.0";mr(AS,SS,"app");function Uv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wS=Uv,Pv=new Fl("auth","Firebase",Uv());const $c=new Cm("@firebase/auth");function RS(r,...e){$c.logLevel<=qe.WARN&&$c.warn(`Auth (${yo}): ${r}`,...e)}function Uc(r,...e){$c.logLevel<=qe.ERROR&&$c.error(`Auth (${yo}): ${r}`,...e)}function bs(r,...e){throw Nm(r,...e)}function Bi(r,...e){return Nm(r,...e)}function jv(r,e,i){const a={...wS(),[e]:i};return new Fl("auth","Firebase",a).create(e,{appName:r.name})}function Es(r){return jv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nm(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Pv.create(r,...e)}function Re(r,e,...i){if(!r)throw Nm(e,...i)}function _s(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Uc(e),new Error(e)}function As(r,e){r||_s(e)}function sm(){return typeof self<"u"&&self.location?.href||""}function CS(){return t0()==="http:"||t0()==="https:"}function t0(){return typeof self<"u"&&self.location?.protocol||null}function IS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CS()||nA()||"connection"in navigator)?navigator.onLine:!0}function xS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Kl{constructor(e,i){this.shortDelay=e,this.longDelay=i,As(i>e,"Short delay should be less than long delay!"),this.isMobile=W1()||iA()}get(){return IS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dm(r,e){As(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class zv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const NS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const DS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OS=new Kl(3e4,6e4);function Yl(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function _o(r,e,i,a,l={}){return Bv(r,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=Ql({key:r.config.apiKey,...d}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const v={method:e,headers:g,...c};return tA()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&go(r.emulatorConfig.host)&&(v.credentials="include"),zv.fetch()(await Hv(r,r.config.apiHost,i,y),v)})}async function Bv(r,e,i){r._canInitEmulator=!1;const a={...NS,...e};try{const l=new MS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw xc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[g,v]=y.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(r,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw xc(r,"email-already-in-use",d);if(g==="USER_DISABLED")throw xc(r,"user-disabled",d);const _=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw jv(r,_,v);bs(r,_)}}catch(l){if(l instanceof Cs)throw l;bs(r,"network-request-failed",{message:String(l)})}}async function Om(r,e,i,a,l={}){const c=await _o(r,e,i,a,l);return"mfaPendingCredential"in c&&bs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function Hv(r,e,i,a){const l=`${e}${i}?${a}`,c=r,d=c.config.emulator?Dm(r.config,l):`${r.config.apiScheme}://${l}`;return DS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class MS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Bi(this.auth,"network-request-failed")),OS.get())})}}function xc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Bi(r,e,a);return l.customData._tokenResponse=i,l}async function VS(r,e){return _o(r,"POST","/v1/accounts:delete",e)}async function Zc(r,e){return _o(r,"POST","/v1/accounts:lookup",e)}function Dl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kS(r,e=!1){const i=Cn(r),a=await i.getIdToken(e),l=Mm(a);Re(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Dl(qd(l.auth_time)),issuedAtTime:Dl(qd(l.iat)),expirationTime:Dl(qd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function qd(r){return Number(r)*1e3}function Mm(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const l=wv(i);return l?JSON.parse(l):(Uc("Failed to decode base64 JWT payload"),null)}catch(l){return Uc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function n0(r){const e=Mm(r);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Pl(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Cs&&LS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function LS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class US{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jc(r){const e=r.auth,i=await r.getIdToken(),a=await Pl(r,Zc(e,{idToken:i}));Re(a?.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?qv(l.providerUserInfo):[],d=jS(r.providerData,c),y=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!d?.length,v=y?g:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new rm(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(r,_)}async function PS(r){const e=Cn(r);await Jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jS(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function qv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function zS(r,e){const i=await Bv(r,{},async()=>{const a=Ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await Hv(r,l,"/v1/token",`key=${c}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:y,body:a};return r.emulatorConfig&&go(r.emulatorConfig.host)&&(g.credentials="include"),zv.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function BS(r,e){return _o(r,"POST","/v2/accounts:revokeToken",Yl(r,e))}class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):n0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const i=n0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await zS(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new to;return a&&(Re(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(Re(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(Re(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return _s("not implemented")}}function ar(r,e){Re(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class _i{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new US(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new rm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Pl(this,this.stsTokenManager.getToken(this.auth,e));return Re(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return kS(this,e)}reload(){return PS(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new _i({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Jc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ri(this.auth.app))return Promise.reject(Es(this.auth));const e=await this.getIdToken();return await Pl(this,VS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,g=i._redirectEventId??void 0,v=i.createdAt??void 0,_=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:q,providerData:te,stsTokenManager:oe}=i;Re(w&&oe,e,"internal-error");const ee=to.fromJSON(this.name,oe);Re(typeof w=="string",e,"internal-error"),ar(a,e.name),ar(l,e.name),Re(typeof M=="boolean",e,"internal-error"),Re(typeof q=="boolean",e,"internal-error"),ar(c,e.name),ar(d,e.name),ar(y,e.name),ar(g,e.name),ar(v,e.name),ar(_,e.name);const ye=new _i({uid:w,auth:e,email:l,emailVerified:M,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:ee,createdAt:v,lastLoginAt:_});return te&&Array.isArray(te)&&(ye.providerData=te.map(Ce=>({...Ce}))),g&&(ye._redirectEventId=g),ye}static async _fromIdTokenResponse(e,i,a=!1){const l=new to;l.updateFromServerResponse(i);const c=new _i({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Jc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];Re(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?qv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new to;y.updateFromIdToken(a);const g=new _i({uid:l.localId,auth:e,stsTokenManager:y,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new rm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,v),g}}const i0=new Map;function vs(r){As(r instanceof Function,"Expected a class definition");let e=i0.get(r);return e?(As(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,i0.set(r,e),e)}class Gv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Gv.type="NONE";const s0=Gv;function Pc(r,e,i){return`firebase:${r}:${e}:${i}`}class no{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Pc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Pc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Zc(this.auth,{idToken:e}).catch(()=>{});return i?_i._fromGetAccountInfoResponse(this.auth,i,e):null}return _i._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new no(vs(s0),e,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||vs(s0);const d=Pc(a,e.config.apiKey,e.name);let y=null;for(const v of i)try{const _=await v._get(d);if(_){let w;if(typeof _=="string"){const M=await Zc(e,{idToken:_}).catch(()=>{});if(!M)break;w=await _i._fromGetAccountInfoResponse(e,M,_)}else w=_i._fromJSON(e,_);v!==c&&(y=w),c=v;break}}catch{}const g=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new no(c,e,a):(c=g[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new no(c,e,a))}}function r0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($v(e))return"Blackberry";if(Zv(e))return"Webos";if(Qv(e))return"Safari";if((e.includes("chrome/")||Kv(e))&&!e.includes("edge/"))return"Chrome";if(Xv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function Fv(r=Sn()){return/firefox\//i.test(r)}function Qv(r=Sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Kv(r=Sn()){return/crios\//i.test(r)}function Yv(r=Sn()){return/iemobile/i.test(r)}function Xv(r=Sn()){return/android/i.test(r)}function $v(r=Sn()){return/blackberry/i.test(r)}function Zv(r=Sn()){return/webos/i.test(r)}function Vm(r=Sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function HS(r=Sn()){return Vm(r)&&!!window.navigator?.standalone}function qS(){return sA()&&document.documentMode===10}function Jv(r=Sn()){return Vm(r)||Xv(r)||Zv(r)||$v(r)||/windows phone/i.test(r)||Yv(r)}function Wv(r,e=[]){let i;switch(r){case"Browser":i=r0(Sn());break;case"Worker":i=`${r0(Sn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${yo}/${a}`}class GS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const g=e(c);d(g)}catch(g){y(g)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function FS(r,e={}){return _o(r,"GET","/v2/passwordPolicy",Yl(r,e))}const QS=6;class KS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??QS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class YS{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new GS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=vs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await no.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Zc(this,{idToken:e}),a=await _i._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ri(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Jc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ri(this.app))return Promise.reject(Es(this));const i=e?Cn(e):null;return i&&Re(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ri(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ri(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FS(this),i=new KS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await BS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&vs(e)||this._popupRedirectResolver;Re(i,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[vs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,a,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(ri(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&RS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xl(r){return Cn(r)}class a0{constructor(e){this.auth=e,this.observer=null,this.addObserver=fA(i=>this.observer=i)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XS(r){km=r}function $S(r){return km.loadJS(r)}function ZS(){return km.gapiScript}function JS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function WS(r,e){const i=xm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(yr(c,e??{}))return l;bs(l,"already-initialized")}return i.initialize({options:e})}function ew(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(vs);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function tw(r,e,i){const a=Xl(r);Re(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=eE(e),{host:d,port:y}=nw(e),g=y===null?"":`:${y}`,v={url:`${c}//${d}${g}/`},_=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Re(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Re(yr(v,a.config.emulator)&&yr(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,go(d)?(xv(`${c}//${d}${g}`),Nv("Auth",!0)):iw()}function eE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function nw(r){const e=eE(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:o0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:o0(d)}}}function o0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function iw(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class tE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return _s("not implemented")}_getIdTokenResponse(e){return _s("not implemented")}_linkToIdToken(e,i){return _s("not implemented")}_getReauthenticationResolver(e){return _s("not implemented")}}async function io(r,e){return Om(r,"POST","/v1/accounts:signInWithIdp",Yl(r,e))}const sw="http://localhost";class sa extends tE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):bs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new sa(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return io(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,io(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,io(e,i)}buildRequest(){const e={requestUri:sw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ql(i)}return e}}class nE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $l extends nE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class or extends $l{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";class lr extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return sa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return lr.credential(i,a)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";class ur extends $l{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";class cr extends $l{constructor(){super("twitter.com")}static credential(e,i){return sa._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return cr.credential(i,a)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";async function rw(r,e){return Om(r,"POST","/v1/accounts:signUp",Yl(r,e))}class Ss{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await _i._fromIdTokenResponse(e,a,l),d=l0(a);return new Ss({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=l0(a);return new Ss({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function l0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function aw(r){if(ri(r.app))return Promise.reject(Es(r));const e=Xl(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Ss({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await rw(e,{returnSecureToken:!0}),a=await Ss._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Wc extends Cs{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Wc(e,i,a,l)}}function iE(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(r,c,e,a):c})}async function ow(r,e,i=!1){const a=await Pl(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return Ss._forOperation(r,"link",a)}async function lw(r,e,i=!1){const{auth:a}=r;if(ri(a.app))return Promise.reject(Es(a));const l="reauthenticate";try{const c=await Pl(r,iE(a,l,e,r),i);Re(c.idToken,a,"internal-error");const d=Mm(c.idToken);Re(d,a,"internal-error");const{sub:y}=d;return Re(r.uid===y,a,"user-mismatch"),Ss._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&bs(a,"user-mismatch"),c}}async function uw(r,e,i=!1){if(ri(r.app))return Promise.reject(Es(r));const a="signIn",l=await iE(r,a,e),c=await Ss._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function cw(r,e){return Om(r,"POST","/v1/accounts:signInWithCustomToken",Yl(r,e))}async function hw(r,e){if(ri(r.app))return Promise.reject(Es(r));const i=Xl(r),a=await cw(i,{token:e,returnSecureToken:!0}),l=await Ss._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function fw(r,e,i,a){return Cn(r).onIdTokenChanged(e,i,a)}function dw(r,e,i){return Cn(r).beforeAuthStateChanged(e,i)}function mw(r,e,i,a){return Cn(r).onAuthStateChanged(e,i,a)}const eh="__sak";class sE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const pw=1e3,gw=10;class rE extends sE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,g)=>{this.notifyListeners(d,g)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);qS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,gw):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},pw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}rE.type="LOCAL";const yw=rE;class aE extends sE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}aE.type="SESSION";const oE=aE;function _w(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new ph(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async v=>v(i.origin,c)),g=await _w(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];function Lm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class vw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,g)=>{const v=Lm("",20);l.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const M=w;if(M.data.eventId===v)switch(M.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(_),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Hi(){return window}function Ew(r){Hi().location.href=r}function lE(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function Tw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bw(){return navigator?.serviceWorker?.controller||null}function Aw(){return lE()?self:null}const uE="firebaseLocalStorageDb",Sw=1,th="firebaseLocalStorage",cE="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function gh(r,e){return r.transaction([th],e?"readwrite":"readonly").objectStore(th)}function ww(){const r=indexedDB.deleteDatabase(uE);return new Zl(r).toPromise()}function am(){const r=indexedDB.open(uE,Sw);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(th,{keyPath:cE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(th)?e(a):(a.close(),await ww(),e(await am()))})})}async function u0(r,e,i){const a=gh(r,!0).put({[cE]:e,value:i});return new Zl(a).toPromise()}async function Rw(r,e){const i=gh(r,!1).get(e),a=await new Zl(i).toPromise();return a===void 0?null:a.value}function c0(r,e){const i=gh(r,!0).delete(e);return new Zl(i).toPromise()}const Cw=800,Iw=3;class hE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Iw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(Aw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Tw(),!this.activeServiceWorker)return;this.sender=new vw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await am();return await u0(e,eh,"1"),await c0(e,eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>u0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Rw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>c0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=gh(l,!1).getAll();return new Zl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Cw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hE.type="LOCAL";const xw=hE;new Kl(3e4,6e4);function Nw(r,e){return e?vs(e):(Re(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Um extends tE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return io(e,this._buildIdpRequest())}_linkToIdToken(e,i){return io(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return io(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function Dw(r){return uw(r.auth,new Um(r),r.bypassAuthState)}function Ow(r){const{auth:e,user:i}=r;return Re(i,e,"internal-error"),lw(i,new Um(r),r.bypassAuthState)}async function Mw(r){const{auth:e,user:i}=r;return Re(i,e,"internal-error"),ow(i,new Um(r),r.bypassAuthState)}class fE{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Dw;case"linkViaPopup":case"linkViaRedirect":return Mw;case"reauthViaPopup":case"reauthViaRedirect":return Ow;default:bs(this.auth,"internal-error")}}resolve(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vw=new Kl(2e3,1e4);class eo extends fE{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Vw.get())};e()}}eo.currentPopupAction=null;const kw="pendingRedirect",jc=new Map;class Lw extends fE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const a=await Uw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Uw(r,e){const i=zw(e),a=jw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Pw(r,e){jc.set(r._key(),e)}function jw(r){return vs(r._redirectPersistence)}function zw(r){return Pc(kw,r.config.apiKey,r.name)}async function Bw(r,e,i=!1){if(ri(r.app))return Promise.reject(Es(r));const a=Xl(r),l=Nw(a,e),d=await new Lw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const Hw=600*1e3;class qw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Gw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!dE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Bi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Hw&&this.cachedEventUids.clear(),this.cachedEventUids.has(h0(e))}saveEventToCache(e){this.cachedEventUids.add(h0(e)),this.lastProcessedEventTime=Date.now()}}function h0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function dE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Gw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dE(r);default:return!1}}async function Fw(r,e={}){return _o(r,"GET","/v1/projects",e)}const Qw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kw=/^https?/;async function Yw(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Fw(r);for(const i of e)try{if(Xw(i))return}catch{}bs(r,"unauthorized-domain")}function Xw(r){const e=sm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Kw.test(i))return!1;if(Qw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const $w=new Kl(3e4,6e4);function f0(){const r=Hi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Zw(r){return new Promise((e,i)=>{function a(){f0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{f0(),i(Bi(r,"network-request-failed"))},timeout:$w.get()})}if(Hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hi().gapi?.load)a();else{const l=JS("iframefcb");return Hi()[l]=()=>{gapi.load?a():i(Bi(r,"network-request-failed"))},$S(`${ZS()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw zc=null,e})}let zc=null;function Jw(r){return zc=zc||Zw(r),zc}const Ww=new Kl(5e3,15e3),e2="__/auth/iframe",t2="emulator/auth/iframe",n2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s2(r){const e=r.config;Re(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Dm(e,t2):`https://${r.config.authDomain}/${e2}`,a={apiKey:e.apiKey,appName:r.name,v:yo},l=i2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ql(a).slice(1)}`}async function r2(r){const e=await Jw(r),i=Hi().gapi;return Re(i,r,"internal-error"),e.open({where:document.body,url:s2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Bi(r,"network-request-failed"),y=Hi().setTimeout(()=>{c(d)},Ww.get());function g(){Hi().clearTimeout(y),l(a)}a.ping(g).then(g,()=>{c(d)})}))}const a2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o2=500,l2=600,u2="_blank",c2="http://localhost";class d0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h2(r,e,i,a=o2,l=l2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const g={...a2,width:a.toString(),height:l.toString(),top:c,left:d},v=Sn().toLowerCase();i&&(y=Kv(v)?u2:i),Fv(v)&&(e=e||c2,g.scrollbars="yes");const _=Object.entries(g).reduce((M,[q,te])=>`${M}${q}=${te},`,"");if(HS(v)&&y!=="_self")return f2(e||"",y),new d0(null);const w=window.open(e||"",y,_);Re(w,r,"popup-blocked");try{w.focus()}catch{}return new d0(w)}function f2(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const d2="__/auth/handler",m2="emulator/auth/handler",p2=encodeURIComponent("fac");async function m0(r,e,i,a,l,c){Re(r.config.authDomain,r,"auth-domain-config-required"),Re(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:yo,eventId:l};if(e instanceof nE){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",hA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))d[_]=w}if(e instanceof $l){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(d.scopes=_.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const _ of Object.keys(y))y[_]===void 0&&delete y[_];const g=await r._getAppCheckToken(),v=g?`#${p2}=${encodeURIComponent(g)}`:"";return`${g2(r)}?${Ql(y).slice(1)}${v}`}function g2({config:r}){return r.emulator?Dm(r,m2):`https://${r.authDomain}/${d2}`}const Gd="webStorageSupport";class y2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=oE,this._completeRedirectFn=Bw,this._overrideRedirectResult=Pw}async _openPopup(e,i,a,l){As(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await m0(e,i,a,sm(),l);return h2(e,c,Lm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await m0(e,i,a,sm(),l);return Ew(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(As(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await r2(e),a=new qw(e);return i.register("authEvent",l=>(Re(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Gd,{type:Gd},l=>{const c=l?.[0]?.[Gd];c!==void 0&&i(!!c),bs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Yw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Jv()||Qv()||Vm()}}const _2=y2;var p0="@firebase/auth",g0="1.11.1";class v2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function E2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function T2(r){ao(new ia("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;Re(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wv(r)},v=new YS(a,l,c,g);return ew(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ao(new ia("auth-internal",e=>{const i=Xl(e.getProvider("auth").getImmediate());return(a=>new v2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(p0,g0,E2(r)),mr(p0,g0,"esm2020")}const b2=300,A2=Iv("authIdTokenMaxAge")||b2;let y0=null;const S2=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>A2)return;const l=i?.token;y0!==l&&(y0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function w2(r=Vv()){const e=xm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=WS(r,{popupRedirectResolver:_2,persistence:[xw,yw,oE]}),a=Iv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=S2(c.toString());dw(i,d,()=>d(i.currentUser)),fw(i,y=>d(y))}}const l=Rv("auth");return l&&tw(i,`http://${l}`),i}function R2(){return document.getElementsByTagName("head")?.[0]??document}XS({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const c=Bi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",R2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});T2("Browser");var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pr,mE;(function(){var r;function e(x,S){function I(){}I.prototype=S.prototype,x.F=S.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(V,O,L){for(var R=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)R[Tt-2]=arguments[Tt];return S.prototype[O].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var O=0;O<16;++O)V[O]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=x.g[0],I=x.g[1],O=x.g[2];let L=x.g[3],R;R=S+(L^I&(O^L))+V[0]+3614090360&4294967295,S=I+(R<<7&4294967295|R>>>25),R=L+(O^S&(I^O))+V[1]+3905402710&4294967295,L=S+(R<<12&4294967295|R>>>20),R=O+(I^L&(S^I))+V[2]+606105819&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(S^O&(L^S))+V[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=S+(L^I&(O^L))+V[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=L+(O^S&(I^O))+V[5]+1200080426&4294967295,L=S+(R<<12&4294967295|R>>>20),R=O+(I^L&(S^I))+V[6]+2821735955&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(S^O&(L^S))+V[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=S+(L^I&(O^L))+V[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=L+(O^S&(I^O))+V[9]+2336552879&4294967295,L=S+(R<<12&4294967295|R>>>20),R=O+(I^L&(S^I))+V[10]+4294925233&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(S^O&(L^S))+V[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=S+(L^I&(O^L))+V[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=L+(O^S&(I^O))+V[13]+4254626195&4294967295,L=S+(R<<12&4294967295|R>>>20),R=O+(I^L&(S^I))+V[14]+2792965006&4294967295,O=L+(R<<17&4294967295|R>>>15),R=I+(S^O&(L^S))+V[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=S+(O^L&(I^O))+V[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(S^I))+V[6]+3225465664&4294967295,L=S+(R<<9&4294967295|R>>>23),R=O+(S^I&(L^S))+V[11]+643717713&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^S&(O^L))+V[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=S+(O^L&(I^O))+V[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(S^I))+V[10]+38016083&4294967295,L=S+(R<<9&4294967295|R>>>23),R=O+(S^I&(L^S))+V[15]+3634488961&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^S&(O^L))+V[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=S+(O^L&(I^O))+V[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(S^I))+V[14]+3275163606&4294967295,L=S+(R<<9&4294967295|R>>>23),R=O+(S^I&(L^S))+V[3]+4107603335&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^S&(O^L))+V[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=S+(O^L&(I^O))+V[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=L+(I^O&(S^I))+V[2]+4243563512&4294967295,L=S+(R<<9&4294967295|R>>>23),R=O+(S^I&(L^S))+V[7]+1735328473&4294967295,O=L+(R<<14&4294967295|R>>>18),R=I+(L^S&(O^L))+V[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=S+(I^O^L)+V[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=L+(S^I^O)+V[8]+2272392833&4294967295,L=S+(R<<11&4294967295|R>>>21),R=O+(L^S^I)+V[11]+1839030562&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^S)+V[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=S+(I^O^L)+V[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=L+(S^I^O)+V[4]+1272893353&4294967295,L=S+(R<<11&4294967295|R>>>21),R=O+(L^S^I)+V[7]+4139469664&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^S)+V[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=S+(I^O^L)+V[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=L+(S^I^O)+V[0]+3936430074&4294967295,L=S+(R<<11&4294967295|R>>>21),R=O+(L^S^I)+V[3]+3572445317&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^S)+V[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=S+(I^O^L)+V[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=L+(S^I^O)+V[12]+3873151461&4294967295,L=S+(R<<11&4294967295|R>>>21),R=O+(L^S^I)+V[15]+530742520&4294967295,O=L+(R<<16&4294967295|R>>>16),R=I+(O^L^S)+V[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=S+(O^(I|~L))+V[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=L+(I^(S|~O))+V[7]+1126891415&4294967295,L=S+(R<<10&4294967295|R>>>22),R=O+(S^(L|~I))+V[14]+2878612391&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~S))+V[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=S+(O^(I|~L))+V[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=L+(I^(S|~O))+V[3]+2399980690&4294967295,L=S+(R<<10&4294967295|R>>>22),R=O+(S^(L|~I))+V[10]+4293915773&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~S))+V[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=S+(O^(I|~L))+V[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=L+(I^(S|~O))+V[15]+4264355552&4294967295,L=S+(R<<10&4294967295|R>>>22),R=O+(S^(L|~I))+V[6]+2734768916&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~S))+V[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=S+(O^(I|~L))+V[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=L+(I^(S|~O))+V[11]+3174756917&4294967295,L=S+(R<<10&4294967295|R>>>22),R=O+(S^(L|~I))+V[2]+718787259&4294967295,O=L+(R<<15&4294967295|R>>>17),R=I+(L^(O|~S))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+L&4294967295}a.prototype.v=function(x,S){S===void 0&&(S=x.length);const I=S-this.blockSize,V=this.C;let O=this.h,L=0;for(;L<S;){if(O==0)for(;L<=I;)l(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<S;)if(V[O++]=x.charCodeAt(L++),O==this.blockSize){l(this,V),O=0;break}}else for(;L<S;)if(V[O++]=x[L++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=S},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;S=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=S&255,S/=256;for(this.v(x),x=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)x[S++]=this.g[I]>>>V&255;return x};function c(x,S){var I=y;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=S(x)}function d(x,S){this.h=S;const I=[];let V=!0;for(let O=x.length-1;O>=0;O--){const L=x[O]|0;V&&L==S||(I[O]=L,V=!1)}this.g=I}var y={};function g(x){return-128<=x&&x<128?c(x,function(S){return new d([S|0],S<0?-1:0)}):new d([x|0],x<0?-1:0)}function v(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return ee(v(-x));const S=[];let I=1;for(let V=0;x>=I;V++)S[V]=x/I|0,I*=4294967296;return new d(S,0)}function _(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return ee(_(x.substring(1),S));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(S,8));let V=w;for(let L=0;L<x.length;L+=8){var O=Math.min(8,x.length-L);const R=parseInt(x.substring(L,L+O),S);O<8?(O=v(Math.pow(S,O)),V=V.j(O).add(v(R))):(V=V.j(I),V=V.add(v(R)))}return V}var w=g(0),M=g(1),q=g(16777216);r=d.prototype,r.m=function(){if(oe(this))return-ee(this).m();let x=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);x+=(V>=0?V:4294967296+V)*S,S*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(te(this))return"0";if(oe(this))return"-"+ee(this).toString(x);const S=v(Math.pow(x,6));var I=this;let V="";for(;;){const O=st(I,S).g;I=ye(I,O.j(S));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=O,te(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function te(x){if(x.h!=0)return!1;for(let S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function oe(x){return x.h==-1}r.l=function(x){return x=ye(this,x),oe(x)?-1:te(x)?0:1};function ee(x){const S=x.g.length,I=[];for(let V=0;V<S;V++)I[V]=~x.g[V];return new d(I,~x.h).add(M)}r.abs=function(){return oe(this)?ee(this):this},r.add=function(x){const S=Math.max(this.g.length,x.g.length),I=[];let V=0;for(let O=0;O<=S;O++){let L=V+(this.i(O)&65535)+(x.i(O)&65535),R=(L>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);V=R>>>16,L&=65535,R&=65535,I[O]=R<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ye(x,S){return x.add(ee(S))}r.j=function(x){if(te(this)||te(x))return w;if(oe(this))return oe(x)?ee(this).j(ee(x)):ee(ee(this).j(x));if(oe(x))return ee(this.j(ee(x)));if(this.l(q)<0&&x.l(q)<0)return v(this.m()*x.m());const S=this.g.length+x.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<x.g.length;O++){const L=this.i(V)>>>16,R=this.i(V)&65535,Tt=x.i(O)>>>16,kt=x.i(O)&65535;I[2*V+2*O]+=R*kt,Ce(I,2*V+2*O),I[2*V+2*O+1]+=L*kt,Ce(I,2*V+2*O+1),I[2*V+2*O+1]+=R*Tt,Ce(I,2*V+2*O+1),I[2*V+2*O+2]+=L*Tt,Ce(I,2*V+2*O+2)}for(x=0;x<S;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=S;x<2*S;x++)I[x]=0;return new d(I,0)};function Ce(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function _e(x,S){this.g=x,this.h=S}function st(x,S){if(te(S))throw Error("division by zero");if(te(x))return new _e(w,w);if(oe(x))return S=st(ee(x),S),new _e(ee(S.g),ee(S.h));if(oe(S))return S=st(x,ee(S)),new _e(ee(S.g),S.h);if(x.g.length>30){if(oe(x)||oe(S))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=S;V.l(x)<=0;)I=tt(I),V=tt(V);var O=Qe(I,1),L=Qe(V,1);for(V=Qe(V,2),I=Qe(I,2);!te(V);){var R=L.add(V);R.l(x)<=0&&(O=O.add(I),L=R),V=Qe(V,1),I=Qe(I,1)}return S=ye(x,O.j(S)),new _e(O,S)}for(O=w;x.l(S)>=0;){for(I=Math.max(1,Math.floor(x.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=v(I),R=L.j(S);oe(R)||R.l(x)>0;)I-=V,L=v(I),R=L.j(S);te(L)&&(L=M),O=O.add(L),x=ye(x,R)}return new _e(O,x)}r.B=function(x){return st(this,x).h},r.and=function(x){const S=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&x.i(V);return new d(I,this.h&x.h)},r.or=function(x){const S=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|x.i(V);return new d(I,this.h|x.h)},r.xor=function(x){const S=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^x.i(V);return new d(I,this.h^x.h)};function tt(x){const S=x.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(I,x.h)}function Qe(x,S){const I=S>>5;S%=32;const V=x.g.length-I,O=[];for(let L=0;L<V;L++)O[L]=S>0?x.i(L+I)>>>S|x.i(L+I+1)<<32-S:x.i(L+I);return new d(O,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,mE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=_,pr=d}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pE,Rl,gE,Bc,om,yE,_E,vE;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var E=u[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var E=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in E))break e;E=E[U]}u=u[u.length-1],b=E[u],m=m(b),m!=b&&m!=null&&e(E,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var E=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&E.push([b,m[b]]);return E}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,E){return u.call.apply(u.bind,arguments)}function v(u,m,E){return v=g,v.apply(null,arguments)}function _(u,m){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function E(){}E.prototype=m.prototype,u.Z=m.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(b,U,B){for(var ne=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)ne[Oe-2]=arguments[Oe];return m.prototype[U].apply(b,ne)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const E=Array(m);for(let b=0;b<m;b++)E[b]=u[b];return E}return[]}function te(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var E=typeof U;if(E=E!="object"?E:U?Array.isArray(U)?"array":E:"null",E=="array"||E=="object"&&typeof U.length=="number"){E=u.length||0;const B=U.length||0;u.length=E+B;for(let ne=0;ne<B;ne++)u[E+ne]=U[ne]}else u.push(U)}}class oe{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ee(u){d.setTimeout(()=>{throw u},0)}function ye(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ce{constructor(){this.h=this.g=null}add(m,E){const b=_e.get();b.set(m,E),this.h?this.h.next=b:this.g=b,this.h=b}}var _e=new oe(()=>new st,u=>u.reset());class st{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,Qe=!1,x=new Ce,S=()=>{const u=Promise.resolve(void 0);tt=()=>{u.then(I)}};function I(){for(var u;u=ye();){try{u.h.call(u.g)}catch(E){ee(E)}var m=_e;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Qe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};d.addEventListener("test",E,m),d.removeEventListener("test",E,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Tt(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(Tt,O),Tt.prototype.init=function(u,m){const E=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(E=="mouseover"?m=u.fromElement:E=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Tt.Z.h.call(this)},Tt.prototype.h=function(){Tt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var kt="closure_listenable_"+(Math.random()*1e6|0),G=0;function se(u,m,E,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=E,this.capture=!!b,this.ha=U,this.key=++G,this.da=this.fa=!1}function pe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ze(u,m,E){for(const b in u)m.call(E,u[b],b,u)}function We(u,m){for(const E in u)m.call(void 0,u[E],E,u)}function N(u){const m={};for(const E in u)m[E]=u[E];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(u,m){let E,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(E in b)u[E]=b[E];for(let B=0;B<K.length;B++)E=K[B],Object.prototype.hasOwnProperty.call(b,E)&&(u[E]=b[E])}}function ue(u){this.src=u,this.g={},this.h=0}ue.prototype.add=function(u,m,E,b,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const ne=De(u,m,b,U);return ne>-1?(m=u[ne],E||(m.fa=!1)):(m=new se(m,this.src,B,!!b,U),m.fa=E,u.push(m)),m};function be(u,m){const E=m.type;if(E in u.g){var b=u.g[E],U=Array.prototype.indexOf.call(b,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(b,U,1),B&&(pe(m),u.g[E].length==0&&(delete u.g[E],u.h--))}}function De(u,m,E,b){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!E&&B.ha==b)return U}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Lt={};function bt(u,m,E,b,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)bt(u,m[B],E,b,U);return null}return E=Ee(E),u&&u[kt]?u.J(m,E,y(b)?!!b.capture:!1,U):Zi(u,m,E,!1,b,U)}function Zi(u,m,E,b,U,B){if(!m)throw Error("Invalid event type");const ne=y(U)?!!U.capture:!!U;let Oe=ve(u);if(Oe||(u[Ue]=Oe=new ue(u)),E=Oe.add(m,E,b,ne,B),E.proxy)return E;if(b=Is(),E.proxy=b,b.src=u,b.listener=E,u.addEventListener)L||(U=ne),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(Z(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Is(){function u(E){return m.call(u.src,u.listener,E)}const m=re;return u}function Ji(u,m,E,b,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ji(u,m[B],E,b,U);else b=y(b)?!!b.capture:!!b,E=Ee(E),u&&u[kt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],E=De(m,E,b,U),E>-1&&(pe(m[E]),Array.prototype.splice.call(m,E,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ve(u))&&(m=u.g[m.toString()],u=-1,m&&(u=De(m,E,b,U)),(E=u>-1?m[u]:null)&&Q(E))}function Q(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[kt])be(m.i,u);else{var E=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(E,b,u.capture):m.detachEvent?m.detachEvent(Z(E),b):m.addListener&&m.removeListener&&m.removeListener(b),(E=ve(m))?(be(E,u),E.h==0&&(E.src=null,m[Ue]=null)):pe(u)}}}function Z(u){return u in Lt?Lt[u]:Lt[u]="on"+u}function re(u,m){if(u.da)u=!0;else{m=new Tt(m,this);const E=u.listener,b=u.ha||u.src;u.fa&&Q(u),u=E.call(b,m)}return u}function ve(u){return u=u[Ue],u instanceof ue?u:null}var he="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ee(u){return typeof u=="function"?u:(u[he]||(u[he]=function(m){return u.handleEvent(m)}),u[he])}function W(){V.call(this),this.i=new ue(this),this.M=this,this.G=null}w(W,V),W.prototype[kt]=!0,W.prototype.removeEventListener=function(u,m,E,b){Ji(this,u,m,E,b)};function le(u,m){var E,b=u.G;if(b)for(E=[];b;b=b.G)E.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var U=m;m=new O(b,u),ae(m,U)}U=!0;let B,ne;if(E)for(ne=E.length-1;ne>=0;ne--)B=m.g=E[ne],U=Ye(B,b,!0,m)&&U;if(B=m.g=u,U=Ye(B,b,!0,m)&&U,U=Ye(B,b,!1,m)&&U,E)for(ne=0;ne<E.length;ne++)B=m.g=E[ne],U=Ye(B,b,!1,m)&&U}W.prototype.N=function(){if(W.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const E=u.g[m];for(let b=0;b<E.length;b++)pe(E[b]);delete u.g[m],u.h--}}this.G=null},W.prototype.J=function(u,m,E,b){return this.i.add(String(u),m,!1,E,b)},W.prototype.K=function(u,m,E,b){return this.i.add(String(u),m,!0,E,b)};function Ye(u,m,E,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const ne=m[B];if(ne&&!ne.da&&ne.capture==E){const Oe=ne.listener,jt=ne.ha||ne.src;ne.fa&&be(u.i,ne),U=Oe.call(jt,b)!==!1&&U}}return U&&!b.defaultPrevented}function At(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ut(u){u.g=At(()=>{u.g=null,u.i&&(u.i=!1,Ut(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ct extends V{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ut(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xe(u){V.call(this),this.h=u,this.g={}}w(Xe,V);var _t=[];function Le(u){ze(u.g,function(m,E){this.g.hasOwnProperty(E)&&Q(m)},u),u.g={}}Xe.prototype.N=function(){Xe.Z.N.call(this),Le(this)},Xe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ve=d.JSON.stringify,Pt=d.JSON.parse,hn=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function rn(){}function ft(){}var ie={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function we(){O.call(this,"d")}w(we,O);function dt(){O.call(this,"c")}w(dt,O);var vt={},su=null;function ua(){return su=su||new W}vt.Ia="serverreachability";function ru(u){O.call(this,vt.Ia,u)}w(ru,O);function vi(u){const m=ua();le(m,new ru(m))}vt.STAT_EVENT="statevent";function Rr(u,m){O.call(this,vt.STAT_EVENT,u),this.stat=m}w(Rr,O);function qt(u){const m=ua();le(m,new Rr(m,u))}vt.Ja="timingevent";function Ei(u,m){O.call(this,vt.Ja,u),this.size=m}w(Ei,O);function Ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function oi(){this.g=!0}oi.prototype.ua=function(){this.g=!1};function kh(u,m,E,b,U,B){u.info(function(){if(u.g)if(B){var ne="",Oe=B.split("&");for(let rt=0;rt<Oe.length;rt++){var jt=Oe[rt].split("=");if(jt.length>1){const It=jt[0];jt=jt[1];const $n=It.split("_");ne=$n.length>=2&&$n[1]=="type"?ne+(It+"="+jt+"&"):ne+(It+"=redacted&")}}}else ne=null;else ne=B;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+E+`
`+ne})}function au(u,m,E,b,U,B,ne){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+E+`
`+B+" "+ne})}function bi(u,m,E,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lh(u,E)+(b?" "+b:"")})}function Cr(u,m){u.info(function(){return"TIMEOUT: "+m})}oi.prototype.info=function(){};function Lh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var E=B[u];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ne=1;ne<b.length;ne++)b[ne]=""}}}}return Ve(B)}catch{return m}}var Ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function xr(){}w(xr,rn),xr.prototype.g=function(){return new XMLHttpRequest},So=new xr;function Wi(u){return encodeURIComponent(String(u))}function ou(u){var m=1;u=u.split(":");const E=[];for(;m>0&&u.length;)E.push(u.shift()),m--;return u.length&&E.push(u.join(":")),E}function li(u,m,E,b){this.j=u,this.i=m,this.l=E,this.S=b||1,this.V=new Xe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var Gt={},an={};function Ai(u,m,E){u.M=1,u.A=Nr(Qt(m)),u.u=E,u.R=!0,ca(u,null)}function ca(u,m){u.F=Date.now(),Si(u),u.B=Qt(u.A);var E=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ma(E.i,"t",b),u.C=0,E=u.j.L,u.h=new ui,u.g=bu(u.j,E?m:null,!u.u),u.P>0&&(u.O=new Ct(v(u.Y,u,u.g),u.P)),m=u.V,E=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(_t[0]=U.toString()),U=_t);for(let B=0;B<U.length;B++){const ne=bt(E,U[B],b||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=u.J?N(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),vi(),kh(u.i,u.v,u.B,u.l,u.S,u.u)}li.prototype.ba=function(u){u=u.target;const m=this.O;m&&fi(u)==3?m.j():this.Y(u)},li.prototype.Y=function(u){try{if(u==this.g)e:{const Oe=fi(this.g),jt=this.g.ya(),rt=this.g.ca();if(!(Oe<3)&&(Oe!=3||this.g&&(this.h.h||this.g.la()||fn(this.g)))){this.K||Oe!=4||jt==7||(jt==8||rt<=0?vi(3):vi(2)),wi(this);var m=this.g.ca();this.X=m;var E=Uh(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,Oe,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break t}}B=null}if(u=B)bi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ri(this,u);else{this.o=!1,this.m=3,qt(12),Un(this),Kn(this);break e}}if(this.R){u=!0;let It;for(;!this.K&&this.C<E.length;)if(It=uu(this,E),It==an){Oe==4&&(this.m=4,qt(14),u=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(It==Gt){this.m=4,qt(15),bi(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else bi(this.i,this.l,It,null),Ri(this,It);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Oe!=4||E.length!=0||this.h.h||(this.m=1,qt(16),u=!1),this.o=this.o&&u,!u)bi(this.i,this.l,E,"[Invalid Chunked Response]"),Un(this),Kn(this);else if(E.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),jo(ne),ne.P=!0,qt(11))}}else bi(this.i,this.l,E,null),Ri(this,E);Oe==4&&Un(this),this.o&&!this.K&&(Oe==4?_u(this.j,this):(this.o=!1,Si(this)))}else ts(this.g),m==400&&E.indexOf("Unknown SID")>0?(this.m=3,qt(12)):(this.m=0,qt(13)),Un(this),Kn(this)}}}catch{}finally{}};function Uh(u){if(!lu(u))return u.g.la();const m=fn(u.g);if(m==="")return"";let E="";const b=m.length,U=fi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Un(u),Kn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,E+=u.h.i.decode(m[B],{stream:!(U&&B==b-1)});return m.length=0,u.h.g+=E,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,m){var E=u.C,b=m.indexOf(`
`,E);return b==-1?an:(E=Number(m.substring(E,b)),isNaN(E)?Gt:(b+=1,b+E>m.length?an:(m=m.slice(b,b+E),u.C=b+E,m)))}li.prototype.cancel=function(){this.K=!0,Un(this)};function Si(u){u.T=Date.now()+u.H,ha(u,u.H)}function ha(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ti(v(u.aa,u),m)}function wi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}li.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Cr(this.i,this.B),this.M!=2&&(vi(),qt(17)),Un(this),this.m=2,Kn(this)):ha(this,this.T-u)};function Kn(u){u.j.I==0||u.K||_u(u.j,u)}function Un(u){wi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Le(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ri(u,m){try{var E=u.j;if(E.I!=0&&(E.g==u||Ii(E.h,u))){if(!u.L&&Ii(E.h,u)&&E.I==3){try{var b=E.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)va(E),Ls(E);else break e;Ur(E),qt(18)}}else E.xa=U[1],0<E.xa-E.K&&U[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ti(v(E.Va,E),6e3));Ci(E.h)<=1&&E.ta&&(E.ta=void 0)}else Vi(E,11)}else if((u.L||E.g==u)&&va(E),!R(m))for(U=E.Ba.g.parse(m),m=0;m<U.length;m++){let rt=U[m];const It=rt[0];if(!(It<=E.K))if(E.K=It,rt=rt[1],E.I==2)if(rt[0]=="c"){E.M=rt[1],E.ba=rt[2];const $n=rt[3];$n!=null&&(E.ka=$n,E.j.info("VER="+E.ka));const ki=rt[4];ki!=null&&(E.za=ki,E.j.info("SVER="+E.za));const di=rt[5];di!=null&&typeof di=="number"&&di>0&&(b=1.5*di,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const mi=u.g;if(mi){const Pr=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var B=b.h;B.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Co(B,B.h),B.h=null))}if(b.G){const Ea=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(b.wa=Ea,ut(b.J,b.G,Ea))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var ne=u;if(b.na=Tu(b,b.L?b.ba:null,b.W),ne.L){Io(b.h,ne);var Oe=ne,jt=b.O;jt&&(Oe.H=jt),Oe.D&&(wi(Oe),Si(Oe)),b.g=ne}else gu(b);E.i.length>0&&Mi(E)}else rt[0]!="stop"&&rt[0]!="close"||Vi(E,7);else E.I==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Vi(E,7):Uo(E):rt[0]!="noop"&&E.l&&E.l.qa(rt),E.A=0)}}vi(4)}catch{}}var Ft=class{constructor(u,m){this.g=u,this.map=m}};function wo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ci(u){return u.h?1:u.g?u.g.size:0}function Ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Co(u,m){u.g?u.g.add(m):u.h=m}function Io(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wo.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const E of u.g.values())m=m.concat(E.G);return m}return q(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(u,m){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const b=u[E].indexOf("=");let U,B=null;b>=0?(U=u[E].substring(0,b),B=u[E].substring(b+1)):U=u[E],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Pn?(this.l=u.l,on(this,u.j),this.o=u.o,this.g=u.g,xs(this,u.u),this.h=u.h,No(this,mu(u.i)),this.m=u.m):u&&(m=String(u).match(cu))?(this.l=!1,on(this,m[1]||"",!0),this.o=xi(m[2]||""),this.g=xi(m[3]||"",!0),xs(this,m[4]),this.h=xi(m[5]||"",!0),No(this,m[6]||"",!0),this.m=xi(m[7]||"")):(this.l=!1,this.i=new Ds(null,this.l))}Pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Dr(m,da,!0),":");var E=this.g;return(E||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Dr(m,da,!0),"@"),u.push(Wi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Dr(E,E.charAt(0)=="/"?Do:hu,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Dr(E,fu)),u.join("")},Pn.prototype.resolve=function(u){const m=Qt(this);let E=!!u.j;E?on(m,u.j):E=!!u.o,E?m.o=u.o:E=!!u.g,E?m.g=u.g:E=u.u!=null;var b=u.h;if(E)xs(m,u.u);else if(E=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let ne=0;ne<U.length;){const Oe=U[ne++];Oe=="."?b&&ne==U.length&&B.push(""):Oe==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&ne==U.length&&B.push("")):(B.push(Oe),b=!0)}b=B.join("/")}else b=U}return E?m.h=b:E=u.i.toString()!=="",E?No(m,mu(u.i)):E=!!u.m,E&&(m.m=u.m),m};function Qt(u){return new Pn(u)}function on(u,m,E){u.j=E?xi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function xs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function No(u,m,E){m instanceof Ds?(u.i=m,pa(u.i,u.l)):(E||(m=Dr(m,Ns)),u.i=new Ds(m,u.l))}function ut(u,m,E){u.i.set(m,E)}function Nr(u){return ut(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function xi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dr(u,m,E){return typeof u=="string"?(u=encodeURI(u).replace(m,In),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function In(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var da=/[#\/\?@]/g,hu=/[#\?:]/g,Do=/[#\?]/g,Ns=/[#\?@]/g,fu=/#/g;function Ds(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function xn(u){u.g||(u.g=new Map,u.h=0,u.i&&fa(u.i,function(m,E){u.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}r=Ds.prototype,r.add=function(u,m){xn(this),this.i=null,u=Os(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(m),this.h+=1,this};function du(u,m){xn(u),m=Os(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Oo(u,m){return xn(u),m=Os(u,m),u.g.has(m)}r.forEach=function(u,m){xn(this),this.g.forEach(function(E,b){E.forEach(function(U){u.call(m,U,b,this)},this)},this)};function Mo(u,m){xn(u);let E=[];if(typeof m=="string")Oo(u,m)&&(E=E.concat(u.g.get(Os(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)E=E.concat(u[m]);return E}r.set=function(u,m){return xn(this),this.i=null,u=Os(this,u),Oo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Mo(this,u),u.length>0?String(u[0]):m):m};function ma(u,m,E){du(u,m),E.length>0&&(u.i=null,u.g.set(Os(u,m),q(E)),u.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var E=m[b];const U=Wi(E);E=Mo(this,E);for(let B=0;B<E.length;B++){let ne=U;E[B]!==""&&(ne+="="+Wi(E[B])),u.push(ne)}}return this.i=u.join("&")};function mu(u){const m=new Ds;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Os(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function pa(u,m){m&&!u.j&&(xn(u),u.i=null,u.g.forEach(function(E,b){const U=b.toLowerCase();b!=U&&(du(this,b),ma(this,U,E))},u)),u.j=m}function ci(u,m){const E=new oi;if(d.Image){const b=new Image;b.onload=_(Yn,E,"TestLoadImage: loaded",!0,m,b),b.onerror=_(Yn,E,"TestLoadImage: error",!1,m,b),b.onabort=_(Yn,E,"TestLoadImage: abort",!1,m,b),b.ontimeout=_(Yn,E,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Vo(u,m){const E=new oi,b=new AbortController,U=setTimeout(()=>{b.abort(),Yn(E,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(U),B.ok?Yn(E,"TestPingServer: ok",!0,m):Yn(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Yn(E,"TestPingServer: error",!1,m)})}function Yn(u,m,E,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(E)}catch{}}function Ms(){this.g=new hn}function Ni(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ni,rn),Ni.prototype.g=function(){return new Or(this.i,this.h)};function Or(u,m){W.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Or,W),r=Or.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,hi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Vs(this):hi(this),this.readyState==3&&ga(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Vs(this))},r.Na=function(u){this.g&&(this.response=u,Vs(this))},r.ga=function(){this.g&&Vs(this)};function Vs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,hi(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=m.next();return u.join(`\r
`)};function hi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xn(u){let m="";return ze(u,function(E,b){m+=b,m+=":",m+=E,m+=`\r
`}),m}function Mr(u,m,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=Xn(E),typeof u=="string"?E!=null&&Wi(E):ut(u,m,E))}function mt(u){W.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(mt,W);var Di=/^https?$/i,ko=["POST","PUT"];r=mt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=M(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Vr(this,B);return}if(u=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)E.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())E.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ko,m,void 0)>=0)||b||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ne]of E)this.g.setRequestHeader(B,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Vr(this,B)}};function Vr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Lo(u),es(u)}function Lo(u){u.A||(u.A=!0,le(u,"complete"),le(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,le(this,"complete"),le(this,"abort"),es(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),mt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?kr(this):this.Xa())},r.Xa=function(){kr(this)};function kr(u){if(u.h&&typeof c<"u"){if(u.v&&fi(u)==4)setTimeout(u.Ca.bind(u),0);else if(le(u,"readystatechange"),fi(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var b;if(b=B===0){let ne=String(u.D).match(cu)[1]||null;!ne&&d.self&&d.self.location&&(ne=d.self.location.protocol.slice(0,-1)),b=!Di.test(ne?ne.toLowerCase():"")}E=b}if(E)le(u,"complete"),le(u,"success");else{u.o=6;try{var U=fi(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Lo(u)}}finally{es(u)}}}}function es(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,m||le(u,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function fi(u){return u.g?u.g.readyState:0}r.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Pt(m)}};function fn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ts(u){const m={};u=(u.g&&fi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var E=ou(u[b]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const B=m[U]||[];m[U]=B,B.push(E)}We(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(u,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||m}function ks(u){this.za=0,this.i=[],this.j=new oi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,u),this.Za=Oi("retryDelaySeedMs",1e4,u),this.Ta=Oi("forwardChannelMaxRetries",2,u),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(u&&u.concurrentRequestLimit),this.Ba=new Ms,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ks.prototype,r.ka=8,r.I=1,r.connect=function(u,m,E,b){qt(0),this.W=u,this.H=m||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=Tu(this,null,this.W),Mi(this)};function Uo(u){if(ya(u),u.I==3){var m=u.V++,E=Qt(u.J);if(ut(E,"SID",u.M),ut(E,"RID",m),ut(E,"TYPE","terminate"),Lr(u,E),m=new li(u,u.j,m),m.M=2,m.A=Nr(Qt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=m.A,E=!0),E||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Si(m)}Eu(u)}function Ls(u){u.g&&(jo(u),u.g.cancel(),u.g=null)}function ya(u){Ls(u),u.v&&(d.clearTimeout(u.v),u.v=null),va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Mi(u){if(!Ro(u.h)&&!u.m){u.m=!0;var m=u.Ea;tt||S(),Qe||(tt(),Qe=!0),x.add(m,u),u.D=0}}function _a(u,m){return Ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ti(v(u.Ea,u,m),vu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new li(this,this.j,u);let B=this.o;if(this.U&&(B?(B=N(B),ae(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=pu(this,U,m),E=Qt(this.J),ut(E,"RID",u),ut(E,"CVER",22),this.G&&ut(E,"X-HTTP-Session-Id",this.G),Lr(this,E),B&&(this.R?m="headers="+Wi(Xn(B))+"&"+m:this.u&&Mr(E,this.u,B)),Co(this.h,U),this.Ra&&ut(E,"TYPE","init"),this.S?(ut(E,"$req",m),ut(E,"SID","null"),U.U=!0,Ai(U,E,null)):Ai(U,E,m),this.I=2}}else this.I==3&&(u?Po(this,u):this.i.length==0||Ro(this.h)||Po(this))};function Po(u,m){var E;m?E=m.l:E=u.V++;const b=Qt(u.J);ut(b,"SID",u.M),ut(b,"RID",E),ut(b,"AID",u.K),Lr(u,b),u.u&&u.o&&Mr(b,u.u,u.o),E=new li(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Co(u.h,E),Ai(E,b,m)}function Lr(u,m){u.H&&ze(u.H,function(E,b){ut(m,b,E)}),u.l&&ze({},function(E,b){ut(m,b,E)})}function pu(u,m,E){E=Math.min(u.i.length,E);const b=u.l?v(u.l.Ka,u.l,u):null;e:{var U=u.i;let Oe=-1;for(;;){const jt=["count="+E];Oe==-1?E>0?(Oe=U[0].g,jt.push("ofs="+Oe)):Oe=0:jt.push("ofs="+Oe);let rt=!0;for(let It=0;It<E;It++){var B=U[It].g;const $n=U[It].map;if(B-=Oe,B<0)Oe=Math.max(0,U[It].g-100),rt=!1;else try{B="req"+B+"_"||"";try{var ne=$n instanceof Map?$n:Object.entries($n);for(const[ki,di]of ne){let mi=di;y(di)&&(mi=Ve(di)),jt.push(B+ki+"="+encodeURIComponent(mi))}}catch(ki){throw jt.push(B+"type="+encodeURIComponent("_badmap")),ki}}catch{b&&b($n)}}if(rt){ne=jt.join("&");break e}}ne=void 0}return u=u.i.splice(0,E),m.G=u,ne}function gu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;tt||S(),Qe||(tt(),Qe=!0),x.add(m,u),u.A=0}}function Ur(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ti(v(u.Da,u),vu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ti(v(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qt(10),Ls(this),yu(this))};function jo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new li(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Qt(u.na);ut(m,"RID","rpc"),ut(m,"SID",u.M),ut(m,"AID",u.K),ut(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ut(m,"TO",u.ia),ut(m,"TYPE","xmlhttp"),Lr(u,m),u.u&&u.o&&Mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=Nr(Qt(m)),E.u=null,E.R=!0,ca(E,u)}r.Va=function(){this.C!=null&&(this.C=null,Ls(this),Ur(this),qt(19))};function va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,m){var E=null;if(u.g==m){va(u),jo(u),u.g=null;var b=2}else if(Ii(u.h,m))E=m.G,Io(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){E=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=ua(),le(b,new Ei(b,E)),Mi(u)}else gu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&_a(u,m)||b==2&&Ur(u)))switch(E&&E.length>0&&(m=u.h,m.i=m.i.concat(E)),U){case 1:Vi(u,5);break;case 4:Vi(u,10);break;case 3:Vi(u,6);break;default:Vi(u,2)}}}function vu(u,m){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*m}function Vi(u,m){if(u.j.info("Error code "+m),m==2){var E=v(u.bb,u),b=u.Ua;const U=!b;b=new Pn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||on(b,"https"),Nr(b),U?ci(b.toString(),E):Vo(b.toString(),E)}else qt(2);u.I=0,u.l&&u.l.pa(m),Eu(u),ya(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function Eu(u){if(u.I=0,u.ja=[],u.l){const m=xo(u.h);(m.length!=0||u.i.length!=0)&&(te(u.ja,m),te(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Tu(u,m,E){var b=E instanceof Pn?Qt(E):new Pn(E);if(b.g!="")m&&(b.g=m+"."+b.g),xs(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new Pn(null);b&&on(B,b),m&&(B.g=m),U&&xs(B,U),E&&(B.h=E),b=B}return E=u.G,m=u.wa,E&&m&&ut(b,E,m),ut(b,"VER",u.ka),Lr(u,b),b}function bu(u,m,E){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new mt(new Ni({ab:E})):new mt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Us(){}Us.prototype.g=function(u,m){return new wn(u,m)};function wn(u,m){W.call(this),this.g=new ks(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ns(this)}w(wn,W),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Uo(this.g)},wn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=Ve(u),u=E);m.i.push(new Ft(m.Ya++,u)),m.I==3&&Mi(m)},wn.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,wn.Z.N.call(this)};function Su(u){we.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const E in m){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Su,we);function wu(){dt.call(this),this.status=1}w(wu,dt);function ns(u){this.g=u}w(ns,Au),ns.prototype.ra=function(){le(this.g,"a")},ns.prototype.qa=function(u){le(this.g,new Su(u))},ns.prototype.pa=function(u){le(this.g,new wu)},ns.prototype.oa=function(){le(this.g,"b")},Us.prototype.createWebChannel=Us.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,vE=function(){return new Us},_E=function(){return ua()},yE=vt,om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Bc=Ir,Ao.COMPLETE="complete",gE=Ao,ft.EventType=ie,ie.OPEN="a",ie.CLOSE="b",ie.ERROR="c",ie.MESSAGE="d",W.prototype.listen=W.prototype.J,Rl=ft,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,pE=mt}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const v0="@firebase/firestore",E0="4.9.2";let bn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");let vo="12.3.0";const ra=new Cm("@firebase/firestore");function $a(){return ra.logLevel}function ce(r,...e){if(ra.logLevel<=qe.DEBUG){const i=e.map(Pm);ra.debug(`Firestore (${vo}): ${r}`,...i)}}function ws(r,...e){if(ra.logLevel<=qe.ERROR){const i=e.map(Pm);ra.error(`Firestore (${vo}): ${r}`,...i)}}function oo(r,...e){if(ra.logLevel<=qe.WARN){const i=e.map(Pm);ra.warn(`Firestore (${vo}): ${r}`,...i)}}function Pm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Se(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,EE(r,a,i)}function EE(r,e,i){let a=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ws(a),new Error(a)}function lt(r,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||EE(e,l,a)}function Ne(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Cs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class TE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(bn.UNAUTHENTICATED)))}shutdown(){}}class I2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class x2{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){lt(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let c=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new gr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},y=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>y(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?y(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new gr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(lt(typeof a.accessToken=="string",31837,{l:a}),new TE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return lt(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class N2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class D2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new N2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class T0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ri(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){lt(this.o===void 0,3512);const a=c=>{c.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ce("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new T0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(lt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new T0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function M2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=M2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Ge(r,e){return r<e?-1:r>e?1:0}function lm(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=e.charAt(a);if(l!==c)return Fd(l)===Fd(c)?Ge(l,c):Fd(l)?1:-1}return Ge(r.length,e.length)}const V2=55296,k2=57343;function Fd(r){const e=r.charCodeAt(0);return e>=V2&&e<=k2}function lo(r,e,i){return r.length===e.length&&r.every(((a,l)=>i(a,e[l])))}const b0="__name__";class zi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Se(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Se(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=zi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Ge(e.length,i.length)}static compareSegments(e,i){const a=zi.isNumericId(e),l=zi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?zi.extractNumericId(e).compare(zi.extractNumericId(i)):lm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}}class Dt extends zi{construct(e,i,a){return new Dt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new me(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new Dt(i)}static emptyPath(){return new Dt([])}}const L2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends zi{construct(e,i,a){return new _n(e,i,a)}static isValidIdentifier(e){return L2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b0}static keyField(){return new _n([b0])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new me(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const y=e[l];if(y==="\\"){if(l+1===e.length)throw new me(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new me(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(c(),l++)}if(c(),d)throw new me(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(i)}static emptyPath(){return new _n([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Dt.fromString(e))}static fromName(e){return new Te(Dt.fromString(e).popFirst(5))}static empty(){return new Te(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Dt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Dt(e.slice()))}}function U2(r,e,i){if(!i)throw new me(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function P2(r,e,i,a){if(e===!0&&a===!0)throw new me(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function A0(r){if(!Te.isDocumentKey(r))throw new me(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function bE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function zm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se(12329,{type:typeof r})}function qi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=zm(r);throw new me(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Jt(r,e){const i={typeString:r};return e&&(i.value=e),i}function Jl(r,e){if(!bE(r))throw new me(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new me(J.INVALID_ARGUMENT,i);return!0}const S0=-62135596800,w0=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*w0);return new Rt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new me(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<S0)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w0}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jl(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-S0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:Jt("string",Rt._jsonSchemaVersion),seconds:Jt("number"),nanoseconds:Jt("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Rt(0,0))}static max(){return new Ie(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jl=-1;function j2(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Ie.fromTimestamp(a===1e9?new Rt(i+1,0):new Rt(i,a));return new _r(l,Te.empty(),e)}function z2(r){return new _r(r.readTime,r.key,jl)}class _r{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new _r(Ie.min(),Te.empty(),jl)}static max(){return new _r(Ie.max(),Te.empty(),jl)}}function B2(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=Te.comparator(r.documentKey,e.documentKey),i!==0?i:Ge(r.largestBatchId,e.largestBatchId))}const H2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Eo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==H2)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let l=0,c=0,d=!1;e.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(g=>a(g)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,l)=>{const c=e.length,d=new Array(c);let y=0;for(let g=0;g<c;g++){const v=g;i(e[v]).next((_=>{d[v]=_,++y,y===c&&a(d)}),(_=>l(_)))}}))}static doWhile(e,i){return new $(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function G2(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function To(r){return r.name==="IndexedDbTransactionError"}class yh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;const Bm=-1;function _h(r){return r==null}function nh(r){return r===0&&1/r==-1/0}function F2(r){return typeof r=="number"&&Number.isInteger(r)&&!nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const AE="";function Q2(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=R0(e)),e=K2(r.get(i),e);return R0(e)}function K2(r,e){let i=e;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case AE:i+="";break;default:i+=c}}return i}function R0(r){return r+AE+""}function C0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Sr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function SE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Ot{constructor(e,i){this.comparator=e,this.root=i||yn.EMPTY}insert(e,i){return new Ot(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??yn.RED,this.left=l??yn.EMPTY,this.right=c??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new yn(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return yn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new yn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sn{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new I0(this.data.getIterator())}getIteratorFrom(e){return new I0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new sn(this.comparator);return i.data=e,i}}class I0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qn{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new Qn([])}unionWith(e){let i=new sn(_n.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class wE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new wE("Invalid base64 string: "+c):c}})(e);return new vn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new vn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const Y2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(r){if(lt(!!r,39018),typeof r=="string"){let e=0;const i=Y2.exec(r);if(lt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Ht(r.seconds),nanos:Ht(r.nanos)}}function Ht(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Er(r){return typeof r=="string"?vn.fromBase64String(r):vn.fromUint8Array(r)}const RE="server_timestamp",CE="__type__",IE="__previous_value__",xE="__local_write_time__";function Hm(r){return(r?.mapValue?.fields||{})[CE]?.stringValue===RE}function vh(r){const e=r.mapValue.fields[IE];return Hm(e)?vh(e):e}function zl(r){const e=vr(r.mapValue.fields[xE].timestampValue);return new Rt(e.seconds,e.nanos)}class X2{constructor(e,i,a,l,c,d,y,g,v,_){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=_}}const ih="(default)";class Bl{constructor(e,i){this.projectId=e,this.database=i||ih}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===ih}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}const NE="__type__",$2="__max__",Oc={mapValue:{}},DE="__vector__",sh="value";function Tr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hm(r)?4:J2(r)?9007199254740991:Z2(r)?10:11:Se(28295,{value:r})}function Xi(r,e){if(r===e)return!0;const i=Tr(r);if(i!==Tr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return zl(r).isEqual(zl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=vr(l.timestampValue),y=vr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return Er(l.bytesValue).isEqual(Er(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return Ht(l.geoPointValue.latitude)===Ht(c.geoPointValue.latitude)&&Ht(l.geoPointValue.longitude)===Ht(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ht(l.integerValue)===Ht(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ht(l.doubleValue),y=Ht(c.doubleValue);return d===y?nh(d)===nh(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return lo(r.arrayValue.values||[],e.arrayValue.values||[],Xi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(C0(d)!==C0(y))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(y[g]===void 0||!Xi(d[g],y[g])))return!1;return!0})(r,e);default:return Se(52216,{left:r})}}function Hl(r,e){return(r.values||[]).find((i=>Xi(i,e)))!==void 0}function uo(r,e){if(r===e)return 0;const i=Tr(r),a=Tr(e);if(i!==a)return Ge(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ge(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=Ht(c.integerValue||c.doubleValue),g=Ht(d.integerValue||d.doubleValue);return y<g?-1:y>g?1:y===g?0:isNaN(y)?isNaN(g)?0:-1:1})(r,e);case 3:return x0(r.timestampValue,e.timestampValue);case 4:return x0(zl(r),zl(e));case 5:return lm(r.stringValue,e.stringValue);case 6:return(function(c,d){const y=Er(c),g=Er(d);return y.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),g=d.split("/");for(let v=0;v<y.length&&v<g.length;v++){const _=Ge(y[v],g[v]);if(_!==0)return _}return Ge(y.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=Ge(Ht(c.latitude),Ht(d.latitude));return y!==0?y:Ge(Ht(c.longitude),Ht(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return N0(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},g=d.fields||{},v=y[sh]?.arrayValue,_=g[sh]?.arrayValue,w=Ge(v?.values?.length||0,_?.values?.length||0);return w!==0?w:N0(v,_)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const y=c.fields||{},g=Object.keys(y),v=d.fields||{},_=Object.keys(v);g.sort(),_.sort();for(let w=0;w<g.length&&w<_.length;++w){const M=lm(g[w],_[w]);if(M!==0)return M;const q=uo(y[g[w]],v[_[w]]);if(q!==0)return q}return Ge(g.length,_.length)})(r.mapValue,e.mapValue);default:throw Se(23264,{he:i})}}function x0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ge(r,e);const i=vr(r),a=vr(e),l=Ge(i.seconds,a.seconds);return l!==0?l:Ge(i.nanos,a.nanos)}function N0(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=uo(i[l],a[l]);if(c)return c}return Ge(i.length,a.length)}function co(r){return um(r)}function um(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=vr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Er(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return Te.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=um(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${um(i.fields[d])}`;return l+"}"})(r.mapValue):Se(61005,{value:r})}function Hc(r){switch(Tr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(r);return e?16+Hc(e):16;case 5:return 2*r.stringValue.length;case 6:return Er(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Hc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Sr(a.fields,((c,d)=>{l+=c.length+Hc(d)})),l})(r.mapValue);default:throw Se(13486,{value:r})}}function cm(r){return!!r&&"integerValue"in r}function qm(r){return!!r&&"arrayValue"in r}function D0(r){return!!r&&"nullValue"in r}function O0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function qc(r){return!!r&&"mapValue"in r}function Z2(r){return(r?.mapValue?.fields||{})[NE]?.stringValue===DE}function Ol(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Sr(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Ol(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ol(r.arrayValue.values[i]);return e}return{...r}}function J2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===$2}class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!qc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(i)}setAll(e){let i=_n.emptyPath(),a={},l=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const g=this.getFieldsMap(i);this.applyChanges(g,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=Ol(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Xi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];qc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Sr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Ln(Ol(this.value))}}function OE(r){const e=[];return Sr(r.fields,((i,a)=>{const l=new _n([i]);if(qc(a)){const c=OE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Qn(e)}class An{constructor(e,i,a,l,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new An(e,0,Ie.min(),Ie.min(),Ie.min(),Ln.empty(),0)}static newFoundDocument(e,i,a,l){return new An(e,1,i,Ie.min(),a,l,0)}static newNoDocument(e,i){return new An(e,2,i,Ie.min(),Ie.min(),Ln.empty(),0)}static newUnknownDocument(e,i){return new An(e,3,i,Ie.min(),Ie.min(),Ln.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rh{constructor(e,i){this.position=e,this.inclusive=i}}function M0(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?a=Te.comparator(Te.fromName(d.referenceValue),i.key):a=uo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function V0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Xi(r.position[i],e.position[i]))return!1;return!0}class ah{constructor(e,i="asc"){this.field=e,this.dir=i}}function W2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class ME{}class nn extends ME{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new tR(e,i,a):i==="array-contains"?new sR(e,a):i==="in"?new rR(e,a):i==="not-in"?new aR(e,a):i==="array-contains-any"?new oR(e,a):new nn(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new nR(e,a):new iR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(uo(i,this.value)):i!==null&&Tr(this.value)===Tr(i)&&this.matchesComparison(uo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $i extends ME{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new $i(e,i)}matches(e){return VE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VE(r){return r.op==="and"}function kE(r){return eR(r)&&VE(r)}function eR(r){for(const e of r.filters)if(e instanceof $i)return!1;return!0}function hm(r){if(r instanceof nn)return r.field.canonicalString()+r.op.toString()+co(r.value);if(kE(r))return r.filters.map((e=>hm(e))).join(",");{const e=r.filters.map((i=>hm(i))).join(",");return`${r.op}(${e})`}}function LE(r,e){return r instanceof nn?(function(a,l){return l instanceof nn&&a.op===l.op&&a.field.isEqual(l.field)&&Xi(a.value,l.value)})(r,e):r instanceof $i?(function(a,l){return l instanceof $i&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,y)=>c&&LE(d,l.filters[y])),!0):!1})(r,e):void Se(19439)}function UE(r){return r instanceof nn?(function(i){return`${i.field.canonicalString()} ${i.op} ${co(i.value)}`})(r):r instanceof $i?(function(i){return i.op.toString()+" {"+i.getFilters().map(UE).join(" ,")+"}"})(r):"Filter"}class tR extends nn{constructor(e,i,a){super(e,i,a),this.key=Te.fromName(a.referenceValue)}matches(e){const i=Te.comparator(e.key,this.key);return this.matchesComparison(i)}}class nR extends nn{constructor(e,i){super(e,"in",i),this.keys=PE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class iR extends nn{constructor(e,i){super(e,"not-in",i),this.keys=PE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function PE(r,e){return(e.arrayValue?.values||[]).map((i=>Te.fromName(i.referenceValue)))}class sR extends nn{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return qm(i)&&Hl(i.arrayValue,this.value)}}class rR extends nn{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Hl(this.value.arrayValue,i)}}class aR extends nn{constructor(e,i){super(e,"not-in",i)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Hl(this.value.arrayValue,i)}}class oR extends nn{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!qm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Hl(this.value.arrayValue,a)))}}class lR{constructor(e,i=null,a=[],l=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function k0(r,e=null,i=[],a=[],l=null,c=null,d=null){return new lR(r,e,i,a,l,c,d)}function Gm(r){const e=Ne(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>hm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),_h(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>co(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>co(a))).join(",")),e.Te=i}return e.Te}function Fm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!W2(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!LE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!V0(r.startAt,e.startAt)&&V0(r.endAt,e.endAt)}function fm(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Eh{constructor(e,i=null,a=[],l=[],c=null,d="F",y=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function uR(r,e,i,a,l,c,d,y){return new Eh(r,e,i,a,l,c,d,y)}function Th(r){return new Eh(r)}function L0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cR(r){return r.collectionGroup!==null}function Ml(r){const e=Ne(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new sn(_n.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(y=y.add(v.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ah(c,a))})),i.has(_n.keyField().canonicalString())||e.Ie.push(new ah(_n.keyField(),a))}return e.Ie}function Gi(r){const e=Ne(r);return e.Ee||(e.Ee=hR(e,Ml(r))),e.Ee}function hR(r,e){if(r.limitType==="F")return k0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ah(l.field,c)}));const i=r.endAt?new rh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new rh(r.startAt.position,r.startAt.inclusive):null;return k0(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function dm(r,e,i){return new Eh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function bh(r,e){return Fm(Gi(r),Gi(e))&&r.limitType===e.limitType}function jE(r){return`${Gm(Gi(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>UE(l))).join(", ")}]`),_h(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>co(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>co(l))).join(",")),`Target(${a})`})(Gi(r))}; limitType=${r.limitType})`}function Ah(r,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Te.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,l){for(const c of Ml(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(d,y,g){const v=M0(d,y,g);return d.inclusive?v<=0:v<0})(a.startAt,Ml(a),l)||a.endAt&&!(function(d,y,g){const v=M0(d,y,g);return d.inclusive?v>=0:v>0})(a.endAt,Ml(a),l))})(r,e)}function fR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function zE(r){return(e,i)=>{let a=!1;for(const l of Ml(r)){const c=dR(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function dR(r,e,i){const a=r.field.isKeyField()?Te.comparator(e.key,i.key):(function(c,d,y){const g=d.data.field(c),v=y.data.field(c);return g!==null&&v!==null?uo(g,v):Se(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Se(19790,{direction:r.dir})}}class oa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Sr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return SE(this.inner)}size(){return this.innerSize}}const mR=new Ot(Te.comparator);function Rs(){return mR}const BE=new Ot(Te.comparator);function Cl(...r){let e=BE;for(const i of r)e=e.insert(i.key,i);return e}function HE(r){let e=BE;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ta(){return Vl()}function qE(){return Vl()}function Vl(){return new oa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const pR=new Ot(Te.comparator),gR=new sn(Te.comparator);function Fe(...r){let e=gR;for(const i of r)e=e.add(i);return e}const yR=new sn(Ge);function _R(){return yR}function Qm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function GE(r){return{integerValue:""+r}}function vR(r,e){return F2(e)?GE(e):Qm(r,e)}class Sh{constructor(){this._=void 0}}function ER(r,e,i){return r instanceof oh?(function(l,c){const d={fields:{[CE]:{stringValue:RE},[xE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Hm(c)&&(c=vh(c)),c&&(d.fields[IE]=c),{mapValue:d}})(i,e):r instanceof ho?QE(r,e):r instanceof ql?KE(r,e):(function(l,c){const d=FE(l,c),y=U0(d)+U0(l.Ae);return cm(d)&&cm(l.Ae)?GE(y):Qm(l.serializer,y)})(r,e)}function TR(r,e,i){return r instanceof ho?QE(r,e):r instanceof ql?KE(r,e):i}function FE(r,e){return r instanceof lh?(function(a){return cm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class oh extends Sh{}class ho extends Sh{constructor(e){super(),this.elements=e}}function QE(r,e){const i=YE(e);for(const a of r.elements)i.some((l=>Xi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class ql extends Sh{constructor(e){super(),this.elements=e}}function KE(r,e){let i=YE(e);for(const a of r.elements)i=i.filter((l=>!Xi(l,a)));return{arrayValue:{values:i}}}class lh extends Sh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function U0(r){return Ht(r.integerValue||r.doubleValue)}function YE(r){return qm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class bR{constructor(e,i){this.field=e,this.transform=i}}function AR(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof ho&&l instanceof ho||a instanceof ql&&l instanceof ql?lo(a.elements,l.elements,Xi):a instanceof lh&&l instanceof lh?Xi(a.Ae,l.Ae):a instanceof oh&&l instanceof oh})(r.transform,e.transform)}class SR{constructor(e,i){this.version=e,this.transformResults=i}}class Fi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Fi}static exists(e){return new Fi(void 0,e)}static updateTime(e){return new Fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class wh{}function XE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ZE(r.key,Fi.none()):new Wl(r.key,r.data,Fi.none());{const i=r.data,a=Ln.empty();let l=new sn(_n.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new wr(r.key,a,new Qn(l.toArray()),Fi.none())}}function wR(r,e,i){r instanceof Wl?(function(l,c,d){const y=l.value.clone(),g=j0(l.fieldTransforms,c,d.transformResults);y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof wr?(function(l,c,d){if(!Gc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=j0(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll($E(l)),g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function kl(r,e,i,a){return r instanceof Wl?(function(c,d,y,g){if(!Gc(c.precondition,d))return y;const v=c.value.clone(),_=z0(c.fieldTransforms,g,d);return v.setAll(_),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,e,i,a):r instanceof wr?(function(c,d,y,g){if(!Gc(c.precondition,d))return y;const v=z0(c.fieldTransforms,g,d),_=d.data;return _.setAll($E(c)),_.setAll(v),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,e,i,a):(function(c,d,y){return Gc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function RR(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),c=FE(a.transform,l||null);c!=null&&(i===null&&(i=Ln.empty()),i.set(a.field,c))}return i||null}function P0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&lo(a,l,((c,d)=>AR(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Wl extends wh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class wr extends wh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function $E(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function j0(r,e,i){const a=new Map;lt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,y=e.data.field(c.field);a.set(c.field,TR(d,y,i[l]))}return a}function z0(r,e,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,ER(c,d,e))}return a}class ZE extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CR extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class IR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&wR(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=qE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const g=XE(d,y);g!==null&&a.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Ie.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,((i,a)=>P0(i,a)))&&lo(this.baseMutations,e.baseMutations,((i,a)=>P0(i,a)))}}class Km{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){lt(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return pR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Km(e,i,a,l)}}class xR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class NR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Zt,$e;function DR(r){switch(r){case J.OK:return Se(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Se(15467,{code:r})}}function JE(r){if(r===void 0)return ws("GRPC error has no .code"),J.UNKNOWN;switch(r){case Zt.OK:return J.OK;case Zt.CANCELLED:return J.CANCELLED;case Zt.UNKNOWN:return J.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return J.INTERNAL;case Zt.UNAVAILABLE:return J.UNAVAILABLE;case Zt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Zt.NOT_FOUND:return J.NOT_FOUND;case Zt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Zt.ABORTED:return J.ABORTED;case Zt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Zt.DATA_LOSS:return J.DATA_LOSS;default:return Se(39323,{code:r})}}($e=Zt||(Zt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";function OR(){return new TextEncoder}const MR=new pr([4294967295,4294967295],0);function B0(r){const e=OR().encode(r),i=new mE;return i.update(e),new Uint8Array(i.digest())}function H0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new pr([i,a],0),new pr([l,c],0)]}class Ym{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Il(`Invalid padding: ${i}`);if(a<0)throw new Il(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Il(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=pr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(pr.fromNumber(a)));return l.compare(MR)===1&&(l=new pr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=B0(e),[a,l]=H0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Ym(c,l,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=B0(e),[a,l]=H0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Rh(Ie.min(),l,new Ot(Ge),Rs(),Fe())}}class eu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new eu(a,i,Fe(),Fe(),Fe())}}class Fc{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class WE{constructor(e,i){this.targetId=e,this.Ce=i}}class eT{constructor(e,i,a=vn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class q0{constructor(){this.ve=0,this.Fe=G0(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Fe(),i=Fe(),a=Fe();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Se(38017,{changeType:c})}})),new eu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=G0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rs(),this.Je=Mc(),this.He=Mc(),this.Ye=new Ot(Ge)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(fm(c))if(a===0){const d=new Te(c.path);this.et(i,d,An.newNoDocument(d,Ie.min()))}else lt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),g=y?this.ct(y,e,d):1;if(g!==0){this.it(i);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=Er(a).toUint8Array()}catch(g){if(g instanceof wE)return oo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{y=new Ym(d,l,c)}catch(g){return oo(g instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&fm(y.target)){const g=new Te(y.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,An.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Fe();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Rh(e,i,this.Ye,this.je,a);return this.je=Rs(),this.Je=Mc(),this.He=Mc(),this.Ye=new Ot(Ge),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new q0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new sn(Ge),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new sn(Ge),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ce("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new q0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Mc(){return new Ot(Te.comparator)}function G0(){return new Ot(Te.comparator)}const kR={asc:"ASCENDING",desc:"DESCENDING"},LR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UR={and:"AND",or:"OR"};class PR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function mm(r,e){return r.useProto3Json||_h(e)?e:{value:e}}function uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function jR(r,e){return uh(r,e.toTimestamp())}function Qi(r){return lt(!!r,49232),Ie.fromTimestamp((function(i){const a=vr(i);return new Rt(a.seconds,a.nanos)})(r))}function Xm(r,e){return pm(r,e).canonicalString()}function pm(r,e){const i=(function(l){return new Dt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function nT(r){const e=Dt.fromString(r);return lt(oT(e),10190,{key:e.toString()}),e}function gm(r,e){return Xm(r.databaseId,e.path)}function Qd(r,e){const i=nT(e);if(i.get(1)!==r.databaseId.projectId)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new me(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new Te(sT(i))}function iT(r,e){return Xm(r.databaseId,e)}function zR(r){const e=nT(r);return e.length===4?Dt.emptyPath():sT(e)}function ym(r){return new Dt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function sT(r){return lt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function F0(r,e,i){return{name:gm(r,e),fields:i.value.mapValue.fields}}function BR(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Se(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(v,_){return v.useProto3Json?(lt(_===void 0||typeof _=="string",58123),vn.fromBase64String(_||"")):(lt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),vn.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(v){const _=v.code===void 0?J.UNKNOWN:JE(v.code);return new me(_,v.message||"")})(d);i=new eT(a,l,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Qd(r,a.document.name),c=Qi(a.document.updateTime),d=a.document.createTime?Qi(a.document.createTime):Ie.min(),y=new Ln({mapValue:{fields:a.document.fields}}),g=An.newFoundDocument(l,c,d,y),v=a.targetIds||[],_=a.removedTargetIds||[];i=new Fc(v,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Qd(r,a.document),c=a.readTime?Qi(a.readTime):Ie.min(),d=An.newNoDocument(l,c),y=a.removedTargetIds||[];i=new Fc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Qd(r,a.document),c=a.removedTargetIds||[];i=new Fc([],c,l,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new NR(l,c),y=a.targetId;i=new WE(y,d)}}return i}function HR(r,e){let i;if(e instanceof Wl)i={update:F0(r,e.key,e.value)};else if(e instanceof ZE)i={delete:gm(r,e.key)};else if(e instanceof wr)i={update:F0(r,e.key,e.data),updateMask:ZR(e.fieldMask)};else{if(!(e instanceof CR))return Se(16599,{Vt:e.type});i={verify:gm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof oh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof ho)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof lh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Se(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:jR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(r,e.precondition)),i}function qR(r,e){return r&&r.length>0?(lt(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Qi(l.updateTime):Qi(c);return d.isEqual(Ie.min())&&(d=Qi(c)),new SR(d,l.transformResults||[])})(i,e)))):[]}function GR(r,e){return{documents:[iT(r,e.path)]}}function FR(r,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=iT(r,l);const c=(function(v){if(v.length!==0)return aT($i.create(v,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((_=>(function(M){return{field:Ja(M.field),direction:YR(M.dir)}})(_)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=mm(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:l}}function QR(r){let e=zR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){lt(a===1,65062);const _=i.from[0];_.allDescendants?l=_.collectionId:e=e.child(_.collectionId)}let c=[];i.where&&(c=(function(w){const M=rT(w);return M instanceof $i&&kE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(te){return new ah(Wa(te.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(te.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(w){let M;return M=typeof w=="object"?w.value:w,_h(M)?null:M})(i.limit));let g=null;i.startAt&&(g=(function(w){const M=!!w.before,q=w.values||[];return new rh(q,M)})(i.startAt));let v=null;return i.endAt&&(v=(function(w){const M=!w.before,q=w.values||[];return new rh(q,M)})(i.endAt)),uR(e,l,d,c,y,"F",g,v)}function KR(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function rT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Wa(i.unaryFilter.field);return nn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Wa(i.unaryFilter.field);return nn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Wa(i.unaryFilter.field);return nn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Wa(i.unaryFilter.field);return nn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(r):r.fieldFilter!==void 0?(function(i){return nn.create(Wa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return $i.create(i.compositeFilter.filters.map((a=>rT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(i.compositeFilter.op))})(r):Se(30097,{filter:r})}function YR(r){return kR[r]}function XR(r){return LR[r]}function $R(r){return UR[r]}function Ja(r){return{fieldPath:r.canonicalString()}}function Wa(r){return _n.fromServerFormat(r.fieldPath)}function aT(r){return r instanceof nn?(function(i){if(i.op==="=="){if(O0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NAN"}};if(D0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(O0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NAN"}};if(D0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(i.field),op:XR(i.op),value:i.value}}})(r):r instanceof $i?(function(i){const a=i.getFilters().map((l=>aT(l)));return a.length===1?a[0]:{compositeFilter:{op:$R(i.op),filters:a}}})(r):Se(54877,{filter:r})}function ZR(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function oT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class hr{constructor(e,i,a,l,c=Ie.min(),d=Ie.min(),y=vn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=g}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class JR{constructor(e){this.yt=e}}function WR(r){const e=QR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dm(e,e.limit,"L"):e}class eC{constructor(){this.Cn=new tC}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(_r.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class tC{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new sn(Dt.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new sn(Dt.comparator)).toArray()}}const Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},lT=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(lT,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);class fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fo(0)}static cr(){return new fo(-1)}}const K0="LruGarbageCollector",nC=1048576;function Y0([r,e],[i,a]){const l=Ge(r,i);return l===0?Ge(e,a):l}class iC{constructor(e){this.Ir=e,this.buffer=new sn(Y0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Y0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class sC{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(K0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){To(i)?ce(K0,"Ignoring IndexedDB error during garbage collection: ",i):await Eo(i)}await this.Vr(3e5)}))}}class rC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(yh.ce);const a=new iC(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Q0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,y,g,v;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(a=w,y=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(v=Date.now(),$a()<=qe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-_}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(g-y)+`ms
	Removed ${w} documents in `+(v-g)+`ms
Total Duration: ${v-_}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function aC(r,e){return new rC(r,e)}class oC{constructor(){this.changes=new oa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class lC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class uC{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&kl(a.mutation,l,Qn.empty(),Rt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Fe()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Fe()){const l=ta();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Cl();return c.forEach(((y,g)=>{d=d.insert(y,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ta();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Fe())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,l){let c=Rs();const d=Vl(),y=(function(){return Vl()})();return i.forEach(((g,v)=>{const _=a.get(v.key);l.has(v.key)&&(_===void 0||_.mutation instanceof wr)?c=c.insert(v.key,v):_!==void 0?(d.set(v.key,_.mutation.getFieldMask()),kl(_.mutation,v,_.mutation.getFieldMask(),Rt.now())):d.set(v.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((v,_)=>d.set(v,_))),i.forEach(((v,_)=>y.set(v,new lC(_,d.get(v)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Vl();let l=new Ot(((d,y)=>d-y)),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((g=>{const v=i.get(g);if(v===null)return;let _=a.get(g)||Qn.empty();_=y.applyToLocalView(v,_),a.set(g,_);const w=(l.get(y.batchId)||Fe()).add(g);l=l.insert(y.batchId,w)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const g=y.getNext(),v=g.key,_=g.value,w=qE();_.forEach((M=>{if(!c.has(M)){const q=XE(i.get(M),a.get(M));q!==null&&w.set(M,q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,w))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return Te.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):cR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):$.resolve(ta());let y=jl,g=c;return d.next((v=>$.forEach(v,((_,w)=>(y<w.largestBatchId&&(y=w.largestBatchId),c.get(_)?$.resolve():this.remoteDocumentCache.getEntry(e,_).next((M=>{g=g.insert(_,M)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,g,v,Fe()))).next((_=>({batchId:y,changes:HE(_)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Te(i)).next((a=>{let l=Cl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Cl();return this.indexManager.getCollectionParents(e,c).next((y=>$.forEach(y,(g=>{const v=(function(w,M){return new Eh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,a,l).next((_=>{_.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((g,v)=>{const _=v.getKey();d.get(_)===null&&(d=d.insert(_,An.newInvalidDocument(_)))}));let y=Cl();return d.forEach(((g,v)=>{const _=c.get(g);_!==void 0&&kl(_.mutation,v,Qn.empty(),Rt.now()),Ah(i,v)&&(y=y.insert(g,v))})),y}))}}class cC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Qi(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:WR(l.bundledQuery),readTime:Qi(l.readTime)}})(i)),$.resolve()}}class hC{constructor(){this.overlays=new Ot(Te.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ta();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const l=ta(),c=i.length+1,d=new Te(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const g=y.getNext().value,v=g.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&g.largestBatchId>a&&l.set(g.getKey(),g)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new Ot(((v,_)=>v-_));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let _=c.get(v.largestBatchId);_===null&&(_=ta(),c=c.insert(v.largestBatchId,_)),_.set(v.getKey(),v)}}const y=ta(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,_)=>y.set(v,_))),!(y.size()>=l)););return $.resolve(y)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new xR(i,a));let c=this.qr.get(i);c===void 0&&(c=Fe(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class fC{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class $m{constructor(){this.Qr=new sn(cn.$r),this.Ur=new sn(cn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new cn(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new cn(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new Te(new Dt([])),a=new cn(i,e),l=new cn(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Te(new Dt([])),a=new cn(i,e),l=new cn(i,e+1);let c=Fe();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new cn(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class cn{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Te.comparator(e.key,i.key)||Ge(e.Yr,i.Yr)}static Kr(e,i){return Ge(e.Yr,i.Yr)||Te.comparator(e.key,i.key)}}class dC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new sn(cn.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new IR(c,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Zr=this.Zr.add(new cn(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Bm:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new cn(i,0),l=new cn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const y=this.Xr(d.Yr);c.push(y)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new sn(Ge);return i.forEach((l=>{const c=new cn(l,0),d=new cn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{a=a.add(y.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;Te.isDocumentKey(c)||(c=c.child(""));const d=new cn(new Te(c),0);let y=new sn(Ge);return this.Zr.forEachWhile((g=>{const v=g.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(y=y.add(g.Yr)),!0)}),d),$.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){lt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new cn(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new cn(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class mC{constructor(e){this.ri=e,this.docs=(function(){return new Ot(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():An.newInvalidDocument(i))}getEntries(e,i){let a=Rs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():An.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=Rs();const d=i.path,y=new Te(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(y);for(;g.hasNext();){const{key:v,value:{document:_}}=g.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||B2(z2(_),a)<=0||(l.has(_.key)||Ah(i,_))&&(c=c.insert(_.key,_.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,l){Se(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new pC(this)}getSize(e){return $.resolve(this.size)}}class pC extends oC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class gC{constructor(e){this.persistence=e,this.si=new oa((i=>Gm(i)),Fm),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new $m,this.targetCount=0,this.ai=fo.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new fo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class uT{constructor(e,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new fC,this.referenceDelegate=e(this),this.Pi=new gC(this),this.indexManager=new eC,this.remoteDocumentCache=(function(l){return new mC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new JR(i),this.Ii=new cC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new hC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new dC(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ce("MemoryPersistence","Starting transaction:",e);const l=new yC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class yC extends q2{constructor(e){super(),this.currentSequenceNumber=e}}class Zm{constructor(e){this.persistence=e,this.Ri=new $m,this.Vi=null}static mi(e){return new Zm(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=Te.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Ie.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ch{constructor(e,i){this.persistence=e,this.pi=new oa((a=>Q2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=aC(this,i)}static mi(e,i){return new ch(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((y=>{y||(a++,c.removeEntry(d,Ie.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Hc(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Jm{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Fe(),l=Fe();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Jm(e,i.fromCache,a,l)}}class _C{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class vC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rA()?8:G2(Sn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new _C;return this.Ss(e,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?($a()<=qe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):($a()<=qe.DEBUG&&ce("QueryEngine","Query:",Za(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?($a()<=qe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gi(i))):$.resolve())}ys(e,i){if(L0(i))return $.resolve(null);let a=Gi(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=dm(i,null,"F"),a=Gi(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Fe(...c);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((g=>{const v=this.Ds(i,y);return this.Cs(i,v,d,g.readTime)?this.ys(e,dm(i,null,"F")):this.vs(e,v,i,g)}))))})))))}ws(e,i,a,l){return L0(i)||l.isEqual(Ie.min())?$.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):($a()<=qe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Za(i)),this.vs(e,d,i,j2(l,jl)).next((y=>y)))}))}Ds(e,i){let a=new sn(zE(e));return i.forEach(((l,c)=>{Ah(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return $a()<=qe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Za(i)),this.ps.getDocumentsMatchingQuery(e,i,_r.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Wm="LocalStore",EC=3e8;class TC{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Ot(Ge),this.xs=new oa((c=>Gm(c)),Fm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function bC(r,e,i,a){return new TC(r,e,i,a)}async function cT(r,e){const i=Ne(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let g=Fe();for(const v of l){d.push(v.batchId);for(const _ of v.mutations)g=g.add(_.key)}for(const v of c){y.push(v.batchId);for(const _ of v.mutations)g=g.add(_.key)}return i.localDocuments.getDocuments(a,g).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:y})))}))}))}function AC(r,e){const i=Ne(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,g,v,_){const w=v.batch,M=w.keys();let q=$.resolve();return M.forEach((te=>{q=q.next((()=>_.getEntry(g,te))).next((oe=>{const ee=v.docVersions.get(te);lt(ee!==null,48541),oe.version.compareTo(ee)<0&&(w.applyToRemoteDocument(oe,v),oe.isValidDocument()&&(oe.setReadTime(v.commitVersion),_.addEntry(oe)))}))})),q.next((()=>y.mutationQueue.removeMutationBatch(g,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let g=Fe();for(let v=0;v<y.mutationResults.length;++v)y.mutationResults[v].transformResults.length>0&&(g=g.add(y.batch.mutations[v].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function hT(r){const e=Ne(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function SC(r,e){const i=Ne(r),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const y=[];e.targetChanges.forEach(((_,w)=>{const M=l.get(w);if(!M)return;y.push(i.Pi.removeMatchingKeys(c,_.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,_.addedDocuments,w))));let q=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?q=q.withResumeToken(vn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):_.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(_.resumeToken,a)),l=l.insert(w,q),(function(oe,ee,ye){return oe.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-oe.snapshotVersion.toMicroseconds()>=EC?!0:ye.addedDocuments.size+ye.modifiedDocuments.size+ye.removedDocuments.size>0})(M,q,_)&&y.push(i.Pi.updateTargetData(c,q))}));let g=Rs(),v=Fe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,_))})),y.push(wC(c,d,e.documentUpdates).next((_=>{g=_.ks,v=_.qs}))),!a.isEqual(Ie.min())){const _=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(_)}return $.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,v))).next((()=>g))})).then((c=>(i.Ms=l,c)))}function wC(r,e,i){let a=Fe(),l=Fe();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=Rs();return i.forEach(((y,g)=>{const v=c.get(y);g.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(y)),g.isNoDocument()&&g.version.isEqual(Ie.min())?(e.removeEntry(y,g.readTime),d=d.insert(y,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),d=d.insert(y,g)):ce(Wm,"Ignoring outdated watch update for ",y,". Current version:",v.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function RC(r,e){const i=Ne(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Bm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function CC(r,e){const i=Ne(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new hr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function _m(r,e,i){const a=Ne(r),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!To(d))throw d;ce(Wm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function X0(r,e,i){const a=Ne(r);let l=Ie.min(),c=Fe();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,v,_){const w=Ne(g),M=w.xs.get(_);return M!==void 0?$.resolve(w.Ms.get(M)):w.Pi.getTargetData(v,_)})(a,d,Gi(e)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((g=>{c=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:Ie.min(),i?c:Fe()))).next((y=>(IC(a,fR(e),y),{documents:y,Qs:c})))))}function IC(r,e,i){let a=r.Os.get(e)||Ie.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class $0{constructor(){this.activeTargetIds=_R()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xC{constructor(){this.Mo=new $0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class NC{Oo(e){}shutdown(){}}const Z0="ConnectivityMonitor";class J0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(Z0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(Z0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function vm(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const Kd="RestConnection",DC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===ih?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=vm(),y=this.zo(e,i.toUriEncodedString());ce(Kd,`Sending RPC '${e}' ${d}:`,y,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:v}=new URL(y),_=go(v);return this.Jo(e,y,g,a,_).then((w=>(ce(Kd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw oo(Kd,`RPC '${e}' ${d} failed with error: `,w,"url: ",y,"request:",a),w}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=DC[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class MC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Tn="WebChannelConnection";class VC extends OC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=vm();return new Promise(((y,g)=>{const v=new pE;v.setWithCredentials(!0),v.listenOnce(gE.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Bc.NO_ERROR:const w=v.getResponseJson();ce(Tn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),y(w);break;case Bc.TIMEOUT:ce(Tn,`RPC '${e}' ${d} timed out`),g(new me(J.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const M=v.getStatus();if(ce(Tn,`RPC '${e}' ${d} failed with status:`,M,"response text:",v.getResponseText()),M>0){let q=v.getResponseJson();Array.isArray(q)&&(q=q[0]);const te=q?.error;if(te&&te.status&&te.message){const oe=(function(ye){const Ce=ye.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Ce)>=0?Ce:J.UNKNOWN})(te.status);g(new me(oe,te.message))}else g(new me(J.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new me(J.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ce(Tn,`RPC '${e}' ${d} completed.`)}}));const _=JSON.stringify(l);ce(Tn,`RPC '${e}' ${d} sending request:`,l),v.send(i,"POST",_,a,15)}))}T_(e,i,a){const l=vm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=vE(),y=_E(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const _=c.join("");ce(Tn,`Creating RPC '${e}' stream ${l}: ${_}`,g);const w=d.createWebChannel(_,g);this.I_(w);let M=!1,q=!1;const te=new MC({Yo:ee=>{q?ce(Tn,`Not sending because RPC '${e}' stream ${l} is closed:`,ee):(M||(ce(Tn,`Opening RPC '${e}' stream ${l} transport.`),w.open(),M=!0),ce(Tn,`RPC '${e}' stream ${l} sending:`,ee),w.send(ee))},Zo:()=>w.close()}),oe=(ee,ye,Ce)=>{ee.listen(ye,(_e=>{try{Ce(_e)}catch(st){setTimeout((()=>{throw st}),0)}}))};return oe(w,Rl.EventType.OPEN,(()=>{q||(ce(Tn,`RPC '${e}' stream ${l} transport opened.`),te.o_())})),oe(w,Rl.EventType.CLOSE,(()=>{q||(q=!0,ce(Tn,`RPC '${e}' stream ${l} transport closed`),te.a_(),this.E_(w))})),oe(w,Rl.EventType.ERROR,(ee=>{q||(q=!0,oo(Tn,`RPC '${e}' stream ${l} transport errored. Name:`,ee.name,"Message:",ee.message),te.a_(new me(J.UNAVAILABLE,"The operation could not be completed")))})),oe(w,Rl.EventType.MESSAGE,(ee=>{if(!q){const ye=ee.data[0];lt(!!ye,16349);const Ce=ye,_e=Ce?.error||Ce[0]?.error;if(_e){ce(Tn,`RPC '${e}' stream ${l} received error:`,_e);const st=_e.status;let tt=(function(S){const I=Zt[S];if(I!==void 0)return JE(I)})(st),Qe=_e.message;tt===void 0&&(tt=J.INTERNAL,Qe="Unknown error status: "+st+" with message "+_e.message),q=!0,te.a_(new me(tt,Qe)),w.close()}else ce(Tn,`RPC '${e}' stream ${l} received:`,ye),te.u_(ye)}})),oe(y,yE.STAT_EVENT,(ee=>{ee.stat===om.PROXY?ce(Tn,`RPC '${e}' stream ${l} detected buffering proxy`):ee.stat===om.NOPROXY&&ce(Tn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{te.__()}),0),te}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Yd(){return typeof document<"u"?document:null}function Ch(r){return new PR(r,!0)}class fT{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ce("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const W0="PersistentStream";class dT{constructor(e,i,a,l,c,d,y,g){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ws(i.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new me(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(W0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ce(W0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kC extends dT{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=BR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ie.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ie.min():d.readTime?Qi(d.readTime):Ie.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=ym(this.serializer),i.addTarget=(function(c,d){let y;const g=d.target;if(y=fm(g)?{documents:GR(c,g)}:{query:FR(c,g).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=tT(c,d.resumeToken);const v=mm(c,d.expectedCount);v!==null&&(y.expectedCount=v)}else if(d.snapshotVersion.compareTo(Ie.min())>0){y.readTime=uh(c,d.snapshotVersion.toTimestamp());const v=mm(c,d.expectedCount);v!==null&&(y.expectedCount=v)}return y})(this.serializer,e);const a=KR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=ym(this.serializer),i.removeTarget=e,this.q_(i)}}class LC extends dT{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=qR(e.writeResults,e.commitTime),a=Qi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=ym(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>HR(this.serializer,a)))};this.q_(i)}}class UC{}class PC extends UC{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,pm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(J.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,pm(i,a),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new me(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class jC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ws(i),this.aa=!1):ce("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class zC{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{la(this)&&(ce(aa,"Restarting streams for network reachability change."),await(async function(g){const v=Ne(g);v.Ea.add(4),await tu(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Ih(v)})(this))}))})),this.Ra=new jC(a,l)}}async function Ih(r){if(la(r))for(const e of r.da)await e(!0)}async function tu(r){for(const e of r.da)await e(!1)}function mT(r,e){const i=Ne(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ip(i)?np(i):bo(i).O_()&&tp(i,e))}function ep(r,e){const i=Ne(r),a=bo(i);i.Ia.delete(e),a.O_()&&pT(i,e),i.Ia.size===0&&(a.O_()?a.L_():la(i)&&i.Ra.set("Unknown"))}function tp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}bo(r).Y_(e)}function pT(r,e){r.Va.Ue(e),bo(r).Z_(e)}function np(r){r.Va=new VR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),bo(r).start(),r.Ra.ua()}function ip(r){return la(r)&&!bo(r).x_()&&r.Ia.size>0}function la(r){return Ne(r).Ea.size===0}function gT(r){r.Va=void 0}async function BC(r){r.Ra.set("Online")}async function HC(r){r.Ia.forEach(((e,i)=>{tp(r,e)}))}async function qC(r,e){gT(r),ip(r)?(r.Ra.ha(e),np(r)):r.Ra.set("Unknown")}async function GC(r,e,i){if(r.Ra.set("Online"),e instanceof eT&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.Va.removeTarget(y))})(r,e)}catch(a){ce(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await hh(r,a)}else if(e instanceof Fc?r.Va.Ze(e):e instanceof WE?r.Va.st(e):r.Va.tt(e),!i.isEqual(Ie.min()))try{const a=await hT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const _=c.Ia.get(v);_&&c.Ia.set(v,_.withResumeToken(g.resumeToken,d))}})),y.targetMismatches.forEach(((g,v)=>{const _=c.Ia.get(g);if(!_)return;c.Ia.set(g,_.withResumeToken(vn.EMPTY_BYTE_STRING,_.snapshotVersion)),pT(c,g);const w=new hr(_.target,g,v,_.sequenceNumber);tp(c,w)})),c.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(a){ce(aa,"Failed to raise snapshot:",a),await hh(r,a)}}async function hh(r,e,i){if(!To(e))throw e;r.Ea.add(1),await tu(r),r.Ra.set("Offline"),i||(i=()=>hT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(aa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ih(r)}))}function yT(r,e){return e().catch((i=>hh(r,i,e)))}async function xh(r){const e=Ne(r),i=br(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bm;for(;FC(e);)try{const l=await RC(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,QC(e,l)}catch(l){await hh(e,l)}_T(e)&&vT(e)}function FC(r){return la(r)&&r.Ta.length<10}function QC(r,e){r.Ta.push(e);const i=br(r);i.O_()&&i.X_&&i.ea(e.mutations)}function _T(r){return la(r)&&!br(r).x_()&&r.Ta.length>0}function vT(r){br(r).start()}async function KC(r){br(r).ra()}async function YC(r){const e=br(r);for(const i of r.Ta)e.ea(i.mutations)}async function XC(r,e,i){const a=r.Ta.shift(),l=Km.from(a,e,i);await yT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await xh(r)}async function $C(r,e){e&&br(r).X_&&await(async function(a,l){if((function(d){return DR(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();br(a).B_(),await yT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await xh(a)}})(r,e),_T(r)&&vT(r)}async function ev(r,e){const i=Ne(r);i.asyncQueue.verifyOperationInProgress(),ce(aa,"RemoteStore received new credentials");const a=la(i);i.Ea.add(3),await tu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ih(i)}async function ZC(r,e){const i=Ne(r);e?(i.Ea.delete(2),await Ih(i)):e||(i.Ea.add(2),await tu(i),i.Ra.set("Unknown"))}function bo(r){return r.ma||(r.ma=(function(i,a,l){const c=Ne(i);return c.sa(),new kC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:BC.bind(null,r),t_:HC.bind(null,r),r_:qC.bind(null,r),H_:GC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ip(r)?np(r):r.Ra.set("Unknown")):(await r.ma.stop(),gT(r))}))),r.ma}function br(r){return r.fa||(r.fa=(function(i,a,l){const c=Ne(i);return c.sa(),new LC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:KC.bind(null,r),r_:$C.bind(null,r),ta:YC.bind(null,r),na:XC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await xh(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(aa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class sp{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,y=new sp(e,i,d,l,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rp(r,e){if(ws("AsyncQueue",`${e}: ${r}`),To(r))return new me(J.UNAVAILABLE,`${e}: ${r}`);throw r}class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||Te.comparator(i.key,a.key):(i,a)=>Te.comparator(i.key,a.key),this.keyedMap=Cl(),this.sortedSet=new Ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new so;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class tv{constructor(){this.ga=new Ot(Te.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class mo{constructor(e,i,a,l,c,d,y,g,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new mo(e,i,so.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class JC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class WC{constructor(){this.queries=nv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Ne(i),c=l.queries;l.queries=nv(),c.forEach(((d,y)=>{for(const g of y.Sa)g.onError(a)}))})(this,new me(J.ABORTED,"Firestore shutting down"))}}function nv(){return new oa((r=>jE(r)),bh)}async function ET(r,e){const i=Ne(r);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new JC,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=rp(d,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(y)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ap(i)}async function TT(r,e){const i=Ne(r),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function eI(r,e){const i=Ne(r);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(l)&&(a=!0);d.wa=l}}a&&ap(i)}function tI(r,e,i){const a=Ne(r),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function ap(r){r.Ca.forEach((e=>{e.next()}))}var Em,iv;(iv=Em||(Em={})).Ma="default",iv.Cache="cache";class bT{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new mo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Em.Cache}}class AT{constructor(e){this.key=e}}class ST{constructor(e){this.key=e}}class nI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Fe(),this.mutatedKeys=Fe(),this.eu=zE(e),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new tv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((_,w)=>{const M=l.get(_),q=Ah(this.query,w)?w:null,te=!!M&&this.mutatedKeys.has(M.key),oe=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let ee=!1;M&&q?M.data.isEqual(q.data)?te!==oe&&(a.track({type:3,doc:q}),ee=!0):this.su(M,q)||(a.track({type:2,doc:q}),ee=!0,(g&&this.eu(q,g)>0||v&&this.eu(q,v)<0)&&(y=!0)):!M&&q?(a.track({type:0,doc:q}),ee=!0):M&&!q&&(a.track({type:1,doc:M}),ee=!0,(g||v)&&(y=!0)),ee&&(q?(d=d.add(q),c=oe?c.add(_):c.delete(_)):(d=d.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const _=this.query.limitType==="F"?d.last():d.first();d=d.delete(_.key),c=c.delete(_.key),a.track({type:1,doc:_})}return{tu:d,iu:a,Cs:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((_,w)=>(function(q,te){const oe=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:ee})}};return oe(q)-oe(te)})(_.type,w.type)||this.eu(_.doc,w.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,v=g!==this.Za;return this.Za=g,d.length!==0||v?{snapshot:new mo(this.query,e.tu,c,d,e.mutatedKeys,g===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Fe(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new ST(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new AT(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Fe();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const op="SyncEngine";class iI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class sI{constructor(e){this.key=e,this.hu=!1}}class rI{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new oa((y=>jE(y)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new Ot(Te.comparator),this.Au=new Map,this.Ru=new $m,this.Vu={},this.mu=new Map,this.fu=fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aI(r,e,i=!0){const a=NT(r);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await wT(a,e,i,!0),l}async function oI(r,e){const i=NT(r);await wT(i,e,!0,!1)}async function wT(r,e,i,a){const l=await CC(r.localStore,Gi(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await lI(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&mT(r.remoteStore,l),y}async function lI(r,e,i,a,l){r.pu=(w,M,q)=>(async function(oe,ee,ye,Ce){let _e=ee.view.ru(ye);_e.Cs&&(_e=await X0(oe.localStore,ee.query,!1).then((({documents:x})=>ee.view.ru(x,_e))));const st=Ce&&Ce.targetChanges.get(ee.targetId),tt=Ce&&Ce.targetMismatches.get(ee.targetId)!=null,Qe=ee.view.applyChanges(_e,oe.isPrimaryClient,st,tt);return rv(oe,ee.targetId,Qe.au),Qe.snapshot})(r,w,M,q);const c=await X0(r.localStore,e,!0),d=new nI(e,c.Qs),y=d.ru(c.documents),g=eu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),v=d.applyChanges(y,r.isPrimaryClient,g);rv(r,i,v.au);const _=new iI(e,i,d);return r.Tu.set(e,_),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),v.snapshot}async function uI(r,e,i){const a=Ne(r),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!bh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await _m(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&ep(a.remoteStore,l.targetId),Tm(a,l.targetId)})).catch(Eo)):(Tm(a,l.targetId),await _m(a.localStore,l.targetId,!0))}async function cI(r,e){const i=Ne(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ep(i.remoteStore,a.targetId))}async function hI(r,e,i){const a=_I(r);try{const l=await(function(d,y){const g=Ne(d),v=Rt.now(),_=y.reduce(((q,te)=>q.add(te.key)),Fe());let w,M;return g.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let te=Rs(),oe=Fe();return g.Ns.getEntries(q,_).next((ee=>{te=ee,te.forEach(((ye,Ce)=>{Ce.isValidDocument()||(oe=oe.add(ye))}))})).next((()=>g.localDocuments.getOverlayedDocuments(q,te))).next((ee=>{w=ee;const ye=[];for(const Ce of y){const _e=RR(Ce,w.get(Ce.key).overlayedDocument);_e!=null&&ye.push(new wr(Ce.key,_e,OE(_e.value.mapValue),Fi.exists(!0)))}return g.mutationQueue.addMutationBatch(q,v,ye,y)})).next((ee=>{M=ee;const ye=ee.applyToLocalDocumentSet(w,oe);return g.documentOverlayCache.saveOverlays(q,ee.batchId,ye)}))})).then((()=>({batchId:M.batchId,changes:HE(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,g){let v=d.Vu[d.currentUser.toKey()];v||(v=new Ot(Ge)),v=v.insert(y,g),d.Vu[d.currentUser.toKey()]=v})(a,l.batchId,i),await nu(a,l.changes),await xh(a.remoteStore)}catch(l){const c=rp(l,"Failed to persist write");i.reject(c)}}async function RT(r,e){const i=Ne(r);try{const a=await SC(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(lt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?lt(d.hu,14607):l.removedDocuments.size>0&&(lt(d.hu,42227),d.hu=!1))})),await nu(i,a,e)}catch(a){await Eo(a)}}function sv(r,e,i){const a=Ne(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const g=Ne(d);g.onlineState=y;let v=!1;g.queries.forEach(((_,w)=>{for(const M of w.Sa)M.va(y)&&(v=!0)})),v&&ap(g)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function fI(r,e,i){const a=Ne(r);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new Ot(Te.comparator);d=d.insert(c,An.newNoDocument(c,Ie.min()));const y=Fe().add(c),g=new Rh(Ie.min(),new Map,new Ot(Ge),d,y);await RT(a,g),a.du=a.du.remove(c),a.Au.delete(e),lp(a)}else await _m(a.localStore,e,!1).then((()=>Tm(a,e,i))).catch(Eo)}async function dI(r,e){const i=Ne(r),a=e.batch.batchId;try{const l=await AC(i.localStore,e);IT(i,a,null),CT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await nu(i,l)}catch(l){await Eo(l)}}async function mI(r,e,i){const a=Ne(r);try{const l=await(function(d,y){const g=Ne(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let _;return g.mutationQueue.lookupMutationBatch(v,y).next((w=>(lt(w!==null,37113),_=w.keys(),g.mutationQueue.removeMutationBatch(v,w)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,_,y))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,_))).next((()=>g.localDocuments.getDocuments(v,_)))}))})(a.localStore,e);IT(a,e,i),CT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await nu(a,l)}catch(l){await Eo(l)}}function CT(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function IT(r,e,i){const a=Ne(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function Tm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||xT(r,a)}))}function xT(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(ep(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),lp(r))}function rv(r,e,i){for(const a of i)a instanceof AT?(r.Ru.addReference(a.key,e),pI(r,a)):a instanceof ST?(ce(op,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||xT(r,a.key)):Se(19791,{wu:a})}function pI(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ce(op,"New document in limbo: "+i),r.Eu.add(a),lp(r))}function lp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new Te(Dt.fromString(e)),a=r.fu.next();r.Au.set(a,new sI(i)),r.du=r.du.insert(i,a),mT(r.remoteStore,new hr(Gi(Th(i.path)),a,"TargetPurposeLimboResolution",yh.ce))}}async function nu(r,e,i){const a=Ne(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,g)=>{d.push(a.pu(g,e,i).then((v=>{if((v||i)&&a.isPrimaryClient){const _=v?!v.fromCache:i?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(v){l.push(v);const _=Jm.As(g.targetId,v);c.push(_)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(g,v){const _=Ne(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(v,(M=>$.forEach(M.Es,(q=>_.persistence.referenceDelegate.addReference(w,M.targetId,q))).next((()=>$.forEach(M.ds,(q=>_.persistence.referenceDelegate.removeReference(w,M.targetId,q)))))))))}catch(w){if(!To(w))throw w;ce(Wm,"Failed to update sequence numbers: "+w)}for(const w of v){const M=w.targetId;if(!w.fromCache){const q=_.Ms.get(M),te=q.snapshotVersion,oe=q.withLastLimboFreeSnapshotVersion(te);_.Ms=_.Ms.insert(M,oe)}}})(a.localStore,c))}async function gI(r,e){const i=Ne(r);if(!i.currentUser.isEqual(e)){ce(op,"User change. New user:",e.toKey());const a=await cT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((g=>{g.reject(new me(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await nu(i,a.Ls)}}function yI(r,e){const i=Ne(r),a=i.Au.get(e);if(a&&a.hu)return Fe().add(a.key);{let l=Fe();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function NT(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=RT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fI.bind(null,e),e.Pu.H_=eI.bind(null,e.eventManager),e.Pu.yu=tI.bind(null,e.eventManager),e}function _I(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mI.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return bC(this.persistence,new vC,e.initialUser,this.serializer)}Cu(e){return new uT(Zm.mi,this.serializer)}Du(e){return new xC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class vI extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){lt(this.persistence.referenceDelegate instanceof ch,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new sC(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new uT((a=>ch.mi(a,i)),this.serializer)}}class bm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>sv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=gI.bind(null,this.syncEngine),await ZC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new WC})()}createDatastore(e){const i=Ch(e.databaseInfo.databaseId),a=(function(c){return new VC(c)})(e.databaseInfo);return(function(c,d,y,g){return new PC(c,d,y,g)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,y){return new zC(a,l,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>sv(this.syncEngine,i,0)),(function(){return J0.v()?new J0:new NC})())}createSyncEngine(e,i){return(function(l,c,d,y,g,v,_){const w=new rI(l,c,d,y,g,v);return _&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ne(i);ce(aa,"RemoteStore shutting down."),a.Ea.add(5),await tu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class DT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ar="FirestoreClient";class EI{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=bn.UNAUTHENTICATED,this.clientId=jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ce(Ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ce(Ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=rp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Xd(r,e){r.asyncQueue.verifyOperationInProgress(),ce(Ar,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await cT(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function av(r,e){r.asyncQueue.verifyOperationInProgress();const i=await TI(r);ce(Ar,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>ev(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>ev(e.remoteStore,l))),r._onlineComponents=e}async function TI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(Ar,"Using user provided OfflineComponentProvider");try{await Xd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;oo("Error using user provided cache. Falling back to memory cache: "+i),await Xd(r,new fh)}}else ce(Ar,"Using default OfflineComponentProvider"),await Xd(r,new vI(void 0));return r._offlineComponents}async function OT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(Ar,"Using user provided OnlineComponentProvider"),await av(r,r._uninitializedComponentsProvider._online)):(ce(Ar,"Using default OnlineComponentProvider"),await av(r,new bm))),r._onlineComponents}function bI(r){return OT(r).then((e=>e.syncEngine))}async function Am(r){const e=await OT(r),i=e.eventManager;return i.onListen=aI.bind(null,e.syncEngine),i.onUnlisten=uI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=oI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=cI.bind(null,e.syncEngine),i}function AI(r,e,i={}){const a=new gr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,g,v){const _=new DT({next:M=>{_.Nu(),d.enqueueAndForget((()=>TT(c,w)));const q=M.docs.has(y);!q&&M.fromCache?v.reject(new me(J.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&M.fromCache&&g&&g.source==="server"?v.reject(new me(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(M)},error:M=>v.reject(M)}),w=new bT(Th(y.path),_,{includeMetadataChanges:!0,qa:!0});return ET(c,w)})(await Am(r),r.asyncQueue,e,i,a))),a.promise}function MT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const ov=new Map;const VT="firestore.googleapis.com",lv=!0;class uv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new me(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=VT,this.ssl=lv}else this.host=e.host,this.ssl=e.ssl??lv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=lT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nC)throw new me(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}P2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class up{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new C2;switch(a.type){case"firstParty":return new D2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new me(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=ov.get(i);a&&(ce("ComponentProvider","Removing Datastore"),ov.delete(i),a.terminate())})(this),Promise.resolve()}}function SI(r,e,i,a={}){r=qi(r,up);const l=go(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;l&&(xv(`https://${y}`),Nv("Firestore",!0)),c.host!==VT&&c.host!==y&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:y,ssl:l,emulatorOptions:a};if(!yr(g,d)&&(r._setSettings(g),a.mockUserToken)){let v,_;if(typeof a.mockUserToken=="string")v=a.mockUserToken,_=bn.MOCK_USER;else{v=$1(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new me(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new bn(w)}r._authCredentials=new I2(new TE(v,_))}}class Nh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Nh(this.firestore,e,this._query)}}class Wt{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}toJSON(){return{type:Wt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Jl(i,Wt._jsonSchema))return new Wt(e,a||null,new Te(Dt.fromString(i.referencePath)))}}Wt._jsonSchemaVersion="firestore/documentReference/1.0",Wt._jsonSchema={type:Jt("string",Wt._jsonSchemaVersion),referencePath:Jt("string")};class Gl extends Nh{constructor(e,i,a){super(e,i,Th(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new Te(e))}withConverter(e){return new Gl(this.firestore,e,this._path)}}function Ze(r,e,...i){if(r=Cn(r),arguments.length===1&&(e=jm.newId()),U2("doc","path",e),r instanceof up){const a=Dt.fromString(e,...i);return A0(a),new Wt(r,null,new Te(a))}{if(!(r instanceof Wt||r instanceof Gl))throw new me(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Dt.fromString(e,...i));return A0(a),new Wt(r.firestore,r instanceof Gl?r.converter:null,new Te(a))}}const cv="AsyncQueue";class hv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fT(this,"async_queue_retry"),this._c=()=>{const a=Yd();a&&ce(cv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;ce(cv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,ws("INTERNAL UNHANDLED ERROR: ",fv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=sp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Se(47125,{Pc:fv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function fv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function dv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class po extends up{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new hv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hv(e),this._firestoreClient=void 0,await e}}}function wI(r,e){const i=typeof r=="object"?r:Vv(),a=typeof r=="string"?r:ih,l=xm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Y1("firestore");c&&SI(l,...c)}return l}function cp(r){if(r._terminated)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||RI(r),r._firestoreClient}function RI(r){const e=r._freezeSettings(),i=(function(l,c,d,y){return new X2(l,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,MT(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new EI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class ai{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ai(vn.fromBase64String(e))}catch(i){throw new me(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ai(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ai._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jl(e,ai._jsonSchema))return ai.fromBase64String(e.bytes)}}ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:Jt("string",ai._jsonSchemaVersion),bytes:Jt("string")};class Dh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new me(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oh{constructor(e){this._methodName=e}}class Ki{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new me(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new me(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(e){if(Jl(e,Ki._jsonSchema))return new Ki(e.latitude,e.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:Jt("string",Ki._jsonSchemaVersion),latitude:Jt("number"),longitude:Jt("number")};class Yi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jl(e,Yi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Yi(e.vectorValues);throw new me(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:Jt("string",Yi._jsonSchemaVersion),vectorValues:Jt("object")};const CI=/^__.*__$/;class II{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Wl(e,this.data,i,this.fieldTransforms)}}class kT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new wr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function LT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:r})}}class Mh{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(LT(this.Ac)&&CI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ch(e)}Cc(e,i,a,l=!1){return new Mh({Ac:e,methodName:i,Dc:a,path:_n.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function UT(r){const e=r._freezeSettings(),i=Ch(r._databaseId);return new xI(r._databaseId,!!e.ignoreUndefinedProperties,i)}function NI(r,e,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);fp("Data must be an object, but it was:",d,a);const y=PT(a,d);let g,v;if(c.merge)g=new Qn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const _=[];for(const w of c.mergeFields){const M=Sm(e,w,i);if(!d.contains(M))throw new me(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);zT(_,M)||_.push(M)}g=new Qn(_),v=d.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,v=d.fieldTransforms;return new II(new Ln(y),g,v)}class Vh extends Oh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function DI(r,e,i){return new Mh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class hp extends Oh{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=DI(this,e,!0),a=this.vc.map((c=>iu(c,i))),l=new ho(a);return new bR(e.path,l)}isEqual(e){return e instanceof hp&&yr(this.vc,e.vc)}}function OI(r,e,i,a){const l=r.Cc(1,e,i);fp("Data must be an object, but it was:",l,a);const c=[],d=Ln.empty();Sr(a,((g,v)=>{const _=dp(e,g,i);v=Cn(v);const w=l.yc(_);if(v instanceof Vh)c.push(_);else{const M=iu(v,w);M!=null&&(c.push(_),d.set(_,M))}}));const y=new Qn(c);return new kT(d,y,l.fieldTransforms)}function MI(r,e,i,a,l,c){const d=r.Cc(1,e,i),y=[Sm(e,a,i)],g=[l];if(c.length%2!=0)throw new me(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Sm(e,c[M])),g.push(c[M+1]);const v=[],_=Ln.empty();for(let M=y.length-1;M>=0;--M)if(!zT(v,y[M])){const q=y[M];let te=g[M];te=Cn(te);const oe=d.yc(q);if(te instanceof Vh)v.push(q);else{const ee=iu(te,oe);ee!=null&&(v.push(q),_.set(q,ee))}}const w=new Qn(v);return new kT(_,w,d.fieldTransforms)}function iu(r,e){if(jT(r=Cn(r)))return fp("Unsupported field value:",e,r),PT(r,e);if(r instanceof Oh)return(function(a,l){if(!LT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const y of a){let g=iu(y,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,l){if((a=Cn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return vR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Rt.fromDate(a);return{timestampValue:uh(l.serializer,c)}}if(a instanceof Rt){const c=new Rt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:uh(l.serializer,c)}}if(a instanceof Ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ai)return{bytesValue:tT(l.serializer,a._byteString)};if(a instanceof Wt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Xm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Yi)return(function(d,y){return{mapValue:{fields:{[NE]:{stringValue:DE},[sh]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw y.Sc("VectorValues must only contain numeric values.");return Qm(y.serializer,v)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${zm(a)}`)})(r,e)}function PT(r,e){const i={};return SE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sr(r,((a,l)=>{const c=iu(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function jT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof Ki||r instanceof ai||r instanceof Wt||r instanceof Oh||r instanceof Yi)}function fp(r,e,i){if(!jT(i)||!bE(i)){const a=zm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Sm(r,e,i){if((e=Cn(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return dp(r,e);throw dh("Field path arguments must be of type string or ",r,!1,void 0,i)}const VI=new RegExp("[~\\*/\\[\\]]");function dp(r,e,i){if(e.search(VI)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Dh(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function dh(r,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${l}`),g+=")"),new me(J.INVALID_ARGUMENT,y+r+g)}function zT(r,e){return r.some((i=>i.isEqual(e)))}class BT{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(HT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class kI extends BT{data(){return super.data()}}function HT(r,e){return typeof e=="string"?dp(r,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}function LI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UI{convertValue(e,i="none"){switch(Tr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Sr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[sh].arrayValue?.values?.map((a=>Ht(a.doubleValue)));return new Yi(i)}convertGeoPoint(e){return new Ki(Ht(e.latitude),Ht(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=vh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const i=vr(e);return new Rt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Dt.fromString(e);lt(oT(a),9688,{name:e});const l=new Bl(a.get(1),a.get(3)),c=new Te(a.popFirst(5));return l.isEqual(i)||ws(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function PI(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class xl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class na extends BT{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(HT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new me(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:Jt("string",na._jsonSchemaVersion),bundleSource:Jt("string","DocumentSnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class Qc extends na{data(e={}){return super.data(e)}}class ro{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new xl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Qc(this._firestore,this._userDataWriter,a.key,a,new xl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new me(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const g=new Qc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new xl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const g=new Qc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new xl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,_=-1;return y.type!==0&&(v=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),_=d.indexOf(y.doc.key)),{type:jI(y.type),doc:g,oldIndex:v,newIndex:_}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new me(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:r})}}function zI(r){r=qi(r,Wt);const e=qi(r.firestore,po);return AI(cp(e),r._key).then((i=>FT(e,r,i)))}ro._jsonSchemaVersion="firestore/querySnapshot/1.0",ro._jsonSchema={type:Jt("string",ro._jsonSchemaVersion),bundleSource:Jt("string","QuerySnapshot"),bundleName:Jt("string"),bundle:Jt("string")};class qT extends UI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,i)}}function BI(r,e,i){r=qi(r,Wt);const a=qi(r.firestore,po),l=PI(r.converter,e);return GT(a,[NI(UT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Fi.none())])}function ot(r,e,i,...a){r=qi(r,Wt);const l=qi(r.firestore,po),c=UT(l);let d;return d=typeof(e=Cn(e))=="string"||e instanceof Dh?MI(c,"updateDoc",r._key,e,i,a):OI(c,"updateDoc",r._key,e),GT(l,[d.toMutation(r._key,Fi.exists(!0))])}function mv(r,...e){r=Cn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||dv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(dv(e[a])){const g=e[a];e[a]=g.next?.bind(g),e[a+1]=g.error?.bind(g),e[a+2]=g.complete?.bind(g)}let c,d,y;if(r instanceof Wt)d=qi(r.firestore,po),y=Th(r._key.path),c={next:g=>{e[a]&&e[a](FT(d,r,g))},error:e[a+1],complete:e[a+2]};else{const g=qi(r,Nh);d=qi(g.firestore,po),y=g._query;const v=new qT(d);c={next:_=>{e[a]&&e[a](new ro(d,v,g,_))},error:e[a+1],complete:e[a+2]},LI(r._query)}return(function(v,_,w,M){const q=new DT(M),te=new bT(_,q,w);return v.asyncQueue.enqueueAndForget((async()=>ET(await Am(v),te))),()=>{q.Nu(),v.asyncQueue.enqueueAndForget((async()=>TT(await Am(v),te)))}})(cp(d),y,l,c)}function GT(r,e){return(function(a,l){const c=new gr;return a.asyncQueue.enqueueAndForget((async()=>hI(await bI(a),l,c))),c.promise})(cp(r),e)}function FT(r,e,i){const a=i.docs.get(e._key),l=new qT(r);return new na(r,l,e._key,a,new xl(i.hasPendingWrites,i.fromCache),e.converter)}function un(...r){return new hp("arrayUnion",r)}(function(e,i=!0){(function(l){vo=l})(yo),ao(new ia("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new po(new x2(a.getProvider("auth-internal")),new O2(d,a.getProvider("app-check-internal")),(function(v,_){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new me(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(v.options.projectId,_)})(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),mr(v0,E0,e),mr(v0,E0,"esm2020")})();const HI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),pv=r=>{const e=qI(r);return e.charAt(0).toUpperCase()+e.slice(1)},QT=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),GI=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var FI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const QI=Nt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...y},g)=>Nt.createElement("svg",{ref:g,...FI,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:QT("lucide",l),...!c&&!GI(y)&&{"aria-hidden":"true"},...y},[...d.map(([v,_])=>Nt.createElement(v,_)),...Array.isArray(c)?c:[c]]));const en=(r,e)=>{const i=Nt.forwardRef(({className:a,...l},c)=>Nt.createElement(QI,{ref:c,iconNode:e,className:QT(`lucide-${HI(pv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=pv(r),i};const KI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],wm=en("book-open",KI);const YI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kc=en("circle-check-big",YI);const XI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],KT=en("circle-x",XI);const $I=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Kc=en("coins",$I);const ZI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ll=en("crown",ZI);const JI=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],WI=en("door-open",JI);const ex=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],YT=en("eye",ex);const tx=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],nx=en("hammer",tx);const ix=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],sx=en("hand",ix);const rx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],gv=en("history",rx);const ax=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],yv=en("log-out",ax);const ox=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],XT=en("refresh-ccw",ox);const lx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ux=en("rotate-ccw",lx);const cx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],hx=en("shield",cx);const fx=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],_v=en("skull",fx);const dx=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],vv=en("sparkles",dx);const mx=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],$T=en("sword",mx);const px=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],gx=en("trophy",px);const yx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$d=en("user",yx);const _x=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ZT=en("x",_x),vx={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:2c9029761ef876856aa637"},JT=Mv(vx),Zd=w2(JT),Je=wI(JT),et=typeof __app_id<"u"?__app_id:"conspiracy-game",Ex="1",WT={HERO:{name:"Hero",color:"bg-purple-600",icon:Ll,desc:"Grabs 3 coins. Blocks Export."},ROBBER:{name:"Robber",color:"bg-blue-600",icon:sx,desc:"Steal 2 coins. Blocks Stealing."},GENIE:{name:"Genie",color:"bg-pink-600",icon:hx,desc:"Blocks Stab."},MONSTER:{name:"Monster",color:"bg-red-700",icon:$T,desc:"Stab (Pay 3 to kill)."},RIDDLER:{name:"Riddler",color:"bg-emerald-600",icon:XT,desc:"Exchange cards. Blocks Stealing."}},Sl=[...Array(3).fill("HERO"),...Array(3).fill("ROBBER"),...Array(3).fill("GENIE"),...Array(3).fill("MONSTER"),...Array(3).fill("RIDDLER")],wl={EARN:{name:"Earn",cost:0,income:1,blockable:!1,challengeable:!1},EXPORT:{name:"Export",cost:0,income:2,blockable:!0,challengeable:!1,blockedBy:["HERO"]},TAX:{name:"Hero Bonus",cost:0,income:3,blockable:!1,challengeable:!0,claim:"HERO"},STEAL:{name:"Steal",cost:0,income:0,blockable:!0,challengeable:!0,claim:"ROBBER",blockedBy:["ROBBER","RIDDLER"]},STAB:{name:"Stab",cost:3,income:0,blockable:!0,challengeable:!0,claim:"MONSTER",blockedBy:["GENIE"]},EXCHANGE:{name:"Exchange",cost:0,income:0,blockable:!1,challengeable:!0,claim:"RIDDLER"},KILL:{name:"Kill",cost:7,income:0,blockable:!1,challengeable:!1}},Lc=r=>{let e=r.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[r[e],r[i]]=[r[i],r[e]];return r},Jd=()=>A.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[A.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-900 via-gray-900 to-black"}),A.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-purple-500/5 mix-blend-overlay"}),A.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/black-scales.png")'}})]}),Ev=({onClose:r})=>{const[e,i]=Nt.useState("basics"),a=({id:l,label:c,icon:d})=>A.jsxs("button",{onClick:()=>i(l),className:`flex items-center gap-2 px-4 py-3 text-sm font-bold rounded-lg transition-all ${e===l?"bg-purple-600 text-white shadow-lg":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:[d&&A.jsx(d,{size:16})," ",c]});return A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-gray-900 rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden border border-purple-500/30 shadow-2xl flex flex-col",children:[A.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[A.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 font-serif tracking-wider",children:[A.jsx(wm,{className:"text-purple-400"})," Archive of Secrets"]}),A.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-full text-gray-400 hover:text-white",children:A.jsx(ZT,{})})]}),A.jsxs("div",{className:"flex gap-2 p-4 bg-gray-900 border-b border-gray-800 overflow-x-auto",children:[A.jsx(a,{id:"basics",label:"Basics",icon:Kc}),A.jsx(a,{id:"cards",label:"Roles",icon:Ll}),A.jsx(a,{id:"actions",label:"Actions",icon:$T}),A.jsx(a,{id:"challenges",label:"Bluffing",icon:KT})]}),A.jsxs("div",{className:"p-6 overflow-y-auto flex-1 text-gray-300 space-y-6",children:[e==="basics"&&A.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[A.jsx("h3",{className:"text-xl font-bold text-purple-400",children:"Objective: Last Survivor"}),A.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm md:text-base",children:[A.jsxs("li",{children:["Start with ",A.jsx("strong",{children:"2 Cards"})," (Lives) and"," ",A.jsx("strong",{children:"2 Coins"}),"."]}),A.jsxs("li",{children:["Cards are hidden. You can ",A.jsx("strong",{children:"lie"})," about what you have."]}),A.jsx("li",{children:"Lose a life (flip card) if you are successfully challenged or assassinated."}),A.jsxs("li",{children:["Lose all cards = ",A.jsx("strong",{children:"Eliminated"}),"."]})]})]}),e==="cards"&&A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in",children:Object.entries(WT).map(([l,c])=>A.jsxs("div",{className:"p-4 rounded-lg border border-gray-700 bg-gray-800 flex items-start gap-3",children:[A.jsx("div",{className:`p-3 rounded-lg ${c.color} text-white shadow-lg`,children:A.jsx(c.icon,{size:24})}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-white",children:c.name}),A.jsx("p",{className:"text-sm text-gray-400",children:c.desc})]})]},l))}),e==="actions"&&A.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[A.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg border-l-4 border-green-500",children:[A.jsx("h4",{className:"font-bold text-white mb-2",children:"Safe Actions"}),A.jsxs("div",{className:"text-sm space-y-1",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"Earn:"})," +1 Coin. (Unblockable)"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Export:"})," +2 Coins. (Blocked by Hero)"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Kill:"})," Pay 7 coins to eliminate a life. (Unblockable)"]})]})]}),A.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg border-l-4 border-purple-500",children:[A.jsx("h4",{className:"font-bold text-white mb-2",children:"Role Actions (Lie about these!)"}),A.jsxs("ul",{className:"list-disc pl-5 text-sm space-y-1",children:[A.jsxs("li",{children:[A.jsx("strong",{children:"Hero Bonus:"})," +3 Coins."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Steal:"})," Take 2 coins from player."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Stab:"})," Pay 3 coins to kill."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Exchange:"})," Draw 2 new cards, return 2."]})]})]})]}),e==="challenges"&&A.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-xl font-bold text-red-400 mb-2",children:"The Art of Lying"}),A.jsx("p",{className:"text-sm",children:"You can perform ANY action, even if you don't have the card. If someone challenges you, you must prove it."})]}),A.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"bg-red-900/20 p-4 rounded-lg border border-red-500/30",children:[A.jsx("h4",{className:"font-bold text-white mb-2",children:"If Challenged:"}),A.jsxs("ul",{className:"list-disc pl-5 text-sm mt-2 space-y-1",children:[A.jsxs("li",{children:[A.jsx("strong",{children:"Have it?"})," Reveal it. Challenger loses a life. You get a fresh card."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Don't have it?"})," You lose a life."]})]})]}),A.jsxs("div",{className:"bg-blue-900/20 p-4 rounded-lg border border-blue-500/30",children:[A.jsx("h4",{className:"font-bold text-white mb-2",children:"Blocking"}),A.jsx("p",{className:"text-sm",children:"Block attacks by claiming a defensive role (e.g. Genie blocks Stab). Blocks can also be challenged!"})]})]})]})]})]})})},Tv=({onConfirm:r,onCancel:e,isHost:i,onReturnToLobby:a})=>A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:A.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[A.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon Conspiracy?"}),A.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:i&&a?"As Host, you can return everyone to the lobby or leave the game completely.":"Leaving now will forfeit your position in the game."}),A.jsxs("div",{className:"flex flex-col gap-3",children:[i&&a&&A.jsx("button",{onClick:a,className:"w-full bg-purple-700 hover:bg-purple-600 text-white py-3 rounded font-bold transition-colors border border-purple-500 shadow-lg mb-2",children:"Return Group to Lobby"}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsx("button",{onClick:e,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold transition-colors",children:"Stay"}),A.jsx("button",{onClick:r,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold transition-colors",children:"Leave"})]})]})]})}),bv=()=>A.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[A.jsx(YT,{size:12,className:"text-purple-500"}),A.jsx("span",{className:"text-[10px] font-black tracking-widest text-purple-500 uppercase",children:"CONSPIRACY"})]});function Tx(){const[r,e]=Nt.useState(null),[i,a]=Nt.useState("menu"),[l,c]=Nt.useState(""),[d,y]=Nt.useState(""),[g,v]=Nt.useState(null),[_,w]=Nt.useState(null),[M,q]=Nt.useState(""),[te,oe]=Nt.useState(!1),[ee,ye]=Nt.useState([]),[Ce,_e]=Nt.useState(!1),[st,tt]=Nt.useState(!1),[Qe,x]=Nt.useState(!1),[S,I]=Nt.useState(!1);if(Nt.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await hw(Zd,__initial_auth_token):await aw(Zd)})();const Z=mw(Zd,re=>e(re));return()=>Z()},[]),Nt.useEffect(()=>{if(!g||!r)return;const Q=Ze(Je,"artifacts",et,"public","data","rooms",g),Z=mv(Q,re=>{if(re.exists()){const ve=re.data();w({id:re.id,...ve}),ve.status==="lobby"?a("lobby"):ve.status==="playing"||ve.status==="finished"?a("game"):a("lobby")}else v(null),a("menu"),q("Room closed or does not exist.")},re=>console.error(re));return()=>Z()},[g,r]),Nt.useEffect(()=>{const Q=mv(Ze(Je,"game_hub_settings","config"),Z=>{Z.exists()&&(Z.data()[Ex]?.maintenance?I(!0):I(!1))});return()=>Q()},[]),S)return A.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center text-white p-4 text-center",children:[A.jsxs("div",{className:"bg-orange-500/10 p-8 rounded-2xl border border-orange-500/30",children:[A.jsx(nx,{size:64,className:"text-orange-500 mx-auto mb-4 animate-bounce"}),A.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Under Maintenance"}),A.jsx("p",{className:"text-gray-400",children:"The Council is in a closed session. No plots can be hatched at this time."})]}),A.jsx("div",{className:"h-8"}),A.jsx("a",{href:"https://rawfidkshuvo.github.io/gamehub/",children:A.jsx("div",{className:"flex items-center justify-center gap-3 mb-2",children:A.jsx("div",{className:"text-center pb-12 animate-pulse",children:A.jsxs("div",{className:"inline-flex items-center gap-3 px-8 py-4 bg-slate-900/50 rounded-full border border-indigo-500/20 text-indigo-300 font-bold tracking-widest text-sm uppercase backdrop-blur-sm",children:[A.jsx(vv,{size:16})," Visit Gamehub...Try our other releases..."," ",A.jsx(vv,{size:16})]})})})})]});const V=async()=>{if(!r||!l.trim())return q("Enter a nickname first.");oe(!0);const Q=Math.random().toString(36).substring(2,8).toUpperCase(),Z={hostId:r.uid,maxPlayers:6,startingCards:2,players:[{id:r.uid,name:l,coins:2,cards:[],isEliminated:!1,ready:!0}],status:"lobby",turnIndex:0,deck:[],logs:[],turnState:"IDLE",currentAction:null};try{await BI(Ze(Je,"artifacts",et,"public","data","rooms",Q),Z),v(Q)}catch{q("Failed to create room.")}oe(!1)},O=async Q=>{!_||_.hostId!==r.uid||await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{startingCards:parseInt(Q)})},L=async()=>{if(!r||!d||!l.trim())return q("Enter nickname & room code.");oe(!0);try{const Q=Ze(Je,"artifacts",et,"public","data","rooms",d),Z=await zI(Q);if(!Z.exists())throw new Error("Room not found.");const re=Z.data();if(re.players.length>=re.maxPlayers)throw new Error("Room full.");if(re.status!=="lobby")throw new Error("Game started.");re.players.find(he=>he.id===r.uid)||await ot(Q,{players:un({id:r.uid,name:l,coins:2,cards:[],isEliminated:!1,ready:!0})}),v(d)}catch(Q){q(Q.message)}oe(!1)},R=async()=>{if(!g||!r||!_)return;const Q=_.players.filter(W=>W.id!==r.uid);let Z=_.status;Z==="playing"&&Q.length<2&&(Z="finished");const re=_.players.findIndex(W=>W.id===r.uid);let ve=_.turnIndex;re<_.turnIndex&&(ve=Math.max(0,ve-1)),ve>=Q.length&&(ve=0);const he=[..._.logs||[]],Ee=_.players.find(W=>W.id===r.uid);Ee&&he.push({text:`${Ee.name} left the game.`,type:"danger"}),Z==="finished"&&_.status==="playing"&&he.push({text:"Not enough players. Game Over.",type:"neutral"});try{await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{players:Q,status:Z,turnIndex:ve,logs:he})}catch(W){console.error("Error leaving room",W)}v(null),a("menu"),tt(!1)},Tt=async()=>{if(!_||_.hostId!==r.uid)return;if(_.players.length<2)return q("Need 2+ players.");const Q=Lc([...Sl,...Sl]),Z=_.startingCards||2,re=_.players.map(ve=>{const he=[];for(let Ee=0;Ee<Z;Ee++)he.push({type:Q.pop(),flipped:!1});return{...ve,coins:2,cards:he,isEliminated:!1}});await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{status:"playing",deck:Q,players:re,turnIndex:0,turnState:"IDLE",logs:un({text:"Game Started!",type:"info"})})},kt=async()=>{if(!_||_.hostId!==r.uid)return;const Q=Lc([...Sl,...Sl]),Z=_.startingCards||2,re=_.players.map(ve=>{const he=[];for(let Ee=0;Ee<Z;Ee++)he.push({type:Q.pop(),flipped:!1});return{...ve,coins:2,cards:he,isEliminated:!1}});await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{status:"playing",deck:Q,players:re,turnIndex:0,turnState:"IDLE",logs:[{text:"Game Restarted!",type:"info"}],currentAction:null})},G=async()=>{if(!_||_.hostId!==r.uid)return;const Q=_.players.map(Z=>({...Z,coins:2,cards:[],isEliminated:!1,ready:!0}));try{await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{status:"lobby",players:Q,deck:[],turnIndex:0,turnState:"IDLE",currentAction:null,logs:[{text:"Host returned the group to the lobby.",type:"neutral"}]}),tt(!1)}catch(Z){console.error("Error returning to lobby:",Z)}},se=()=>_?.players.filter(Q=>!Q.isEliminated)||[],pe=()=>_?.players[_.turnIndex],ze=()=>pe()?.id===r.uid,We=Q=>Q.filter(re=>!re.isEliminated).length<=1,N=async Q=>{let Z=(Q.turnIndex+1)%Q.players.length,re=0;for(;Q.players[Z].isEliminated&&re<10;)Z=(Z+1)%Q.players.length,re++;re>=10&&(Z=Q.players.findIndex(ve=>!ve.isEliminated)),await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{turnIndex:Z,turnState:"IDLE",currentAction:null,players:Q.players,loseReason:null})},K=async(Q,Z=null)=>{if(!ze())return;const re=pe(),ve=wl[Q];if(re.coins<ve.cost)return;if(re.coins>=10&&Q!=="KILL")return alert("Must use Kill!");const he={type:Q,actorId:r.uid,targetId:Z,status:"PENDING",votes:[],actionPending:!1};if(Q==="EARN"){const Ee=[..._.players];Ee[_.turnIndex].coins+=1,await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{players:Ee,logs:un({text:`${re.name} takes Income (+1 coin).`,type:"neutral"})}),await N({..._,players:Ee});return}if(Q==="KILL"){const Ee=[..._.players];Ee[_.turnIndex].coins-=7;const W=_.players.find(le=>le.id===Z).name;await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{players:Ee,turnState:"LOSE_CARD",currentAction:he,loserId:Z,loseReason:"kill",logs:un({text:`${re.name} killed ${W} (-7 coins).`,type:"danger"})});return}if(Q==="STAB"){const Ee=[..._.players];Ee[_.turnIndex].coins-=3,await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{players:Ee,turnState:"ACTION_PENDING",currentAction:he});return}await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{turnState:"ACTION_PENDING",currentAction:he})},ae=async()=>{if(_.turnState!=="ACTION_PENDING"||!_.currentAction||_.currentAction.votes.includes(r.uid))return;const Q=[..._.currentAction.votes,r.uid],Z=se().length;Q.length>=Z-1?await ue():await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{"currentAction.votes":Q})},ue=async()=>{if(_.turnState!=="ACTION_PENDING")return;wl[_.currentAction.type];const Q=_.players.find(he=>he.id===_.currentAction.actorId),Z=[..._.players];let re="";const ve=Z.findIndex(he=>he.id===Q.id);if(_.currentAction.type==="EXPORT")Z[ve].coins+=2,re=`${Q.name} completes Export and gains 2 coins.`;else if(_.currentAction.type==="TAX")Z[ve].coins+=3,re=`${Q.name} collects Hero Bonus and gains 3 coins.`;else if(_.currentAction.type==="STEAL"){const he=Z.findIndex(le=>le.id===_.currentAction.targetId),Ee=Z[he].name,W=Math.min(Z[he].coins,2);Z[he].coins-=W,Z[ve].coins+=W,re=`${Q.name} steals ${W} coins from ${Ee}.`}else if(_.currentAction.type==="STAB"){const he=_.players.find(Ee=>Ee.id===_.currentAction.targetId).name;await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{players:Z,turnState:"LOSE_CARD",loserId:_.currentAction.targetId,loseReason:"stab",logs:un({text:`${Q.name} Assassinated ${he}!`,type:"danger"})});return}else if(_.currentAction.type==="EXCHANGE"){const he=[..._.deck];he.length<2&&he.push(...Sl);const Ee=[he.pop(),he.pop()];await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{turnState:"EXCHANGE_SELECT",deck:he,tempCards:Ee,logs:un({text:`${Q.name} examines the deck (Exchange).`,type:"neutral"})});return}await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{players:Z,logs:un({text:re,type:"success"})}),await N({..._,players:Z})},be=async(Q,Z)=>{const re=_.players.find(Ee=>Ee.id===Q).name,ve=_.players.find(Ee=>Ee.id===_.currentAction.actorId).name,he=wl[_.currentAction.type].name;await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{turnState:"BLOCK_PENDING",currentAction:{..._.currentAction,blockerId:Q,blockClaim:Z,votes:[]},logs:un({text:`${re} blocks ${ve}'s ${he} claiming ${Z}!`,type:"warning"})})},De=async()=>{if(_.turnState!=="BLOCK_PENDING"||_.currentAction.votes.includes(r.uid))return;const Q=[..._.currentAction.votes,r.uid],Z=se().length;Q.length>=Z-1?(await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{logs:un({text:"Block Accepted. Action Failed (Coins lost).",type:"info"})}),await N({..._})):await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{"currentAction.votes":Q})},Ue=async Q=>{const Z=_.turnState==="BLOCK_PENDING",re=Z?_.currentAction.blockerId:_.currentAction.actorId,ve=Z?_.currentAction.blockClaim:wl[_.currentAction.type].claim,he=_.players.find(W=>W.id===Q).name,Ee=_.players.find(W=>W.id===re).name;await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{turnState:"CHALLENGE_RESOLVE",challengerId:Q,accusedId:re,challengedCard:ve,logs:un({text:`${he} challenges ${Ee}'s claim of ${ve}!`,type:"danger"})})},Lt=async()=>{const Q=[..._.players],Z=Q.find(Le=>Le.id===r.uid),re=Q.findIndex(Le=>Le.id===r.uid),ve=Z.cards.map((Le,Ve)=>({...Le,index:Ve})).filter(Le=>!Le.flipped),he=_.players.find(Le=>Le.id===_.currentAction.actorId);let Ee="";if(_.currentAction.targetId){const Le=_.players.find(Ve=>Ve.id===_.currentAction.targetId);Ee=Le?Le.name:"Target"}let W=[],le=!1,Ye="IDLE",At=null,Ut=null;if(_.currentAction.blockerId===r.uid){W.push({text:`Blocker ${Z.name} admits to lying! Block removed.`,type:"danger"});const Le=_.currentAction,Ve=Q.findIndex(Pt=>Pt.id===Le.actorId);if(Le.type==="STEAL"){const Pt=Q.findIndex(rn=>rn.id===Le.targetId),hn=Math.min(Q[Pt].coins,2);Q[Pt].coins-=hn,Q[Ve].coins+=hn,W.push({text:`Block Failed: ${he.name} steals ${hn} from ${Ee}.`,type:"success"})}else Le.type==="EXPORT"?(Q[Ve].coins+=2,W.push({text:`Block Failed: ${he.name} gains 2 coins (Export).`,type:"success"})):Le.type==="TAX"?(Q[Ve].coins+=3,W.push({text:`Block Failed: ${he.name} gains 3 coins (Hero Bonus).`,type:"success"})):Le.type==="STAB"?(le=!0,W.push({text:`Block Failed: ${he.name}'s Assassination proceeds!`,type:"danger"})):Le.type==="EXCHANGE"&&(le=!0,W.push({text:`Block Failed: ${he.name} proceeds with Exchange.`,type:"info"}))}else W.push({text:`Actor ${Z.name} admits to lying! Action cancelled.`,type:"danger"});ve.length===1?(Q[re].cards[ve[0].index].flipped=!0,Q[re].isEliminated=!0,W.push({text:`${Z.name} is ELIMINATED!`,type:"danger"})):(Ye="LOSE_CARD",At=r.uid,Ut="challenge");const Xe=We(Q);let _t={players:Q,logs:un(...W),"currentAction.actionPending":le};if(Xe?_t.status="finished":Ye==="LOSE_CARD"&&(_t.turnState="LOSE_CARD",_t.loserId=At,Ut&&(_t.loseReason=Ut)),await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),_t),!Xe&&Ye!=="LOSE_CARD"){if(le){if(_.currentAction.type==="STAB"){const Le=_.currentAction,Ve=Q.find(Pt=>Pt.id===Le.targetId);if(Ve&&!Ve.isEliminated){await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{turnState:"LOSE_CARD",loserId:Le.targetId,loseReason:"stab","currentAction.actionPending":!1,logs:un({text:"Assassination continues... Target must lose a life.",type:"danger"})});return}else{await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{logs:un({text:"Target eliminated. Assassination complete.",type:"neutral"})}),await N({..._,players:Q});return}}else if(_.currentAction.type==="EXCHANGE"){const Le=[..._.deck],Ve=[Le.pop(),Le.pop()];await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{turnState:"EXCHANGE_SELECT",deck:Le,tempCards:Ve,"currentAction.actionPending":!1});return}}await N({..._,players:Q})}},bt=async Q=>{const Z=_.players.find(ft=>ft.id===r.uid),re=Z.cards[Q],ve=_.challengedCard,he=re.type===ve,Ee=_.players.find(ft=>ft.id===_.currentAction.actorId),W=_.players.find(ft=>ft.id===_.challengerId);_.currentAction.targetId&&_.players.find(ft=>ft.id===_.currentAction.targetId).name;let le=[..._.players],Ye=[..._.deck],At=[],Ut="IDLE",Ct=null,Xe=null,_t=!1;const Le=_.currentAction.blockerId&&_.currentAction.blockerId===_.accusedId;if(he){At.push({text:`Challenge Failed: ${Z.name} shows ${ve}! ${W.name} loses a life.`,type:"success"}),Ye.push(re.type),Ye=Lc(Ye);const ft=le.findIndex(ie=>ie.id===r.uid);le[ft].cards[Q]={type:Ye.pop(),flipped:!1},Ut="LOSE_CARD",Ct=_.challengerId,Xe="challenge"}else At.push({text:`Challenge Won: ${Z.name} caught lying! Choose a card to lose.`,type:"danger"}),Ut="LOSE_CARD",Ct=r.uid,Xe="challenge";const Ve=_.currentAction,Pt=le.findIndex(ft=>ft.id===Ve.actorId);if(Le)if(he)At.push({text:`Block Upheld. ${Ee.name}'s action blocked.`,type:"warning"});else{if(Ve.type==="TAX"&&(le[Pt].coins+=3,At.push({text:"Block Invalid: Hero Bonus succeeds (+3).",type:"success"})),Ve.type==="EXPORT"&&(le[Pt].coins+=2,At.push({text:"Block Invalid: Export succeeds (+2).",type:"success"})),Ve.type==="STEAL"){const ft=le.findIndex(we=>we.id===Ve.targetId),ie=Math.min(le[ft].coins,2);le[ft].coins-=ie,le[Pt].coins+=ie,At.push({text:`Block Invalid: Steal succeeds (+${ie}).`,type:"success"})}Ve.type==="STAB"&&(_t=!0,At.push({text:"Block Invalid: Stab proceeds! (Double Kill pending)",type:"danger"})),Ve.type==="EXCHANGE"&&(_t=!0)}else if(he){if(Ve.type==="TAX"&&(le[Pt].coins+=3),Ve.type==="EXPORT"&&(le[Pt].coins+=2),Ve.type==="STEAL"){const ft=le.findIndex(we=>we.id===Ve.targetId),ie=Math.min(le[ft].coins,2);le[ft].coins-=ie,le[Pt].coins+=ie}Ve.type==="STAB"&&(_t=!0),Ve.type==="EXCHANGE"&&(_t=!0),_t||At.push({text:"Action Upheld: Success.",type:"success"})}else At.push({text:"Action Failed: Bluff called.",type:"warning"});const hn=We(le);let rn={players:le,deck:Ye,logs:un(...At),"currentAction.actionPending":_t};if(hn?rn.status="finished":Ut==="LOSE_CARD"&&(rn.turnState="LOSE_CARD",rn.loserId=Ct,Xe&&(rn.loseReason=Xe)),await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),rn),!(hn||Ut==="LOSE_CARD"))if(_t&&_.currentAction.type==="EXCHANGE"){const ft=[...Ye],ie=[ft.pop(),ft.pop()];await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{turnState:"EXCHANGE_SELECT",deck:ft,tempCards:ie,"currentAction.actionPending":!1})}else await N({..._,players:le})},Zi=async Q=>{if(_.loserId!==r.uid)return;const Z=[..._.players],re=Z.findIndex(le=>le.id===r.uid);if(Z[re].cards[Q].flipped)return;Z[re].cards[Q].flipped=!0;const ve=Z[re].cards.every(le=>le.flipped);ve&&(Z[re].isEliminated=!0);const he=[{text:`${Z[re].name} lost a life (${_.loseReason}).`,type:"danger"}];ve&&he.push({text:`${Z[re].name} is ELIMINATED!`,type:"danger"});const Ee=We(Z);let W={players:Z,logs:un(...he)};if(Ee){const le=Z.filter(Ye=>!Ye.isEliminated);W.status="finished",W.logs=un({text:`Game Over! ${le[0]?.name} Wins!`,type:"success"}),await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),W);return}if(_.currentAction?.actionPending){if(_.currentAction.type==="EXCHANGE"){await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),W);const le=[..._.deck],Ye=[le.pop(),le.pop()];await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{turnState:"EXCHANGE_SELECT",deck:le,tempCards:Ye,"currentAction.actionPending":!1});return}if(_.currentAction.type==="STAB"){const le=_.currentAction.targetId,Ye=Z.find(At=>At.id===le);if(Ye&&!Ye.isEliminated){W.logs=un(...he,{text:"Challenge penalty paid. Assassination continues... (Lose 2nd Life)",type:"danger"}),W.turnState="LOSE_CARD",W.loserId=le,W.loseReason="stab",W["currentAction.actionPending"]=!1,await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),W);return}else he.push({text:"Target eliminated. Assassination complete.",type:"neutral"}),W.logs=un(...he)}}await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),W),await N({..._,players:Z})},Is=async()=>{const Q=_.players.find(Xe=>Xe.id===r.uid),Z=Q.cards.filter(Xe=>!Xe.flipped).length;if(ee.length!==Z){alert(`You must select exactly ${Z} cards.`);return}const re=[..._.players],ve=re.findIndex(Xe=>Xe.id===r.uid),Ee=[...Q.cards.filter(Xe=>!Xe.flipped).map(Xe=>Xe.type),..._.tempCards],W=ee.map(Xe=>Ee[Xe]),le=Ee.filter((Xe,_t)=>!ee.includes(_t)),Ye=Q.cards.filter(Xe=>Xe.flipped),Ut=[...W.map(Xe=>({type:Xe,flipped:!1})),...Ye],Ct=[..._.deck,...le];re[ve].cards=Ut,await ot(Ze(Je,"artifacts",et,"public","data","rooms",g),{players:re,deck:Lc(Ct),turnState:"IDLE",tempCards:null,currentAction:null}),await N({..._,players:re}),ye([])},Ji=({type:Q,flipped:Z,onClick:re,selectable:ve,selected:he,size:Ee="md"})=>{const W=WT[Q];if(!W&&!Z)return null;let le="ring-purple-400";he&&(le="ring-emerald-400 ring-offset-emerald-900");const Ye=`rounded-lg shadow-md border-2 transition-all duration-200 relative ${ve||he?`cursor-pointer hover:scale-105 ring-2 ring-offset-2 ${le}`:""}`,At=Ee==="sm"?"w-14 h-20 text-[10px]":"w-24 h-36 text-sm";return Z?A.jsx("div",{className:`${Ye} ${At} bg-gray-800 border-gray-700 flex items-center justify-center opacity-60`,children:A.jsx(_v,{className:"text-gray-500"})}):A.jsxs("div",{onClick:re,className:`${Ye} ${At} ${W.color} border-white/20 flex flex-col items-center justify-between p-2 text-white shadow-lg`,children:[A.jsx("div",{className:"font-bold uppercase tracking-wider truncate w-full text-center",children:W.name}),A.jsx(W.icon,{size:Ee==="sm"?16:32}),Ee!=="sm"&&A.jsx("div",{className:"text-[10px] leading-tight text-center opacity-90",children:W.desc}),he&&A.jsx("div",{className:"absolute -top-2 -right-2 bg-emerald-500 text-white rounded-full p-1 shadow-lg",children:A.jsx(kc,{size:12})})]})};if(!r)return A.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center text-white font-serif",children:A.jsx("div",{className:"animate-pulse",children:"Loading Archive..."})});if(i==="menu")return A.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[A.jsx(Jd,{}),Ce&&A.jsx(Ev,{onClose:()=>_e(!1)}),A.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[A.jsx(YT,{size:64,className:"text-purple-500 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(168,85,247,0.5)]"}),A.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-purple-300 to-purple-600 font-serif tracking-widest drop-shadow-md",children:"CONSPIRACY"}),A.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"The Silent Betrayal"})]}),A.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-purple-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[M&&A.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:M}),A.jsx("input",{className:"w-full bg-black/50 border border-gray-600 p-3 rounded mb-4 text-white placeholder-gray-500 focus:border-purple-500 outline-none transition-colors",placeholder:"Agent Codename",value:l,onChange:Q=>c(Q.target.value)}),A.jsxs("button",{onClick:V,disabled:te,className:"w-full bg-gradient-to-r from-purple-700 to-purple-600 hover:from-purple-600 hover:to-purple-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-purple-500/30 shadow-[0_0_15px_rgba(147,51,234,0.2)] transition-all",children:[A.jsx(Ll,{size:20})," Establish Back Room"]}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[A.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-gray-600 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-purple-500 outline-none",placeholder:"ROOM CODE",value:d,onChange:Q=>y(Q.target.value.toUpperCase())}),A.jsx("button",{onClick:L,disabled:te,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-3 rounded font-bold transition-colors",children:"Infiltrate"})]}),A.jsxs("button",{onClick:()=>_e(!0),className:"w-full text-sm text-gray-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[A.jsx(wm,{size:16})," How to play"]})]})]});if(i==="lobby"&&_){const Q=_.hostId===r.uid,Z=_.startingCards||2;return A.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative",children:[A.jsx(Jd,{}),A.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-900/90 backdrop-blur p-8 rounded-2xl border border-purple-900/50 shadow-2xl",children:[A.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[A.jsxs("h2",{className:"text-2xl font-serif text-purple-400",children:["Back Room:"," ",A.jsx("span",{className:"text-white font-mono",children:_.id})]}),A.jsx("button",{onClick:()=>tt(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded text-red-300",title:"Leave Room",children:A.jsx(yv,{size:16})})]}),Q&&A.jsxs("div",{className:"bg-black/30 rounded-lg p-3 mb-6 border border-gray-700",children:[A.jsx("h3",{className:"text-purple-300 font-bold mb-2 uppercase text-xs tracking-wider",children:"Protocol Settings"}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{className:"text-gray-400 text-sm",children:"Lives per Agent:"}),A.jsx("div",{className:"flex gap-2",children:[2,3].map(re=>A.jsx("button",{onClick:()=>O(re),className:`px-3 py-1 rounded text-xs font-bold transition-all ${Z===re?"bg-purple-600 text-white shadow-lg":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:re},re))})]})]}),A.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-8 border border-gray-800",children:[A.jsxs("h3",{className:"text-gray-500 text-xs uppercase tracking-wider mb-4 flex justify-between",children:[A.jsxs("span",{children:["Operatives (",_.players.length,"/",_.maxPlayers,")"]}),A.jsxs("span",{className:"text-purple-400 font-bold",children:["Mode: ",Z," Lives"]})]}),A.jsxs("div",{className:"space-y-2",children:[_.players.map(re=>A.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded border border-gray-700/50",children:[A.jsxs("span",{className:`font-bold flex items-center gap-2 ${re.id===r.uid?"text-purple-400":"text-gray-300"}`,children:[A.jsx($d,{size:14,className:re.id===r.uid?"text-purple-400":"text-gray-500"}),re.name,re.id===_.hostId&&A.jsx(Ll,{size:14,className:"text-yellow-500"})]}),A.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[A.jsx(kc,{size:12})," Ready"]})]},re.id)),_.players.length<2&&A.jsx("div",{className:"text-center text-gray-500 italic text-sm py-2",children:"Waiting for more agents..."})]})]}),Q?A.jsx("button",{onClick:Tt,disabled:_.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all flex items-center justify-center gap-2 ${_.players.length>=2?"bg-green-700 hover:bg-green-600 text-white shadow-green-900/20":"bg-gray-800 cursor-not-allowed text-gray-500"}`,children:_.players.length<2?"Awaiting Agents...":"Commence Operation"}):A.jsx("div",{className:"text-center text-purple-400/60 animate-pulse font-serif italic",children:"Waiting for Host command..."})]}),A.jsx(bv,{}),st&&A.jsx(Tv,{onConfirm:R,onCancel:()=>tt(!1),isHost:_?.hostId===r?.uid})]})}if(i==="game"&&_){const Q=_.players.find(ie=>ie.id===r.uid);if(!Q)return null;const Z=ze(),re=_.currentAction?wl[_.currentAction.type].name:"",ve=_.turnState==="ACTION_PENDING"?_.currentAction.votes.length:0,he=se().length-1,Ee=_.currentAction?.votes.includes(r.uid),W=_.currentAction,le=W&&(W.type==="STEAL"||W.type==="STAB"),Ye=le&&W.votes.includes(W.targetId),At=le&&W.targetId===r.uid;let Ut=!1;_.turnState==="ACTION_PENDING"&&W.actorId!==r.uid&&!Q.isEliminated&&(le?Ye?At||(Ut=!0):At&&(Ut=!0):Ut=!0);const Ct=_.turnState==="BLOCK_PENDING"&&_.currentAction.blockerId!==r.uid&&!Q.isEliminated,Xe=_.players.filter(ie=>!ie.isEliminated);let _t=!1;W&&(W.type==="EXPORT"||(W.type==="STEAL"||W.type==="STAB")&&W.targetId===r.uid)&&(_t=!0);const Le=_.turnState==="EXCHANGE_SELECT"&&Q.id===pe().id;let Ve=null,Pt=null;if(W){const ie=_.players.find(dt=>dt.id===W.targetId),we=_.players.find(dt=>dt.id===W.actorId);ie&&(Ve=ie.name),we&&(Pt=we.name)}let hn="",rn="";if(_.turnState==="LOSE_CARD"){const ie=_.players.find(dt=>dt.id===_.loserId),we=ie?ie.name:"Player";_.loseReason==="challenge"?(hn="Challenge Lost",rn=`${we} is discarding a card...`):W&&W.type==="KILL"?(hn=`${Pt} performs`,rn=`Kill on ${Ve}`):W&&W.type==="STAB"?(hn=`${Pt} performs`,rn=`Stab on ${Ve}`):(hn=`${we} lost a life`,rn="Choosing card to lose...")}const ft=Le||_.status==="finished";return A.jsxs("div",{className:"min-h-screen bg-gray-950 text-white overflow-hidden flex flex-col relative font-sans",children:[A.jsx(Jd,{}),Ce&&A.jsx(Ev,{onClose:()=>_e(!1)}),A.jsxs("div",{className:"h-14 bg-gray-900/80 border-b border-gray-800 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"font-serif text-purple-500 font-bold tracking-wider hidden md:block",children:"CONSPIRACY"}),A.jsx("span",{className:"text-xs text-gray-500 bg-black/50 px-2 py-1 rounded",children:"Back Room"})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>_e(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400",title:"Rules",children:A.jsx(wm,{size:18})}),A.jsx("button",{onClick:()=>x(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400",title:"History",children:A.jsx(gv,{size:18})}),A.jsx("button",{onClick:()=>tt(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",title:"Leave Game",children:A.jsx(yv,{size:18})})]})]}),A.jsxs("div",{className:"flex-1 relative p-4 flex flex-col z-10 max-w-5xl mx-auto w-full",children:[A.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-4 z-10",children:_.players.map((ie,we)=>ie.id===r.uid?null:A.jsxs("div",{className:`bg-gray-900/90 p-3 rounded-lg border transition-all ${_.turnIndex===we?"border-purple-500 shadow-[0_0_10px_rgba(168,85,247,0.3)]":"border-gray-700"} ${ie.isEliminated?"opacity-50 grayscale":""} relative`,children:[_.turnIndex===we&&!ie.isEliminated&&A.jsx("div",{className:"absolute -top-2.5 left-1/2 -translate-x-1/2 bg-purple-600 text-white text-[9px] font-bold px-2 py-0.5 rounded-full shadow-lg animate-pulse border border-purple-400 tracking-wider z-30",children:"PLAYING"}),ie.isEliminated&&A.jsx("div",{className:"absolute inset-x-0 top-1/2 -translate-y-1/2 bg-red-900/90 text-red-200 text-xs font-black uppercase tracking-widest text-center py-1 z-20 border-y border-red-500 rotate-12",children:"Terminated"}),A.jsxs("div",{className:"flex justify-between items-start mb-2",children:[A.jsxs("span",{className:`font-bold text-sm truncate w-20 flex items-center gap-1 ${_.turnIndex===we?"text-purple-300":"text-gray-300"}`,children:[A.jsx($d,{size:12})," ",ie.name]}),A.jsxs("div",{className:"flex items-center space-x-1 bg-black/40 px-2 py-0.5 rounded-full border border-gray-700",children:[A.jsx(Kc,{size:10,className:"text-yellow-400"}),A.jsx("span",{className:"text-xs font-mono",children:ie.coins})]})]}),A.jsx("div",{className:"flex justify-center space-x-1 mb-2",children:ie.cards.map((dt,vt)=>A.jsx("div",{className:`w-6 h-9 rounded border ${dt.flipped?"bg-black border-gray-800":"bg-gradient-to-br from-purple-900 to-indigo-900 border-purple-700"} flex items-center justify-center`,children:dt.flipped?A.jsx(_v,{size:10,className:"text-gray-700"}):A.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500/50"})},vt))}),Z&&_.turnState==="IDLE"&&!ie.isEliminated&&A.jsxs("div",{className:"grid grid-cols-3 gap-1 mt-1",children:[A.jsx("button",{disabled:ie.coins<2,onClick:()=>K("STEAL",ie.id),className:"disabled:opacity-20 bg-blue-900/40 border border-blue-800 hover:bg-blue-800 text-blue-300 py-1 rounded text-[9px] font-bold",children:"Steal"}),A.jsx("button",{disabled:Q.coins<3,onClick:()=>K("STAB",ie.id),className:"disabled:opacity-20 bg-red-900/40 border border-red-800 hover:bg-red-800 text-red-300 py-1 rounded text-[9px] font-bold",children:"Stab(3)"}),A.jsx("button",{disabled:Q.coins<7,onClick:()=>K("KILL",ie.id),className:"disabled:opacity-20 bg-gray-800 border border-red-900/50 hover:bg-red-950 text-red-500 py-1 rounded text-[9px] font-bold",children:"Kill(7)"})]}),_.currentAction?.votes.includes(ie.id)&&(_.turnState==="ACTION_PENDING"||_.turnState==="BLOCK_PENDING")&&A.jsx("div",{className:"absolute -top-2 -right-2 z-20 text-green-400 bg-gray-900 rounded-full p-0.5 border border-green-500 shadow-lg",children:A.jsx(kc,{size:14,className:"fill-current"})})]},ie.id))}),A.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center my-2 space-y-4 z-10 relative",children:[_.status==="finished"&&A.jsxs("div",{className:"absolute inset-0 bg-black/90 flex flex-col items-center justify-center z-50 backdrop-blur-sm rounded-xl border border-purple-500/30",children:[A.jsx(gx,{size:64,className:"text-yellow-400 mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(250,204,21,0.5)]"}),A.jsx("div",{className:"text-4xl font-bold text-white mb-2 font-serif",children:"Victory"}),A.jsxs("div",{className:"text-xl text-purple-400 mb-8",children:["Agent ",Xe[0]?.name," Survives"]}),_.hostId===r.uid?A.jsxs("button",{onClick:kt,className:"bg-green-700 hover:bg-green-600 px-8 py-4 rounded-xl font-bold text-lg flex items-center gap-2 shadow-lg",children:[A.jsx(ux,{})," New Operation"]}):A.jsx("div",{className:"text-gray-500 animate-pulse text-sm",children:"Awaiting Host Reset..."})]}),(_.turnState==="ACTION_PENDING"||_.turnState==="LOSE_CARD")&&A.jsxs("div",{className:"w-full max-w-md bg-gray-900/95 p-6 rounded-xl border border-purple-500 shadow-[0_0_30px_rgba(168,85,247,0.15)] relative animate-in zoom-in-95",children:[A.jsx("div",{className:"text-center mb-6",children:_.turnState==="LOSE_CARD"?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:hn}),A.jsx("div",{className:`text-2xl font-black ${_.loseReason==="challenge"?"text-red-500":"text-purple-400"}`,children:rn})]}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Current Operation"}),A.jsxs("div",{className:"text-xl font-bold text-white mb-2",children:[A.jsx("span",{className:"text-purple-400",children:pe().name})," ","uses"," ",A.jsx("span",{className:"text-yellow-400 uppercase",children:re}),Ve&&A.jsxs("span",{className:"text-gray-400",children:[" ","on ",Ve]})]}),A.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-4 mb-1",children:[A.jsx("span",{children:"Consensus"}),A.jsxs("span",{children:[ve,"/",he]})]}),A.jsx("div",{className:"w-full bg-gray-800 h-1.5 rounded-full overflow-hidden",children:A.jsx("div",{className:"bg-purple-500 h-full transition-all duration-300",style:{width:`${ve/he*100}%`}})})]})}),_.turnState==="ACTION_PENDING"&&Ut&&!Q.isEliminated&&A.jsx("div",{className:"grid grid-cols-2 gap-3",children:Ee?A.jsx("div",{className:"col-span-2 bg-gray-800 py-3 text-center text-gray-400 text-sm rounded font-mono animate-pulse",children:"... Awaiting Network ..."}):A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:ae,className:"col-span-2 bg-gray-700 hover:bg-gray-600 border border-gray-600 py-3 rounded font-bold text-white transition-all",children:"Allow / Pass"}),W.type!=="EXPORT"&&A.jsxs("button",{onClick:()=>Ue(r.uid),className:"bg-red-900/80 hover:bg-red-800 border border-red-700 py-3 rounded text-xs font-bold flex items-center justify-center gap-1 text-red-200 transition-all",children:[A.jsx(KT,{size:14})," Challenge Bluff"]}),_t&&W.type==="EXPORT"&&A.jsx("button",{onClick:()=>be(r.uid,"HERO"),className:"bg-purple-700 hover:bg-purple-600 border border-purple-500 py-3 rounded text-xs font-bold",children:"Block (Hero)"}),_t&&W.type==="STEAL"&&A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>be(r.uid,"ROBBER"),className:"bg-blue-700 hover:bg-blue-600 border border-blue-500 py-3 rounded text-xs font-bold",children:"Block (Robber)"}),A.jsx("button",{onClick:()=>be(r.uid,"RIDDLER"),className:"bg-emerald-700 hover:bg-emerald-600 border border-emerald-500 py-3 rounded text-xs font-bold",children:"Block (Riddler)"})]}),_t&&W.type==="STAB"&&A.jsx("button",{onClick:()=>be(r.uid,"GENIE"),className:"bg-pink-700 hover:bg-pink-600 border border-pink-500 py-3 rounded text-xs font-bold",children:"Block (Genie)"})]})}),_.turnState==="ACTION_PENDING"&&!Ut&&A.jsx("div",{className:"text-center text-xs text-purple-400/60 animate-pulse font-mono mt-4",children:le&&!Ye?A.jsx("span",{children:"Target is deliberating..."}):A.jsx("span",{children:"Waiting for consensus..."})})]}),_.turnState==="BLOCK_PENDING"&&A.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl border border-purple-500 w-full max-w-md text-center shadow-2xl animate-in zoom-in-95",children:[A.jsxs("div",{className:"mb-4",children:[A.jsx("span",{className:"font-bold text-white",children:_.players.find(ie=>ie.id===_.currentAction.blockerId).name})," ","is blocking with"," ",A.jsx("span",{className:"font-black text-purple-400 text-lg block mt-1",children:_.currentAction.blockClaim})]}),Ct&&A.jsx("div",{className:"grid grid-cols-2 gap-3",children:_.currentAction.votes.includes(r.uid)?A.jsx("div",{className:"col-span-2 text-gray-500 text-xs italic",children:"Processing..."}):A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:De,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold",children:"Accept Block"}),A.jsx("button",{onClick:()=>Ue(r.uid),className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold shadow-red-900/20",children:"Challenge!"})]})})]}),_.turnState==="CHALLENGE_RESOLVE"&&A.jsxs("div",{className:"text-center w-full max-w-md animate-in fade-in slide-in-from-bottom-4",children:[A.jsx("div",{className:"text-red-400 font-bold text-xs uppercase tracking-widest mb-2 bg-red-950/50 p-2 rounded border border-red-900",children:"Interrogation in Progress"}),_.accusedId===r.uid?A.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl border border-red-500 shadow-[0_0_30px_rgba(239,68,68,0.2)]",children:[A.jsxs("div",{className:"text-lg mb-6 font-medium text-gray-300",children:["Prove you possess the: ",A.jsx("br",{}),A.jsx("span",{className:"text-3xl font-black text-yellow-400 uppercase tracking-wider block mt-2 drop-shadow-md",children:_.challengedCard})]}),A.jsx("div",{className:"flex justify-center gap-3 flex-wrap",children:Q.cards.map((ie,we)=>ie.flipped||ie.type!==_.challengedCard?null:A.jsxs("button",{onClick:()=>bt(we),className:"bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-lg font-bold shadow-lg border-b-4 border-green-800 active:border-b-0 active:translate-y-1 transition-all flex items-center gap-2",children:[A.jsx(kc,{size:20})," Reveal ",ie.type]},we))}),A.jsx("button",{onClick:Lt,className:`mt-8 text-sm uppercase tracking-wider font-bold transition-all p-2 rounded ${Q.cards.some(ie=>!ie.flipped&&ie.type===_.challengedCard)?"text-gray-600 hover:text-gray-400":"text-red-400 hover:text-white hover:bg-red-900 border border-transparent hover:border-red-500"}`,children:"I Admit Deception (Surrender)"})]}):A.jsxs("div",{className:"text-sm animate-pulse text-gray-400 bg-gray-900/80 p-6 rounded-xl border border-gray-700",children:["Awaiting confession from"," ",A.jsx("span",{className:"text-white font-bold",children:_.players.find(ie=>ie.id===_.accusedId)?.name}),"..."]})]}),Le&&A.jsx("div",{className:"fixed inset-0 bg-black/95 z-50 flex flex-col items-center justify-center p-4",children:A.jsxs("div",{className:"w-full max-w-2xl bg-gray-900 p-6 rounded-2xl border border-emerald-500/50 shadow-2xl max-h-[85vh] overflow-y-auto",children:[A.jsx("h3",{className:"text-2xl font-bold mb-2 text-emerald-400 font-serif sticky top-0 bg-gray-900/90 backdrop-blur pb-2 z-10",children:"The Riddler's Exchange"}),A.jsxs("p",{className:"text-gray-400 mb-6",children:["Select exactly"," ",A.jsx("span",{className:"text-white font-bold",children:Q.cards.filter(ie=>!ie.flipped).length})," ","cards to keep."]}),A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8",children:[...Q.cards.filter(ie=>!ie.flipped).map(ie=>ie.type),..._.tempCards].map((ie,we)=>A.jsx("div",{children:A.jsx(Ji,{type:ie,flipped:!1,selected:ee.includes(we),selectable:!0,onClick:()=>{const dt=[...ee];if(dt.includes(we)){const vt=dt.indexOf(we);dt.splice(vt,1),ye(dt)}else dt.length<Q.cards.filter(vt=>!vt.flipped).length&&ye([...dt,we])}})},we))}),A.jsx("button",{onClick:Is,className:"w-full bg-emerald-600 hover:bg-emerald-500 py-4 rounded-xl font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-emerald-900/20",disabled:ee.length!==Q.cards.filter(ie=>!ie.flipped).length,children:"Confirm Selection"})]})})]}),!Le&&_.status!=="finished"&&A.jsx("div",{className:"w-full max-w-md mx-auto mb-2 flex flex-col items-center space-y-1 pointer-events-none z-20 h-16 justify-end",children:_.logs?.slice(-2).reverse().map((ie,we)=>A.jsx("div",{className:"text-xs px-3 py-1.5 rounded bg-black/80 backdrop-blur-md border border-gray-800 text-gray-300 shadow-lg transition-opacity duration-500",style:{opacity:Math.max(.4,.9-we*.3)},children:ie.text},we))}),!ft&&(Q.isEliminated?A.jsx("div",{className:"bg-red-950/80 backdrop-blur-sm p-6 text-center border-t border-red-800 text-red-500 font-black tracking-widest z-30 relative shadow-[0_-10px_50px_rgba(220,38,38,0.3)]",children:"ELIMINATED"}):A.jsxs("div",{className:`mt-auto bg-gray-900/95 backdrop-blur-md p-4 rounded-t-2xl border-t border-purple-500/30 shadow-[0_-10px_40px_rgba(0,0,0,0.5)] relative z-30 transition-all ${_.turnState==="LOSE_CARD"&&_.loserId===r.uid?"ring-2 ring-red-500 shadow-red-900/20":""}`,children:[A.jsxs("div",{className:"grid grid-cols-3 items-center mb-4",children:[A.jsxs("div",{className:"flex items-center gap-2 justify-start",children:[A.jsx($d,{size:16,className:"text-purple-400"}),A.jsx("span",{className:"text-sm font-bold text-gray-300 truncate",children:Q.name})]}),A.jsx("div",{className:"flex justify-center",children:_.turnState==="LOSE_CARD"&&_.loserId===r.uid?A.jsx("div",{className:"text-red-400 font-black text-[10px] md:text-xs animate-bounce bg-red-900/20 px-2 py-1 rounded border border-red-500/50 whitespace-nowrap",children:" SACRIFICE"}):Z&&_.turnState==="IDLE"&&A.jsx("span",{className:"bg-green-600 text-white text-[10px] md:text-xs font-bold px-3 py-0.5 rounded-full shadow-lg animate-bounce border border-green-400 tracking-wider whitespace-nowrap",children:"YOUR TURN"})}),A.jsx("div",{className:"flex justify-end",children:A.jsxs("div",{className:"bg-yellow-600/20 border border-yellow-600/50 text-yellow-500 px-3 py-1 rounded-full font-bold text-sm flex items-center shadow-sm",children:[A.jsx(Kc,{size:14,className:"mr-1.5"})," ",Q.coins]})})]}),A.jsx("div",{className:"flex justify-center space-x-3 mb-6 perspective-1000",children:Q.cards.map((ie,we)=>A.jsx("div",{className:`transition-transform hover:-translate-y-2 duration-300 ${_.turnState==="LOSE_CARD"&&_.loserId===r.uid&&!ie.flipped?"animate-pulse cursor-pointer":""}`,children:A.jsx(Ji,{type:ie.type,flipped:ie.flipped,selectable:_.turnState==="LOSE_CARD"&&_.loserId===r.uid&&!ie.flipped,onClick:()=>{_.turnState==="LOSE_CARD"&&_.loserId===r.uid&&!ie.flipped&&Zi(we)}})},we))}),Z&&_.turnState==="IDLE"&&A.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[A.jsxs("button",{onClick:()=>K("EARN"),className:"bg-gray-800 hover:bg-gray-700 border border-gray-700 p-2 rounded-lg flex flex-col items-center transition-colors group",children:[A.jsx(Kc,{size:20,className:"text-gray-400 group-hover:text-yellow-200 mb-1"}),A.jsx("span",{className:"text-[10px] text-gray-400 group-hover:text-white font-bold",children:"Income (+1)"})]}),A.jsxs("button",{onClick:()=>K("EXPORT"),className:"bg-gray-800 hover:bg-gray-700 border border-gray-700 p-2 rounded-lg flex flex-col items-center transition-colors group",children:[A.jsx(WI,{size:20,className:"text-blue-400/70 group-hover:text-blue-300 mb-1"}),A.jsx("span",{className:"text-[10px] text-gray-400 group-hover:text-white font-bold",children:"Export (+2)"})]}),A.jsxs("button",{onClick:()=>K("TAX"),className:"bg-purple-900/30 hover:bg-purple-900/50 border border-purple-800/50 p-2 rounded-lg flex flex-col items-center transition-colors group",children:[A.jsx(Ll,{size:20,className:"text-purple-400 mb-1"}),A.jsx("span",{className:"text-[10px] text-purple-300 font-bold",children:"Hero (+3)"})]}),A.jsxs("button",{onClick:()=>K("EXCHANGE"),className:"bg-emerald-900/30 hover:bg-emerald-900/50 border border-emerald-800/50 p-2 rounded-lg flex flex-col items-center transition-colors group",children:[A.jsx(XT,{size:20,className:"text-emerald-400 mb-1"}),A.jsx("span",{className:"text-[10px] text-emerald-300 font-bold",children:"Exchange"})]})]})]}))]}),A.jsx("div",{className:"bg-gray-950 pb-1 pt-1 z-50",children:A.jsx(bv,{})}),st&&A.jsx(Tv,{onConfirm:R,onCancel:()=>tt(!1),isHost:_?.hostId===r?.uid,onReturnToLobby:G}),Qe&&A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-gray-900 rounded-2xl w-full max-w-md h-[70vh] flex flex-col border border-gray-700 shadow-2xl",children:[A.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center bg-gray-950 rounded-t-2xl",children:[A.jsxs("h3",{className:"font-bold text-white flex items-center gap-2 font-serif",children:[A.jsx(gv,{size:18,className:"text-purple-500"})," Mission Log"]}),A.jsx("button",{onClick:()=>x(!1),children:A.jsx(ZT,{className:"text-gray-400 hover:text-white"})})]}),A.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[..._.logs||[]].reverse().map((ie,we)=>A.jsx("div",{className:`text-xs p-3 rounded border-l-2 ${ie.type==="danger"?"bg-red-900/10 border-red-500 text-red-300":ie.type==="success"?"bg-green-900/10 border-green-500 text-green-300":ie.type==="warning"?"bg-yellow-900/10 border-yellow-500 text-yellow-300":"bg-gray-800 border-gray-600 text-gray-400"}`,children:ie.text},we))})]})})]})}return null}j1.createRoot(document.getElementById("root")).render(A.jsx(Nt.StrictMode,{children:A.jsx(Tx,{})}));
