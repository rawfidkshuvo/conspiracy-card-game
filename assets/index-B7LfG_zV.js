(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Nd={exports:{}},bl={};var N_;function vb(){if(N_)return bl;N_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return bl.Fragment=t,bl.jsx=i,bl.jsxs=i,bl}var x_;function Eb(){return x_||(x_=1,Nd.exports=vb()),Nd.exports}var M=Eb(),xd={exports:{}},It={};var D_;function Tb(){if(D_)return It;D_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function Q(D){return D===null||typeof D!="object"?null:(D=V&&D[V]||D["@@iterator"],typeof D=="function"?D:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,w={};function Et(D,X,nt){this.props=D,this.context=X,this.refs=w,this.updater=nt||Z}Et.prototype.isReactComponent={},Et.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},Et.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Rt(){}Rt.prototype=Et.prototype;function yt(D,X,nt){this.props=D,this.context=X,this.refs=w,this.updater=nt||Z}var ee=yt.prototype=new Rt;ee.constructor=yt,st(ee,Et.prototype),ee.isPureReactComponent=!0;var se=Array.isArray;function kt(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(D,X,nt){var at=nt.ref;return{$$typeof:r,type:D,key:X,ref:at!==void 0?at:null,props:nt}}function k(D,X){return I(D.type,X,D.props)}function x(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function U(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(nt){return X[nt]})}var R=/\/+/g;function ye(D,X){return typeof D=="object"&&D!==null&&D.key!=null?U(""+D.key):X.toString(36)}function Ve(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(kt,kt):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function G(D,X,nt,at,_t){var xt=typeof D;(xt==="undefined"||xt==="boolean")&&(D=null);var Bt=!1;if(D===null)Bt=!0;else switch(xt){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(D.$$typeof){case r:case t:Bt=!0;break;case b:return Bt=D._init,G(Bt(D._payload),X,nt,at,_t)}}if(Bt)return _t=_t(D),Bt=at===""?"."+ye(D,0):at,se(_t)?(nt="",Bt!=null&&(nt=Bt.replace(R,"$&/")+"/"),G(_t,X,nt,"",function(yi){return yi})):_t!=null&&(x(_t)&&(_t=k(_t,nt+(_t.key==null||D&&D.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+Bt)),X.push(_t)),1;Bt=0;var Se=at===""?".":at+":";if(se(D))for(var _e=0;_e<D.length;_e++)at=D[_e],xt=Se+ye(at,_e),Bt+=G(at,X,nt,xt,_t);else if(_e=Q(D),typeof _e=="function")for(D=_e.call(D),_e=0;!(at=D.next()).done;)at=at.value,xt=Se+ye(at,_e++),Bt+=G(at,X,nt,xt,_t);else if(xt==="object"){if(typeof D.then=="function")return G(Ve(D),X,nt,at,_t);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function rt(D,X,nt){if(D==null)return D;var at=[],_t=0;return G(D,at,"","",function(xt){return X.call(nt,xt,_t++)}),at}function pt(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(nt){(D._status===0||D._status===-1)&&(D._status=1,D._result=nt)},function(nt){(D._status===0||D._status===-1)&&(D._status=2,D._result=nt)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var Yt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Jt={map:rt,forEach:function(D,X,nt){rt(D,function(){X.apply(this,arguments)},nt)},count:function(D){var X=0;return rt(D,function(){X++}),X},toArray:function(D){return rt(D,function(X){return X})||[]},only:function(D){if(!x(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return It.Activity=S,It.Children=Jt,It.Component=Et,It.Fragment=i,It.Profiler=l,It.PureComponent=yt,It.StrictMode=a,It.Suspense=v,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,It.__COMPILER_RUNTIME={__proto__:null,c:function(D){return N.H.useMemoCache(D)}},It.cache=function(D){return function(){return D.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(D,X,nt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var at=st({},D.props),_t=D.key;if(X!=null)for(xt in X.key!==void 0&&(_t=""+X.key),X)!A.call(X,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&X.ref===void 0||(at[xt]=X[xt]);var xt=arguments.length-2;if(xt===1)at.children=nt;else if(1<xt){for(var Bt=Array(xt),Se=0;Se<xt;Se++)Bt[Se]=arguments[Se+2];at.children=Bt}return I(D.type,_t,at)},It.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},It.createElement=function(D,X,nt){var at,_t={},xt=null;if(X!=null)for(at in X.key!==void 0&&(xt=""+X.key),X)A.call(X,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(_t[at]=X[at]);var Bt=arguments.length-2;if(Bt===1)_t.children=nt;else if(1<Bt){for(var Se=Array(Bt),_e=0;_e<Bt;_e++)Se[_e]=arguments[_e+2];_t.children=Se}if(D&&D.defaultProps)for(at in Bt=D.defaultProps,Bt)_t[at]===void 0&&(_t[at]=Bt[at]);return I(D,xt,_t)},It.createRef=function(){return{current:null}},It.forwardRef=function(D){return{$$typeof:g,render:D}},It.isValidElement=x,It.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:pt}},It.memo=function(D,X){return{$$typeof:y,type:D,compare:X===void 0?null:X}},It.startTransition=function(D){var X=N.T,nt={};N.T=nt;try{var at=D(),_t=N.S;_t!==null&&_t(nt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(kt,Yt)}catch(xt){Yt(xt)}finally{X!==null&&nt.types!==null&&(X.types=nt.types),N.T=X}},It.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},It.use=function(D){return N.H.use(D)},It.useActionState=function(D,X,nt){return N.H.useActionState(D,X,nt)},It.useCallback=function(D,X){return N.H.useCallback(D,X)},It.useContext=function(D){return N.H.useContext(D)},It.useDebugValue=function(){},It.useDeferredValue=function(D,X){return N.H.useDeferredValue(D,X)},It.useEffect=function(D,X){return N.H.useEffect(D,X)},It.useEffectEvent=function(D){return N.H.useEffectEvent(D)},It.useId=function(){return N.H.useId()},It.useImperativeHandle=function(D,X,nt){return N.H.useImperativeHandle(D,X,nt)},It.useInsertionEffect=function(D,X){return N.H.useInsertionEffect(D,X)},It.useLayoutEffect=function(D,X){return N.H.useLayoutEffect(D,X)},It.useMemo=function(D,X){return N.H.useMemo(D,X)},It.useOptimistic=function(D,X){return N.H.useOptimistic(D,X)},It.useReducer=function(D,X,nt){return N.H.useReducer(D,X,nt)},It.useRef=function(D){return N.H.useRef(D)},It.useState=function(D){return N.H.useState(D)},It.useSyncExternalStore=function(D,X,nt){return N.H.useSyncExternalStore(D,X,nt)},It.useTransition=function(){return N.H.useTransition()},It.version="19.2.0",It}var O_;function Tm(){return O_||(O_=1,xd.exports=Tb()),xd.exports}var Ie=Tm(),Dd={exports:{}},Al={},Od={exports:{}},Md={};var M_;function bb(){return M_||(M_=1,(function(r){function t(G,rt){var pt=G.length;G.push(rt);t:for(;0<pt;){var Yt=pt-1>>>1,Jt=G[Yt];if(0<l(Jt,rt))G[Yt]=rt,G[pt]=Jt,pt=Yt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var rt=G[0],pt=G.pop();if(pt!==rt){G[0]=pt;t:for(var Yt=0,Jt=G.length,D=Jt>>>1;Yt<D;){var X=2*(Yt+1)-1,nt=G[X],at=X+1,_t=G[at];if(0>l(nt,pt))at<Jt&&0>l(_t,nt)?(G[Yt]=_t,G[at]=pt,Yt=at):(G[Yt]=nt,G[X]=pt,Yt=X);else if(at<Jt&&0>l(_t,pt))G[Yt]=_t,G[at]=pt,Yt=at;else break t}}return rt}function l(G,rt){var pt=G.sortIndex-rt.sortIndex;return pt!==0?pt:G.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],y=[],b=1,S=null,V=3,Q=!1,Z=!1,st=!1,w=!1,Et=typeof setTimeout=="function"?setTimeout:null,Rt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;function ee(G){for(var rt=i(y);rt!==null;){if(rt.callback===null)a(y);else if(rt.startTime<=G)a(y),rt.sortIndex=rt.expirationTime,t(v,rt);else break;rt=i(y)}}function se(G){if(st=!1,ee(G),!Z)if(i(v)!==null)Z=!0,kt||(kt=!0,U());else{var rt=i(y);rt!==null&&Ve(se,rt.startTime-G)}}var kt=!1,N=-1,A=5,I=-1;function k(){return w?!0:!(r.unstable_now()-I<A)}function x(){if(w=!1,kt){var G=r.unstable_now();I=G;var rt=!0;try{t:{Z=!1,st&&(st=!1,Rt(N),N=-1),Q=!0;var pt=V;try{e:{for(ee(G),S=i(v);S!==null&&!(S.expirationTime>G&&k());){var Yt=S.callback;if(typeof Yt=="function"){S.callback=null,V=S.priorityLevel;var Jt=Yt(S.expirationTime<=G);if(G=r.unstable_now(),typeof Jt=="function"){S.callback=Jt,ee(G),rt=!0;break e}S===i(v)&&a(v),ee(G)}else a(v);S=i(v)}if(S!==null)rt=!0;else{var D=i(y);D!==null&&Ve(se,D.startTime-G),rt=!1}}break t}finally{S=null,V=pt,Q=!1}rt=void 0}}finally{rt?U():kt=!1}}}var U;if(typeof yt=="function")U=function(){yt(x)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ye=R.port2;R.port1.onmessage=x,U=function(){ye.postMessage(null)}}else U=function(){Et(x,0)};function Ve(G,rt){N=Et(function(){G(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(G){switch(V){case 1:case 2:case 3:var rt=3;break;default:rt=V}var pt=V;V=rt;try{return G()}finally{V=pt}},r.unstable_requestPaint=function(){w=!0},r.unstable_runWithPriority=function(G,rt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var pt=V;V=G;try{return rt()}finally{V=pt}},r.unstable_scheduleCallback=function(G,rt,pt){var Yt=r.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Yt+pt:Yt):pt=Yt,G){case 1:var Jt=-1;break;case 2:Jt=250;break;case 5:Jt=1073741823;break;case 4:Jt=1e4;break;default:Jt=5e3}return Jt=pt+Jt,G={id:b++,callback:rt,priorityLevel:G,startTime:pt,expirationTime:Jt,sortIndex:-1},pt>Yt?(G.sortIndex=pt,t(y,G),i(v)===null&&G===i(y)&&(st?(Rt(N),N=-1):st=!0,Ve(se,pt-Yt))):(G.sortIndex=Jt,t(v,G),Z||Q||(Z=!0,kt||(kt=!0,U()))),G},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(G){var rt=V;return function(){var pt=V;V=rt;try{return G.apply(this,arguments)}finally{V=pt}}}})(Md)),Md}var V_;function Ab(){return V_||(V_=1,Od.exports=bb()),Od.exports}var Vd={exports:{}},pn={};var k_;function Sb(){if(k_)return pn;k_=1;var r=Tm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(v,y,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:v,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,pn.createPortal=function(v,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,b)},pn.flushSync=function(v){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=b,a.d.f()}},pn.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},pn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},pn.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var b=y.as,S=g(b,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:Q}):b==="script"&&a.d.X(v,{crossOrigin:S,integrity:V,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},pn.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},pn.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,S=g(b,y.crossOrigin);a.d.L(v,b,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},pn.preloadModule=function(v,y){if(typeof v=="string")if(y){var b=g(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},pn.requestFormReset=function(v){a.d.r(v)},pn.unstable_batchedUpdates=function(v,y){return v(y)},pn.useFormState=function(v,y,b){return d.H.useFormState(v,y,b)},pn.useFormStatus=function(){return d.H.useHostTransitionStatus()},pn.version="19.2.0",pn}var L_;function wb(){if(L_)return Vd.exports;L_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Vd.exports=Sb(),Vd.exports}var U_;function Rb(){if(U_)return Al;U_=1;var r=Ab(),t=Tm(),i=wb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===o)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),Et=Symbol.for("react.profiler"),Rt=Symbol.for("react.consumer"),yt=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ye(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case Et:return"Profiler";case w:return"StrictMode";case se:return"Suspense";case kt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case yt:return e.displayName||"Context";case Rt:return(e._context.displayName||"Context")+".Consumer";case ee:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:ye(e.type)||"Memo";case A:n=e._payload,e=e._init;try{return ye(e(n))}catch{}}return null}var Ve=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Yt=[],Jt=-1;function D(e){return{current:e}}function X(e){0>Jt||(e.current=Yt[Jt],Yt[Jt]=null,Jt--)}function nt(e,n){Jt++,Yt[Jt]=e.current,e.current=n}var at=D(null),_t=D(null),xt=D(null),Bt=D(null);function Se(e,n){switch(nt(xt,n),nt(_t,e),nt(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Jy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Jy(n),e=Wy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(at),nt(at,e)}function _e(){X(at),X(_t),X(xt)}function yi(e){e.memoizedState!==null&&nt(Bt,e);var n=at.current,s=Wy(n,e.type);n!==s&&(nt(_t,e),nt(at,s))}function ws(e){_t.current===e&&(X(at),X(_t)),Bt.current===e&&(X(Bt),_l._currentValue=pt)}var Rs,Cs;function Gn(e){if(Rs===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Rs=n&&n[1]||"",Cs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rs+e+Cs}var wr=!1;function K(e,n){if(!e||wr)return"";wr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var B=q}Reflect.construct(e,[],$)}else{try{$.call()}catch(q){B=q}e.call($.prototype)}}else{try{throw Error()}catch(q){B=q}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var C=p.split(`
`),j=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var F=`
`+C[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{wr=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Gn(s):""}function it(e,n){switch(e.tag){case 26:case 27:case 5:return Gn(e.type);case 16:return Gn("Lazy");case 13:return e.child!==n&&n!==null?Gn("Suspense Fallback"):Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 15:return K(e.type,!1);case 11:return K(e.type.render,!1);case 1:return K(e.type,!0);case 31:return Gn("Activity");default:return""}}function et(e){try{var n="",s=null;do n+=it(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ht=Object.prototype.hasOwnProperty,ft=r.unstable_scheduleCallback,ot=r.unstable_cancelCallback,Lt=r.unstable_shouldYield,Ht=r.unstable_requestPaint,St=r.unstable_now,an=r.unstable_getCurrentPriorityLevel,we=r.unstable_ImmediatePriority,$t=r.unstable_UserBlockingPriority,Dt=r.unstable_NormalPriority,ke=r.unstable_LowPriority,ve=r.unstable_IdlePriority,Pt=r.log,ut=r.unstable_setDisableYieldValue,At=null,Ut=null;function De(e){if(typeof Pt=="function"&&ut(e),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(At,e)}catch{}}var Le=Math.clz32?Math.clz32:iu,nu=Math.log,ua=Math.LN2;function iu(e){return e>>>=0,e===0?32:31-(nu(e)/ua|0)|0}var _i=256,Rr=262144,Be=4194304;function vi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ei(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=vi(o):(p&=E,p!==0?h=vi(p):s||(s=E&~e,s!==0&&(h=vi(s))))):(E=o&~f,E!==0?h=vi(E):p!==0?h=vi(p):s||(s=o&~e,s!==0&&(h=vi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function ri(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Oh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var e=Be;return Be<<=1,(Be&62914560)===0&&(Be=4194304),e}function Ti(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Cr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Mh(e,n,s,o,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,j=e.hiddenUpdates;for(s=p&~s;0<s;){var F=31-Le(s),$=1<<F;E[F]=0,C[F]=-1;var B=j[F];if(B!==null)for(j[F]=null,F=0;F<B.length;F++){var q=B[F];q!==null&&(q.lane&=-536870913)}s&=~$}o!==0&&Ir(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function Ir(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Le(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function Ao(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-Le(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function So(e,n){var s=n&-n;return s=(s&42)!==0?1:Nr(s),(s&(e.suspendedLanes|n))!==0?0:s}function Nr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $i(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:b_(e.type))}function ai(e,n){var s=rt.p;try{return rt.p=e,n()}finally{rt.p=s}}var oi=Math.random().toString(36).slice(2),He="__reactFiber$"+oi,en="__reactProps$"+oi,bi="__reactContainer$"+oi,ca="__reactEvents$"+oi,Vh="__reactListeners$"+oi,au="__reactHandles$"+oi,ou="__reactResources$"+oi,Ai="__reactMarker$"+oi;function ha(e){delete e[He],delete e[en],delete e[ca],delete e[Vh],delete e[au]}function Si(e){var n=e[He];if(n)return n;for(var s=e.parentNode;s;){if(n=s[bi]||s[He]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=a_(e);e!==null;){if(s=e[He])return s;e=a_(e)}return n}e=s,s=e.parentNode}return null}function Fn(e){if(e=e[He]||e[bi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function wi(e){var n=e[ou];return n||(n=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function qe(e){e[Ai]=!0}var wo=new Set,Ro={};function Ri(e,n){Ci(e,n),Ci(e+"Capture",n)}function Ci(e,n){for(Ro[e]=n,e=0;e<n.length;e++)wo.add(n[e])}var Co=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},No={};function lu(e){return ht.call(No,e)?!0:ht.call(Io,e)?!1:Co.test(e)?No[e]=!0:(Io[e]=!0,!1)}function fa(e,n,s){if(lu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Vn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ge(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Is(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ae(e){if(!e._valueTracker){var n=Is(e)?"checked":"value";e._valueTracker=xo(e,n,""+e[n])}}function xr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=Is(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Dr=/[\n"\\]/g;function Sn(e){return e.replace(Dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function da(e,n,s,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+nn(n)):e.value!==""+nn(n)&&(e.value=""+nn(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Do(e,p,nn(n)):s!=null?Do(e,p,nn(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+nn(E):e.removeAttribute("name")}function uu(e,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ae(e);return}s=s!=null?""+nn(s):"",n=n!=null?""+nn(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),ae(e)}function Do(e,n,s){n==="number"&&Ii(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ns(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+nn(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,s){if(n!=null&&(n=""+nn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+nn(s):""}function xs(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Ve(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=nn(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),ae(e)}function wn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||hu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Mo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Oo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Oo(e,f,n[f])}function ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(e){return Ds.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function li(){}var Vo=null;function Qn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Os=null,Ni=null;function Or(e){var n=Fn(e);if(n&&(e=n.stateNode)){var s=e[en]||null;t:switch(e=n.stateNode,n.type){case"input":if(da(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Sn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[en]||null;if(!h)throw Error(a(90));da(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&xr(o)}break t;case"textarea":cu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Ns(e,!!s.multiple,n,!1)}}}var ga=!1;function Ms(e,n,s){if(ga)return e(n,s);ga=!0;try{var o=e(n);return o}finally{if(ga=!1,(Os!==null||Ni!==null)&&(rc(),Os&&(n=Os,e=Ni,Ni=Os=null,Or(n),e)))for(n=0;n<e.length;n++)Or(e[n])}}function ui(e,n){var s=e.stateNode;if(s===null)return null;var o=s[en]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(Kn)try{var ue={};Object.defineProperty(ue,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",ue,ue),window.removeEventListener("test",ue,ue)}catch{Mr=!1}var xi=null,ko=null,Vr=null;function Lo(){if(Vr)return Vr;var e,n=ko,s=n.length,o,h="value"in xi?xi.value:xi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return Vr=h.slice(e,1<o?1-o:void 0)}function kr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Zi(){return!0}function ci(){return!1}function on(e){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Zi:ci,this.isPropagationStopped=ci,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),n}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=on(Ji),Vs=S({},Ji,{view:0,detail:0}),Uo=on(Vs),ks,ya,Oi,_a=S({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oi&&(Oi&&e.type==="mousemove"?(ks=e.screenX-Oi.screenX,ya=e.screenY-Oi.screenY):ya=ks=0,Oi=e),ks)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),Po=on(_a),Lr=S({},_a,{dataTransfer:0}),du=on(Lr),mu=S({},Vs,{relatedTarget:0}),Ur=on(mu),zo=S({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=on(zo),va=S({},Ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=on(va),yu=S({},Ji,{data:0}),Mi=on(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Eu[e])?!!n[e]:!1}function Ls(){return Tu}var Tn=S({},Vs,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=kr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(e){return e.type==="keypress"?kr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=on(Tn),Au=S({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=on(Au),u=S({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls}),m=on(u),_=S({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=on(_),P=S({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=on(P),tt=S({},Ji,{newState:0,oldState:0}),Ot=on(tt),Ue=[9,13,27,32],ne=Kn&&"CompositionEvent"in window,Re=null;Kn&&"documentMode"in document&&(Re=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!Re,Vi=Kn&&(!ne||Re&&8<Re&&11>=Re),hi=" ",fi=!1;function Pr(e,n){switch(e){case"keyup":return Ue.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function qT(e,n){switch(e){case"compositionend":return Ea(n);case"keypress":return n.which!==32?null:(fi=!0,hi);case"textInput":return e=n.data,e===hi&&fi?null:e;default:return null}}function GT(e,n){if(Ta)return e==="compositionend"||!ne&&Pr(e,n)?(e=Lo(),Vr=ko=xi=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Vi&&n.locale!=="ko"?null:n.data;default:return null}}var FT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function up(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!FT[e.type]:n==="textarea"}function cp(e,n,s,o){Os?Ni?Ni.push(o):Ni=[o]:Os=o,n=fc(n,"onChange"),0<n.length&&(s=new Di("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var jo=null,Bo=null;function QT(e){Qy(e,0)}function Su(e){var n=Mn(e);if(xr(n))return e}function hp(e,n){if(e==="change")return n}var fp=!1;if(Kn){var kh;if(Kn){var Lh="oninput"in document;if(!Lh){var dp=document.createElement("div");dp.setAttribute("oninput","return;"),Lh=typeof dp.oninput=="function"}kh=Lh}else kh=!1;fp=kh&&(!document.documentMode||9<document.documentMode)}function mp(){jo&&(jo.detachEvent("onpropertychange",pp),Bo=jo=null)}function pp(e){if(e.propertyName==="value"&&Su(Bo)){var n=[];cp(n,Bo,e,Qn(e)),Ms(QT,n)}}function KT(e,n,s){e==="focusin"?(mp(),jo=n,Bo=s,jo.attachEvent("onpropertychange",pp)):e==="focusout"&&mp()}function YT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(Bo)}function XT(e,n){if(e==="click")return Su(n)}function $T(e,n){if(e==="input"||e==="change")return Su(n)}function ZT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var kn=typeof Object.is=="function"?Object.is:ZT;function Ho(e,n){if(kn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ht.call(n,h)||!kn(e[h],n[h]))return!1}return!0}function gp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yp(e,n){var s=gp(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=gp(s)}}function _p(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_p(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function vp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ii(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ii(e.document)}return n}function Uh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var JT=Kn&&"documentMode"in document&&11>=document.documentMode,ba=null,Ph=null,qo=null,zh=!1;function Ep(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zh||ba==null||ba!==Ii(o)||(o=ba,"selectionStart"in o&&Uh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qo&&Ho(qo,o)||(qo=o,o=fc(Ph,"onSelect"),0<o.length&&(n=new Di("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ba)))}function zr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Aa={animationend:zr("Animation","AnimationEnd"),animationiteration:zr("Animation","AnimationIteration"),animationstart:zr("Animation","AnimationStart"),transitionrun:zr("Transition","TransitionRun"),transitionstart:zr("Transition","TransitionStart"),transitioncancel:zr("Transition","TransitionCancel"),transitionend:zr("Transition","TransitionEnd")},jh={},Tp={};Kn&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function jr(e){if(jh[e])return jh[e];if(!Aa[e])return e;var n=Aa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Tp)return jh[e]=n[s];return e}var bp=jr("animationend"),Ap=jr("animationiteration"),Sp=jr("animationstart"),WT=jr("transitionrun"),t1=jr("transitionstart"),e1=jr("transitioncancel"),wp=jr("transitionend"),Rp=new Map,Bh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Bh.push("scrollEnd");function di(e,n){Rp.set(e,n),Ri(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Xn=[],Sa=0,Hh=0;function Ru(){for(var e=Sa,n=Hh=Sa=0;n<e;){var s=Xn[n];Xn[n++]=null;var o=Xn[n];Xn[n++]=null;var h=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Cp(s,h,f)}}function Cu(e,n,s,o){Xn[Sa++]=e,Xn[Sa++]=n,Xn[Sa++]=s,Xn[Sa++]=o,Hh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function qh(e,n,s,o){return Cu(e,n,s,o),Iu(e)}function Br(e,n){return Cu(e,null,null,n),Iu(e)}function Cp(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Le(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Iu(e){if(50<hl)throw hl=0,Wf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var wa={};function n1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ln(e,n,s,o){return new n1(e,n,s,o)}function Gh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ts(e,n){var s=e.alternate;return s===null?(s=Ln(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ip(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nu(e,n,s,o,h,f){var p=0;if(o=e,typeof e=="function")Gh(e)&&(p=1);else if(typeof e=="string")p=ob(e,s,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Ln(31,s,n,h),e.elementType=I,e.lanes=f,e;case st:return Hr(s.children,h,f,n);case w:p=8,h|=24;break;case Et:return e=Ln(12,s,n,h|2),e.elementType=Et,e.lanes=f,e;case se:return e=Ln(13,s,n,h),e.elementType=se,e.lanes=f,e;case kt:return e=Ln(19,s,n,h),e.elementType=kt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yt:p=10;break t;case Rt:p=9;break t;case ee:p=11;break t;case N:p=14;break t;case A:p=16,o=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=Ln(p,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Hr(e,n,s,o){return e=Ln(7,e,o,n),e.lanes=s,e}function Fh(e,n,s){return e=Ln(6,e,null,n),e.lanes=s,e}function Np(e){var n=Ln(18,null,null,0);return n.stateNode=e,n}function Qh(e,n,s){return n=Ln(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var xp=new WeakMap;function $n(e,n){if(typeof e=="object"&&e!==null){var s=xp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:et(n)},xp.set(e,n),n)}return{value:e,source:n,stack:et(n)}}var Ra=[],Ca=0,xu=null,Go=0,Zn=[],Jn=0,Us=null,ki=1,Li="";function es(e,n){Ra[Ca++]=Go,Ra[Ca++]=xu,xu=e,Go=n}function Dp(e,n,s){Zn[Jn++]=ki,Zn[Jn++]=Li,Zn[Jn++]=Us,Us=e;var o=ki;e=Li;var h=32-Le(o)-1;o&=~(1<<h),s+=1;var f=32-Le(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,ki=1<<32-Le(n)+h|s<<h|o,Li=f+e}else ki=1<<f|s<<h|o,Li=e}function Kh(e){e.return!==null&&(es(e,1),Dp(e,1,0))}function Yh(e){for(;e===xu;)xu=Ra[--Ca],Ra[Ca]=null,Go=Ra[--Ca],Ra[Ca]=null;for(;e===Us;)Us=Zn[--Jn],Zn[Jn]=null,Li=Zn[--Jn],Zn[Jn]=null,ki=Zn[--Jn],Zn[Jn]=null}function Op(e,n){Zn[Jn++]=ki,Zn[Jn++]=Li,Zn[Jn++]=Us,ki=n.id,Li=n.overflow,Us=e}var ln=null,Te=null,Xt=!1,Ps=null,Wn=!1,Xh=Error(a(519));function zs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo($n(n,e)),Xh}function Mp(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[He]=e,n[en]=o,s){case"dialog":jt("cancel",n),jt("close",n);break;case"iframe":case"object":case"embed":jt("load",n);break;case"video":case"audio":for(s=0;s<dl.length;s++)jt(dl[s],n);break;case"source":jt("error",n);break;case"img":case"image":case"link":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"input":jt("invalid",n),uu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":jt("invalid",n);break;case"textarea":jt("invalid",n),xs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||$y(n.textContent,s)?(o.popover!=null&&(jt("beforetoggle",n),jt("toggle",n)),o.onScroll!=null&&jt("scroll",n),o.onScrollEnd!=null&&jt("scrollend",n),o.onClick!=null&&(n.onclick=li),n=!0):n=!1,n||zs(e,!0)}function Vp(e){for(ln=e.return;ln;)switch(ln.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:ln=ln.return}}function Ia(e){if(e!==ln)return!1;if(!Xt)return Vp(e),Xt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||md(e.type,e.memoizedProps)),s=!s),s&&Te&&zs(e),Vp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Te=r_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Te=r_(e)}else n===27?(n=Te,Ws(e.type)?(e=vd,vd=null,Te=e):Te=n):Te=ln?ei(e.stateNode.nextSibling):null;return!0}function qr(){Te=ln=null,Xt=!1}function $h(){var e=Ps;return e!==null&&(Nn===null?Nn=e:Nn.push.apply(Nn,e),Ps=null),e}function Fo(e){Ps===null?Ps=[e]:Ps.push(e)}var Zh=D(null),Gr=null,ns=null;function js(e,n,s){nt(Zh,n._currentValue),n._currentValue=s}function is(e){e._currentValue=Zh.current,X(Zh)}function Jh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Wh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Jh(f.return,s,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Jh(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Na(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;kn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Bt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}h=h.return}e!==null&&Wh(n,e,s,o),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!kn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fr(e){Gr=e,ns=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function un(e){return kp(Gr,e)}function Ou(e,n){return Gr===null&&Fr(e),kp(e,n)}function kp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ns===null){if(e===null)throw Error(a(308));ns=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ns=ns.next=n;return s}var i1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},s1=r.unstable_scheduleCallback,r1=r.unstable_NormalPriority,Fe={$$typeof:yt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new i1,data:new Map,refCount:0}}function Qo(e){e.refCount--,e.refCount===0&&s1(r1,function(){e.controller.abort()})}var Ko=null,ef=0,xa=0,Da=null;function a1(e,n){if(Ko===null){var s=Ko=[];ef=0,xa=rd(),Da={status:"pending",value:void 0,then:function(o){s.push(o)}}}return ef++,n.then(Lp,Lp),n}function Lp(){if(--ef===0&&Ko!==null){Da!==null&&(Da.status="fulfilled");var e=Ko;Ko=null,xa=0,Da=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function o1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Up=G.S;G.S=function(e,n){Ey=St(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&a1(e,n),Up!==null&&Up(e,n)};var Qr=D(null);function nf(){var e=Qr.current;return e!==null?e:ge.pooledCache}function Mu(e,n){n===null?nt(Qr,Qr.current):nt(Qr,n.pool)}function Pp(){var e=nf();return e===null?null:{parent:Fe._currentValue,pool:e}}var Oa=Error(a(460)),sf=Error(a(474)),Vu=Error(a(542)),ku={then:function(){}};function zp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(li,li),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hp(e),e;default:if(typeof n.status=="string")n.then(li,li);else{if(e=ge,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hp(e),e}throw Yr=n,Oa}}function Kr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Yr=s,Oa):s}}var Yr=null;function Bp(){if(Yr===null)throw Error(a(459));var e=Yr;return Yr=null,e}function Hp(e){if(e===Oa||e===Vu)throw Error(a(483))}var Ma=null,Yo=0;function Lu(e){var n=Yo;return Yo+=1,Ma===null&&(Ma=[]),jp(Ma,e,n)}function Xo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function qp(e){function n(L,O){if(e){var z=L.deletions;z===null?(L.deletions=[O],L.flags|=16):z.push(O)}}function s(L,O){if(!e)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function o(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=ts(L,O),L.index=0,L.sibling=null,L}function f(L,O,z){return L.index=z,e?(z=L.alternate,z!==null?(z=z.index,z<O?(L.flags|=67108866,O):z):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function p(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,O,z,Y){return O===null||O.tag!==6?(O=Fh(z,L.mode,Y),O.return=L,O):(O=h(O,z),O.return=L,O)}function C(L,O,z,Y){var gt=z.type;return gt===st?F(L,O,z.props.children,Y,z.key):O!==null&&(O.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===A&&Kr(gt)===O.type)?(O=h(O,z.props),Xo(O,z),O.return=L,O):(O=Nu(z.type,z.key,z.props,null,L.mode,Y),Xo(O,z),O.return=L,O)}function j(L,O,z,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=Qh(z,L.mode,Y),O.return=L,O):(O=h(O,z.children||[]),O.return=L,O)}function F(L,O,z,Y,gt){return O===null||O.tag!==7?(O=Hr(z,L.mode,Y,gt),O.return=L,O):(O=h(O,z),O.return=L,O)}function $(L,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Fh(""+O,L.mode,z),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Q:return z=Nu(O.type,O.key,O.props,null,L.mode,z),Xo(z,O),z.return=L,z;case Z:return O=Qh(O,L.mode,z),O.return=L,O;case A:return O=Kr(O),$(L,O,z)}if(Ve(O)||U(O))return O=Hr(O,L.mode,z,null),O.return=L,O;if(typeof O.then=="function")return $(L,Lu(O),z);if(O.$$typeof===yt)return $(L,Ou(L,O),z);Uu(L,O)}return null}function B(L,O,z,Y){var gt=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return gt!==null?null:E(L,O,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:return z.key===gt?C(L,O,z,Y):null;case Z:return z.key===gt?j(L,O,z,Y):null;case A:return z=Kr(z),B(L,O,z,Y)}if(Ve(z)||U(z))return gt!==null?null:F(L,O,z,Y,null);if(typeof z.then=="function")return B(L,O,Lu(z),Y);if(z.$$typeof===yt)return B(L,O,Ou(L,z),Y);Uu(L,z)}return null}function q(L,O,z,Y,gt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return L=L.get(z)||null,E(O,L,""+Y,gt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case Q:return L=L.get(Y.key===null?z:Y.key)||null,C(O,L,Y,gt);case Z:return L=L.get(Y.key===null?z:Y.key)||null,j(O,L,Y,gt);case A:return Y=Kr(Y),q(L,O,z,Y,gt)}if(Ve(Y)||U(Y))return L=L.get(z)||null,F(O,L,Y,gt,null);if(typeof Y.then=="function")return q(L,O,z,Lu(Y),gt);if(Y.$$typeof===yt)return q(L,O,z,Ou(O,Y),gt);Uu(O,Y)}return null}function ct(L,O,z,Y){for(var gt=null,Wt=null,dt=O,Vt=O=0,Gt=null;dt!==null&&Vt<z.length;Vt++){dt.index>Vt?(Gt=dt,dt=null):Gt=dt.sibling;var te=B(L,dt,z[Vt],Y);if(te===null){dt===null&&(dt=Gt);break}e&&dt&&te.alternate===null&&n(L,dt),O=f(te,O,Vt),Wt===null?gt=te:Wt.sibling=te,Wt=te,dt=Gt}if(Vt===z.length)return s(L,dt),Xt&&es(L,Vt),gt;if(dt===null){for(;Vt<z.length;Vt++)dt=$(L,z[Vt],Y),dt!==null&&(O=f(dt,O,Vt),Wt===null?gt=dt:Wt.sibling=dt,Wt=dt);return Xt&&es(L,Vt),gt}for(dt=o(dt);Vt<z.length;Vt++)Gt=q(dt,L,Vt,z[Vt],Y),Gt!==null&&(e&&Gt.alternate!==null&&dt.delete(Gt.key===null?Vt:Gt.key),O=f(Gt,O,Vt),Wt===null?gt=Gt:Wt.sibling=Gt,Wt=Gt);return e&&dt.forEach(function(sr){return n(L,sr)}),Xt&&es(L,Vt),gt}function Tt(L,O,z,Y){if(z==null)throw Error(a(151));for(var gt=null,Wt=null,dt=O,Vt=O=0,Gt=null,te=z.next();dt!==null&&!te.done;Vt++,te=z.next()){dt.index>Vt?(Gt=dt,dt=null):Gt=dt.sibling;var sr=B(L,dt,te.value,Y);if(sr===null){dt===null&&(dt=Gt);break}e&&dt&&sr.alternate===null&&n(L,dt),O=f(sr,O,Vt),Wt===null?gt=sr:Wt.sibling=sr,Wt=sr,dt=Gt}if(te.done)return s(L,dt),Xt&&es(L,Vt),gt;if(dt===null){for(;!te.done;Vt++,te=z.next())te=$(L,te.value,Y),te!==null&&(O=f(te,O,Vt),Wt===null?gt=te:Wt.sibling=te,Wt=te);return Xt&&es(L,Vt),gt}for(dt=o(dt);!te.done;Vt++,te=z.next())te=q(dt,L,Vt,te.value,Y),te!==null&&(e&&te.alternate!==null&&dt.delete(te.key===null?Vt:te.key),O=f(te,O,Vt),Wt===null?gt=te:Wt.sibling=te,Wt=te);return e&&dt.forEach(function(_b){return n(L,_b)}),Xt&&es(L,Vt),gt}function fe(L,O,z,Y){if(typeof z=="object"&&z!==null&&z.type===st&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Q:t:{for(var gt=z.key;O!==null;){if(O.key===gt){if(gt=z.type,gt===st){if(O.tag===7){s(L,O.sibling),Y=h(O,z.props.children),Y.return=L,L=Y;break t}}else if(O.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===A&&Kr(gt)===O.type){s(L,O.sibling),Y=h(O,z.props),Xo(Y,z),Y.return=L,L=Y;break t}s(L,O);break}else n(L,O);O=O.sibling}z.type===st?(Y=Hr(z.props.children,L.mode,Y,z.key),Y.return=L,L=Y):(Y=Nu(z.type,z.key,z.props,null,L.mode,Y),Xo(Y,z),Y.return=L,L=Y)}return p(L);case Z:t:{for(gt=z.key;O!==null;){if(O.key===gt)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){s(L,O.sibling),Y=h(O,z.children||[]),Y.return=L,L=Y;break t}else{s(L,O);break}else n(L,O);O=O.sibling}Y=Qh(z,L.mode,Y),Y.return=L,L=Y}return p(L);case A:return z=Kr(z),fe(L,O,z,Y)}if(Ve(z))return ct(L,O,z,Y);if(U(z)){if(gt=U(z),typeof gt!="function")throw Error(a(150));return z=gt.call(z),Tt(L,O,z,Y)}if(typeof z.then=="function")return fe(L,O,Lu(z),Y);if(z.$$typeof===yt)return fe(L,O,Ou(L,z),Y);Uu(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(s(L,O.sibling),Y=h(O,z),Y.return=L,L=Y):(s(L,O),Y=Fh(z,L.mode,Y),Y.return=L,L=Y),p(L)):s(L,O)}return function(L,O,z,Y){try{Yo=0;var gt=fe(L,O,z,Y);return Ma=null,gt}catch(dt){if(dt===Oa||dt===Vu)throw dt;var Wt=Ln(29,dt,null,L.mode);return Wt.lanes=Y,Wt.return=L,Wt}finally{}}}var Xr=qp(!0),Gp=qp(!1),Bs=!1;function rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(ie&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Iu(e),Cp(e,null,s),n}return Cu(e,o,n,s),Iu(e)}function $o(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Ao(e,s)}}function of(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var lf=!1;function Zo(){if(lf){var e=Da;if(e!==null)throw e}}function Jo(e,n,s,o){lf=!1;var h=e.updateQueue;Bs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,j=C.next;C.next=null,p===null?f=j:p.next=j,p=C;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=j:E.next=j,F.lastBaseUpdate=C))}if(f!==null){var $=h.baseState;p=0,F=j=C=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(qt&B)===B:(o&B)===B){B!==0&&B===xa&&(lf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=e,Tt=E;B=n;var fe=s;switch(Tt.tag){case 1:if(ct=Tt.payload,typeof ct=="function"){$=ct.call(fe,$,B);break t}$=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=Tt.payload,B=typeof ct=="function"?ct.call(fe,$,B):ct,B==null)break t;$=S({},$,B);break t;case 2:Bs=!0}}B=E.callback,B!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(j=F=q,C=$):F=F.next=q,p|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(C=$),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Ys|=p,e.lanes=p,e.memoizedState=$}}function Fp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Qp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Fp(s[e],n)}var Va=D(null),Pu=D(0);function Kp(e,n){e=fs,nt(Pu,e),nt(Va,n),fs=e|n.baseLanes}function uf(){nt(Pu,fs),nt(Va,Va.current)}function cf(){fs=Pu.current,X(Va),X(Pu)}var Un=D(null),ti=null;function Gs(e){var n=e.alternate;nt(Pe,Pe.current&1),nt(Un,e),ti===null&&(n===null||Va.current!==null||n.memoizedState!==null)&&(ti=e)}function hf(e){nt(Pe,Pe.current),nt(Un,e),ti===null&&(ti=e)}function Yp(e){e.tag===22?(nt(Pe,Pe.current),nt(Un,e),ti===null&&(ti=e)):Fs()}function Fs(){nt(Pe,Pe.current),nt(Un,Un.current)}function Pn(e){X(Un),ti===e&&(ti=null),X(Pe)}var Pe=D(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||yd(s)||_d(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ss=0,Mt=null,ce=null,Qe=null,ju=!1,ka=!1,$r=!1,Bu=0,Wo=0,La=null,l1=0;function Oe(){throw Error(a(321))}function ff(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!kn(e[s],n[s]))return!1;return!0}function df(e,n,s,o,h,f){return ss=f,Mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Dg:If,$r=!1,f=s(o,h),$r=!1,ka&&(f=$p(n,s,o,h)),Xp(e),f}function Xp(e){G.H=nl;var n=ce!==null&&ce.next!==null;if(ss=0,Qe=ce=Mt=null,ju=!1,Wo=0,La=null,n)throw Error(a(300));e===null||Ke||(e=e.dependencies,e!==null&&Du(e)&&(Ke=!0))}function $p(e,n,s,o){Mt=e;var h=0;do{if(ka&&(La=null),Wo=0,ka=!1,25<=h)throw Error(a(301));if(h+=1,Qe=ce=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Og,f=n(s,o)}while(ka);return f}function u1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?tl(n):n,e=e.useState()[0],(ce!==null?ce.memoizedState:null)!==e&&(Mt.flags|=1024),n}function mf(){var e=Bu!==0;return Bu=0,e}function pf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function gf(e){if(ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ju=!1}ss=0,Qe=ce=Mt=null,ka=!1,Wo=Bu=0,La=null}function bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Mt.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function ze(){if(ce===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=ce.next;var n=Qe===null?Mt.memoizedState:Qe.next;if(n!==null)Qe=n,ce=e;else{if(e===null)throw Mt.alternate===null?Error(a(467)):Error(a(310));ce=e,e={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},Qe===null?Mt.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(e){var n=Wo;return Wo+=1,La===null&&(La=[]),e=jp(La,e,n),n=Mt,(Qe===null?n.memoizedState:Qe.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Dg:If),e}function qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tl(e);if(e.$$typeof===yt)return un(e)}throw Error(a(438,String(e)))}function yf(e){var n=null,s=Mt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Mt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Hu(),Mt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=k;return n.index++,s}function rs(e,n){return typeof n=="function"?n(e):n}function Gu(e){var n=ze();return _f(n,ce,e)}function _f(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,C=null,j=n,F=!1;do{var $=j.lane&-536870913;if($!==j.lane?(qt&$)===$:(ss&$)===$){var B=j.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===xa&&(F=!0);else if((ss&B)===B){j=j.next,B===xa&&(F=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=$,p=f):C=C.next=$,Mt.lanes|=B,Ys|=B;$=j.action,$r&&s(f,$),f=j.hasEagerState?j.eagerState:s(f,$)}else B={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=B,p=f):C=C.next=B,Mt.lanes|=$,Ys|=$;j=j.next}while(j!==null&&j!==n);if(C===null?p=f:C.next=E,!kn(f,e.memoizedState)&&(Ke=!0,F&&(s=Da,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function vf(e){var n=ze(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);kn(f,n.memoizedState)||(Ke=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Zp(e,n,s){var o=Mt,h=ze(),f=Xt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!kn((ce||h).memoizedState,s);if(p&&(h.memoizedState=s,Ke=!0),h=h.queue,bf(tg.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Qe!==null&&Qe.memoizedState.tag&1){if(o.flags|=2048,Ua(9,{destroy:void 0},Wp.bind(null,o,h,s,n),null),ge===null)throw Error(a(349));f||(ss&127)!==0||Jp(o,n,s)}return s}function Jp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Mt.updateQueue,n===null?(n=Hu(),Mt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Wp(e,n,s,o){n.value=s,n.getSnapshot=o,eg(n)&&ng(e)}function tg(e,n,s){return s(function(){eg(n)&&ng(e)})}function eg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!kn(e,s)}catch{return!0}}function ng(e){var n=Br(e,2);n!==null&&xn(n,e,2)}function Ef(e){var n=bn();if(typeof e=="function"){var s=e;if(e=s(),$r){De(!0);try{s()}finally{De(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:e},n}function ig(e,n,s,o){return e.baseState=s,_f(e,ce,typeof o=="function"?o:rs)}function c1(e,n,s,o,h){if(Ku(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,sg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function sg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=s(h,o),C=G.S;C!==null&&C(p,E),rg(e,n,E)}catch(j){Tf(e,n,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(h,o),rg(e,n,f)}catch(j){Tf(e,n,j)}}function rg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){ag(e,n,o)},function(o){return Tf(e,n,o)}):ag(e,n,s)}function ag(e,n,s){n.status="fulfilled",n.value=s,og(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,sg(e,s)))}function Tf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,og(n),n=n.next;while(n!==o)}e.action=null}function og(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function lg(e,n){return n}function ug(e,n){if(Xt){var s=ge.formState;if(s!==null){t:{var o=Mt;if(Xt){if(Te){e:{for(var h=Te,f=Wn;h.nodeType!==8;){if(!f){h=null;break e}if(h=ei(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Te=ei(h.nextSibling),o=h.data==="F!";break t}}zs(o)}o=!1}o&&(n=s[0])}}return s=bn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lg,lastRenderedState:n},s.queue=o,s=Ig.bind(null,Mt,o),o.dispatch=s,o=Ef(!1),f=Cf.bind(null,Mt,!1,o.queue),o=bn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=c1.bind(null,Mt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function cg(e){var n=ze();return hg(n,ce,e)}function hg(e,n,s){if(n=_f(e,n,lg)[0],e=Gu(rs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=tl(n)}catch(p){throw p===Oa?Vu:p}else o=n;n=ze();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Mt.flags|=2048,Ua(9,{destroy:void 0},h1.bind(null,h,s),null)),[o,f,e]}function h1(e,n){e.action=n}function fg(e){var n=ze(),s=ce;if(s!==null)return hg(n,s,e);ze(),n=n.memoizedState,s=ze();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ua(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Mt.updateQueue,n===null&&(n=Hu(),Mt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function dg(){return ze().memoizedState}function Fu(e,n,s,o){var h=bn();Mt.flags|=e,h.memoizedState=Ua(1|n,{destroy:void 0},s,o===void 0?null:o)}function Qu(e,n,s,o){var h=ze();o=o===void 0?null:o;var f=h.memoizedState.inst;ce!==null&&o!==null&&ff(o,ce.memoizedState.deps)?h.memoizedState=Ua(n,f,s,o):(Mt.flags|=e,h.memoizedState=Ua(1|n,f,s,o))}function mg(e,n){Fu(8390656,8,e,n)}function bf(e,n){Qu(2048,8,e,n)}function f1(e){Mt.flags|=4;var n=Mt.updateQueue;if(n===null)n=Hu(),Mt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function pg(e){var n=ze().memoizedState;return f1({ref:n,nextImpl:e}),function(){if((ie&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function gg(e,n){return Qu(4,2,e,n)}function yg(e,n){return Qu(4,4,e,n)}function _g(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function vg(e,n,s){s=s!=null?s.concat([e]):null,Qu(4,4,_g.bind(null,n,e),s)}function Af(){}function Eg(e,n){var s=ze();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&ff(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Tg(e,n){var s=ze();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&ff(n,o[1]))return o[0];if(o=e(),$r){De(!0);try{e()}finally{De(!1)}}return s.memoizedState=[o,n],o}function Sf(e,n,s){return s===void 0||(ss&1073741824)!==0&&(qt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=by(),Mt.lanes|=e,Ys|=e,s)}function bg(e,n,s,o){return kn(s,n)?s:Va.current!==null?(e=Sf(e,s,o),kn(e,n)||(Ke=!0),e):(ss&42)===0||(ss&1073741824)!==0&&(qt&261930)===0?(Ke=!0,e.memoizedState=s):(e=by(),Mt.lanes|=e,Ys|=e,n)}function Ag(e,n,s,o,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,Cf(e,!1,n,s);try{var C=h(),j=G.S;if(j!==null&&j(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=o1(C,o);el(e,n,F,Bn(e))}else el(e,n,o,Bn(e))}catch($){el(e,n,{then:function(){},status:"rejected",reason:$},Bn())}finally{rt.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function d1(){}function wf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Sg(e).queue;Ag(e,h,n,pt,s===null?d1:function(){return wg(e),s(o)})}function Sg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:pt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function wg(e){var n=Sg(e);n.next===null&&(n=e.alternate.memoizedState),el(e,n.next.queue,{},Bn())}function Rf(){return un(_l)}function Rg(){return ze().memoizedState}function Cg(){return ze().memoizedState}function m1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Bn();e=Hs(s);var o=qs(n,e,s);o!==null&&(xn(o,n,s),$o(o,n,s)),n={cache:tf()},e.payload=n;return}n=n.return}}function p1(e,n,s){var o=Bn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Ng(n,s):(s=qh(e,n,s,o),s!==null&&(xn(s,e,o),xg(s,n,o)))}function Ig(e,n,s){var o=Bn();el(e,n,s,o)}function el(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Ng(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,kn(E,p))return Cu(e,n,h,0),ge===null&&Ru(),!1}catch{}finally{}if(s=qh(e,n,h,o),s!==null)return xn(s,e,o),xg(s,n,o),!0}return!1}function Cf(e,n,s,o){if(o={lane:2,revertLane:rd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(a(479))}else n=qh(e,s,o,2),n!==null&&xn(n,e,2)}function Ku(e){var n=e.alternate;return e===Mt||n!==null&&n===Mt}function Ng(e,n){ka=ju=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function xg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Ao(e,s)}}var nl={readContext:un,use:qu,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe};nl.useEffectEvent=Oe;var Dg={readContext:un,use:qu,useCallback:function(e,n){return bn().memoizedState=[e,n===void 0?null:n],e},useContext:un,useEffect:mg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Fu(4194308,4,_g.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Fu(4194308,4,e,n)},useInsertionEffect:function(e,n){Fu(4,2,e,n)},useMemo:function(e,n){var s=bn();n=n===void 0?null:n;var o=e();if($r){De(!0);try{e()}finally{De(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=bn();if(s!==void 0){var h=s(n);if($r){De(!0);try{s(n)}finally{De(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=p1.bind(null,Mt,e),[o.memoizedState,e]},useRef:function(e){var n=bn();return e={current:e},n.memoizedState=e},useState:function(e){e=Ef(e);var n=e.queue,s=Ig.bind(null,Mt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Af,useDeferredValue:function(e,n){var s=bn();return Sf(s,e,n)},useTransition:function(){var e=Ef(!1);return e=Ag.bind(null,Mt,e.queue,!0,!1),bn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Mt,h=bn();if(Xt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ge===null)throw Error(a(349));(qt&127)!==0||Jp(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,mg(tg.bind(null,o,f,e),[e]),o.flags|=2048,Ua(9,{destroy:void 0},Wp.bind(null,o,f,s,n),null),s},useId:function(){var e=bn(),n=ge.identifierPrefix;if(Xt){var s=Li,o=ki;s=(o&~(1<<32-Le(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Bu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=l1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Rf,useFormState:ug,useActionState:ug,useOptimistic:function(e){var n=bn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Cf.bind(null,Mt,!0,s),s.dispatch=n,[e,n]},useMemoCache:yf,useCacheRefresh:function(){return bn().memoizedState=m1.bind(null,Mt)},useEffectEvent:function(e){var n=bn(),s={impl:e};return n.memoizedState=s,function(){if((ie&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},If={readContext:un,use:qu,useCallback:Eg,useContext:un,useEffect:bf,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:Gu,useRef:dg,useState:function(){return Gu(rs)},useDebugValue:Af,useDeferredValue:function(e,n){var s=ze();return bg(s,ce.memoizedState,e,n)},useTransition:function(){var e=Gu(rs)[0],n=ze().memoizedState;return[typeof e=="boolean"?e:tl(e),n]},useSyncExternalStore:Zp,useId:Rg,useHostTransitionStatus:Rf,useFormState:cg,useActionState:cg,useOptimistic:function(e,n){var s=ze();return ig(s,ce,e,n)},useMemoCache:yf,useCacheRefresh:Cg};If.useEffectEvent=pg;var Og={readContext:un,use:qu,useCallback:Eg,useContext:un,useEffect:bf,useImperativeHandle:vg,useInsertionEffect:gg,useLayoutEffect:yg,useMemo:Tg,useReducer:vf,useRef:dg,useState:function(){return vf(rs)},useDebugValue:Af,useDeferredValue:function(e,n){var s=ze();return ce===null?Sf(s,e,n):bg(s,ce.memoizedState,e,n)},useTransition:function(){var e=vf(rs)[0],n=ze().memoizedState;return[typeof e=="boolean"?e:tl(e),n]},useSyncExternalStore:Zp,useId:Rg,useHostTransitionStatus:Rf,useFormState:fg,useActionState:fg,useOptimistic:function(e,n){var s=ze();return ce!==null?ig(s,ce,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:yf,useCacheRefresh:Cg};Og.useEffectEvent=pg;function Nf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var xf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Bn(),h=Hs(o);h.payload=n,s!=null&&(h.callback=s),n=qs(e,h,o),n!==null&&(xn(n,e,o),$o(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Bn(),h=Hs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=qs(e,h,o),n!==null&&(xn(n,e,o),$o(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Bn(),o=Hs(s);o.tag=2,n!=null&&(o.callback=n),n=qs(e,o,s),n!==null&&(xn(n,e,s),$o(n,e,s))}};function Mg(e,n,s,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Ho(s,o)||!Ho(h,f):!0}function Vg(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&xf.enqueueReplaceState(n,n.state,null)}function Zr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function kg(e){wu(e)}function Lg(e){console.error(e)}function Ug(e){wu(e)}function Yu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Pg(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(e,n,s){return s=Hs(s),s.tag=3,s.payload={element:null},s.callback=function(){Yu(e,n)},s}function zg(e){return e=Hs(e),e.tag=3,e}function jg(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Pg(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Pg(n,s,o),typeof h!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function g1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Na(n,s,h,!0),s=Un.current,s!==null){switch(s.tag){case 31:case 13:return ti===null?ac():s.alternate===null&&Me===0&&(Me=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===ku?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),nd(e,o,h)),!1;case 22:return s.flags|=65536,o===ku?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),nd(e,o,h)),!1}throw Error(a(435,s.tag))}return nd(e,o,h),ac(),!1}if(Xt)return n=Un.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Xh&&(e=Error(a(422),{cause:o}),Fo($n(e,s)))):(o!==Xh&&(n=Error(a(423),{cause:o}),Fo($n(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=$n(o,s),h=Df(e.stateNode,o,h),of(e,h),Me!==4&&(Me=2)),!1;var f=Error(a(520),{cause:o});if(f=$n(f,s),cl===null?cl=[f]:cl.push(f),Me!==4&&(Me=2),n===null)return!0;o=$n(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Df(s.stateNode,o,e),of(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Xs===null||!Xs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=zg(h),jg(h,e,s,o),of(s,h),!1}s=s.return}while(s!==null);return!1}var Of=Error(a(461)),Ke=!1;function cn(e,n,s,o){n.child=e===null?Gp(n,null,s,o):Xr(n,e.child,s,o)}function Bg(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Fr(n),o=df(e,n,s,p,f,h),E=mf(),e!==null&&!Ke?(pf(e,n,h),as(e,n,h)):(Xt&&E&&Kh(n),n.flags|=1,cn(e,n,o,h),n.child)}function Hg(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,qg(e,n,f,o,h)):(e=Nu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!jf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ho,s(p,o)&&e.ref===n.ref)return as(e,n,h)}return n.flags|=1,e=ts(f,o),e.ref=n.ref,e.return=n,n.child=e}function qg(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Ho(f,o)&&e.ref===n.ref)if(Ke=!1,n.pendingProps=o=f,jf(e,h))(e.flags&131072)!==0&&(Ke=!0);else return n.lanes=e.lanes,as(e,n,h)}return Mf(e,n,s,o,h)}function Gg(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Fg(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?Kp(n,f):uf(),Yp(n);else return o=n.lanes=536870912,Fg(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Mu(n,f.cachePool),Kp(n,f),Fs(),n.memoizedState=null):(e!==null&&Mu(n,null),uf(),Fs());return cn(e,n,h,s),n.child}function il(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Fg(e,n,s,o,h){var f=nf();return f=f===null?null:{parent:Fe._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Mu(n,null),uf(),Yp(n),e!==null&&Na(e,n,o,!0),n.childLanes=h,null}function Xu(e,n){return n=Zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Qg(e,n,s){return Xr(n,e.child,null,s),e=Xu(n,n.pendingProps),e.flags|=2,Pn(n),n.memoizedState=null,e}function y1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Xt){if(o.mode==="hidden")return e=Xu(n,o),n.lanes=536870912,il(null,e);if(hf(n),(e=Te)?(e=s_(e,Wn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Us!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},s=Np(e),s.return=n,n.child=s,ln=n,Te=null)):e=null,e===null)throw zs(n);return n.lanes=536870912,null}return Xu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(hf(n),h)if(n.flags&256)n.flags&=-257,n=Qg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ke||Na(e,n,s,!1),h=(s&e.childLanes)!==0,Ke||h){if(o=ge,o!==null&&(p=So(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Br(e,p),xn(o,e,p),Of;ac(),n=Qg(e,n,s)}else e=f.treeContext,Te=ei(p.nextSibling),ln=n,Xt=!0,Ps=null,Wn=!1,e!==null&&Op(n,e),n=Xu(n,o),n.flags|=4096;return n}return e=ts(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Mf(e,n,s,o,h){return Fr(n),s=df(e,n,s,o,void 0,h),o=mf(),e!==null&&!Ke?(pf(e,n,h),as(e,n,h)):(Xt&&o&&Kh(n),n.flags|=1,cn(e,n,s,h),n.child)}function Kg(e,n,s,o,h,f){return Fr(n),n.updateQueue=null,s=$p(n,o,s,h),Xp(e),o=mf(),e!==null&&!Ke?(pf(e,n,f),as(e,n,f)):(Xt&&o&&Kh(n),n.flags|=1,cn(e,n,s,f),n.child)}function Yg(e,n,s,o,h){if(Fr(n),n.stateNode===null){var f=wa,p=s.contextType;typeof p=="object"&&p!==null&&(f=un(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=xf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},rf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?un(p):wa,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Nf(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&xf.enqueueReplaceState(f,f.state,null),Jo(n,o,f,h),Zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Zr(s,E);f.props=C;var j=f.context,F=s.contextType;p=wa,typeof F=="object"&&F!==null&&(p=un(F));var $=s.getDerivedStateFromProps;F=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==p)&&Vg(n,f,o,p),Bs=!1;var B=n.memoizedState;f.state=B,Jo(n,o,f,h),Zo(),j=n.memoizedState,E||B!==j||Bs?(typeof $=="function"&&(Nf(n,s,$,o),j=n.memoizedState),(C=Bs||Mg(n,s,C,o,B,j,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=p,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,af(e,n),p=n.memoizedProps,F=Zr(s,p),f.props=F,$=n.pendingProps,B=f.context,j=s.contextType,C=wa,typeof j=="object"&&j!==null&&(C=un(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||B!==C)&&Vg(n,f,o,C),Bs=!1,B=n.memoizedState,f.state=B,Jo(n,o,f,h),Zo();var q=n.memoizedState;p!==$||B!==q||Bs||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof E=="function"&&(Nf(n,s,E,o),q=n.memoizedState),(F=Bs||Mg(n,s,F,o,B,q,C)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,$u(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Xr(n,e.child,null,h),n.child=Xr(n,null,s,h)):cn(e,n,s,h),n.memoizedState=f.state,e=n.child):e=as(e,n,h),e}function Xg(e,n,s,o){return qr(),n.flags|=256,cn(e,n,s,o),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kf(e){return{baseLanes:e,cachePool:Pp()}}function Lf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=jn),e}function $g(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Xt){if(h?Gs(n):Fs(),(e=Te)?(e=s_(e,Wn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Us!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},s=Np(e),s.return=n,n.child=s,ln=n,Te=null)):e=null,e===null)throw zs(n);return _d(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Fs(),h=n.mode,E=Zu({mode:"hidden",children:E},h),o=Hr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=kf(s),o.childLanes=Lf(e,p,s),n.memoizedState=Vf,il(null,o)):(Gs(n),Uf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Gs(n),n.flags&=-257,n=Pf(e,n,s)):n.memoizedState!==null?(Fs(),n.child=e.child,n.flags|=128,n=null):(Fs(),E=o.fallback,h=n.mode,o=Zu({mode:"visible",children:o.children},h),E=Hr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Xr(n,e.child,null,s),o=n.child,o.memoizedState=kf(s),o.childLanes=Lf(e,p,s),n.memoizedState=Vf,n=il(null,o));else if(Gs(n),_d(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var j=p.dgst;p=j,o=Error(a(419)),o.stack="",o.digest=p,Fo({value:o,source:null,stack:null}),n=Pf(e,n,s)}else if(Ke||Na(e,n,s,!1),p=(s&e.childLanes)!==0,Ke||p){if(p=ge,p!==null&&(o=So(p,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Br(e,o),xn(p,e,o),Of;yd(E)||ac(),n=Pf(e,n,s)}else yd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,Te=ei(E.nextSibling),ln=n,Xt=!0,Ps=null,Wn=!1,e!==null&&Op(n,e),n=Uf(n,o.children),n.flags|=4096);return n}return h?(Fs(),E=o.fallback,h=n.mode,C=e.child,j=C.sibling,o=ts(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?E=ts(j,E):(E=Hr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,il(null,o),o=n.child,E=e.child.memoizedState,E===null?E=kf(s):(h=E.cachePool,h!==null?(C=Fe._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Pp(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Lf(e,p,s),n.memoizedState=Vf,il(e.child,o)):(Gs(n),s=e.child,e=s.sibling,s=ts(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Uf(e,n){return n=Zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zu(e,n){return e=Ln(22,e,null,n),e.lanes=0,e}function Pf(e,n,s){return Xr(n,e.child,null,s),e=Uf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Zg(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Jh(e.return,n,s)}function zf(e,n,s,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Jg(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=Pe.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,nt(Pe,p),cn(e,n,o,s),o=Xt?Go:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zg(e,s,n);else if(e.tag===19)Zg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&zu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),zf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}zf(n,!0,s,null,f,o);break;case"together":zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function as(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ys|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Na(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=ts(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=ts(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function jf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function _1(e,n,s){switch(n.tag){case 3:Se(n,n.stateNode.containerInfo),js(n,Fe,e.memoizedState.cache),qr();break;case 27:case 5:yi(n);break;case 4:Se(n,n.stateNode.containerInfo);break;case 10:js(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,hf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Gs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?$g(e,n,s):(Gs(n),e=as(e,n,s),e!==null?e.sibling:null);Gs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Na(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Jg(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(Pe,Pe.current),o)break;return null;case 22:return n.lanes=0,Gg(e,n,s,n.pendingProps);case 24:js(n,Fe,e.memoizedState.cache)}return as(e,n,s)}function Wg(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ke=!0;else{if(!jf(e,s)&&(n.flags&128)===0)return Ke=!1,_1(e,n,s);Ke=(e.flags&131072)!==0}else Ke=!1,Xt&&(n.flags&1048576)!==0&&Dp(n,Go,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Kr(n.elementType),n.type=e,typeof e=="function")Gh(e)?(o=Zr(e,o),n.tag=1,n=Yg(null,n,e,o,s)):(n.tag=0,n=Mf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===ee){n.tag=11,n=Bg(null,n,e,o,s);break t}else if(h===N){n.tag=14,n=Hg(null,n,e,o,s);break t}}throw n=ye(e)||e,Error(a(306,n,""))}}return n;case 0:return Mf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Zr(o,n.pendingProps),Yg(e,n,o,h,s);case 3:t:{if(Se(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,af(e,n),Jo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,js(n,Fe,o),o!==f.cache&&Wh(n,[Fe],s,!0),Zo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Xg(e,n,o,s);break t}else if(o!==h){h=$n(Error(a(424)),n),Fo(h),n=Xg(e,n,o,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Te=ei(e.firstChild),ln=n,Xt=!0,Ps=null,Wn=!0,s=Gp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(qr(),o===h){n=as(e,n,s);break t}cn(e,n,o,s)}n=n.child}return n;case 26:return $u(e,n),e===null?(s=c_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Xt||(s=n.type,e=n.pendingProps,o=dc(xt.current).createElement(s),o[He]=n,o[en]=e,hn(o,s,e),qe(o),n.stateNode=o):n.memoizedState=c_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return yi(n),e===null&&Xt&&(o=n.stateNode=o_(n.type,n.pendingProps,xt.current),ln=n,Wn=!0,h=Te,Ws(n.type)?(vd=h,Te=ei(o.firstChild)):Te=h),cn(e,n,n.pendingProps.children,s),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Xt&&((h=o=Te)&&(o=Y1(o,n.type,n.pendingProps,Wn),o!==null?(n.stateNode=o,ln=n,Te=ei(o.firstChild),Wn=!1,h=!0):h=!1),h||zs(n)),yi(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,md(h,f)?o=null:p!==null&&md(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=df(e,n,u1,null,null,s),_l._currentValue=h),$u(e,n),cn(e,n,o,s),n.child;case 6:return e===null&&Xt&&((e=s=Te)&&(s=X1(s,n.pendingProps,Wn),s!==null?(n.stateNode=s,ln=n,Te=null,e=!0):e=!1),e||zs(n)),null;case 13:return $g(e,n,s);case 4:return Se(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Xr(n,null,o,s):cn(e,n,o,s),n.child;case 11:return Bg(e,n,n.type,n.pendingProps,s);case 7:return cn(e,n,n.pendingProps,s),n.child;case 8:return cn(e,n,n.pendingProps.children,s),n.child;case 12:return cn(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,js(n,n.type,o.value),cn(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Fr(n),h=un(h),o=o(h),n.flags|=1,cn(e,n,o,s),n.child;case 14:return Hg(e,n,n.type,n.pendingProps,s);case 15:return qg(e,n,n.type,n.pendingProps,s);case 19:return Jg(e,n,s);case 31:return y1(e,n,s);case 22:return Gg(e,n,s,n.pendingProps);case 24:return Fr(n),o=un(Fe),e===null?(h=nf(),h===null&&(h=ge,f=tf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},rf(n),js(n,Fe,h)):((e.lanes&s)!==0&&(af(e,n),Jo(n,null,null,s),Zo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),js(n,Fe,o)):(o=f.cache,js(n,Fe,o),o!==h.cache&&Wh(n,[Fe],s,!0))),cn(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function os(e){e.flags|=4}function Bf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ry())e.flags|=8192;else throw Yr=ku,sf}else e.flags&=-16777217}function ty(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!p_(n))if(Ry())e.flags|=8192;else throw Yr=ku,sf}function Ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?su():536870912,e.lanes|=n,Ba|=n)}function sl(e,n){if(!Xt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function be(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function v1(e,n,s){var o=n.pendingProps;switch(Yh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(n),null;case 1:return be(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),is(Fe),_e(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ia(n)?os(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$h())),be(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(os(n),f!==null?(be(n),ty(n,f)):(be(n),Bf(n,h,null,o,s))):f?f!==e.memoizedState?(os(n),be(n),ty(n,f)):(be(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&os(n),be(n),Bf(n,h,e,o,s)),null;case 27:if(ws(n),s=xt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&os(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return be(n),null}e=at.current,Ia(n)?Mp(n):(e=o_(h,o,s),n.stateNode=e,os(n))}return be(n),null;case 5:if(ws(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&os(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return be(n),null}if(f=at.current,Ia(n))Mp(n);else{var p=dc(xt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[He]=n,f[en]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(hn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&os(n)}}return be(n),Bf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&os(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=xt.current,Ia(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=ln,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[He]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||$y(e.nodeValue,s)),e||zs(n,!0)}else e=dc(e).createTextNode(o),e[He]=n,n.stateNode=e}return be(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ia(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[He]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;be(n),e=!1}else s=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Pn(n),n):(Pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return be(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ia(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[He]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;be(n),h=!1}else h=$h(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Pn(n),n):(Pn(n),null)}return Pn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Ju(n,n.updateQueue),be(n),null);case 4:return _e(),e===null&&ud(n.stateNode.containerInfo),be(n),null;case 10:return is(n.type),be(n),null;case 19:if(X(Pe),o=n.memoizedState,o===null)return be(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)sl(o,!1);else{if(Me!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,sl(o,!1),e=f.updateQueue,n.updateQueue=e,Ju(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Ip(s,e),s=s.sibling;return nt(Pe,Pe.current&1|2),Xt&&es(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&St()>ic&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ju(n,e),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Xt)return be(n),null}else 2*St()-o.renderingStartTime>ic&&s!==536870912&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=St(),e.sibling=null,s=Pe.current,nt(Pe,h?s&1|2:s&1),Xt&&es(n,o.treeForkCount),e):(be(n),null);case 22:case 23:return Pn(n),cf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(be(n),n.subtreeFlags&6&&(n.flags|=8192)):be(n),s=n.updateQueue,s!==null&&Ju(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&X(Qr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),is(Fe),be(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function E1(e,n){switch(Yh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return is(Fe),_e(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ws(n),null;case 31:if(n.memoizedState!==null){if(Pn(n),n.alternate===null)throw Error(a(340));qr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));qr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(Pe),null;case 4:return _e(),null;case 10:return is(n.type),null;case 22:case 23:return Pn(n),cf(),e!==null&&X(Qr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return is(Fe),null;case 25:return null;default:return null}}function ey(e,n){switch(Yh(n),n.tag){case 3:is(Fe),_e();break;case 26:case 27:case 5:ws(n);break;case 4:_e();break;case 31:n.memoizedState!==null&&Pn(n);break;case 13:Pn(n);break;case 19:X(Pe);break;case 10:is(n.type);break;case 22:case 23:Pn(n),cf(),e!==null&&X(Qr);break;case 24:is(Fe)}}function rl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){le(n,n.return,E)}}function Qs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var C=s,j=E;try{j()}catch(F){le(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){le(n,n.return,F)}}function ny(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Qp(n,s)}catch(o){le(e,e.return,o)}}}function iy(e,n,s){s.props=Zr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){le(e,n,o)}}function al(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){le(e,n,h)}}function Ui(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){le(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){le(e,n,h)}else s.current=null}function sy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){le(e,e.return,h)}}function Hf(e,n,s){try{var o=e.stateNode;H1(o,e.type,s,n),o[en]=n}catch(h){le(e,e.return,h)}}function ry(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ws(e.type)||e.tag===4}function qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ry(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ws(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=li));else if(o!==4&&(o===27&&Ws(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Gf(e,n,s),e=e.sibling;e!==null;)Gf(e,n,s),e=e.sibling}function Wu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ws(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Wu(e,n,s),e=e.sibling;e!==null;)Wu(e,n,s),e=e.sibling}function ay(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);hn(n,o,s),n[He]=e,n[en]=s}catch(f){le(e,e.return,f)}}var ls=!1,Ye=!1,Ff=!1,oy=typeof WeakSet=="function"?WeakSet:Set,sn=null;function T1(e,n){if(e=e.containerInfo,fd=Ec,e=vp(e),Uh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,C=-1,j=0,F=0,$=e,B=null;e:for(;;){for(var q;$!==s||h!==0&&$.nodeType!==3||(E=p+h),$!==f||o!==0&&$.nodeType!==3||(C=p+o),$.nodeType===3&&(p+=$.nodeValue.length),(q=$.firstChild)!==null;)B=$,$=q;for(;;){if($===e)break e;if(B===s&&++j===h&&(E=p),B===f&&++F===o&&(C=p),(q=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=q}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(dd={focusedElem:e,selectionRange:s},Ec=!1,sn=n;sn!==null;)if(n=sn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,sn=e;else for(;sn!==null;){switch(n=sn,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ct=Zr(s.type,h);e=o.getSnapshotBeforeUpdate(ct,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(Tt){le(s,s.return,Tt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)gd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,sn=e;break}sn=n.return}}function ly(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:cs(e,s),o&4&&rl(5,s);break;case 1:if(cs(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){le(s,s.return,p)}else{var h=Zr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){le(s,s.return,p)}}o&64&&ny(s),o&512&&al(s,s.return);break;case 3:if(cs(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Qp(e,n)}catch(p){le(s,s.return,p)}}break;case 27:n===null&&o&4&&ay(s);case 26:case 5:cs(e,s),n===null&&o&4&&sy(s),o&512&&al(s,s.return);break;case 12:cs(e,s);break;case 31:cs(e,s),o&4&&hy(e,s);break;case 13:cs(e,s),o&4&&fy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=x1.bind(null,s),$1(e,s))));break;case 22:if(o=s.memoizedState!==null||ls,!o){n=n!==null&&n.memoizedState!==null||Ye,h=ls;var f=Ye;ls=o,(Ye=n)&&!f?hs(e,s,(s.subtreeFlags&8772)!==0):cs(e,s),ls=h,Ye=f}break;case 30:break;default:cs(e,s)}}function uy(e){var n=e.alternate;n!==null&&(e.alternate=null,uy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ha(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ce=null,Rn=!1;function us(e,n,s){for(s=s.child;s!==null;)cy(e,n,s),s=s.sibling}function cy(e,n,s){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(At,s)}catch{}switch(s.tag){case 26:Ye||Ui(s,n),us(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ye||Ui(s,n);var o=Ce,h=Rn;Ws(s.type)&&(Ce=s.stateNode,Rn=!1),us(e,n,s),pl(s.stateNode),Ce=o,Rn=h;break;case 5:Ye||Ui(s,n);case 6:if(o=Ce,h=Rn,Ce=null,us(e,n,s),Ce=o,Rn=h,Ce!==null)if(Rn)try{(Ce.nodeType===9?Ce.body:Ce.nodeName==="HTML"?Ce.ownerDocument.body:Ce).removeChild(s.stateNode)}catch(f){le(s,n,f)}else try{Ce.removeChild(s.stateNode)}catch(f){le(s,n,f)}break;case 18:Ce!==null&&(Rn?(e=Ce,n_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Xa(e)):n_(Ce,s.stateNode));break;case 4:o=Ce,h=Rn,Ce=s.stateNode.containerInfo,Rn=!0,us(e,n,s),Ce=o,Rn=h;break;case 0:case 11:case 14:case 15:Qs(2,s,n),Ye||Qs(4,s,n),us(e,n,s);break;case 1:Ye||(Ui(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&iy(s,n,o)),us(e,n,s);break;case 21:us(e,n,s);break;case 22:Ye=(o=Ye)||s.memoizedState!==null,us(e,n,s),Ye=o;break;default:us(e,n,s)}}function hy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xa(e)}catch(s){le(n,n.return,s)}}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xa(e)}catch(s){le(n,n.return,s)}}function b1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new oy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new oy),n;default:throw Error(a(435,e.tag))}}function tc(e,n){var s=b1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=D1.bind(null,e,o);o.then(h,h)}})}function Cn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Ws(E.type)){Ce=E.stateNode,Rn=!1;break t}break;case 5:Ce=E.stateNode,Rn=!1;break t;case 3:case 4:Ce=E.stateNode.containerInfo,Rn=!0;break t}E=E.return}if(Ce===null)throw Error(a(160));cy(f,p,h),Ce=null,Rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)dy(n,e),n=n.sibling}var mi=null;function dy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Cn(n,e),In(e),o&4&&(Qs(3,e,e.return),rl(3,e),Qs(5,e,e.return));break;case 1:Cn(n,e),In(e),o&512&&(Ye||s===null||Ui(s,s.return)),o&64&&ls&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=mi;if(Cn(n,e),In(e),o&512&&(Ye||s===null||Ui(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ai]||f[He]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),hn(f,o,s),f[He]=e,qe(f),o=f;break t;case"link":var p=d_("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),hn(f,o,s),h.head.appendChild(f);break;case"meta":if(p=d_("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(o),hn(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[He]=e,qe(f),o=f}e.stateNode=o}else m_(h,e.type,e.stateNode);else e.stateNode=f_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?m_(h,e.type,e.stateNode):f_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Hf(e,e.memoizedProps,s.memoizedProps)}break;case 27:Cn(n,e),In(e),o&512&&(Ye||s===null||Ui(s,s.return)),s!==null&&o&4&&Hf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Cn(n,e),In(e),o&512&&(Ye||s===null||Ui(s,s.return)),e.flags&32){h=e.stateNode;try{wn(h,"")}catch(ct){le(e,e.return,ct)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Hf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Ff=!0);break;case 6:if(Cn(n,e),In(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ct){le(e,e.return,ct)}}break;case 3:if(gc=null,h=mi,mi=mc(n.containerInfo),Cn(n,e),mi=h,In(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Xa(n.containerInfo)}catch(ct){le(e,e.return,ct)}Ff&&(Ff=!1,my(e));break;case 4:o=mi,mi=mc(e.stateNode.containerInfo),Cn(n,e),In(e),mi=o;break;case 12:Cn(n,e),In(e);break;case 31:Cn(n,e),In(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 13:Cn(n,e),In(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(nc=St()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,j=ls,F=Ye;if(ls=j||h,Ye=F||C,Cn(n,e),Ye=F,ls=j,In(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||ls||Ye||Jr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=C.stateNode;var $=C.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ct){le(C,C.return,ct)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ct){le(C,C.return,ct)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;h?i_(q,!0):i_(C.stateNode,!1)}catch(ct){le(C,C.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,tc(e,s))));break;case 19:Cn(n,e),In(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 30:break;case 21:break;default:Cn(n,e),In(e)}}function In(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ry(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=qf(e);Wu(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(wn(p,""),s.flags&=-33);var E=qf(e);Wu(e,E,p);break;case 3:case 4:var C=s.stateNode.containerInfo,j=qf(e);Gf(e,j,C);break;default:throw Error(a(161))}}catch(F){le(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function my(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;my(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function cs(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ly(e,n.alternate,n),n=n.sibling}function Jr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Qs(4,n,n.return),Jr(n);break;case 1:Ui(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&iy(n,n.return,s),Jr(n);break;case 27:pl(n.stateNode);case 26:case 5:Ui(n,n.return),Jr(n);break;case 22:n.memoizedState===null&&Jr(n);break;case 30:Jr(n);break;default:Jr(n)}e=e.sibling}}function hs(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:hs(h,f,s),rl(4,f);break;case 1:if(hs(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){le(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Fp(C[h],E)}catch(j){le(o,o.return,j)}}s&&p&64&&ny(f),al(f,f.return);break;case 27:ay(f);case 26:case 5:hs(h,f,s),s&&o===null&&p&4&&sy(f),al(f,f.return);break;case 12:hs(h,f,s);break;case 31:hs(h,f,s),s&&p&4&&hy(h,f);break;case 13:hs(h,f,s),s&&p&4&&fy(h,f);break;case 22:f.memoizedState===null&&hs(h,f,s),al(f,f.return);break;case 30:break;default:hs(h,f,s)}n=n.sibling}}function Qf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Qo(s))}function Kf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qo(e))}function pi(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(e,n,s,o),n=n.sibling}function py(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(e,n,s,o),h&2048&&rl(9,n);break;case 1:pi(e,n,s,o);break;case 3:pi(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qo(e)));break;case 12:if(h&2048){pi(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){le(n,n.return,C)}}else pi(e,n,s,o);break;case 31:pi(e,n,s,o);break;case 13:pi(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?pi(e,n,s,o):ol(e,n):f._visibility&2?pi(e,n,s,o):(f._visibility|=2,Pa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Qf(p,n);break;case 24:pi(e,n,s,o),h&2048&&Kf(n.alternate,n);break;default:pi(e,n,s,o)}}function Pa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,C=o,j=p.flags;switch(p.tag){case 0:case 11:case 15:Pa(f,p,E,C,h),rl(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Pa(f,p,E,C,h):ol(f,p):(F._visibility|=2,Pa(f,p,E,C,h)),h&&j&2048&&Qf(p.alternate,p);break;case 24:Pa(f,p,E,C,h),h&&j&2048&&Kf(p.alternate,p);break;default:Pa(f,p,E,C,h)}n=n.sibling}}function ol(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:ol(s,o),h&2048&&Qf(o.alternate,o);break;case 24:ol(s,o),h&2048&&Kf(o.alternate,o);break;default:ol(s,o)}n=n.sibling}}var ll=8192;function za(e,n,s){if(e.subtreeFlags&ll)for(e=e.child;e!==null;)gy(e,n,s),e=e.sibling}function gy(e,n,s){switch(e.tag){case 26:za(e,n,s),e.flags&ll&&e.memoizedState!==null&&lb(s,mi,e.memoizedState,e.memoizedProps);break;case 5:za(e,n,s);break;case 3:case 4:var o=mi;mi=mc(e.stateNode.containerInfo),za(e,n,s),mi=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ll,ll=16777216,za(e,n,s),ll=o):za(e,n,s));break;default:za(e,n,s)}}function yy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ul(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];sn=o,vy(o,e)}yy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_y(e),e=e.sibling}function _y(e){switch(e.tag){case 0:case 11:case 15:ul(e),e.flags&2048&&Qs(9,e,e.return);break;case 3:ul(e);break;case 12:ul(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):ul(e);break;default:ul(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];sn=o,vy(o,e)}yy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Qs(8,n,n.return),ec(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function vy(e,n){for(;sn!==null;){var s=sn;switch(s.tag){case 0:case 11:case 15:Qs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Qo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,sn=o;else t:for(s=e;sn!==null;){o=sn;var h=o.sibling,f=o.return;if(uy(o),o===s){sn=null;break t}if(h!==null){h.return=f,sn=h;break t}sn=f}}}var A1={getCacheForType:function(e){var n=un(Fe),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return un(Fe).controller.signal}},S1=typeof WeakMap=="function"?WeakMap:Map,ie=0,ge=null,zt=null,qt=0,oe=0,zn=null,Ks=!1,ja=!1,Yf=!1,fs=0,Me=0,Ys=0,Wr=0,Xf=0,jn=0,Ba=0,cl=null,Nn=null,$f=!1,nc=0,Ey=0,ic=1/0,sc=null,Xs=null,Je=0,$s=null,Ha=null,ds=0,Zf=0,Jf=null,Ty=null,hl=0,Wf=null;function Bn(){return(ie&2)!==0&&qt!==0?qt&-qt:G.T!==null?rd():ru()}function by(){if(jn===0)if((qt&536870912)===0||Xt){var e=Rr;Rr<<=1,(Rr&3932160)===0&&(Rr=262144),jn=e}else jn=536870912;return e=Un.current,e!==null&&(e.flags|=32),jn}function xn(e,n,s){(e===ge&&(oe===2||oe===9)||e.cancelPendingCommit!==null)&&(qa(e,0),Zs(e,qt,jn,!1)),Cr(e,s),((ie&2)===0||e!==ge)&&(e===ge&&((ie&2)===0&&(Wr|=s),Me===4&&Zs(e,qt,jn,!1)),Pi(e))}function Ay(e,n,s){if((ie&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||ri(e,n),h=o?C1(e,n):ed(e,n,!0),f=o;do{if(h===0){ja&&!o&&Zs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!w1(s)){h=ed(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=cl;var C=E.current.memoizedState.isDehydrated;if(C&&(qa(E,p).flags|=256),p=ed(E,p,!1),p!==2){if(Yf&&!C){E.errorRecoveryDisabledLanes|=f,Wr|=f,h=4;break t}f=Nn,Nn=h,f!==null&&(Nn===null?Nn=f:Nn.push.apply(Nn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){qa(e,0),Zs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Zs(o,n,jn,!Ks);break t;case 2:Nn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-St(),10<h)){if(Zs(o,n,jn,!Ks),Ei(o,0,!0)!==0)break t;ds=n,o.timeoutHandle=t_(Sy.bind(null,o,s,Nn,sc,$f,n,jn,Wr,Ba,Ks,f,"Throttled",-0,0),h);break t}Sy(o,s,Nn,sc,$f,n,jn,Wr,Ba,Ks,f,null,-0,0)}}break}while(!0);Pi(e)}function Sy(e,n,s,o,h,f,p,E,C,j,F,$,B,q){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},gy(n,f,$);var ct=(f&62914560)===f?nc-St():(f&4194048)===f?Ey-St():0;if(ct=ub($,ct),ct!==null){ds=f,e.cancelPendingCommit=ct(Oy.bind(null,e,n,f,s,o,h,p,E,C,F,$,null,B,q)),Zs(e,f,p,!j);return}}Oy(e,n,f,s,o,h,p,E,C)}function w1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!kn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Zs(e,n,s,o){n&=~Xf,n&=~Wr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-Le(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&Ir(e,s,n)}function rc(){return(ie&6)===0?(fl(0),!1):!0}function td(){if(zt!==null){if(oe===0)var e=zt.return;else e=zt,ns=Gr=null,gf(e),Ma=null,Yo=0,e=zt;for(;e!==null;)ey(e.alternate,e),e=e.return;zt=null}}function qa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,F1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ds=0,td(),ge=e,zt=s=ts(e.current,null),qt=n,oe=0,zn=null,Ks=!1,ja=ri(e,n),Yf=!1,Ba=jn=Xf=Wr=Ys=Me=0,Nn=cl=null,$f=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Le(o),f=1<<h;n|=e[h],o&=~f}return fs=n,Ru(),s}function wy(e,n){Mt=null,G.H=nl,n===Oa||n===Vu?(n=Bp(),oe=3):n===sf?(n=Bp(),oe=4):oe=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zn=n,zt===null&&(Me=1,Yu(e,$n(n,e.current)))}function Ry(){var e=Un.current;return e===null?!0:(qt&4194048)===qt?ti===null:(qt&62914560)===qt||(qt&536870912)!==0?e===ti:!1}function Cy(){var e=G.H;return G.H=nl,e===null?nl:e}function Iy(){var e=G.A;return G.A=A1,e}function ac(){Me=4,Ks||(qt&4194048)!==qt&&Un.current!==null||(ja=!0),(Ys&134217727)===0&&(Wr&134217727)===0||ge===null||Zs(ge,qt,jn,!1)}function ed(e,n,s){var o=ie;ie|=2;var h=Cy(),f=Iy();(ge!==e||qt!==n)&&(sc=null,qa(e,n)),n=!1;var p=Me;t:do try{if(oe!==0&&zt!==null){var E=zt,C=zn;switch(oe){case 8:td(),p=6;break t;case 3:case 2:case 9:case 6:Un.current===null&&(n=!0);var j=oe;if(oe=0,zn=null,Ga(e,E,C,j),s&&ja){p=0;break t}break;default:j=oe,oe=0,zn=null,Ga(e,E,C,j)}}R1(),p=Me;break}catch(F){wy(e,F)}while(!0);return n&&e.shellSuspendCounter++,ns=Gr=null,ie=o,G.H=h,G.A=f,zt===null&&(ge=null,qt=0,Ru()),p}function R1(){for(;zt!==null;)Ny(zt)}function C1(e,n){var s=ie;ie|=2;var o=Cy(),h=Iy();ge!==e||qt!==n?(sc=null,ic=St()+500,qa(e,n)):ja=ri(e,n);t:do try{if(oe!==0&&zt!==null){n=zt;var f=zn;e:switch(oe){case 1:oe=0,zn=null,Ga(e,n,f,1);break;case 2:case 9:if(zp(f)){oe=0,zn=null,xy(n);break}n=function(){oe!==2&&oe!==9||ge!==e||(oe=7),Pi(e)},f.then(n,n);break t;case 3:oe=7;break t;case 4:oe=5;break t;case 7:zp(f)?(oe=0,zn=null,xy(n)):(oe=0,zn=null,Ga(e,n,f,7));break;case 5:var p=null;switch(zt.tag){case 26:p=zt.memoizedState;case 5:case 27:var E=zt;if(p?p_(p):E.stateNode.complete){oe=0,zn=null;var C=E.sibling;if(C!==null)zt=C;else{var j=E.return;j!==null?(zt=j,oc(j)):zt=null}break e}}oe=0,zn=null,Ga(e,n,f,5);break;case 6:oe=0,zn=null,Ga(e,n,f,6);break;case 8:td(),Me=6;break t;default:throw Error(a(462))}}I1();break}catch(F){wy(e,F)}while(!0);return ns=Gr=null,G.H=o,G.A=h,ie=s,zt!==null?0:(ge=null,qt=0,Ru(),Me)}function I1(){for(;zt!==null&&!Lt();)Ny(zt)}function Ny(e){var n=Wg(e.alternate,e,fs);e.memoizedProps=e.pendingProps,n===null?oc(e):zt=n}function xy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Kg(s,n,n.pendingProps,n.type,void 0,qt);break;case 11:n=Kg(s,n,n.pendingProps,n.type.render,n.ref,qt);break;case 5:gf(n);default:ey(s,n),n=zt=Ip(n,fs),n=Wg(s,n,fs)}e.memoizedProps=e.pendingProps,n===null?oc(e):zt=n}function Ga(e,n,s,o){ns=Gr=null,gf(n),Ma=null,Yo=0;var h=n.return;try{if(g1(e,h,n,s,qt)){Me=1,Yu(e,$n(s,e.current)),zt=null;return}}catch(f){if(h!==null)throw zt=h,f;Me=1,Yu(e,$n(s,e.current)),zt=null;return}n.flags&32768?(Xt||o===1?e=!0:ja||(qt&536870912)!==0?e=!1:(Ks=e=!0,(o===2||o===9||o===3||o===6)&&(o=Un.current,o!==null&&o.tag===13&&(o.flags|=16384))),Dy(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){Dy(n,Ks);return}e=n.return;var s=v1(n.alternate,n,fs);if(s!==null){zt=s;return}if(n=n.sibling,n!==null){zt=n;return}zt=n=e}while(n!==null);Me===0&&(Me=5)}function Dy(e,n){do{var s=E1(e.alternate,e);if(s!==null){s.flags&=32767,zt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){zt=e;return}zt=e=s}while(e!==null);Me=6,zt=null}function Oy(e,n,s,o,h,f,p,E,C){e.cancelPendingCommit=null;do lc();while(Je!==0);if((ie&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Hh,Mh(e,s,f,p,E,C),e===ge&&(zt=ge=null,qt=0),Ha=n,$s=e,ds=s,Zf=f,Jf=h,Ty=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,O1(Dt,function(){return Uy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=rt.p,rt.p=2,p=ie,ie|=4;try{T1(e,n,s)}finally{ie=p,rt.p=h,G.T=o}}Je=1,My(),Vy(),ky()}}function My(){if(Je===1){Je=0;var e=$s,n=Ha,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=rt.p;rt.p=2;var h=ie;ie|=4;try{dy(n,e);var f=dd,p=vp(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&_p(E.ownerDocument.documentElement,E)){if(C!==null&&Uh(E)){var j=C.start,F=C.end;if(F===void 0&&(F=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(F,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var q=B.getSelection(),ct=E.textContent.length,Tt=Math.min(C.start,ct),fe=C.end===void 0?Tt:Math.min(C.end,ct);!q.extend&&Tt>fe&&(p=fe,fe=Tt,Tt=p);var L=yp(E,Tt),O=yp(E,fe);if(L&&O&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var z=$.createRange();z.setStart(L.node,L.offset),q.removeAllRanges(),Tt>fe?(q.addRange(z),q.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),q.addRange(z))}}}}for($=[],q=E;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ec=!!fd,dd=fd=null}finally{ie=h,rt.p=o,G.T=s}}e.current=n,Je=2}}function Vy(){if(Je===2){Je=0;var e=$s,n=Ha,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=rt.p;rt.p=2;var h=ie;ie|=4;try{ly(e,n.alternate,n)}finally{ie=h,rt.p=o,G.T=s}}Je=3}}function ky(){if(Je===4||Je===3){Je=0,Ht();var e=$s,n=Ha,s=ds,o=Ty;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Je=5:(Je=0,Ha=$s=null,Ly(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Xs=null),$i(s),n=n.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(At,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=rt.p,rt.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,rt.p=h}}(ds&3)!==0&&lc(),Pi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Wf?hl++:(hl=0,Wf=e):hl=0,fl(0)}}function Ly(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Qo(n)))}function lc(){return My(),Vy(),ky(),Uy()}function Uy(){if(Je!==5)return!1;var e=$s,n=Zf;Zf=0;var s=$i(ds),o=G.T,h=rt.p;try{rt.p=32>s?32:s,G.T=null,s=Jf,Jf=null;var f=$s,p=ds;if(Je=0,Ha=$s=null,ds=0,(ie&6)!==0)throw Error(a(331));var E=ie;if(ie|=4,_y(f.current),py(f,f.current,p,s),ie=E,fl(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(At,f)}catch{}return!0}finally{rt.p=h,G.T=o,Ly(e,n)}}function Py(e,n,s){n=$n(s,n),n=Df(e.stateNode,n,2),e=qs(e,n,2),e!==null&&(Cr(e,2),Pi(e))}function le(e,n,s){if(e.tag===3)Py(e,e,s);else for(;n!==null;){if(n.tag===3){Py(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Xs===null||!Xs.has(o))){e=$n(s,e),s=zg(2),o=qs(n,s,2),o!==null&&(jg(s,o,n,e),Cr(o,2),Pi(o));break}}n=n.return}}function nd(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new S1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Yf=!0,h.add(s),e=N1.bind(null,e,n,s),n.then(e,e))}function N1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ge===e&&(qt&s)===s&&(Me===4||Me===3&&(qt&62914560)===qt&&300>St()-nc?(ie&2)===0&&qa(e,0):Xf|=s,Ba===qt&&(Ba=0)),Pi(e)}function zy(e,n){n===0&&(n=su()),e=Br(e,n),e!==null&&(Cr(e,n),Pi(e))}function x1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),zy(e,s)}function D1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),zy(e,s)}function O1(e,n){return ft(e,n)}var uc=null,Fa=null,id=!1,cc=!1,sd=!1,Js=0;function Pi(e){e!==Fa&&e.next===null&&(Fa===null?uc=Fa=e:Fa=Fa.next=e),cc=!0,id||(id=!0,V1())}function fl(e,n){if(!sd&&cc){sd=!0;do for(var s=!1,o=uc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Le(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,qy(o,f))}else f=qt,f=Ei(o,o===ge?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ri(o,f)||(s=!0,qy(o,f));o=o.next}while(s);sd=!1}}function M1(){jy()}function jy(){cc=id=!1;var e=0;Js!==0&&G1()&&(e=Js);for(var n=St(),s=null,o=uc;o!==null;){var h=o.next,f=By(o,n);f===0?(o.next=null,s===null?uc=h:s.next=h,h===null&&(Fa=s)):(s=o,(e!==0||(f&3)!==0)&&(cc=!0)),o=h}Je!==0&&Je!==5||fl(e),Js!==0&&(Js=0)}function By(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-Le(f),E=1<<p,C=h[p];C===-1?((E&s)===0||(E&o)!==0)&&(h[p]=Oh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=ge,s=qt,s=Ei(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(oe===2||oe===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ot(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ri(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ot(o),$i(s)){case 2:case 8:s=$t;break;case 32:s=Dt;break;case 268435456:s=ve;break;default:s=Dt}return o=Hy.bind(null,e),s=ft(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ot(o),e.callbackPriority=2,e.callbackNode=null,2}function Hy(e,n){if(Je!==0&&Je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(lc()&&e.callbackNode!==s)return null;var o=qt;return o=Ei(e,e===ge?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ay(e,o,n),By(e,St()),e.callbackNode!=null&&e.callbackNode===s?Hy.bind(null,e):null)}function qy(e,n){if(lc())return null;Ay(e,n,!0)}function V1(){Q1(function(){(ie&6)!==0?ft(we,M1):jy()})}function rd(){if(Js===0){var e=xa;e===0&&(e=_i,_i<<=1,(_i&261888)===0&&(_i=256)),Js=e}return Js}function Gy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pa(""+e)}function Fy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function k1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Gy((h[en]||null).action),p=o.submitter;p&&(n=(n=p[en]||null)?Gy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Di("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Js!==0){var C=p?Fy(h,p):new FormData(h);wf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=p?Fy(h,p):new FormData(h),wf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ad=0;ad<Bh.length;ad++){var od=Bh[ad],L1=od.toLowerCase(),U1=od[0].toUpperCase()+od.slice(1);di(L1,"on"+U1)}di(bp,"onAnimationEnd"),di(Ap,"onAnimationIteration"),di(Sp,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(WT,"onTransitionRun"),di(t1,"onTransitionStart"),di(e1,"onTransitionCancel"),di(wp,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),P1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function Qy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],C=E.instance,j=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=C}else for(p=0;p<o.length;p++){if(E=o[p],C=E.instance,j=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=C}}}}function jt(e,n){var s=n[ca];s===void 0&&(s=n[ca]=new Set);var o=e+"__bubble";s.has(o)||(Ky(n,e,2,!1),s.add(o))}function ld(e,n,s){var o=0;n&&(o|=4),Ky(s,e,o,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function ud(e){if(!e[hc]){e[hc]=!0,wo.forEach(function(s){s!=="selectionchange"&&(P1.has(s)||ld(s,!1,e),ld(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,ld("selectionchange",!1,n))}}function Ky(e,n,s,o){switch(b_(n)){case 2:var h=fb;break;case 8:h=db;break;default:h=Sd}s=h.bind(null,n,s,e),h=void 0,!Mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function cd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=Si(E),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=f=p;continue t}E=E.parentNode}}o=o.return}Ms(function(){var j=f,F=Qn(s),$=[];t:{var B=Rp.get(e);if(B!==void 0){var q=Di,ct=e;switch(e){case"keypress":if(kr(s)===0)break t;case"keydown":case"keyup":q=bu;break;case"focusin":ct="focus",q=Ur;break;case"focusout":ct="blur",q=Ur;break;case"beforeblur":case"afterblur":q=Ur;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case bp:case Ap:case Sp:q=pu;break;case wp:q=T;break;case"scroll":case"scrollend":q=Uo;break;case"wheel":q=H;break;case"copy":case"cut":case"paste":q=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Wi;break;case"toggle":case"beforetoggle":q=Ot}var Tt=(n&4)!==0,fe=!Tt&&(e==="scroll"||e==="scrollend"),L=Tt?B!==null?B+"Capture":null:B;Tt=[];for(var O=j,z;O!==null;){var Y=O;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||L===null||(Y=ui(O,L),Y!=null&&Tt.push(ml(O,Y,z))),fe)break;O=O.return}0<Tt.length&&(B=new q(B,ct,null,s,F),$.push({event:B,listeners:Tt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",B&&s!==Vo&&(ct=s.relatedTarget||s.fromElement)&&(Si(ct)||ct[bi]))break t;if((q||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,q?(ct=s.relatedTarget||s.toElement,q=j,ct=ct?Si(ct):null,ct!==null&&(fe=c(ct),Tt=ct.tag,ct!==fe||Tt!==5&&Tt!==27&&Tt!==6)&&(ct=null)):(q=null,ct=j),q!==ct)){if(Tt=Po,Y="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(Tt=Wi,Y="onPointerLeave",L="onPointerEnter",O="pointer"),fe=q==null?B:Mn(q),z=ct==null?B:Mn(ct),B=new Tt(Y,O+"leave",q,s,F),B.target=fe,B.relatedTarget=z,Y=null,Si(F)===j&&(Tt=new Tt(L,O+"enter",ct,s,F),Tt.target=z,Tt.relatedTarget=fe,Y=Tt),fe=Y,q&&ct)e:{for(Tt=z1,L=q,O=ct,z=0,Y=L;Y;Y=Tt(Y))z++;Y=0;for(var gt=O;gt;gt=Tt(gt))Y++;for(;0<z-Y;)L=Tt(L),z--;for(;0<Y-z;)O=Tt(O),Y--;for(;z--;){if(L===O||O!==null&&L===O.alternate){Tt=L;break e}L=Tt(L),O=Tt(O)}Tt=null}else Tt=null;q!==null&&Yy($,B,q,Tt,!1),ct!==null&&fe!==null&&Yy($,fe,ct,Tt,!0)}}t:{if(B=j?Mn(j):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var Wt=hp;else if(up(B))if(fp)Wt=$T;else{Wt=YT;var dt=KT}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&ma(j.elementType)&&(Wt=hp):Wt=XT;if(Wt&&(Wt=Wt(e,j))){cp($,Wt,s,F);break t}dt&&dt(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Do(B,"number",B.value)}switch(dt=j?Mn(j):window,e){case"focusin":(up(dt)||dt.contentEditable==="true")&&(ba=dt,Ph=j,qo=null);break;case"focusout":qo=Ph=ba=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Ep($,s,F);break;case"selectionchange":if(JT)break;case"keydown":case"keyup":Ep($,s,F)}var Vt;if(ne)t:{switch(e){case"compositionstart":var Gt="onCompositionStart";break t;case"compositionend":Gt="onCompositionEnd";break t;case"compositionupdate":Gt="onCompositionUpdate";break t}Gt=void 0}else Ta?Pr(e,s)&&(Gt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Gt="onCompositionStart");Gt&&(Vi&&s.locale!=="ko"&&(Ta||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&Ta&&(Vt=Lo()):(xi=F,ko="value"in xi?xi.value:xi.textContent,Ta=!0)),dt=fc(j,Gt),0<dt.length&&(Gt=new Mi(Gt,e,null,s,F),$.push({event:Gt,listeners:dt}),Vt?Gt.data=Vt:(Vt=Ea(s),Vt!==null&&(Gt.data=Vt)))),(Vt=Yn?qT(e,s):GT(e,s))&&(Gt=fc(j,"onBeforeInput"),0<Gt.length&&(dt=new Mi("onBeforeInput","beforeinput",null,s,F),$.push({event:dt,listeners:Gt}),dt.data=Vt)),k1($,e,j,s,F)}Qy($,n)})}function ml(e,n,s){return{instance:e,listener:n,currentTarget:s}}function fc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ui(e,s),h!=null&&o.unshift(ml(e,h,f)),h=ui(e,n),h!=null&&o.push(ml(e,h,f))),e.tag===3)return o;e=e.return}return[]}function z1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yy(e,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,C=E.alternate,j=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||j===null||(C=j,h?(j=ui(s,f),j!=null&&p.unshift(ml(s,j,C))):h||(j=ui(s,f),j!=null&&p.push(ml(s,j,C)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var j1=/\r\n?/g,B1=/\u0000|\uFFFD/g;function Xy(e){return(typeof e=="string"?e:""+e).replace(j1,`
`).replace(B1,"")}function $y(e,n){return n=Xy(n),Xy(e)===n}function he(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||wn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&wn(e,""+o);break;case"className":Vn(e,"class",o);break;case"tabIndex":Vn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(e,s,o);break;case"style":Mo(e,o,f);break;case"data":if(n!=="object"){Vn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=pa(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&he(e,n,"name",h.name,h,null),he(e,n,"formEncType",h.formEncType,h,null),he(e,n,"formMethod",h.formMethod,h,null),he(e,n,"formTarget",h.formTarget,h,null)):(he(e,n,"encType",h.encType,h,null),he(e,n,"method",h.method,h,null),he(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=pa(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=li);break;case"onScroll":o!=null&&jt("scroll",e);break;case"onScrollEnd":o!=null&&jt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=pa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":jt("beforetoggle",e),jt("toggle",e),fa(e,"popover",o);break;case"xlinkActuate":Ge(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ge(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ge(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ge(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ge(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ge(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ge(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ge(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ge(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":fa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=fu.get(s)||s,fa(e,s,o))}}function hd(e,n,s,o,h,f){switch(s){case"style":Mo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?wn(e,o):(typeof o=="number"||typeof o=="bigint")&&wn(e,""+o);break;case"onScroll":o!=null&&jt("scroll",e);break;case"onScrollEnd":o!=null&&jt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[en]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):fa(e,s,o)}}}function hn(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",e),jt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:he(e,n,f,p,s,null)}}h&&he(e,n,"srcSet",s.srcSet,s,null),o&&he(e,n,"src",s.src,s,null);return;case"input":jt("invalid",e);var E=f=p=h=null,C=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":C=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:he(e,n,o,F,s,null)}}uu(e,f,E,C,j,p,h,!1);return;case"select":jt("invalid",e),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:he(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!o,n!=null?Ns(e,!!o,n,!1):s!=null&&Ns(e,!!o,s,!0);return;case"textarea":jt("invalid",e),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:he(e,n,p,E,s,null)}xs(e,o,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:he(e,n,C,o,s,null)}return;case"dialog":jt("beforetoggle",e),jt("toggle",e),jt("cancel",e),jt("close",e);break;case"iframe":case"object":jt("load",e);break;case"video":case"audio":for(o=0;o<dl.length;o++)jt(dl[o],e);break;case"image":jt("error",e),jt("load",e);break;case"details":jt("toggle",e);break;case"embed":case"source":case"link":jt("error",e),jt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:he(e,n,j,o,s,null)}return;default:if(ma(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&hd(e,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&he(e,n,E,o,s,null))}function H1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,C=null,j=null,F=null;for(q in s){var $=s[q];if(s.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=$;default:o.hasOwnProperty(q)||he(e,n,q,null,o,$)}}for(var B in o){var q=o[B];if($=s[B],o.hasOwnProperty(B)&&(q!=null||$!=null))switch(B){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":F=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==$&&he(e,n,B,q,o,$)}}da(e,p,E,C,j,F,f,h);return;case"select":q=p=E=B=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:o.hasOwnProperty(f)||he(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==C&&he(e,n,h,f,o,C)}n=E,s=p,o=q,B!=null?Ns(e,!!s,B,!1):!!o!=!!s&&(n!=null?Ns(e,!!s,n,!0):Ns(e,!!s,s?[]:"",!1));return;case"textarea":q=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:he(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&he(e,n,p,h,o,f)}cu(e,B,q);return;case"option":for(var ct in s)if(B=s[ct],s.hasOwnProperty(ct)&&B!=null&&!o.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:he(e,n,ct,null,o,B)}for(C in o)if(B=o[C],q=s[C],o.hasOwnProperty(C)&&B!==q&&(B!=null||q!=null))switch(C){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:he(e,n,C,B,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in s)B=s[Tt],s.hasOwnProperty(Tt)&&B!=null&&!o.hasOwnProperty(Tt)&&he(e,n,Tt,null,o,B);for(j in o)if(B=o[j],q=s[j],o.hasOwnProperty(j)&&B!==q&&(B!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:he(e,n,j,B,o,q)}return;default:if(ma(n)){for(var fe in s)B=s[fe],s.hasOwnProperty(fe)&&B!==void 0&&!o.hasOwnProperty(fe)&&hd(e,n,fe,void 0,o,B);for(F in o)B=o[F],q=s[F],!o.hasOwnProperty(F)||B===q||B===void 0&&q===void 0||hd(e,n,F,B,o,q);return}}for(var L in s)B=s[L],s.hasOwnProperty(L)&&B!=null&&!o.hasOwnProperty(L)&&he(e,n,L,null,o,B);for($ in o)B=o[$],q=s[$],!o.hasOwnProperty($)||B===q||B==null&&q==null||he(e,n,$,B,o,q)}function Zy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function q1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Zy(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],j=C.startTime;if(j>E)break;var F=C.transferSize,$=C.initiatorType;F&&Zy($)&&(C=C.responseEnd,p+=F*(C<E?1:(E-j)/(C-j)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var fd=null,dd=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function Jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function md(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var pd=null;function G1(){var e=window.event;return e&&e.type==="popstate"?e===pd?!1:(pd=e,!0):(pd=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,F1=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,Q1=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(e){return e_.resolve(null).then(e).catch(K1)}:t_;function K1(e){setTimeout(function(){throw e})}function Ws(e){return e==="head"}function n_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Xa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")pl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,pl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&pl(e.ownerDocument.body);s=h}while(s);Xa(n)}function i_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function gd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gd(s),ha(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Y1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ei(e.nextSibling),e===null)break}return null}function X1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ei(e.nextSibling),e===null))return null;return e}function s_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ei(e.nextSibling),e===null))return null;return e}function yd(e){return e.data==="$?"||e.data==="$~"}function _d(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function ei(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var vd=null;function r_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return ei(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function a_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function o_(e,n,s){switch(n=dc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function pl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ha(e)}var ni=new Map,l_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ms=rt.d;rt.d={f:Z1,r:J1,D:W1,C:tb,L:eb,m:nb,X:sb,S:ib,M:rb};function Z1(){var e=ms.f(),n=rc();return e||n}function J1(e){var n=Fn(e);n!==null&&n.tag===5&&n.type==="form"?wg(n):ms.r(e)}var Qa=typeof document>"u"?null:document;function u_(e,n,s){var o=Qa;if(o&&typeof n=="string"&&n){var h=Sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),l_.has(h)||(l_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),hn(n,"link",e),qe(n),o.head.appendChild(n)))}}function W1(e){ms.D(e),u_("dns-prefetch",e,null)}function tb(e,n){ms.C(e,n),u_("preconnect",e,n)}function eb(e,n,s){ms.L(e,n,s);var o=Qa;if(o&&e&&n){var h='link[rel="preload"][as="'+Sn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Sn(s.imageSizes)+'"]')):h+='[href="'+Sn(e)+'"]';var f=h;switch(n){case"style":f=Ka(e);break;case"script":f=Ya(e)}ni.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),ni.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(gl(f))||n==="script"&&o.querySelector(yl(f))||(n=o.createElement("link"),hn(n,"link",e),qe(n),o.head.appendChild(n)))}}function nb(e,n){ms.m(e,n);var s=Qa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Sn(o)+'"][href="'+Sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ya(e)}if(!ni.has(f)&&(e=S({rel:"modulepreload",href:e},n),ni.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(yl(f)))return}o=s.createElement("link"),hn(o,"link",e),qe(o),s.head.appendChild(o)}}}function ib(e,n,s){ms.S(e,n,s);var o=Qa;if(o&&e){var h=wi(o).hoistableStyles,f=Ka(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(gl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=ni.get(f))&&Ed(e,s);var C=p=o.createElement("link");qe(C),hn(C,"link",e),C._p=new Promise(function(j,F){C.onload=j,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function sb(e,n){ms.X(e,n);var s=Qa;if(s&&e){var o=wi(s).hoistableScripts,h=Ya(e),f=o.get(h);f||(f=s.querySelector(yl(h)),f||(e=S({src:e,async:!0},n),(n=ni.get(h))&&Td(e,n),f=s.createElement("script"),qe(f),hn(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function rb(e,n){ms.M(e,n);var s=Qa;if(s&&e){var o=wi(s).hoistableScripts,h=Ya(e),f=o.get(h);f||(f=s.querySelector(yl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=ni.get(h))&&Td(e,n),f=s.createElement("script"),qe(f),hn(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function c_(e,n,s,o){var h=(h=xt.current)?mc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ka(s.href),s=wi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ka(s.href);var f=wi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(gl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),ni.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ni.set(e,s),f||ab(h,e,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ya(s),s=wi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ka(e){return'href="'+Sn(e)+'"'}function gl(e){return'link[rel="stylesheet"]['+e+"]"}function h_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function ab(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),hn(n,"link",s),qe(n),e.head.appendChild(n))}function Ya(e){return'[src="'+Sn(e)+'"]'}function yl(e){return"script[async]"+e}function f_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Sn(s.href)+'"]');if(o)return n.instance=o,qe(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),qe(o),hn(o,"style",h),pc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Ka(s.href);var f=e.querySelector(gl(h));if(f)return n.state.loading|=4,n.instance=f,qe(f),f;o=h_(s),(h=ni.get(h))&&Ed(o,h),f=(e.ownerDocument||e).createElement("link"),qe(f);var p=f;return p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),hn(f,"link",o),n.state.loading|=4,pc(f,s.precedence,e),n.instance=f;case"script":return f=Ya(s.src),(h=e.querySelector(yl(f)))?(n.instance=h,qe(h),h):(o=s,(h=ni.get(f))&&(o=S({},s),Td(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),qe(h),hn(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,pc(o,s.precedence,e));return n.instance}function pc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function d_(e,n,s){if(gc===null){var o=new Map,h=gc=new Map;h.set(s,o)}else h=gc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[Ai]||f[He]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function m_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function ob(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function p_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function lb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ka(o.href),f=n.querySelector(gl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,qe(f);return}f=n.ownerDocument||n,o=h_(o),(h=ni.get(h))&&Ed(o,h),f=f.createElement("link"),qe(f);var p=f;p._p=new Promise(function(E,C){p.onload=E,p.onerror=C}),hn(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=yc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var bd=0;function ub(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&bd===0&&(bd=62500*q1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>bd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(cb,e),_c=null,yc.call(e))}function cb(e,n){if(!(n.state.loading&4)){var s=_c.get(e);if(s)var o=s.get(null);else{s=new Map,_c.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var _l={$$typeof:yt,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function hb(e,n,s,o,h,f,p,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function g_(e,n,s,o,h,f,p,E,C,j,F,$){return e=new hb(e,n,s,p,C,j,F,$,E),n=1,f===!0&&(n|=24),f=Ln(3,null,null,n),e.current=f,f.stateNode=e,n=tf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},rf(f),e}function y_(e){return e?(e=wa,e):wa}function __(e,n,s,o,h,f){h=y_(h),o.context===null?o.context=h:o.pendingContext=h,o=Hs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=qs(e,o,n),s!==null&&(xn(s,e,n),$o(s,e,n))}function v_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ad(e,n){v_(e,n),(e=e.alternate)&&v_(e,n)}function E_(e){if(e.tag===13||e.tag===31){var n=Br(e,67108864);n!==null&&xn(n,e,67108864),Ad(e,67108864)}}function T_(e){if(e.tag===13||e.tag===31){var n=Bn();n=Nr(n);var s=Br(e,n);s!==null&&xn(s,e,n),Ad(e,n)}}var Ec=!0;function fb(e,n,s,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=2,Sd(e,n,s,o)}finally{rt.p=f,G.T=h}}function db(e,n,s,o){var h=G.T;G.T=null;var f=rt.p;try{rt.p=8,Sd(e,n,s,o)}finally{rt.p=f,G.T=h}}function Sd(e,n,s,o){if(Ec){var h=wd(o);if(h===null)cd(e,n,o,Tc,s),A_(e,o);else if(pb(h,e,n,s,o))o.stopPropagation();else if(A_(e,o),n&4&&-1<mb.indexOf(e)){for(;h!==null;){var f=Fn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=vi(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var C=1<<31-Le(p);E.entanglements[1]|=C,p&=~C}Pi(f),(ie&6)===0&&(ic=St()+500,fl(0))}}break;case 31:case 13:E=Br(f,2),E!==null&&xn(E,f,2),rc(),Ad(f,2)}if(f=wd(o),f===null&&cd(e,n,o,Tc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else cd(e,n,o,null,s)}}function wd(e){return e=Qn(e),Rd(e)}var Tc=null;function Rd(e){if(Tc=null,e=Si(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Tc=e,null}function b_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(an()){case we:return 2;case $t:return 8;case Dt:case ke:return 32;case ve:return 268435456;default:return 32}default:return 32}}var Cd=!1,tr=null,er=null,nr=null,vl=new Map,El=new Map,ir=[],mb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A_(e,n){switch(e){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(n.pointerId)}}function Tl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Fn(n),n!==null&&E_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function pb(e,n,s,o,h){switch(n){case"focusin":return tr=Tl(tr,e,n,s,o,h),!0;case"dragenter":return er=Tl(er,e,n,s,o,h),!0;case"mouseover":return nr=Tl(nr,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return vl.set(f,Tl(vl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,El.set(f,Tl(El.get(f)||null,e,n,s,o,h)),!0}return!1}function S_(e){var n=Si(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,ai(e.priority,function(){T_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,ai(e.priority,function(){T_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=wd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Vo=o,s.target.dispatchEvent(o),Vo=null}else return n=Fn(s),n!==null&&E_(n),e.blockedOn=s,!1;n.shift()}return!0}function w_(e,n,s){bc(e)&&s.delete(n)}function gb(){Cd=!1,tr!==null&&bc(tr)&&(tr=null),er!==null&&bc(er)&&(er=null),nr!==null&&bc(nr)&&(nr=null),vl.forEach(w_),El.forEach(w_)}function Ac(e,n){e.blockedOn===n&&(e.blockedOn=null,Cd||(Cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,gb)))}var Sc=null;function R_(e){Sc!==e&&(Sc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Rd(o||s)===null)continue;break}var f=Fn(s);f!==null&&(e.splice(n,3),n-=3,wf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Xa(e){function n(C){return Ac(C,e)}tr!==null&&Ac(tr,e),er!==null&&Ac(er,e),nr!==null&&Ac(nr,e),vl.forEach(n),El.forEach(n);for(var s=0;s<ir.length;s++){var o=ir[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ir.length&&(s=ir[0],s.blockedOn===null);)S_(s),s.blockedOn===null&&ir.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[en]||null;if(typeof f=="function")p||R_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[en]||null)E=p.formAction;else if(Rd(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),R_(s)}}}function C_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Id(e){this._internalRoot=e}wc.prototype.render=Id.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Bn();__(s,o,e,n,null,null)},wc.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;__(e.current,2,null,e,null,null),rc(),n[bi]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var s=0;s<ir.length&&n!==0&&n<ir[s].priority;s++);ir.splice(s,0,e),s===0&&S_(e)}};var I_=t.version;if(I_!=="19.2.0")throw Error(a(527,I_,"19.2.0"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var yb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{At=Rc.inject(yb),Ut=Rc}catch{}}return Al.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=kg,f=Lg,p=Ug;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=g_(e,1,!1,null,null,s,o,null,h,f,p,C_),e[bi]=n.current,ud(e),new Id(n)},Al.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=kg,p=Lg,E=Ug,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=g_(e,1,!0,n,s??null,o,h,C,f,p,E,C_),n.context=y_(null),s=n.current,o=Bn(),o=Nr(o),h=Hs(o),h.callback=null,qs(s,h,o),s=o,n.current.lanes=s,Cr(n,s),Pi(n),e[bi]=n.current,ud(e),new wc(n)},Al.version="19.2.0",Al}var P_;function Cb(){if(P_)return Dd.exports;P_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Dd.exports=Rb(),Dd.exports}var Ib=Cb();const Nb=()=>{};var z_={};const m0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},xb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],v=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},p0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,v=l+2<r.length,y=v?r[l+2]:0,b=c>>2,S=(c&3)<<4|g>>4;let V=(g&15)<<2|y>>6,Q=y&63;v||(Q=64,d||(V=64)),a.push(i[b],i[S],i[V],i[Q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(m0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):xb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||y==null||S==null)throw new Db;const V=c<<2|g>>4;if(a.push(V),y!==64){const Q=g<<4&240|y>>2;if(a.push(Q),S!==64){const Z=y<<6&192|S;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Db extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ob=function(r){const t=m0(r);return p0.encodeByteArray(t,!0)},Fc=function(r){return Ob(r).replace(/\./g,"")},g0=function(r){try{return p0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Mb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Vb=()=>Mb().__FIREBASE_DEFAULTS__,kb=()=>{if(typeof process>"u"||typeof z_>"u")return;const r=z_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Lb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&g0(r[1]);return t&&JSON.parse(t)},hh=()=>{try{return Nb()||Vb()||kb()||Lb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},y0=r=>hh()?.emulatorHosts?.[r],Ub=r=>{const t=y0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},_0=()=>hh()?.config,v0=r=>hh()?.[`_${r}`];class Pb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function go(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function E0(r){return(await fetch(r,{credentials:"include"})).ok}function zb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Fc(JSON.stringify(i)),Fc(JSON.stringify(d)),""].join(".")}const Nl={};function jb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Nl))Nl[t]?r.emulator.push(t):r.prod.push(t);return r}function Bb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let j_=!1;function T0(r,t){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||Nl[r]===t||Nl[r]||j_)return;Nl[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=jb().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,Q){V.setAttribute("width","24"),V.setAttribute("id",Q),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{j_=!0,d()},V}function b(V,Q){V.setAttribute("id",Q),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function S(){const V=Bb(a),Q=i("text"),Z=document.getElementById(Q)||document.createElement("span"),st=i("learnmore"),w=document.getElementById(st)||document.createElement("a"),Et=i("preprendIcon"),Rt=document.getElementById(Et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const yt=V.element;g(yt),b(w,st);const ee=y();v(Rt,Et),yt.append(Rt,Z,w,ee),document.body.appendChild(yt)}c?(Z.innerText="Preview backend disconnected.",Rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function qb(){const r=hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Gb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Qb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Kb(){const r=vn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Yb(){return!qb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xb(){try{return typeof indexedDB=="object"}catch{return!1}}function $b(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const Zb="FirebaseError";class Ss extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=Zb,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?Jb(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Ss(l,g,a)}}function Jb(r,t){return r.replace(Wb,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const Wb=/\{\$([^}]+)}/g;function tA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function gr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(B_(c)&&B_(d)){if(!gr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function B_(r){return r!==null&&typeof r=="object"}function Gl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function eA(r,t){const i=new nA(r,t);return i.subscribe.bind(i)}class nA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");iA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=kd),l.error===void 0&&(l.error=kd),l.complete===void 0&&(l.complete=kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function kd(){}function An(r){return r&&r._delegate?r._delegate:r}class ia{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ta="[DEFAULT]";class sA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Pb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(aA(t))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=ta){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ta){return this.instances.has(t)}getOptions(t=ta){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:rA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=ta){return this.component?this.component.multipleInstances?t:ta:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rA(r){return r===ta?void 0:r}function aA(r){return r.instantiationMode==="EAGER"}class oA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new sA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ft;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ft||(Ft={}));const lA={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},uA=Ft.INFO,cA={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},hA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=cA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bm{constructor(t){this.name=t,this._logLevel=uA,this._logHandler=hA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?lA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...t),this._logHandler(this,Ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...t),this._logHandler(this,Ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...t),this._logHandler(this,Ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...t),this._logHandler(this,Ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...t),this._logHandler(this,Ft.ERROR,...t)}}const fA=(r,t)=>t.some(i=>r instanceof i);let H_,q_;function dA(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mA(){return q_||(q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b0=new WeakMap,Xd=new WeakMap,A0=new WeakMap,Ld=new WeakMap,Am=new WeakMap;function pA(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(hr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&b0.set(i,r)}).catch(()=>{}),Am.set(t,r),t}function gA(r){if(Xd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Xd.set(r,t)}let $d={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Xd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||A0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return hr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function yA(r){$d=r($d)}function _A(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Ud(this),t,...i);return A0.set(a,t.sort?t.sort():[t]),hr(a)}:mA().includes(r)?function(...t){return r.apply(Ud(this),t),hr(b0.get(this))}:function(...t){return hr(r.apply(Ud(this),t))}}function vA(r){return typeof r=="function"?_A(r):(r instanceof IDBTransaction&&gA(r),fA(r,dA())?new Proxy(r,$d):r)}function hr(r){if(r instanceof IDBRequest)return pA(r);if(Ld.has(r))return Ld.get(r);const t=vA(r);return t!==r&&(Ld.set(r,t),Am.set(t,r)),t}const Ud=r=>Am.get(r);function EA(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=hr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(hr(d.result),v.oldVersion,v.newVersion,hr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),l&&v.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const TA=["get","getKey","getAll","getAllKeys","count"],bA=["put","add","delete","clear"],Pd=new Map;function G_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Pd.get(t))return Pd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=bA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||TA.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,l?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&v.done]))[0]};return Pd.set(t,c),c}yA(r=>({...r,get:(t,i,a)=>G_(t,i)||r.get(t,i,a),has:(t,i)=>!!G_(t,i)||r.has(t,i)}));class AA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(SA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function SA(r){return r.getComponent()?.type==="VERSION"}const Zd="@firebase/app",F_="0.14.6";const _s=new bm("@firebase/app"),wA="@firebase/app-compat",RA="@firebase/analytics-compat",CA="@firebase/analytics",IA="@firebase/app-check-compat",NA="@firebase/app-check",xA="@firebase/auth",DA="@firebase/auth-compat",OA="@firebase/database",MA="@firebase/data-connect",VA="@firebase/database-compat",kA="@firebase/functions",LA="@firebase/functions-compat",UA="@firebase/installations",PA="@firebase/installations-compat",zA="@firebase/messaging",jA="@firebase/messaging-compat",BA="@firebase/performance",HA="@firebase/performance-compat",qA="@firebase/remote-config",GA="@firebase/remote-config-compat",FA="@firebase/storage",QA="@firebase/storage-compat",KA="@firebase/firestore",YA="@firebase/ai",XA="@firebase/firestore-compat",$A="firebase",ZA="12.6.0";const Jd="[DEFAULT]",JA={[Zd]:"fire-core",[wA]:"fire-core-compat",[CA]:"fire-analytics",[RA]:"fire-analytics-compat",[NA]:"fire-app-check",[IA]:"fire-app-check-compat",[xA]:"fire-auth",[DA]:"fire-auth-compat",[OA]:"fire-rtdb",[MA]:"fire-data-connect",[VA]:"fire-rtdb-compat",[kA]:"fire-fn",[LA]:"fire-fn-compat",[UA]:"fire-iid",[PA]:"fire-iid-compat",[zA]:"fire-fcm",[jA]:"fire-fcm-compat",[BA]:"fire-perf",[HA]:"fire-perf-compat",[qA]:"fire-rc",[GA]:"fire-rc-compat",[FA]:"fire-gcs",[QA]:"fire-gcs-compat",[KA]:"fire-fst",[XA]:"fire-fst-compat",[YA]:"fire-vertex","fire-js":"fire-js",[$A]:"fire-js-all"};const Qc=new Map,WA=new Map,Wd=new Map;function Q_(r,t){try{r.container.addComponent(t)}catch(i){_s.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function ao(r){const t=r.name;if(Wd.has(t))return _s.debug(`There were multiple attempts to register component ${t}.`),!1;Wd.set(t,r);for(const i of Qc.values())Q_(i,r);for(const i of WA.values())Q_(i,r);return!0}function Sm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ii(r){return r==null?!1:r.settings!==void 0}const tS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new ql("app","Firebase",tS);class eS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const yo=ZA;function S0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Jd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw fr.create("bad-app-name",{appName:String(l)});if(i||(i=_0()),!i)throw fr.create("no-options");const c=Qc.get(l);if(c){if(gr(i,c.options)&&gr(a,c.config))return c;throw fr.create("duplicate-app",{appName:l})}const d=new oA(l);for(const v of Wd.values())d.addComponent(v);const g=new eS(i,a,d);return Qc.set(l,g),g}function w0(r=Jd){const t=Qc.get(r);if(!t&&r===Jd&&_0())return S0();if(!t)throw fr.create("no-app",{appName:r});return t}function dr(r,t,i){let a=JA[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_s.warn(d.join(" "));return}ao(new ia(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const nS="firebase-heartbeat-database",iS=1,kl="firebase-heartbeat-store";let zd=null;function R0(){return zd||(zd=EA(nS,iS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(kl)}catch(i){console.warn(i)}}}}).catch(r=>{throw fr.create("idb-open",{originalErrorMessage:r.message})})),zd}async function sS(r){try{const i=(await R0()).transaction(kl),a=await i.objectStore(kl).get(C0(r));return await i.done,a}catch(t){if(t instanceof Ss)_s.warn(t.message);else{const i=fr.create("idb-get",{originalErrorMessage:t?.message});_s.warn(i.message)}}}async function K_(r,t){try{const a=(await R0()).transaction(kl,"readwrite");await a.objectStore(kl).put(t,C0(r)),await a.done}catch(i){if(i instanceof Ss)_s.warn(i.message);else{const a=fr.create("idb-set",{originalErrorMessage:i?.message});_s.warn(a.message)}}}function C0(r){return`${r.name}!${r.options.appId}`}const rS=1024,aS=30;class oS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new uS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Y_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>aS){const l=cS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){_s.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Y_(),{heartbeatsToSend:i,unsentEntries:a}=lS(this._heartbeatsCache.heartbeats),l=Fc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return _s.warn(t),""}}}function Y_(){return new Date().toISOString().substring(0,10)}function lS(r,t=rS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),X_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),X_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class uS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xb()?$b().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await sS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return K_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return K_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function X_(r){return Fc(JSON.stringify({version:2,heartbeats:r})).length}function cS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function hS(r){ao(new ia("platform-logger",t=>new AA(t),"PRIVATE")),ao(new ia("heartbeat",t=>new oS(t),"PRIVATE")),dr(Zd,F_,r),dr(Zd,F_,"esm2020"),dr("fire-js","")}hS("");var fS="firebase",dS="12.6.0";dr(fS,dS,"app");function I0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mS=I0,N0=new ql("auth","Firebase",I0());const Kc=new bm("@firebase/auth");function pS(r,...t){Kc.logLevel<=Ft.WARN&&Kc.warn(`Auth (${yo}): ${r}`,...t)}function kc(r,...t){Kc.logLevel<=Ft.ERROR&&Kc.error(`Auth (${yo}): ${r}`,...t)}function vs(r,...t){throw wm(r,...t)}function ji(r,...t){return wm(r,...t)}function x0(r,t,i){const a={...mS(),[t]:i};return new ql("auth","Firebase",a).create(t,{appName:r.name})}function ys(r){return x0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return N0.create(r,...t)}function wt(r,t,...i){if(!r)throw wm(t,...i)}function ps(r){const t="INTERNAL ASSERTION FAILED: "+r;throw kc(t),new Error(t)}function Es(r,t){r||ps(t)}function tm(){return typeof self<"u"&&self.location?.href||""}function gS(){return $_()==="http:"||$_()==="https:"}function $_(){return typeof self<"u"&&self.location?.protocol||null}function yS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gS()||Fb()||"connection"in navigator)?navigator.onLine:!0}function _S(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Fl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Es(i>t,"Short delay should be less than long delay!"),this.isMobile=Hb()||Qb()}get(){return yS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rm(r,t){Es(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class D0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const ES=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TS=new Fl(3e4,6e4);function Ql(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function _o(r,t,i,a,l={}){return O0(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Gl({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return Gb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&go(r.emulatorConfig.host)&&(y.credentials="include"),D0.fetch()(await M0(r,r.config.apiHost,i,g),y)})}async function O0(r,t,i){r._canInitEmulator=!1;const a={...vS,...t};try{const l=new bS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Cc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Cc(r,"user-disabled",d);const b=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw x0(r,b,y);vs(r,b)}}catch(l){if(l instanceof Ss)throw l;vs(r,"network-request-failed",{message:String(l)})}}async function Cm(r,t,i,a,l={}){const c=await _o(r,t,i,a,l);return"mfaPendingCredential"in c&&vs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function M0(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?Rm(r.config,l):`${r.config.apiScheme}://${l}`;return ES.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class bS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ji(this.auth,"network-request-failed")),TS.get())})}}function Cc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ji(r,t,a);return l.customData._tokenResponse=i,l}async function AS(r,t){return _o(r,"POST","/v1/accounts:delete",t)}async function Yc(r,t){return _o(r,"POST","/v1/accounts:lookup",t)}function xl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function SS(r,t=!1){const i=An(r),a=await i.getIdToken(t),l=Im(a);wt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:xl(jd(l.auth_time)),issuedAtTime:xl(jd(l.iat)),expirationTime:xl(jd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function jd(r){return Number(r)*1e3}function Im(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const l=g0(i);return l?JSON.parse(l):(kc("Failed to decode base64 JWT payload"),null)}catch(l){return kc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Z_(r){const t=Im(r);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ll(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Ss&&wS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function wS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class RS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class em{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xc(r){const t=r.auth,i=await r.getIdToken(),a=await Ll(r,Yc(t,{idToken:i}));wt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?V0(l.providerUserInfo):[],d=IS(r.providerData,c),g=r.isAnonymous,v=!(r.email&&l.passwordHash)&&!d?.length,y=g?v:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new em(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function CS(r){const t=An(r);await Xc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function IS(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function V0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function NS(r,t){const i=await O0(r,{},async()=>{const a=Gl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await M0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return r.emulatorConfig&&go(r.emulatorConfig.host)&&(v.credentials="include"),D0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function xS(r,t){return _o(r,"POST","/v2/accounts:revokeToken",Ql(r,t))}class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Z_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const i=Z_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await NS(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new eo;return a&&(wt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(wt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(wt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return ps("not implemented")}}function rr(r,t){wt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class gi{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new RS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new em(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ll(this,this.stsTokenManager.getToken(this.auth,t));return wt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return SS(this,t)}reload(){return CS(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new gi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Xc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(ys(this.auth));const t=await this.getIdToken();return await Ll(this,AS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:V,isAnonymous:Q,providerData:Z,stsTokenManager:st}=i;wt(S&&st,t,"internal-error");const w=eo.fromJSON(this.name,st);wt(typeof S=="string",t,"internal-error"),rr(a,t.name),rr(l,t.name),wt(typeof V=="boolean",t,"internal-error"),wt(typeof Q=="boolean",t,"internal-error"),rr(c,t.name),rr(d,t.name),rr(g,t.name),rr(v,t.name),rr(y,t.name),rr(b,t.name);const Et=new gi({uid:S,auth:t,email:l,emailVerified:V,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:w,createdAt:y,lastLoginAt:b});return Z&&Array.isArray(Z)&&(Et.providerData=Z.map(Rt=>({...Rt}))),v&&(Et._redirectEventId=v),Et}static async _fromIdTokenResponse(t,i,a=!1){const l=new eo;l.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Xc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];wt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?V0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new eo;g.updateFromIdToken(a);const v=new gi({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new em(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const J_=new Map;function gs(r){Es(r instanceof Function,"Expected a class definition");let t=J_.get(r);return t?(Es(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,J_.set(r,t),t)}class k0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}k0.type="NONE";const W_=k0;function Lc(r,t,i){return`firebase:${r}:${t}:${i}`}class no{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Lc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Lc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Yc(this.auth,{idToken:t}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,t):null}return gi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new no(gs(W_),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||gs(W_);const d=Lc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const b=await y._get(d);if(b){let S;if(typeof b=="string"){const V=await Yc(t,{idToken:b}).catch(()=>{});if(!V)break;S=await gi._fromGetAccountInfoResponse(t,V,b)}else S=gi._fromJSON(t,b);y!==c&&(g=S),c=y;break}}catch{}const v=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new no(c,t,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new no(c,t,a))}}function tv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(z0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(L0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(B0(t))return"Blackberry";if(H0(t))return"Webos";if(U0(t))return"Safari";if((t.includes("chrome/")||P0(t))&&!t.includes("edge/"))return"Chrome";if(j0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function L0(r=vn()){return/firefox\//i.test(r)}function U0(r=vn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function P0(r=vn()){return/crios\//i.test(r)}function z0(r=vn()){return/iemobile/i.test(r)}function j0(r=vn()){return/android/i.test(r)}function B0(r=vn()){return/blackberry/i.test(r)}function H0(r=vn()){return/webos/i.test(r)}function Nm(r=vn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function DS(r=vn()){return Nm(r)&&!!window.navigator?.standalone}function OS(){return Kb()&&document.documentMode===10}function q0(r=vn()){return Nm(r)||j0(r)||H0(r)||B0(r)||/windows phone/i.test(r)||z0(r)}function G0(r,t=[]){let i;switch(r){case"Browser":i=tv(vn());break;case"Worker":i=`${tv(vn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${yo}/${a}`}class MS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const v=t(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function VS(r,t={}){return _o(r,"GET","/v2/passwordPolicy",Ql(r,t))}const kS=6;class LS{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??kS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class US{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ev(this),this.idTokenSubscription=new ev(this),this.beforeStateQueue=new MS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=gs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await no.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Yc(this,{idToken:t}),a=await gi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Xc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=_S()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ii(this.app))return Promise.reject(ys(this));const i=t?An(t):null;return i&&wt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ii(this.app)?Promise.reject(ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await VS(this),i=new LS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ql("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await xS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&gs(t)||this._popupRedirectResolver;wt(i,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[gs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,l);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=G0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&pS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Kl(r){return An(r)}class ev{constructor(t){this.auth=t,this.observer=null,this.addObserver=eA(i=>this.observer=i)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PS(r){xm=r}function zS(r){return xm.loadJS(r)}function jS(){return xm.gapiScript}function BS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function HS(r,t){const i=Sm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(gr(c,t??{}))return l;vs(l,"already-initialized")}return i.initialize({options:t})}function qS(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(gs);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function GS(r,t,i){const a=Kl(r);wt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=F0(t),{host:d,port:g}=FS(t),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){wt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),wt(gr(y,a.config.emulator)&&gr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,go(d)?(E0(`${c}//${d}${v}`),T0("Auth",!0)):QS()}function F0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function FS(r){const t=F0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:nv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:nv(d)}}}function nv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function QS(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Q0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ps("not implemented")}_getIdTokenResponse(t){return ps("not implemented")}_linkToIdToken(t,i){return ps("not implemented")}_getReauthenticationResolver(t){return ps("not implemented")}}async function io(r,t){return Cm(r,"POST","/v1/accounts:signInWithIdp",Ql(r,t))}const KS="http://localhost";class sa extends Q0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new sa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):vs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new sa(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return io(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,io(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,io(t,i)}buildRequest(){const t={requestUri:KS,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Gl(i)}return t}}class K0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Yl extends K0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ar extends Yl{constructor(){super("facebook.com")}static credential(t){return sa._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ar.credential(t.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";class or extends Yl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return sa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return or.credential(i,a)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";class lr extends Yl{constructor(){super("github.com")}static credential(t){return sa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return lr.credential(t.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";class ur extends Yl{constructor(){super("twitter.com")}static credential(t,i){return sa._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return ur.credential(i,a)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";async function YS(r,t){return Cm(r,"POST","/v1/accounts:signUp",Ql(r,t))}class Ts{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await gi._fromIdTokenResponse(t,a,l),d=iv(a);return new Ts({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=iv(a);return new Ts({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function iv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function XS(r){if(ii(r.app))return Promise.reject(ys(r));const t=Kl(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Ts({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await YS(t,{returnSecureToken:!0}),a=await Ts._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class $c extends Ss{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new $c(t,i,a,l)}}function Y0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(r,c,t,a):c})}async function $S(r,t,i=!1){const a=await Ll(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Ts._forOperation(r,"link",a)}async function ZS(r,t,i=!1){const{auth:a}=r;if(ii(a.app))return Promise.reject(ys(a));const l="reauthenticate";try{const c=await Ll(r,Y0(a,l,t,r),i);wt(c.idToken,a,"internal-error");const d=Im(c.idToken);wt(d,a,"internal-error");const{sub:g}=d;return wt(r.uid===g,a,"user-mismatch"),Ts._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&vs(a,"user-mismatch"),c}}async function JS(r,t,i=!1){if(ii(r.app))return Promise.reject(ys(r));const a="signIn",l=await Y0(r,a,t),c=await Ts._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function WS(r,t){return Cm(r,"POST","/v1/accounts:signInWithCustomToken",Ql(r,t))}async function tw(r,t){if(ii(r.app))return Promise.reject(ys(r));const i=Kl(r),a=await WS(i,{token:t,returnSecureToken:!0}),l=await Ts._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function ew(r,t,i,a){return An(r).onIdTokenChanged(t,i,a)}function nw(r,t,i){return An(r).beforeAuthStateChanged(t,i)}function iw(r,t,i,a){return An(r).onAuthStateChanged(t,i,a)}const Zc="__sak";class X0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const sw=1e3,rw=10;class $0 extends X0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=q0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);OS()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,rw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},sw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}$0.type="LOCAL";const aw=$0;class Z0 extends X0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Z0.type="SESSION";const J0=Z0;function ow(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class fh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new fh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await ow(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fh.receivers=[];function Dm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class lw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=Dm("",20);l.port1.start();const b=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const V=S;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(b),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Bi(){return window}function uw(r){Bi().location.href=r}function W0(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function cw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hw(){return navigator?.serviceWorker?.controller||null}function fw(){return W0()?self:null}const tE="firebaseLocalStorageDb",dw=1,Jc="firebaseLocalStorage",eE="fbase_key";class Xl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function dh(r,t){return r.transaction([Jc],t?"readwrite":"readonly").objectStore(Jc)}function mw(){const r=indexedDB.deleteDatabase(tE);return new Xl(r).toPromise()}function nm(){const r=indexedDB.open(tE,dw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Jc,{keyPath:eE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Jc)?t(a):(a.close(),await mw(),t(await nm()))})})}async function sv(r,t,i){const a=dh(r,!0).put({[eE]:t,value:i});return new Xl(a).toPromise()}async function pw(r,t){const i=dh(r,!1).get(t),a=await new Xl(i).toPromise();return a===void 0?null:a.value}function rv(r,t){const i=dh(r,!0).delete(t);return new Xl(i).toPromise()}const gw=800,yw=3;class nE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>yw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return W0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fh._getInstance(fw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cw(),!this.activeServiceWorker)return;this.sender=new lw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||hw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await nm();return await sv(t,Zc,"1"),await rv(t,Zc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>sv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>pw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>rv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=dh(l,!1).getAll();return new Xl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nE.type="LOCAL";const _w=nE;new Fl(3e4,6e4);function vw(r,t){return t?gs(t):(wt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Om extends Q0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return io(t,this._buildIdpRequest())}_linkToIdToken(t,i){return io(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return io(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Ew(r){return JS(r.auth,new Om(r),r.bypassAuthState)}function Tw(r){const{auth:t,user:i}=r;return wt(i,t,"internal-error"),ZS(i,new Om(r),r.bypassAuthState)}async function bw(r){const{auth:t,user:i}=r;return wt(i,t,"internal-error"),$S(i,new Om(r),r.bypassAuthState)}class iE{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Ew;case"linkViaPopup":case"linkViaRedirect":return bw;case"reauthViaPopup":case"reauthViaRedirect":return Tw;default:vs(this.auth,"internal-error")}}resolve(t){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Aw=new Fl(2e3,1e4);class to extends iE{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const t=Dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Aw.get())};t()}}to.currentPopupAction=null;const Sw="pendingRedirect",Uc=new Map;class ww extends iE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const a=await Rw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Rw(r,t){const i=Nw(t),a=Iw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Cw(r,t){Uc.set(r._key(),t)}function Iw(r){return gs(r._redirectPersistence)}function Nw(r){return Lc(Sw,r.config.apiKey,r.name)}async function xw(r,t,i=!1){if(ii(r.app))return Promise.reject(ys(r));const a=Kl(r),l=vw(a,t),d=await new ww(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Dw=600*1e3;class Ow{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Mw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!sE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ji(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Dw&&this.cachedEventUids.clear(),this.cachedEventUids.has(av(t))}saveEventToCache(t){this.cachedEventUids.add(av(t)),this.lastProcessedEventTime=Date.now()}}function av(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function sE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Mw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sE(r);default:return!1}}async function Vw(r,t={}){return _o(r,"GET","/v1/projects",t)}const kw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lw=/^https?/;async function Uw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Vw(r);for(const i of t)try{if(Pw(i))return}catch{}vs(r,"unauthorized-domain")}function Pw(r){const t=tm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Lw.test(i))return!1;if(kw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const zw=new Fl(3e4,6e4);function ov(){const r=Bi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function jw(r){return new Promise((t,i)=>{function a(){ov(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ov(),i(ji(r,"network-request-failed"))},timeout:zw.get()})}if(Bi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Bi().gapi?.load)a();else{const l=BS("iframefcb");return Bi()[l]=()=>{gapi.load?a():i(ji(r,"network-request-failed"))},zS(`${jS()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Pc=null,t})}let Pc=null;function Bw(r){return Pc=Pc||jw(r),Pc}const Hw=new Fl(5e3,15e3),qw="__/auth/iframe",Gw="emulator/auth/iframe",Fw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kw(r){const t=r.config;wt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Rm(t,Gw):`https://${r.config.authDomain}/${qw}`,a={apiKey:t.apiKey,appName:r.name,v:yo},l=Qw.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Gl(a).slice(1)}`}async function Yw(r){const t=await Bw(r),i=Bi().gapi;return wt(i,r,"internal-error"),t.open({where:document.body,url:Kw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=ji(r,"network-request-failed"),g=Bi().setTimeout(()=>{c(d)},Hw.get());function v(){Bi().clearTimeout(g),l(a)}a.ping(v).then(v,()=>{c(d)})}))}const Xw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$w=500,Zw=600,Jw="_blank",Ww="http://localhost";class lv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tR(r,t,i,a=$w,l=Zw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...Xw,width:a.toString(),height:l.toString(),top:c,left:d},y=vn().toLowerCase();i&&(g=P0(y)?Jw:i),L0(y)&&(t=t||Ww,v.scrollbars="yes");const b=Object.entries(v).reduce((V,[Q,Z])=>`${V}${Q}=${Z},`,"");if(DS(y)&&g!=="_self")return eR(t||"",g),new lv(null);const S=window.open(t||"",g,b);wt(S,r,"popup-blocked");try{S.focus()}catch{}return new lv(S)}function eR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const nR="__/auth/handler",iR="emulator/auth/handler",sR=encodeURIComponent("fac");async function uv(r,t,i,a,l,c){wt(r.config.authDomain,r,"auth-domain-config-required"),wt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:yo,eventId:l};if(t instanceof K0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",tA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(t instanceof Yl){const b=t.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const v=await r._getAppCheckToken(),y=v?`#${sR}=${encodeURIComponent(v)}`:"";return`${rR(r)}?${Gl(g).slice(1)}${y}`}function rR({config:r}){return r.emulator?Rm(r,iR):`https://${r.authDomain}/${nR}`}const Bd="webStorageSupport";class aR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J0,this._completeRedirectFn=xw,this._overrideRedirectResult=Cw}async _openPopup(t,i,a,l){Es(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await uv(t,i,a,tm(),l);return tR(t,c,Dm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await uv(t,i,a,tm(),l);return uw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Es(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Yw(t),a=new Ow(t);return i.register("authEvent",l=>(wt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Bd,{type:Bd},l=>{const c=l?.[0]?.[Bd];c!==void 0&&i(!!c),vs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Uw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return q0()||U0()||Nm()}}const oR=aR;var cv="@firebase/auth",hv="1.11.1";class lR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cR(r){ao(new ia("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;wt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:G0(r)},y=new US(a,l,c,v);return qS(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),ao(new ia("auth-internal",t=>{const i=Kl(t.getProvider("auth").getImmediate());return(a=>new lR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(cv,hv,uR(r)),dr(cv,hv,"esm2020")}const hR=300,fR=v0("authIdTokenMaxAge")||hR;let fv=null;const dR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>fR)return;const l=i?.token;fv!==l&&(fv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function mR(r=w0()){const t=Sm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=HS(r,{popupRedirectResolver:oR,persistence:[_w,aw,J0]}),a=v0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=dR(c.toString());nw(i,d,()=>d(i.currentUser)),ew(i,g=>d(g))}}const l=y0("auth");return l&&GS(i,`http://${l}`),i}function pR(){return document.getElementsByTagName("head")?.[0]??document}PS({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=ji("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",pR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cR("Browser");var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mr,rE;(function(){var r;function t(N,A){function I(){}I.prototype=A.prototype,N.F=A.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(k,x,U){for(var R=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)R[ye-2]=arguments[ye];return A.prototype[x].apply(k,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,A,I){I||(I=0);const k=Array(16);if(typeof A=="string")for(var x=0;x<16;++x)k[x]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(x=0;x<16;++x)k[x]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=N.g[0],I=N.g[1],x=N.g[2];let U=N.g[3],R;R=A+(U^I&(x^U))+k[0]+3614090360&4294967295,A=I+(R<<7&4294967295|R>>>25),R=U+(x^A&(I^x))+k[1]+3905402710&4294967295,U=A+(R<<12&4294967295|R>>>20),R=x+(I^U&(A^I))+k[2]+606105819&4294967295,x=U+(R<<17&4294967295|R>>>15),R=I+(A^x&(U^A))+k[3]+3250441966&4294967295,I=x+(R<<22&4294967295|R>>>10),R=A+(U^I&(x^U))+k[4]+4118548399&4294967295,A=I+(R<<7&4294967295|R>>>25),R=U+(x^A&(I^x))+k[5]+1200080426&4294967295,U=A+(R<<12&4294967295|R>>>20),R=x+(I^U&(A^I))+k[6]+2821735955&4294967295,x=U+(R<<17&4294967295|R>>>15),R=I+(A^x&(U^A))+k[7]+4249261313&4294967295,I=x+(R<<22&4294967295|R>>>10),R=A+(U^I&(x^U))+k[8]+1770035416&4294967295,A=I+(R<<7&4294967295|R>>>25),R=U+(x^A&(I^x))+k[9]+2336552879&4294967295,U=A+(R<<12&4294967295|R>>>20),R=x+(I^U&(A^I))+k[10]+4294925233&4294967295,x=U+(R<<17&4294967295|R>>>15),R=I+(A^x&(U^A))+k[11]+2304563134&4294967295,I=x+(R<<22&4294967295|R>>>10),R=A+(U^I&(x^U))+k[12]+1804603682&4294967295,A=I+(R<<7&4294967295|R>>>25),R=U+(x^A&(I^x))+k[13]+4254626195&4294967295,U=A+(R<<12&4294967295|R>>>20),R=x+(I^U&(A^I))+k[14]+2792965006&4294967295,x=U+(R<<17&4294967295|R>>>15),R=I+(A^x&(U^A))+k[15]+1236535329&4294967295,I=x+(R<<22&4294967295|R>>>10),R=A+(x^U&(I^x))+k[1]+4129170786&4294967295,A=I+(R<<5&4294967295|R>>>27),R=U+(I^x&(A^I))+k[6]+3225465664&4294967295,U=A+(R<<9&4294967295|R>>>23),R=x+(A^I&(U^A))+k[11]+643717713&4294967295,x=U+(R<<14&4294967295|R>>>18),R=I+(U^A&(x^U))+k[0]+3921069994&4294967295,I=x+(R<<20&4294967295|R>>>12),R=A+(x^U&(I^x))+k[5]+3593408605&4294967295,A=I+(R<<5&4294967295|R>>>27),R=U+(I^x&(A^I))+k[10]+38016083&4294967295,U=A+(R<<9&4294967295|R>>>23),R=x+(A^I&(U^A))+k[15]+3634488961&4294967295,x=U+(R<<14&4294967295|R>>>18),R=I+(U^A&(x^U))+k[4]+3889429448&4294967295,I=x+(R<<20&4294967295|R>>>12),R=A+(x^U&(I^x))+k[9]+568446438&4294967295,A=I+(R<<5&4294967295|R>>>27),R=U+(I^x&(A^I))+k[14]+3275163606&4294967295,U=A+(R<<9&4294967295|R>>>23),R=x+(A^I&(U^A))+k[3]+4107603335&4294967295,x=U+(R<<14&4294967295|R>>>18),R=I+(U^A&(x^U))+k[8]+1163531501&4294967295,I=x+(R<<20&4294967295|R>>>12),R=A+(x^U&(I^x))+k[13]+2850285829&4294967295,A=I+(R<<5&4294967295|R>>>27),R=U+(I^x&(A^I))+k[2]+4243563512&4294967295,U=A+(R<<9&4294967295|R>>>23),R=x+(A^I&(U^A))+k[7]+1735328473&4294967295,x=U+(R<<14&4294967295|R>>>18),R=I+(U^A&(x^U))+k[12]+2368359562&4294967295,I=x+(R<<20&4294967295|R>>>12),R=A+(I^x^U)+k[5]+4294588738&4294967295,A=I+(R<<4&4294967295|R>>>28),R=U+(A^I^x)+k[8]+2272392833&4294967295,U=A+(R<<11&4294967295|R>>>21),R=x+(U^A^I)+k[11]+1839030562&4294967295,x=U+(R<<16&4294967295|R>>>16),R=I+(x^U^A)+k[14]+4259657740&4294967295,I=x+(R<<23&4294967295|R>>>9),R=A+(I^x^U)+k[1]+2763975236&4294967295,A=I+(R<<4&4294967295|R>>>28),R=U+(A^I^x)+k[4]+1272893353&4294967295,U=A+(R<<11&4294967295|R>>>21),R=x+(U^A^I)+k[7]+4139469664&4294967295,x=U+(R<<16&4294967295|R>>>16),R=I+(x^U^A)+k[10]+3200236656&4294967295,I=x+(R<<23&4294967295|R>>>9),R=A+(I^x^U)+k[13]+681279174&4294967295,A=I+(R<<4&4294967295|R>>>28),R=U+(A^I^x)+k[0]+3936430074&4294967295,U=A+(R<<11&4294967295|R>>>21),R=x+(U^A^I)+k[3]+3572445317&4294967295,x=U+(R<<16&4294967295|R>>>16),R=I+(x^U^A)+k[6]+76029189&4294967295,I=x+(R<<23&4294967295|R>>>9),R=A+(I^x^U)+k[9]+3654602809&4294967295,A=I+(R<<4&4294967295|R>>>28),R=U+(A^I^x)+k[12]+3873151461&4294967295,U=A+(R<<11&4294967295|R>>>21),R=x+(U^A^I)+k[15]+530742520&4294967295,x=U+(R<<16&4294967295|R>>>16),R=I+(x^U^A)+k[2]+3299628645&4294967295,I=x+(R<<23&4294967295|R>>>9),R=A+(x^(I|~U))+k[0]+4096336452&4294967295,A=I+(R<<6&4294967295|R>>>26),R=U+(I^(A|~x))+k[7]+1126891415&4294967295,U=A+(R<<10&4294967295|R>>>22),R=x+(A^(U|~I))+k[14]+2878612391&4294967295,x=U+(R<<15&4294967295|R>>>17),R=I+(U^(x|~A))+k[5]+4237533241&4294967295,I=x+(R<<21&4294967295|R>>>11),R=A+(x^(I|~U))+k[12]+1700485571&4294967295,A=I+(R<<6&4294967295|R>>>26),R=U+(I^(A|~x))+k[3]+2399980690&4294967295,U=A+(R<<10&4294967295|R>>>22),R=x+(A^(U|~I))+k[10]+4293915773&4294967295,x=U+(R<<15&4294967295|R>>>17),R=I+(U^(x|~A))+k[1]+2240044497&4294967295,I=x+(R<<21&4294967295|R>>>11),R=A+(x^(I|~U))+k[8]+1873313359&4294967295,A=I+(R<<6&4294967295|R>>>26),R=U+(I^(A|~x))+k[15]+4264355552&4294967295,U=A+(R<<10&4294967295|R>>>22),R=x+(A^(U|~I))+k[6]+2734768916&4294967295,x=U+(R<<15&4294967295|R>>>17),R=I+(U^(x|~A))+k[13]+1309151649&4294967295,I=x+(R<<21&4294967295|R>>>11),R=A+(x^(I|~U))+k[4]+4149444226&4294967295,A=I+(R<<6&4294967295|R>>>26),R=U+(I^(A|~x))+k[11]+3174756917&4294967295,U=A+(R<<10&4294967295|R>>>22),R=x+(A^(U|~I))+k[2]+718787259&4294967295,x=U+(R<<15&4294967295|R>>>17),R=I+(U^(x|~A))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,A){A===void 0&&(A=N.length);const I=A-this.blockSize,k=this.C;let x=this.h,U=0;for(;U<A;){if(x==0)for(;U<=I;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<A;)if(k[x++]=N.charCodeAt(U++),x==this.blockSize){l(this,k),x=0;break}}else for(;U<A;)if(k[x++]=N[U++],x==this.blockSize){l(this,k),x=0;break}}this.h=x,this.o+=A},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)N[A++]=this.g[I]>>>k&255;return N};function c(N,A){var I=g;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=A(N)}function d(N,A){this.h=A;const I=[];let k=!0;for(let x=N.length-1;x>=0;x--){const U=N[x]|0;k&&U==A||(I[x]=U,k=!1)}this.g=I}var g={};function v(N){return-128<=N&&N<128?c(N,function(A){return new d([A|0],A<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return w(y(-N));const A=[];let I=1;for(let k=0;N>=I;k++)A[k]=N/I|0,I*=4294967296;return new d(A,0)}function b(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return w(b(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(A,8));let k=S;for(let U=0;U<N.length;U+=8){var x=Math.min(8,N.length-U);const R=parseInt(N.substring(U,U+x),A);x<8?(x=y(Math.pow(A,x)),k=k.j(x).add(y(R))):(k=k.j(I),k=k.add(y(R)))}return k}var S=v(0),V=v(1),Q=v(16777216);r=d.prototype,r.m=function(){if(st(this))return-w(this).m();let N=0,A=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);N+=(k>=0?k:4294967296+k)*A,A*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(st(this))return"-"+w(this).toString(N);const A=y(Math.pow(N,6));var I=this;let k="";for(;;){const x=ee(I,A).g;I=Et(I,x.j(A));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=x,Z(I))return U+k;for(;U.length<6;)U="0"+U;k=U+k}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function st(N){return N.h==-1}r.l=function(N){return N=Et(this,N),st(N)?-1:Z(N)?0:1};function w(N){const A=N.g.length,I=[];for(let k=0;k<A;k++)I[k]=~N.g[k];return new d(I,~N.h).add(V)}r.abs=function(){return st(this)?w(this):this},r.add=function(N){const A=Math.max(this.g.length,N.g.length),I=[];let k=0;for(let x=0;x<=A;x++){let U=k+(this.i(x)&65535)+(N.i(x)&65535),R=(U>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);k=R>>>16,U&=65535,R&=65535,I[x]=R<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function Et(N,A){return N.add(w(A))}r.j=function(N){if(Z(this)||Z(N))return S;if(st(this))return st(N)?w(this).j(w(N)):w(w(this).j(N));if(st(N))return w(this.j(w(N)));if(this.l(Q)<0&&N.l(Q)<0)return y(this.m()*N.m());const A=this.g.length+N.g.length,I=[];for(var k=0;k<2*A;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let x=0;x<N.g.length;x++){const U=this.i(k)>>>16,R=this.i(k)&65535,ye=N.i(x)>>>16,Ve=N.i(x)&65535;I[2*k+2*x]+=R*Ve,Rt(I,2*k+2*x),I[2*k+2*x+1]+=U*Ve,Rt(I,2*k+2*x+1),I[2*k+2*x+1]+=R*ye,Rt(I,2*k+2*x+1),I[2*k+2*x+2]+=U*ye,Rt(I,2*k+2*x+2)}for(N=0;N<A;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=A;N<2*A;N++)I[N]=0;return new d(I,0)};function Rt(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function yt(N,A){this.g=N,this.h=A}function ee(N,A){if(Z(A))throw Error("division by zero");if(Z(N))return new yt(S,S);if(st(N))return A=ee(w(N),A),new yt(w(A.g),w(A.h));if(st(A))return A=ee(N,w(A)),new yt(w(A.g),A.h);if(N.g.length>30){if(st(N)||st(A))throw Error("slowDivide_ only works with positive integers.");for(var I=V,k=A;k.l(N)<=0;)I=se(I),k=se(k);var x=kt(I,1),U=kt(k,1);for(k=kt(k,2),I=kt(I,2);!Z(k);){var R=U.add(k);R.l(N)<=0&&(x=x.add(I),U=R),k=kt(k,1),I=kt(I,1)}return A=Et(N,x.j(A)),new yt(x,A)}for(x=S;N.l(A)>=0;){for(I=Math.max(1,Math.floor(N.m()/A.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),U=y(I),R=U.j(A);st(R)||R.l(N)>0;)I-=k,U=y(I),R=U.j(A);Z(U)&&(U=V),x=x.add(U),N=Et(N,R)}return new yt(x,N)}r.B=function(N){return ee(this,N).h},r.and=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let k=0;k<A;k++)I[k]=this.i(k)&N.i(k);return new d(I,this.h&N.h)},r.or=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let k=0;k<A;k++)I[k]=this.i(k)|N.i(k);return new d(I,this.h|N.h)},r.xor=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let k=0;k<A;k++)I[k]=this.i(k)^N.i(k);return new d(I,this.h^N.h)};function se(N){const A=N.g.length+1,I=[];for(let k=0;k<A;k++)I[k]=N.i(k)<<1|N.i(k-1)>>>31;return new d(I,N.h)}function kt(N,A){const I=A>>5;A%=32;const k=N.g.length-I,x=[];for(let U=0;U<k;U++)x[U]=A>0?N.i(U+I)>>>A|N.i(U+I+1)<<32-A:N.i(U+I);return new d(x,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,rE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,mr=d}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var aE,wl,oE,zc,im,lE,uE,cE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in _))break t;_=_[P]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,P,H){for(var tt=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)tt[Ot-2]=arguments[Ot];return m.prototype[P].apply(T,tt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var _=typeof P;if(_=_!="object"?_:P?Array.isArray(P)?"array":_:"null",_=="array"||_=="object"&&typeof P.length=="number"){_=u.length||0;const H=P.length||0;u.length=_+H;for(let tt=0;tt<H;tt++)u[_+tt]=P[tt]}else u.push(P)}}class st{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(u){d.setTimeout(()=>{throw u},0)}function Et(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Rt{constructor(){this.h=this.g=null}add(m,_){const T=yt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var yt=new st(()=>new ee,u=>u.reset());class ee{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let se,kt=!1,N=new Rt,A=()=>{const u=Promise.resolve(void 0);se=()=>{u.then(I)}};function I(){for(var u;u=Et();){try{u.h.call(u.g)}catch(_){w(_)}var m=yt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}kt=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ye(u,m){x.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ye,x),ye.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),G=0;function rt(u,m,_,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=P,this.key=++G,this.da=this.fa=!1}function pt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Yt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function Jt(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function D(u){const m={};for(const _ in u)m[_]=u[_];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let _,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(_ in T)u[_]=T[_];for(let H=0;H<X.length;H++)_=X[H],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,_,T,P){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const tt=xt(u,m,T,P);return tt>-1?(m=u[tt],_||(m.fa=!1)):(m=new rt(m,this.src,H,!!T,P),m.fa=_,u.push(m)),m};function _t(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],P=Array.prototype.indexOf.call(T,m,void 0),H;(H=P>=0)&&Array.prototype.splice.call(T,P,1),H&&(pt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function xt(u,m,_,T){for(let P=0;P<u.length;++P){const H=u[P];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==T)return P}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),Se={};function _e(u,m,_,T,P){if(Array.isArray(m)){for(let H=0;H<m.length;H++)_e(u,m[H],_,T,P);return null}return _=et(_),u&&u[Ve]?u.J(m,_,g(T)?!!T.capture:!1,P):yi(u,m,_,!1,T,P)}function yi(u,m,_,T,P,H){if(!m)throw Error("Invalid event type");const tt=g(P)?!!P.capture:!!P;let Ot=K(u);if(Ot||(u[Bt]=Ot=new at(u)),_=Ot.add(m,_,T,tt,H),_.proxy)return _;if(T=ws(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)U||(P=tt),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Gn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ws(){function u(_){return m.call(u.src,u.listener,_)}const m=wr;return u}function Rs(u,m,_,T,P){if(Array.isArray(m))for(var H=0;H<m.length;H++)Rs(u,m[H],_,T,P);else T=g(T)?!!T.capture:!!T,_=et(_),u&&u[Ve]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],_=xt(m,_,T,P),_>-1&&(pt(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=K(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xt(m,_,T,P)),(_=u>-1?m[u]:null)&&Cs(_))}function Cs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ve])_t(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Gn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=K(m))?(_t(_,u),_.h==0&&(_.src=null,m[Bt]=null)):pt(u)}}}function Gn(u){return u in Se?Se[u]:Se[u]="on"+u}function wr(u,m){if(u.da)u=!0;else{m=new ye(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Cs(u),u=_.call(T,m)}return u}function K(u){return u=u[Bt],u instanceof at?u:null}var it="__closure_events_fn_"+(Math.random()*1e9>>>0);function et(u){return typeof u=="function"?u:(u[it]||(u[it]=function(m){return u.handleEvent(m)}),u[it])}function ht(){k.call(this),this.i=new at(this),this.M=this,this.G=null}S(ht,k),ht.prototype[Ve]=!0,ht.prototype.removeEventListener=function(u,m,_,T){Rs(this,u,m,_,T)};function ft(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new x(m,u);else if(m instanceof x)m.target=m.target||u;else{var P=m;m=new x(T,u),nt(m,P)}P=!0;let H,tt;if(_)for(tt=_.length-1;tt>=0;tt--)H=m.g=_[tt],P=ot(H,T,!0,m)&&P;if(H=m.g=u,P=ot(H,T,!0,m)&&P,P=ot(H,T,!1,m)&&P,_)for(tt=0;tt<_.length;tt++)H=m.g=_[tt],P=ot(H,T,!1,m)&&P}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)pt(_[T]);delete u.g[m],u.h--}}this.G=null},ht.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},ht.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function ot(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let H=0;H<m.length;++H){const tt=m[H];if(tt&&!tt.da&&tt.capture==_){const Ot=tt.listener,Ue=tt.ha||tt.src;tt.fa&&_t(u.i,tt),P=Ot.call(Ue,T)!==!1&&P}}return P&&!T.defaultPrevented}function Lt(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ht(u){u.g=Lt(()=>{u.g=null,u.i&&(u.i=!1,Ht(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class St extends k{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ht(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function an(u){k.call(this),this.h=u,this.g={}}S(an,k);var we=[];function $t(u){Yt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Cs(m)},u),u.g={}}an.prototype.N=function(){an.Z.N.call(this),$t(this)},an.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dt=d.JSON.stringify,ke=d.JSON.parse,ve=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Pt(){}function ut(){}var At={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ut(){x.call(this,"d")}S(Ut,x);function De(){x.call(this,"c")}S(De,x);var Le={},nu=null;function ua(){return nu=nu||new ht}Le.Ia="serverreachability";function iu(u){x.call(this,Le.Ia,u)}S(iu,x);function _i(u){const m=ua();ft(m,new iu(m))}Le.STAT_EVENT="statevent";function Rr(u,m){x.call(this,Le.STAT_EVENT,u),this.stat=m}S(Rr,x);function Be(u){const m=ua();ft(m,new Rr(m,u))}Le.Ja="timingevent";function vi(u,m){x.call(this,Le.Ja,u),this.size=m}S(vi,x);function Ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ri(){this.g=!0}ri.prototype.ua=function(){this.g=!1};function Oh(u,m,_,T,P,H){u.info(function(){if(u.g)if(H){var tt="",Ot=H.split("&");for(let ne=0;ne<Ot.length;ne++){var Ue=Ot[ne].split("=");if(Ue.length>1){const Re=Ue[0];Ue=Ue[1];const Yn=Re.split("_");tt=Yn.length>=2&&Yn[1]=="type"?tt+(Re+"="+Ue+"&"):tt+(Re+"=redacted&")}}}else tt=null;else tt=H;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+_+`
`+tt})}function su(u,m,_,T,P,H,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+_+`
`+H+" "+tt})}function Ti(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Mh(u,_)+(T?" "+T:"")})}function Cr(u,m){u.info(function(){return"TIMEOUT: "+m})}ri.prototype.info=function(){};function Mh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var _=H[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return Dt(H)}catch{return m}}var Ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function Nr(){}S(Nr,Pt),Nr.prototype.g=function(){return new XMLHttpRequest},So=new Nr;function $i(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function ai(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new an(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var He={},en={};function bi(u,m,_){u.M=1,u.A=xr(Ge(m)),u.u=_,u.R=!0,ca(u,null)}function ca(u,m){u.F=Date.now(),Ai(u),u.B=Ge(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ma(_.i,"t",T),u.C=0,_=u.j.L,u.h=new oi,u.g=Eu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new St(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(we[0]=P.toString()),P=we);for(let H=0;H<P.length;H++){const tt=_e(_,P[H],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),_i(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}ai.prototype.ba=function(u){u=u.target;const m=this.O;m&&ci(u)==3?m.j():this.Y(u)},ai.prototype.Y=function(u){try{if(u==this.g)t:{const Ot=ci(this.g),Ue=this.g.ya(),ne=this.g.ca();if(!(Ot<3)&&(Ot!=3||this.g&&(this.h.h||this.g.la()||on(this.g)))){this.K||Ot!=4||Ue==7||(Ue==8||ne<=0?_i(3):_i(2)),Si(this);var m=this.g.ca();this.X=m;var _=Vh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,Ot,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var H=T;break e}}H=null}if(u=H)Ti(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,u);else{this.o=!1,this.m=3,Be(12),Mn(this),Fn(this);break t}}if(this.R){u=!0;let Re;for(;!this.K&&this.C<_.length;)if(Re=ou(this,_),Re==en){Ot==4&&(this.m=4,Be(14),u=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(Re==He){this.m=4,Be(15),Ti(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Ti(this.i,this.l,Re,null),wi(this,Re);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||_.length!=0||this.h.h||(this.m=1,Be(16),u=!1),this.o=this.o&&u,!u)Ti(this.i,this.l,_,"[Invalid Chunked Response]"),Mn(this),Fn(this);else if(_.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),zo(tt),tt.P=!0,Be(11))}}else Ti(this.i,this.l,_,null),wi(this,_);Ot==4&&Mn(this),this.o&&!this.K&&(Ot==4?gu(this.j,this):(this.o=!1,Ai(this)))}else Ji(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,Be(12)):(this.m=0,Be(13)),Mn(this),Fn(this)}}}catch{}finally{}};function Vh(u){if(!au(u))return u.g.la();const m=on(u.g);if(m==="")return"";let _="";const T=m.length,P=ci(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Mn(u),Fn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,_+=u.h.i.decode(m[H],{stream:!(P&&H==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?en:(_=Number(m.substring(_,T)),isNaN(_)?He:(T+=1,T+_>m.length?en:(m=m.slice(T,T+_),u.C=T+_,m)))}ai.prototype.cancel=function(){this.K=!0,Mn(this)};function Ai(u){u.T=Date.now()+u.H,ha(u,u.H)}function ha(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ei(y(u.aa,u),m)}function Si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ai.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Cr(this.i,this.B),this.M!=2&&(_i(),Be(17)),Mn(this),this.m=2,Fn(this)):ha(this,this.T-u)};function Fn(u){u.j.I==0||u.K||gu(u.j,u)}function Mn(u){Si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,$t(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function wi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||Ci(_.h,u))){if(!u.L&&Ci(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)va(_),ks(_);else break t;Ur(_),Be(18)}}else _.xa=P[1],0<_.xa-_.K&&P[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Ei(y(_.Va,_),6e3));Ri(_.h)<=1&&_.ta&&(_.ta=void 0)}else Mi(_,11)}else if((u.L||_.g==u)&&va(_),!R(m))for(P=_.Ba.g.parse(m),m=0;m<P.length;m++){let ne=P[m];const Re=ne[0];if(!(Re<=_.K))if(_.K=Re,ne=ne[1],_.I==2)if(ne[0]=="c"){_.M=ne[1],_.ba=ne[2];const Yn=ne[3];Yn!=null&&(_.ka=Yn,_.j.info("VER="+_.ka));const Vi=ne[4];Vi!=null&&(_.za=Vi,_.j.info("SVER="+_.za));const hi=ne[5];hi!=null&&typeof hi=="number"&&hi>0&&(T=1.5*hi,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const fi=u.g;if(fi){const Pr=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var H=T.h;H.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Co(H,H.h),H.h=null))}if(T.G){const Ea=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(T.wa=Ea,ae(T.J,T.G,Ea))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var tt=u;if(T.na=vu(T,T.L?T.ba:null,T.W),tt.L){Io(T.h,tt);var Ot=tt,Ue=T.O;Ue&&(Ot.H=Ue),Ot.D&&(Si(Ot),Ai(Ot)),T.g=tt}else mu(T);_.i.length>0&&Oi(_)}else ne[0]!="stop"&&ne[0]!="close"||Mi(_,7);else _.I==3&&(ne[0]=="stop"||ne[0]=="close"?ne[0]=="stop"?Mi(_,7):Uo(_):ne[0]!="noop"&&_.l&&_.l.qa(ne),_.A=0)}}_i(4)}catch{}}var qe=class{constructor(u,m){this.g=u,this.map=m}};function wo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ri(u){return u.h?1:u.g?u.g.size:0}function Ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Co(u,m){u.g?u.g.add(m):u.h=m}function Io(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wo.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function No(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return Q(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let P,H=null;T>=0?(P=u[_].substring(0,T),H=u[_].substring(T+1)):P=u[_],m(P,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Vn?(this.l=u.l,nn(this,u.j),this.o=u.o,this.g=u.g,Is(this,u.u),this.h=u.h,xo(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,nn(this,m[1]||"",!0),this.o=Ii(m[2]||""),this.g=Ii(m[3]||"",!0),Is(this,m[4]),this.h=Ii(m[5]||"",!0),xo(this,m[6]||"",!0),this.m=Ii(m[7]||"")):(this.l=!1,this.i=new xs(null,this.l))}Vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Dr(m,da,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Dr(m,da,!0),"@"),u.push($i(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Dr(_,_.charAt(0)=="/"?Do:uu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Dr(_,cu)),u.join("")},Vn.prototype.resolve=function(u){const m=Ge(this);let _=!!u.j;_?nn(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)Is(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const H=[];for(let tt=0;tt<P.length;){const Ot=P[tt++];Ot=="."?T&&tt==P.length&&H.push(""):Ot==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&tt==P.length&&H.push("")):(H.push(Ot),T=!0)}T=H.join("/")}else T=P}return _?m.h=T:_=u.i.toString()!=="",_?xo(m,fu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Ge(u){return new Vn(u)}function nn(u,m,_){u.j=_?Ii(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Is(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function xo(u,m,_){m instanceof xs?(u.i=m,pa(u.i,u.l)):(_||(m=Dr(m,Ns)),u.i=new xs(m,u.l))}function ae(u,m,_){u.i.set(m,_)}function xr(u){return ae(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ii(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Sn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var da=/[#\/\?@]/g,uu=/[#\?:]/g,Do=/[#\?]/g,Ns=/[#\?@]/g,cu=/#/g;function xs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function wn(u){u.g||(u.g=new Map,u.h=0,u.i&&fa(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=xs.prototype,r.add=function(u,m){wn(this),this.i=null,u=Ds(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function hu(u,m){wn(u),m=Ds(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Oo(u,m){return wn(u),m=Ds(u,m),u.g.has(m)}r.forEach=function(u,m){wn(this),this.g.forEach(function(_,T){_.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Mo(u,m){wn(u);let _=[];if(typeof m=="string")Oo(u,m)&&(_=_.concat(u.g.get(Ds(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return wn(this),this.i=null,u=Ds(this,u),Oo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Mo(this,u),u.length>0?String(u[0]):m):m};function ma(u,m,_){hu(u,m),_.length>0&&(u.i=null,u.g.set(Ds(u,m),Q(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const P=$i(_);_=Mo(this,_);for(let H=0;H<_.length;H++){let tt=P;_[H]!==""&&(tt+="="+$i(_[H])),u.push(tt)}}return this.i=u.join("&")};function fu(u){const m=new xs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ds(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function pa(u,m){m&&!u.j&&(wn(u),u.i=null,u.g.forEach(function(_,T){const P=T.toLowerCase();T!=P&&(hu(this,T),ma(this,P,_))},u)),u.j=m}function li(u,m){const _=new ri;if(d.Image){const T=new Image;T.onload=b(Qn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Qn,_,"TestLoadImage: error",!1,m,T),T.onabort=b(Qn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Qn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Vo(u,m){const _=new ri,T=new AbortController,P=setTimeout(()=>{T.abort(),Qn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(P),H.ok?Qn(_,"TestPingServer: ok",!0,m):Qn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Qn(_,"TestPingServer: error",!1,m)})}function Qn(u,m,_,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(_)}catch{}}function Os(){this.g=new ve}function Ni(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ni,Pt),Ni.prototype.g=function(){return new Or(this.i,this.h)};function Or(u,m){ht.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Or,ht),r=Or.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ui(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ms(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ms(this):ui(this),this.readyState==3&&ga(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ms(this))},r.Na=function(u){this.g&&(this.response=u,Ms(this))},r.ga=function(){this.g&&Ms(this)};function Ms(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ui(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function ui(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kn(u){let m="";return Yt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Mr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Kn(_),typeof u=="string"?_!=null&&$i(_):ae(u,m,_))}function ue(u){ht.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ue,ht);var xi=/^https?$/i,ko=["POST","PUT"];r=ue.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Vr(this,H);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)_.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())_.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ko,m,void 0)>=0)||T||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,tt]of _)this.g.setRequestHeader(H,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Vr(this,H)}};function Vr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Lo(u),Zi(u)}function Lo(u){u.A||(u.A=!0,ft(u,"complete"),ft(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ft(this,"complete"),ft(this,"abort"),Zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),ue.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?kr(this):this.Xa())},r.Xa=function(){kr(this)};function kr(u){if(u.h&&typeof c<"u"){if(u.v&&ci(u)==4)setTimeout(u.Ca.bind(u),0);else if(ft(u,"readystatechange"),ci(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=H===0){let tt=String(u.D).match(lu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!xi.test(tt?tt.toLowerCase():"")}_=T}if(_)ft(u,"complete"),ft(u,"success");else{u.o=6;try{var P=ci(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Lo(u)}}finally{Zi(u)}}}}function Zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||ft(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ci(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ke(m)}};function on(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(u){const m={};u=(u.g&&ci(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var _=ru(u[T]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[P]||[];m[P]=H,H.push(_)}Jt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Vs(u){this.za=0,this.i=[],this.j=new ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,u),this.Za=Di("retryDelaySeedMs",1e4,u),this.Ta=Di("forwardChannelMaxRetries",2,u),this.va=Di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(u&&u.concurrentRequestLimit),this.Ba=new Os,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Vs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){Be(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=vu(this,null,this.W),Oi(this)};function Uo(u){if(ya(u),u.I==3){var m=u.V++,_=Ge(u.J);if(ae(_,"SID",u.M),ae(_,"RID",m),ae(_,"TYPE","terminate"),Lr(u,_),m=new ai(u,u.j,m),m.M=2,m.A=xr(Ge(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ai(m)}_u(u)}function ks(u){u.g&&(zo(u),u.g.cancel(),u.g=null)}function ya(u){ks(u),u.v&&(d.clearTimeout(u.v),u.v=null),va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Oi(u){if(!Ro(u.h)&&!u.m){u.m=!0;var m=u.Ea;se||A(),kt||(se(),kt=!0),N.add(m,u),u.D=0}}function _a(u,m){return Ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ei(y(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new ai(this,this.j,u);let H=this.o;if(this.U&&(H?(H=D(H),nt(H,this.U)):H=this.U),this.u!==null||this.R||(P.J=H,H=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=du(this,P,m),_=Ge(this.J),ae(_,"RID",u),ae(_,"CVER",22),this.G&&ae(_,"X-HTTP-Session-Id",this.G),Lr(this,_),H&&(this.R?m="headers="+$i(Kn(H))+"&"+m:this.u&&Mr(_,this.u,H)),Co(this.h,P),this.Ra&&ae(_,"TYPE","init"),this.S?(ae(_,"$req",m),ae(_,"SID","null"),P.U=!0,bi(P,_,null)):bi(P,_,m),this.I=2}}else this.I==3&&(u?Po(this,u):this.i.length==0||Ro(this.h)||Po(this))};function Po(u,m){var _;m?_=m.l:_=u.V++;const T=Ge(u.J);ae(T,"SID",u.M),ae(T,"RID",_),ae(T,"AID",u.K),Lr(u,T),u.u&&u.o&&Mr(T,u.u,u.o),_=new ai(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Co(u.h,_),bi(_,T,m)}function Lr(u,m){u.H&&Yt(u.H,function(_,T){ae(m,T,_)}),u.l&&Yt({},function(_,T){ae(m,T,_)})}function du(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let Ot=-1;for(;;){const Ue=["count="+_];Ot==-1?_>0?(Ot=P[0].g,Ue.push("ofs="+Ot)):Ot=0:Ue.push("ofs="+Ot);let ne=!0;for(let Re=0;Re<_;Re++){var H=P[Re].g;const Yn=P[Re].map;if(H-=Ot,H<0)Ot=Math.max(0,P[Re].g-100),ne=!1;else try{H="req"+H+"_"||"";try{var tt=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Vi,hi]of tt){let fi=hi;g(hi)&&(fi=Dt(hi)),Ue.push(H+Vi+"="+encodeURIComponent(fi))}}catch(Vi){throw Ue.push(H+"type="+encodeURIComponent("_badmap")),Vi}}catch{T&&T(Yn)}}if(ne){tt=Ue.join("&");break t}}tt=void 0}return u=u.i.splice(0,_),m.G=u,tt}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;se||A(),kt||(se(),kt=!0),N.add(m,u),u.A=0}}function Ur(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ei(y(u.Da,u),yu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ei(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Be(10),ks(this),pu(this))};function zo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new ai(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ge(u.na);ae(m,"RID","rpc"),ae(m,"SID",u.M),ae(m,"AID",u.K),ae(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ae(m,"TO",u.ia),ae(m,"TYPE","xmlhttp"),Lr(u,m),u.u&&u.o&&Mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=xr(Ge(m)),_.u=null,_.R=!0,ca(_,u)}r.Va=function(){this.C!=null&&(this.C=null,ks(this),Ur(this),Be(19))};function va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var _=null;if(u.g==m){va(u),zo(u),u.g=null;var T=2}else if(Ci(u.h,m))_=m.G,Io(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=ua(),ft(T,new vi(T,_)),Oi(u)}else mu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&_a(u,m)||T==2&&Ur(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),P){case 1:Mi(u,5);break;case 4:Mi(u,10);break;case 3:Mi(u,6);break;default:Mi(u,2)}}}function yu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Mi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const P=!T;T=new Vn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||nn(T,"https"),xr(T),P?li(T.toString(),_):Vo(T.toString(),_)}else Be(2);u.I=0,u.l&&u.l.pa(m),_u(u),ya(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Be(2)):(this.j.info("Failed to ping google.com"),Be(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=No(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,_){var T=_ instanceof Vn?Ge(_):new Vn(_);if(T.g!="")m&&(T.g=m+"."+T.g),Is(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const H=new Vn(null);T&&nn(H,T),m&&(H.g=m),P&&Is(H,P),_&&(H.h=_),T=H}return _=u.G,m=u.wa,_&&m&&ae(T,_,m),ae(T,"VER",u.ka),Lr(u,T),T}function Eu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ue(new Ni({ab:_})):new ue(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}r=Tu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ls(){}Ls.prototype.g=function(u,m){return new Tn(u,m)};function Tn(u,m){ht.call(this),this.g=new Vs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Wi(this)}S(Tn,ht),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Uo(this.g)},Tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Dt(u),u=_);m.i.push(new qe(m.Ya++,u)),m.I==3&&Oi(m)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,Tn.Z.N.call(this)};function bu(u){Ut.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(bu,Ut);function Au(){De.call(this),this.status=1}S(Au,De);function Wi(u){this.g=u}S(Wi,Tu),Wi.prototype.ra=function(){ft(this.g,"a")},Wi.prototype.qa=function(u){ft(this.g,new bu(u))},Wi.prototype.pa=function(u){ft(this.g,new Au)},Wi.prototype.oa=function(){ft(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,cE=function(){return new Ls},uE=function(){return ua()},lE=Le,im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,zc=Ir,Ao.COMPLETE="complete",oE=Ao,ut.EventType=At,At.OPEN="a",At.CLOSE="b",At.ERROR="c",At.MESSAGE="d",ht.prototype.listen=ht.prototype.J,wl=ut,ue.prototype.listenOnce=ue.prototype.K,ue.prototype.getLastError=ue.prototype.Ha,ue.prototype.getLastErrorCode=ue.prototype.ya,ue.prototype.getStatus=ue.prototype.ca,ue.prototype.getResponseJson=ue.prototype.La,ue.prototype.getResponseText=ue.prototype.la,ue.prototype.send=ue.prototype.ea,ue.prototype.setWithCredentials=ue.prototype.Fa,aE=ue}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const mv="@firebase/firestore",pv="4.9.2";class yn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");let vo="12.3.0";const ra=new bm("@firebase/firestore");function $a(){return ra.logLevel}function lt(r,...t){if(ra.logLevel<=Ft.DEBUG){const i=t.map(Mm);ra.debug(`Firestore (${vo}): ${r}`,...i)}}function bs(r,...t){if(ra.logLevel<=Ft.ERROR){const i=t.map(Mm);ra.error(`Firestore (${vo}): ${r}`,...i)}}function oo(r,...t){if(ra.logLevel<=Ft.WARN){const i=t.map(Mm);ra.warn(`Firestore (${vo}): ${r}`,...i)}}function Mm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function bt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,hE(r,a,i)}function hE(r,t,i){let a=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw bs(a),new Error(a)}function re(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||hE(t,l,a)}function Nt(r,t){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Ss{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class fE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(yn.UNAUTHENTICATED)))}shutdown(){}}class yR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class _R{constructor(t){this.t=t,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){re(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new pr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await l(this.currentUser)}))},g=v=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new pr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(re(typeof a.accessToken=="string",31837,{l:a}),new fE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return re(t===null||typeof t=="string",2055,{h:t}),new yn(t)}}class vR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ER{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new vR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(yn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){re(this.o===void 0,3512);const a=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(re(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new gv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=bR(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Qt(r,t){return r<t?-1:r>t?1:0}function sm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Hd(l)===Hd(c)?Qt(l,c):Hd(l)?1:-1}return Qt(r.length,t.length)}const AR=55296,SR=57343;function Hd(r){const t=r.charCodeAt(0);return t>=AR&&t<=SR}function lo(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const yv="__name__";class zi{constructor(t,i,a){i===void 0?i=0:i>t.length&&bt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&bt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return zi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof zi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=zi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Qt(t.length,i.length)}static compareSegments(t,i){const a=zi.isNumericId(t),l=zi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?zi.extractNumericId(t).compare(zi.extractNumericId(i)):sm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return mr.fromString(t.substring(4,t.length-2))}}class Ne extends zi{construct(t,i,a){return new Ne(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new mt(W.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new Ne(i)}static emptyPath(){return new Ne([])}}const wR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends zi{construct(t,i,a){return new dn(t,i,a)}static isValidIdentifier(t){return wR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yv}static keyField(){return new dn([yv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new mt(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new mt(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new mt(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new mt(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new dn(i)}static emptyPath(){return new dn([])}}class vt{constructor(t){this.path=t}static fromPath(t){return new vt(Ne.fromString(t))}static fromName(t){return new vt(Ne.fromString(t).popFirst(5))}static empty(){return new vt(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new Ne(t.slice()))}}function RR(r,t,i){if(!i)throw new mt(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function CR(r,t,i,a){if(t===!0&&a===!0)throw new mt(W.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function _v(r){if(!vt.isDocumentKey(r))throw new mt(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function dE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function km(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":bt(12329,{type:typeof r})}function Hi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new mt(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=km(r);throw new mt(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function $e(r,t){const i={typeString:r};return t&&(i.value=t),i}function $l(r,t){if(!dE(r))throw new mt(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new mt(W.INVALID_ARGUMENT,i);return!0}const vv=-62135596800,Ev=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(t){return Ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Ev);return new Ae(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new mt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new mt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<vv)throw new mt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ev}_compareTo(t){return this.seconds===t.seconds?Qt(this.nanoseconds,t.nanoseconds):Qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($l(t,Ae._jsonSchema))return new Ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-vv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ae._jsonSchemaVersion="firestore/timestamp/1.0",Ae._jsonSchema={type:$e("string",Ae._jsonSchemaVersion),seconds:$e("number"),nanoseconds:$e("number")};class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new Ae(0,0))}static max(){return new Ct(new Ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ul=-1;function IR(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Ct.fromTimestamp(a===1e9?new Ae(i+1,0):new Ae(i,a));return new yr(l,vt.empty(),t)}function NR(r){return new yr(r.readTime,r.key,Ul)}class yr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new yr(Ct.min(),vt.empty(),Ul)}static max(){return new yr(Ct.max(),vt.empty(),Ul)}}function xR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=vt.comparator(r.documentKey,t.documentKey),i!==0?i:Qt(r.largestBatchId,t.largestBatchId))}const DR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Eo(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==DR)throw r;lt("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,a)=>{i(t)}))}static reject(t){return new J(((i,a)=>{a(t)}))}static waitFor(t){return new J(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(v=>a(v)))})),d=!0,c===l&&i()}))}static or(t){let i=J.resolve(!1);for(const a of t)i=i.next((l=>l?J.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new J(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((b=>{d[y]=b,++g,g===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new J(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function MR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function To(r){return r.name==="IndexedDbTransactionError"}class mh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mh.ce=-1;const Lm=-1;function ph(r){return r==null}function Wc(r){return r===0&&1/r==-1/0}function VR(r){return typeof r=="number"&&Number.isInteger(r)&&!Wc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const mE="";function kR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Tv(t)),t=LR(r.get(i),t);return Tv(t)}function LR(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case mE:i+="";break;default:i+=c}}return i}function Tv(r){return r+mE+""}function bv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Ar(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function pE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class xe{constructor(t,i){this.comparator=t,this.root=i||fn.EMPTY}insert(t,i){return new xe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(t){return new xe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class fn{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??fn.RED,this.left=l??fn.EMPTY,this.right=c??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new fn(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return fn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1;fn.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new fn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tn{constructor(t){this.comparator=t,this.data=new xe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Av(this.data.getIterator())}getIteratorFrom(t){return new Av(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof tn)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new tn(this.comparator);return i.data=t,i}}class Av{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(t){this.fields=t,t.sort(dn.comparator)}static empty(){return new qn([])}unionWith(t){let i=new tn(dn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new qn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return lo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class gE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new gE("Invalid base64 string: "+c):c}})(t);return new mn(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new mn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const UR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(r){if(re(!!r,39018),typeof r=="string"){let t=0;const i=UR.exec(r);if(re(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:je(r.seconds),nanos:je(r.nanos)}}function je(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function vr(r){return typeof r=="string"?mn.fromBase64String(r):mn.fromUint8Array(r)}const yE="server_timestamp",_E="__type__",vE="__previous_value__",EE="__local_write_time__";function Um(r){return(r?.mapValue?.fields||{})[_E]?.stringValue===yE}function gh(r){const t=r.mapValue.fields[vE];return Um(t)?gh(t):t}function Pl(r){const t=_r(r.mapValue.fields[EE].timestampValue);return new Ae(t.seconds,t.nanos)}class PR{constructor(t,i,a,l,c,d,g,v,y,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=b}}const th="(default)";class zl{constructor(t,i){this.projectId=t,this.database=i||th}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===th}isEqual(t){return t instanceof zl&&t.projectId===this.projectId&&t.database===this.database}}const TE="__type__",zR="__max__",xc={mapValue:{}},bE="__vector__",eh="value";function Er(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Um(r)?4:BR(r)?9007199254740991:jR(r)?10:11:bt(28295,{value:r})}function Yi(r,t){if(r===t)return!0;const i=Er(r);if(i!==Er(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Pl(r).isEqual(Pl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=_r(l.timestampValue),g=_r(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return vr(l.bytesValue).isEqual(vr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return je(l.geoPointValue.latitude)===je(c.geoPointValue.latitude)&&je(l.geoPointValue.longitude)===je(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return je(l.integerValue)===je(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=je(l.doubleValue),g=je(c.doubleValue);return d===g?Wc(d)===Wc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return lo(r.arrayValue.values||[],t.arrayValue.values||[],Yi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(bv(d)!==bv(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Yi(d[v],g[v])))return!1;return!0})(r,t);default:return bt(52216,{left:r})}}function jl(r,t){return(r.values||[]).find((i=>Yi(i,t)))!==void 0}function uo(r,t){if(r===t)return 0;const i=Er(r),a=Er(t);if(i!==a)return Qt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Qt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=je(c.integerValue||c.doubleValue),v=je(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,t);case 3:return Sv(r.timestampValue,t.timestampValue);case 4:return Sv(Pl(r),Pl(t));case 5:return sm(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=vr(c),v=vr(d);return g.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const b=Qt(g[y],v[y]);if(b!==0)return b}return Qt(g.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Qt(je(c.latitude),je(d.latitude));return g!==0?g:Qt(je(c.longitude),je(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return wv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[eh]?.arrayValue,b=v[eh]?.arrayValue,S=Qt(y?.values?.length||0,b?.values?.length||0);return S!==0?S:wv(y,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===xc.mapValue&&d===xc.mapValue)return 0;if(c===xc.mapValue)return 1;if(d===xc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},b=Object.keys(y);v.sort(),b.sort();for(let S=0;S<v.length&&S<b.length;++S){const V=sm(v[S],b[S]);if(V!==0)return V;const Q=uo(g[v[S]],y[b[S]]);if(Q!==0)return Q}return Qt(v.length,b.length)})(r.mapValue,t.mapValue);default:throw bt(23264,{he:i})}}function Sv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Qt(r,t);const i=_r(r),a=_r(t),l=Qt(i.seconds,a.seconds);return l!==0?l:Qt(i.nanos,a.nanos)}function wv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=uo(i[l],a[l]);if(c)return c}return Qt(i.length,a.length)}function co(r){return rm(r)}function rm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=_r(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return vr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return vt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=rm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${rm(i.fields[d])}`;return l+"}"})(r.mapValue):bt(61005,{value:r})}function jc(r){switch(Er(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gh(r);return t?16+jc(t):16;case 5:return 2*r.stringValue.length;case 6:return vr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+jc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Ar(a.fields,((c,d)=>{l+=c.length+jc(d)})),l})(r.mapValue);default:throw bt(13486,{value:r})}}function am(r){return!!r&&"integerValue"in r}function Pm(r){return!!r&&"arrayValue"in r}function Rv(r){return!!r&&"nullValue"in r}function Cv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bc(r){return!!r&&"mapValue"in r}function jR(r){return(r?.mapValue?.fields||{})[TE]?.stringValue===bE}function Dl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Ar(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Dl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Dl(r.arrayValue.values[i]);return t}return{...r}}function BR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===zR}class On{constructor(t){this.value=t}static empty(){return new On({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Bc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Dl(i)}setAll(t){let i=dn.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Dl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Yi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){Ar(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new On(Dl(this.value))}}function AE(r){const t=[];return Ar(r.fields,((i,a)=>{const l=new dn([i]);if(Bc(a)){const c=AE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new qn(t)}class _n{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new _n(t,0,Ct.min(),Ct.min(),Ct.min(),On.empty(),0)}static newFoundDocument(t,i,a,l){return new _n(t,1,i,Ct.min(),a,l,0)}static newNoDocument(t,i){return new _n(t,2,i,Ct.min(),Ct.min(),On.empty(),0)}static newUnknownDocument(t,i){return new _n(t,3,i,Ct.min(),Ct.min(),On.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof _n&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class nh{constructor(t,i){this.position=t,this.inclusive=i}}function Iv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=vt.comparator(vt.fromName(d.referenceValue),i.key):a=uo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Nv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Yi(r.position[i],t.position[i]))return!1;return!0}class ih{constructor(t,i="asc"){this.field=t,this.dir=i}}function HR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class SE{}class We extends SE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new GR(t,i,a):i==="array-contains"?new KR(t,a):i==="in"?new YR(t,a):i==="not-in"?new XR(t,a):i==="array-contains-any"?new $R(t,a):new We(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new FR(t,a):new QR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(uo(i,this.value)):i!==null&&Er(this.value)===Er(i)&&this.matchesComparison(uo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xi extends SE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Xi(t,i)}matches(t){return wE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wE(r){return r.op==="and"}function RE(r){return qR(r)&&wE(r)}function qR(r){for(const t of r.filters)if(t instanceof Xi)return!1;return!0}function om(r){if(r instanceof We)return r.field.canonicalString()+r.op.toString()+co(r.value);if(RE(r))return r.filters.map((t=>om(t))).join(",");{const t=r.filters.map((i=>om(i))).join(",");return`${r.op}(${t})`}}function CE(r,t){return r instanceof We?(function(a,l){return l instanceof We&&a.op===l.op&&a.field.isEqual(l.field)&&Yi(a.value,l.value)})(r,t):r instanceof Xi?(function(a,l){return l instanceof Xi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&CE(d,l.filters[g])),!0):!1})(r,t):void bt(19439)}function IE(r){return r instanceof We?(function(i){return`${i.field.canonicalString()} ${i.op} ${co(i.value)}`})(r):r instanceof Xi?(function(i){return i.op.toString()+" {"+i.getFilters().map(IE).join(" ,")+"}"})(r):"Filter"}class GR extends We{constructor(t,i,a){super(t,i,a),this.key=vt.fromName(a.referenceValue)}matches(t){const i=vt.comparator(t.key,this.key);return this.matchesComparison(i)}}class FR extends We{constructor(t,i){super(t,"in",i),this.keys=NE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class QR extends We{constructor(t,i){super(t,"not-in",i),this.keys=NE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function NE(r,t){return(t.arrayValue?.values||[]).map((i=>vt.fromName(i.referenceValue)))}class KR extends We{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Pm(i)&&jl(i.arrayValue,this.value)}}class YR extends We{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&jl(this.value.arrayValue,i)}}class XR extends We{constructor(t,i){super(t,"not-in",i)}matches(t){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!jl(this.value.arrayValue,i)}}class $R extends We{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Pm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>jl(this.value.arrayValue,a)))}}class ZR{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function xv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new ZR(r,t,i,a,l,c,d)}function zm(r){const t=Nt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>om(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ph(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>co(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>co(a))).join(",")),t.Te=i}return t.Te}function jm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!HR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!CE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Nv(r.startAt,t.startAt)&&Nv(r.endAt,t.endAt)}function lm(r){return vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class yh{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JR(r,t,i,a,l,c,d,g){return new yh(r,t,i,a,l,c,d,g)}function _h(r){return new yh(r)}function Dv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function WR(r){return r.collectionGroup!==null}function Ol(r){const t=Nt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new tn(dn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ih(c,a))})),i.has(dn.keyField().canonicalString())||t.Ie.push(new ih(dn.keyField(),a))}return t.Ie}function qi(r){const t=Nt(r);return t.Ee||(t.Ee=t2(t,Ol(r))),t.Ee}function t2(r,t){if(r.limitType==="F")return xv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ih(l.field,c)}));const i=r.endAt?new nh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new nh(r.startAt.position,r.startAt.inclusive):null;return xv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function um(r,t,i){return new yh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function vh(r,t){return jm(qi(r),qi(t))&&r.limitType===t.limitType}function xE(r){return`${zm(qi(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>IE(l))).join(", ")}]`),ph(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>co(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>co(l))).join(",")),`Target(${a})`})(qi(r))}; limitType=${r.limitType})`}function Eh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):vt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Ol(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,v){const y=Iv(d,g,v);return d.inclusive?y<=0:y<0})(a.startAt,Ol(a),l)||a.endAt&&!(function(d,g,v){const y=Iv(d,g,v);return d.inclusive?y>=0:y>0})(a.endAt,Ol(a),l))})(r,t)}function e2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function DE(r){return(t,i)=>{let a=!1;for(const l of Ol(r)){const c=n2(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function n2(r,t,i){const a=r.field.isKeyField()?vt.comparator(t.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?uo(v,y):bt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return bt(19790,{direction:r.dir})}}class oa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ar(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return pE(this.inner)}size(){return this.innerSize}}const i2=new xe(vt.comparator);function As(){return i2}const OE=new xe(vt.comparator);function Rl(...r){let t=OE;for(const i of r)t=t.insert(i.key,i);return t}function ME(r){let t=OE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function ea(){return Ml()}function VE(){return Ml()}function Ml(){return new oa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const s2=new xe(vt.comparator),r2=new tn(vt.comparator);function Kt(...r){let t=r2;for(const i of r)t=t.add(i);return t}const a2=new tn(Qt);function o2(){return a2}function Bm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(t)?"-0":t}}function kE(r){return{integerValue:""+r}}function l2(r,t){return VR(t)?kE(t):Bm(r,t)}class Th{constructor(){this._=void 0}}function u2(r,t,i){return r instanceof sh?(function(l,c){const d={fields:{[_E]:{stringValue:yE},[EE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Um(c)&&(c=gh(c)),c&&(d.fields[vE]=c),{mapValue:d}})(i,t):r instanceof ho?UE(r,t):r instanceof Bl?PE(r,t):(function(l,c){const d=LE(l,c),g=Ov(d)+Ov(l.Ae);return am(d)&&am(l.Ae)?kE(g):Bm(l.serializer,g)})(r,t)}function c2(r,t,i){return r instanceof ho?UE(r,t):r instanceof Bl?PE(r,t):i}function LE(r,t){return r instanceof rh?(function(a){return am(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class sh extends Th{}class ho extends Th{constructor(t){super(),this.elements=t}}function UE(r,t){const i=zE(t);for(const a of r.elements)i.some((l=>Yi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Bl extends Th{constructor(t){super(),this.elements=t}}function PE(r,t){let i=zE(t);for(const a of r.elements)i=i.filter((l=>!Yi(l,a)));return{arrayValue:{values:i}}}class rh extends Th{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Ov(r){return je(r.integerValue||r.doubleValue)}function zE(r){return Pm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class h2{constructor(t,i){this.field=t,this.transform=i}}function f2(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof ho&&l instanceof ho||a instanceof Bl&&l instanceof Bl?lo(a.elements,l.elements,Yi):a instanceof rh&&l instanceof rh?Yi(a.Ae,l.Ae):a instanceof sh&&l instanceof sh})(r.transform,t.transform)}class d2{constructor(t,i){this.version=t,this.transformResults=i}}class Gi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Gi}static exists(t){return new Gi(void 0,t)}static updateTime(t){return new Gi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class bh{}function jE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new HE(r.key,Gi.none()):new Zl(r.key,r.data,Gi.none());{const i=r.data,a=On.empty();let l=new tn(dn.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Sr(r.key,a,new qn(l.toArray()),Gi.none())}}function m2(r,t,i){r instanceof Zl?(function(l,c,d){const g=l.value.clone(),v=Vv(l.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof Sr?(function(l,c,d){if(!Hc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Vv(l.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(BE(l)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Vl(r,t,i,a){return r instanceof Zl?(function(c,d,g,v){if(!Hc(c.precondition,d))return g;const y=c.value.clone(),b=kv(c.fieldTransforms,v,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof Sr?(function(c,d,g,v){if(!Hc(c.precondition,d))return g;const y=kv(c.fieldTransforms,v,d),b=d.data;return b.setAll(BE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,g){return Hc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function p2(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=LE(a.transform,l||null);c!=null&&(i===null&&(i=On.empty()),i.set(a.field,c))}return i||null}function Mv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&lo(a,l,((c,d)=>f2(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Zl extends bh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Sr extends bh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function BE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Vv(r,t,i){const a=new Map;re(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,c2(d,g,i[l]))}return a}function kv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,u2(c,d,t))}return a}class HE extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g2 extends bh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class y2{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&m2(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Vl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Vl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=VE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const v=jE(d,g);v!==null&&a.set(l.key,v),d.isValidDocument()||d.convertToNoDocument(Ct.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Kt())}isEqual(t){return this.batchId===t.batchId&&lo(this.mutations,t.mutations,((i,a)=>Mv(i,a)))&&lo(this.baseMutations,t.baseMutations,((i,a)=>Mv(i,a)))}}class Hm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){re(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return s2})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Hm(t,i,a,l)}}class _2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class v2{constructor(t,i){this.count=t,this.unchangedNames=i}}var Xe,Zt;function E2(r){switch(r){case W.OK:return bt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return bt(15467,{code:r})}}function qE(r){if(r===void 0)return bs("GRPC error has no .code"),W.UNKNOWN;switch(r){case Xe.OK:return W.OK;case Xe.CANCELLED:return W.CANCELLED;case Xe.UNKNOWN:return W.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return W.INTERNAL;case Xe.UNAVAILABLE:return W.UNAVAILABLE;case Xe.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Xe.NOT_FOUND:return W.NOT_FOUND;case Xe.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Xe.ABORTED:return W.ABORTED;case Xe.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Xe.DATA_LOSS:return W.DATA_LOSS;default:return bt(39323,{code:r})}}(Zt=Xe||(Xe={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";function T2(){return new TextEncoder}const b2=new mr([4294967295,4294967295],0);function Lv(r){const t=T2().encode(r),i=new rE;return i.update(t),new Uint8Array(i.digest())}function Uv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new mr([i,a],0),new mr([l,c],0)]}class qm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Cl(`Invalid padding: ${i}`);if(a<0)throw new Cl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=mr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(mr.fromNumber(a)));return l.compare(b2)===1&&(l=new mr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Lv(t),[a,l]=Uv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new qm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Lv(t),[a,l]=Uv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Jl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Ah(Ct.min(),l,new xe(Qt),As(),Kt())}}class Jl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Jl(a,i,Kt(),Kt(),Kt())}}class qc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class GE{constructor(t,i){this.targetId=t,this.Ce=i}}class FE{constructor(t,i,a=mn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Pv{constructor(){this.ve=0,this.Fe=zv(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Kt(),i=Kt(),a=Kt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:bt(38017,{changeType:c})}})),new Jl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=zv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class A2{constructor(t){this.Ge=t,this.ze=new Map,this.je=As(),this.Je=Dc(),this.He=Dc(),this.Ye=new xe(Qt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:bt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(lm(c))if(a===0){const d=new vt(c.path);this.et(i,d,_n.newNoDocument(d,Ct.min()))}else re(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=vr(a).toUint8Array()}catch(v){if(v instanceof gE)return oo("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new qm(d,l,c)}catch(v){return oo(v instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&lm(g.target)){const v=new vt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,_n.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Kt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ah(t,i,this.Ye,this.je,a);return this.je=As(),this.Je=Dc(),this.He=Dc(),this.Ye=new xe(Qt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Pv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new tn(Qt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new tn(Qt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Pv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Dc(){return new xe(vt.comparator)}function zv(){return new xe(vt.comparator)}const S2={asc:"ASCENDING",desc:"DESCENDING"},w2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R2={and:"AND",or:"OR"};class C2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function cm(r,t){return r.useProto3Json||ph(t)?t:{value:t}}function ah(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function QE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function I2(r,t){return ah(r,t.toTimestamp())}function Fi(r){return re(!!r,49232),Ct.fromTimestamp((function(i){const a=_r(i);return new Ae(a.seconds,a.nanos)})(r))}function Gm(r,t){return hm(r,t).canonicalString()}function hm(r,t){const i=(function(l){return new Ne(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function KE(r){const t=Ne.fromString(r);return re(JE(t),10190,{key:t.toString()}),t}function fm(r,t){return Gm(r.databaseId,t.path)}function qd(r,t){const i=KE(t);if(i.get(1)!==r.databaseId.projectId)throw new mt(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new mt(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new vt(XE(i))}function YE(r,t){return Gm(r.databaseId,t)}function N2(r){const t=KE(r);return t.length===4?Ne.emptyPath():XE(t)}function dm(r){return new Ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function XE(r){return re(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function jv(r,t,i){return{name:fm(r,t),fields:i.value.mapValue.fields}}function x2(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:bt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(re(b===void 0||typeof b=="string",58123),mn.fromBase64String(b||"")):(re(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),mn.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?W.UNKNOWN:qE(y.code);return new mt(b,y.message||"")})(d);i=new FE(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=qd(r,a.document.name),c=Fi(a.document.updateTime),d=a.document.createTime?Fi(a.document.createTime):Ct.min(),g=new On({mapValue:{fields:a.document.fields}}),v=_n.newFoundDocument(l,c,d,g),y=a.targetIds||[],b=a.removedTargetIds||[];i=new qc(y,b,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=qd(r,a.document),c=a.readTime?Fi(a.readTime):Ct.min(),d=_n.newNoDocument(l,c),g=a.removedTargetIds||[];i=new qc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=qd(r,a.document),c=a.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in t))return bt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new v2(l,c),g=a.targetId;i=new GE(g,d)}}return i}function D2(r,t){let i;if(t instanceof Zl)i={update:jv(r,t.key,t.value)};else if(t instanceof HE)i={delete:fm(r,t.key)};else if(t instanceof Sr)i={update:jv(r,t.key,t.data),updateMask:j2(t.fieldMask)};else{if(!(t instanceof g2))return bt(16599,{Vt:t.type});i={verify:fm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof sh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ho)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof rh)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw bt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:I2(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:bt(27497)})(r,t.precondition)),i}function O2(r,t){return r&&r.length>0?(re(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Fi(l.updateTime):Fi(c);return d.isEqual(Ct.min())&&(d=Fi(c)),new d2(d,l.transformResults||[])})(i,t)))):[]}function M2(r,t){return{documents:[YE(r,t.path)]}}function V2(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=YE(r,l);const c=(function(y){if(y.length!==0)return ZE(Xi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(V){return{field:Ja(V.field),direction:U2(V.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=cm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function k2(r){let t=N2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){re(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(S){const V=$E(S);return V instanceof Xi&&RE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((V=>(function(Z){return new ih(Wa(Z.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let V;return V=typeof S=="object"?S.value:S,ph(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(S){const V=!!S.before,Q=S.values||[];return new nh(Q,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const V=!S.before,Q=S.values||[];return new nh(Q,V)})(i.endAt)),JR(t,l,d,c,g,"F",v,y)}function L2(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function $E(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Wa(i.unaryFilter.field);return We.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Wa(i.unaryFilter.field);return We.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Wa(i.unaryFilter.field);return We.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Wa(i.unaryFilter.field);return We.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return We.create(Wa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Xi.create(i.compositeFilter.filters.map((a=>$E(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(i.compositeFilter.op))})(r):bt(30097,{filter:r})}function U2(r){return S2[r]}function P2(r){return w2[r]}function z2(r){return R2[r]}function Ja(r){return{fieldPath:r.canonicalString()}}function Wa(r){return dn.fromServerFormat(r.fieldPath)}function ZE(r){return r instanceof We?(function(i){if(i.op==="=="){if(Cv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NAN"}};if(Rv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Cv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NAN"}};if(Rv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(i.field),op:P2(i.op),value:i.value}}})(r):r instanceof Xi?(function(i){const a=i.getFilters().map((l=>ZE(l)));return a.length===1?a[0]:{compositeFilter:{op:z2(i.op),filters:a}}})(r):bt(54877,{filter:r})}function j2(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function JE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class cr{constructor(t,i,a,l,c=Ct.min(),d=Ct.min(),g=mn.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new cr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class B2{constructor(t){this.yt=t}}function H2(r){const t=k2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?um(t,t.limit,"L"):t}class q2{constructor(){this.Cn=new G2}addToCollectionParentIndex(t,i){return this.Cn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(yr.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(yr.min())}updateCollectionGroup(t,i,a){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class G2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new tn(Ne.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new tn(Ne.comparator)).toArray()}}const Bv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WE=41943040;class Dn{static withCacheSize(t){return new Dn(t,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(WE,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class fo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new fo(0)}static cr(){return new fo(-1)}}const Hv="LruGarbageCollector",F2=1048576;function qv([r,t],[i,a]){const l=Qt(r,i);return l===0?Qt(t,a):l}class Q2{constructor(t){this.Ir=t,this.buffer=new tn(qv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();qv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class K2{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){lt(Hv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){To(i)?lt(Hv,"Ignoring IndexedDB error during garbage collection: ",i):await Eo(i)}await this.Vr(3e5)}))}}class Y2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(mh.ce);const a=new Q2(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Bv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,g,v,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,g=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),$a()<=Ft.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${S} documents in `+(y-v)+`ms
Total Duration: ${y-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function X2(r,t){return new Y2(r,t)}class $2{constructor(){this.changes=new oa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,_n.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Z2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class J2{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Vl(a.mutation,l,qn.empty(),Ae.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Kt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Kt()){const l=ea();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Rl();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=ea();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Kt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=As();const d=Ml(),g=(function(){return Ml()})();return i.forEach(((v,y)=>{const b=a.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof Sr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Vl(b.mutation,y,b.mutation.getFieldMask(),Ae.now())):d.set(y.key,qn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new Z2(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Ml();let l=new xe(((d,g)=>d-g)),c=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let b=a.get(v)||qn.empty();b=g.applyToLocalView(y,b),a.set(v,b);const S=(l.get(g.batchId)||Kt()).add(v);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,b=v.value,S=VE();b.forEach((V=>{if(!c.has(V)){const Q=jE(i.get(V),a.get(V));Q!==null&&S.set(V,Q),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return vt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):WR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):J.resolve(ea());let g=Ul,v=c;return d.next((y=>J.forEach(y,((b,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(b)?J.resolve():this.remoteDocumentCache.getEntry(t,b).next((V=>{v=v.insert(b,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Kt()))).next((b=>({batchId:g,changes:ME(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new vt(i)).next((a=>{let l=Rl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Rl();return this.indexManager.getCollectionParents(t,c).next((g=>J.forEach(g,(v=>{const y=(function(S,V){return new yh(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((b=>{b.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((v,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,_n.newInvalidDocument(b)))}));let g=Rl();return d.forEach(((v,y)=>{const b=c.get(v);b!==void 0&&Vl(b.mutation,y,qn.empty(),Ae.now()),Eh(i,y)&&(g=g.insert(v,y))})),g}))}}class W2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Fi(l.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:H2(l.bundledQuery),readTime:Fi(l.readTime)}})(i)),J.resolve()}}class tC{constructor(){this.overlays=new xe(vt.comparator),this.qr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const a=ea();return J.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),J.resolve()}getOverlaysForCollection(t,i,a){const l=ea(),c=i.length+1,d=new vt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&l.set(v.getKey(),v)}return J.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new xe(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=ea(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=ea(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=l)););return J.resolve(g)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new _2(i,a));let c=this.qr.get(i);c===void 0&&(c=Kt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class eC{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class Fm{constructor(){this.Qr=new tn(rn.$r),this.Ur=new tn(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new rn(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new rn(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new vt(new Ne([])),a=new rn(i,t),l=new rn(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new vt(new Ne([])),a=new rn(i,t),l=new rn(i,t+1);let c=Kt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new rn(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class rn{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return vt.comparator(t.key,i.key)||Qt(t.Yr,i.Yr)}static Kr(t,i){return Qt(t.Yr,i.Yr)||vt.comparator(t.key,i.key)}}class nC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new tn(rn.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new y2(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new rn(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Lm:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new rn(i,0),l=new rn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new tn(Qt);return i.forEach((l=>{const c=new rn(l,0),d=new rn(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),J.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;vt.isDocumentKey(c)||(c=c.child(""));const d=new rn(new vt(c),0);let g=new tn(Qt);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(v.Yr)),!0)}),d),J.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){re(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return J.forEach(i.mutations,(l=>{const c=new rn(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new rn(i,0),l=this.Zr.firstAfterOrEqual(a);return J.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class iC{constructor(t){this.ri=t,this.docs=(function(){return new xe(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():_n.newInvalidDocument(i))}getEntries(t,i){let a=As();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():_n.newInvalidDocument(l))})),J.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=As();const d=i.path,g=new vt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:b}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||xR(NR(b),a)<=0||(l.has(b.key)||Eh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,a,l){bt(9500)}ii(t,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new sC(this)}getSize(t){return J.resolve(this.size)}}class sC extends $2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),J.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class rC{constructor(t){this.persistence=t,this.si=new oa((i=>zm(i)),jm),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new Fm,this.targetCount=0,this.ai=fo.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),J.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new fo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.Pr(i),J.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),J.waitFor(c).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return J.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),J.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return J.resolve(a)}containsKey(t,i){return J.resolve(this._i.containsKey(i))}}class tT{constructor(t,i){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new eC,this.referenceDelegate=t(this),this.Pi=new rC(this),this.indexManager=new q2,this.remoteDocumentCache=(function(l){return new iC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new B2(i),this.Ii=new W2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new tC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new nC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){lt("MemoryPersistence","Starting transaction:",t);const l=new aC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return J.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class aC extends OR{constructor(t){super(),this.currentSequenceNumber=t}}class Qm{constructor(t){this.persistence=t,this.Ri=new Fm,this.Vi=null}static mi(t){return new Qm(t)}get fi(){if(this.Vi)return this.Vi;throw bt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),J.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(a=>{const l=vt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Ct.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class oh{constructor(t,i){this.persistence=t,this.pi=new oa((a=>kR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=X2(this,i)}static mi(t,i){return new oh(t,i)}Ei(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return J.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?J.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,Ct.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),J.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=jc(t.data.value)),i}br(t,i,a){return J.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return J.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Km{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Kt(),l=Kt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Km(t,i.fromCache,a,l)}}class oC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class lC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Yb()?8:MR(vn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new oC;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?($a()<=Ft.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):($a()<=Ft.DEBUG&&lt("QueryEngine","Query:",Za(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?($a()<=Ft.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,qi(i))):J.resolve())}ys(t,i){if(Dv(i))return J.resolve(null);let a=qi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=um(i,null,"F"),a=qi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Kt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.Ds(i,g);return this.Cs(i,y,d,v.readTime)?this.ys(t,um(i,null,"F")):this.vs(t,y,i,v)}))))})))))}ws(t,i,a,l){return Dv(i)||l.isEqual(Ct.min())?J.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?J.resolve(null):($a()<=Ft.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Za(i)),this.vs(t,d,i,IR(l,Ul)).next((g=>g)))}))}Ds(t,i){let a=new tn(DE(t));return i.forEach(((l,c)=>{Eh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return $a()<=Ft.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Za(i)),this.ps.getDocumentsMatchingQuery(t,i,yr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Ym="LocalStore",uC=3e8;class cC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new xe(Qt),this.xs=new oa((c=>zm(c)),jm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new J2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function hC(r,t,i,a){return new cC(r,t,i,a)}async function eT(r,t){const i=Nt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=Kt();for(const y of l){d.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function fC(r,t){const i=Nt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,b){const S=y.batch,V=S.keys();let Q=J.resolve();return V.forEach((Z=>{Q=Q.next((()=>b.getEntry(v,Z))).next((st=>{const w=y.docVersions.get(Z);re(w!==null,48541),st.version.compareTo(w)<0&&(S.applyToRemoteDocument(st,y),st.isValidDocument()&&(st.setReadTime(y.commitVersion),b.addEntry(st)))}))})),Q.next((()=>g.mutationQueue.removeMutationBatch(v,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Kt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function nT(r){const t=Nt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function dC(r,t){const i=Nt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((b,S)=>{const V=l.get(S);if(!V)return;g.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,S))));let Q=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?Q=Q.withResumeToken(mn.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):b.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(b.resumeToken,a)),l=l.insert(S,Q),(function(st,w,Et){return st.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=uC?!0:Et.addedDocuments.size+Et.modifiedDocuments.size+Et.removedDocuments.size>0})(V,Q,b)&&g.push(i.Pi.updateTargetData(c,Q))}));let v=As(),y=Kt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(mC(c,d,t.documentUpdates).next((b=>{v=b.ks,y=b.qs}))),!a.isEqual(Ct.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.Ms=l,c)))}function mC(r,t,i){let a=Kt(),l=Kt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=As();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),v.isNoDocument()&&v.version.isEqual(Ct.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):lt(Ym,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{ks:d,qs:l}}))}function pC(r,t){const i=Nt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Lm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function gC(r,t){const i=Nt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,J.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new cr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function mm(r,t,i){const a=Nt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!To(d))throw d;lt(Ym,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Gv(r,t,i){const a=Nt(r);let l=Ct.min(),c=Kt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,b){const S=Nt(v),V=S.xs.get(b);return V!==void 0?J.resolve(S.Ms.get(V)):S.Pi.getTargetData(y,b)})(a,d,qi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:Ct.min(),i?c:Kt()))).next((g=>(yC(a,e2(t),g),{documents:g,Qs:c})))))}function yC(r,t,i){let a=r.Os.get(t)||Ct.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Fv{constructor(){this.activeTargetIds=o2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _C{constructor(){this.Mo=new Fv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Fv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class vC{Oo(t){}shutdown(){}}const Qv="ConnectivityMonitor";class Kv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(Qv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){lt(Qv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function pm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Gd="RestConnection",EC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===th?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=pm(),g=this.zo(t,i.toUriEncodedString());lt(Gd,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,l,c);const{host:y}=new URL(g),b=go(y);return this.Jo(t,g,v,a,b).then((S=>(lt(Gd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw oo(Gd,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",a),S}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=EC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class bC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const gn="WebChannelConnection";class AC extends TC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=pm();return new Promise(((g,v)=>{const y=new aE;y.setWithCredentials(!0),y.listenOnce(oE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case zc.NO_ERROR:const S=y.getResponseJson();lt(gn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case zc.TIMEOUT:lt(gn,`RPC '${t}' ${d} timed out`),v(new mt(W.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const V=y.getStatus();if(lt(gn,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const Z=Q?.error;if(Z&&Z.status&&Z.message){const st=(function(Et){const Rt=Et.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Rt)>=0?Rt:W.UNKNOWN})(Z.status);v(new mt(st,Z.message))}else v(new mt(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new mt(W.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{lt(gn,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);lt(gn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=pm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=cE(),g=uE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const b=c.join("");lt(gn,`Creating RPC '${t}' stream ${l}: ${b}`,v);const S=d.createWebChannel(b,v);this.I_(S);let V=!1,Q=!1;const Z=new bC({Yo:w=>{Q?lt(gn,`Not sending because RPC '${t}' stream ${l} is closed:`,w):(V||(lt(gn,`Opening RPC '${t}' stream ${l} transport.`),S.open(),V=!0),lt(gn,`RPC '${t}' stream ${l} sending:`,w),S.send(w))},Zo:()=>S.close()}),st=(w,Et,Rt)=>{w.listen(Et,(yt=>{try{Rt(yt)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return st(S,wl.EventType.OPEN,(()=>{Q||(lt(gn,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),st(S,wl.EventType.CLOSE,(()=>{Q||(Q=!0,lt(gn,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(S))})),st(S,wl.EventType.ERROR,(w=>{Q||(Q=!0,oo(gn,`RPC '${t}' stream ${l} transport errored. Name:`,w.name,"Message:",w.message),Z.a_(new mt(W.UNAVAILABLE,"The operation could not be completed")))})),st(S,wl.EventType.MESSAGE,(w=>{if(!Q){const Et=w.data[0];re(!!Et,16349);const Rt=Et,yt=Rt?.error||Rt[0]?.error;if(yt){lt(gn,`RPC '${t}' stream ${l} received error:`,yt);const ee=yt.status;let se=(function(A){const I=Xe[A];if(I!==void 0)return qE(I)})(ee),kt=yt.message;se===void 0&&(se=W.INTERNAL,kt="Unknown error status: "+ee+" with message "+yt.message),Q=!0,Z.a_(new mt(se,kt)),S.close()}else lt(gn,`RPC '${t}' stream ${l} received:`,Et),Z.u_(Et)}})),st(g,lE.STAT_EVENT,(w=>{w.stat===im.PROXY?lt(gn,`RPC '${t}' stream ${l} detected buffering proxy`):w.stat===im.NOPROXY&&lt(gn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Fd(){return typeof document<"u"?document:null}function Sh(r){return new C2(r,!0)}class iT{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&lt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Yv="PersistentStream";class sT{constructor(t,i,a,l,c,d,g,v){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(bs(i.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new mt(W.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(Yv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(lt(Yv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class SC extends sT{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=x2(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Ct.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ct.min():d.readTime?Fi(d.readTime):Ct.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=dm(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=lm(v)?{documents:M2(c,v)}:{query:V2(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=QE(c,d.resumeToken);const y=cm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ct.min())>0){g.readTime=ah(c,d.snapshotVersion.toTimestamp());const y=cm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=L2(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=dm(this.serializer),i.removeTarget=t,this.q_(i)}}class wC extends sT{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return re(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,re(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){re(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=O2(t.writeResults,t.commitTime),a=Fi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=dm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>D2(this.serializer,a)))};this.q_(i)}}class RC{}class CC extends RC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new mt(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,hm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(W.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,hm(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new mt(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class IC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class NC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{la(this)&&(lt(aa,"Restarting streams for network reachability change."),await(async function(v){const y=Nt(v);y.Ea.add(4),await Wl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await wh(y)})(this))}))})),this.Ra=new IC(a,l)}}async function wh(r){if(la(r))for(const t of r.da)await t(!0)}async function Wl(r){for(const t of r.da)await t(!1)}function rT(r,t){const i=Nt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Jm(i)?Zm(i):bo(i).O_()&&$m(i,t))}function Xm(r,t){const i=Nt(r),a=bo(i);i.Ia.delete(t),a.O_()&&aT(i,t),i.Ia.size===0&&(a.O_()?a.L_():la(i)&&i.Ra.set("Unknown"))}function $m(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}bo(r).Y_(t)}function aT(r,t){r.Va.Ue(t),bo(r).Z_(t)}function Zm(r){r.Va=new A2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),bo(r).start(),r.Ra.ua()}function Jm(r){return la(r)&&!bo(r).x_()&&r.Ia.size>0}function la(r){return Nt(r).Ea.size===0}function oT(r){r.Va=void 0}async function xC(r){r.Ra.set("Online")}async function DC(r){r.Ia.forEach(((t,i)=>{$m(r,t)}))}async function OC(r,t){oT(r),Jm(r)?(r.Ra.ha(t),Zm(r)):r.Ra.set("Unknown")}async function MC(r,t,i){if(r.Ra.set("Online"),t instanceof FE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,t)}catch(a){lt(aa,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await lh(r,a)}else if(t instanceof qc?r.Va.Ze(t):t instanceof GE?r.Va.st(t):r.Va.tt(t),!i.isEqual(Ct.min()))try{const a=await nT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const b=c.Ia.get(v);if(!b)return;c.Ia.set(v,b.withResumeToken(mn.EMPTY_BYTE_STRING,b.snapshotVersion)),aT(c,v);const S=new cr(b.target,v,y,b.sequenceNumber);$m(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){lt(aa,"Failed to raise snapshot:",a),await lh(r,a)}}async function lh(r,t,i){if(!To(t))throw t;r.Ea.add(1),await Wl(r),r.Ra.set("Offline"),i||(i=()=>nT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(aa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await wh(r)}))}function lT(r,t){return t().catch((i=>lh(r,i,t)))}async function Rh(r){const t=Nt(r),i=Tr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lm;for(;VC(t);)try{const l=await pC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,kC(t,l)}catch(l){await lh(t,l)}uT(t)&&cT(t)}function VC(r){return la(r)&&r.Ta.length<10}function kC(r,t){r.Ta.push(t);const i=Tr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function uT(r){return la(r)&&!Tr(r).x_()&&r.Ta.length>0}function cT(r){Tr(r).start()}async function LC(r){Tr(r).ra()}async function UC(r){const t=Tr(r);for(const i of r.Ta)t.ea(i.mutations)}async function PC(r,t,i){const a=r.Ta.shift(),l=Hm.from(a,t,i);await lT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Rh(r)}async function zC(r,t){t&&Tr(r).X_&&await(async function(a,l){if((function(d){return E2(d)&&d!==W.ABORTED})(l.code)){const c=a.Ta.shift();Tr(a).B_(),await lT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Rh(a)}})(r,t),uT(r)&&cT(r)}async function Xv(r,t){const i=Nt(r);i.asyncQueue.verifyOperationInProgress(),lt(aa,"RemoteStore received new credentials");const a=la(i);i.Ea.add(3),await Wl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await wh(i)}async function jC(r,t){const i=Nt(r);t?(i.Ea.delete(2),await wh(i)):t||(i.Ea.add(2),await Wl(i),i.Ra.set("Unknown"))}function bo(r){return r.ma||(r.ma=(function(i,a,l){const c=Nt(i);return c.sa(),new SC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:xC.bind(null,r),t_:DC.bind(null,r),r_:OC.bind(null,r),H_:MC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Jm(r)?Zm(r):r.Ra.set("Unknown")):(await r.ma.stop(),oT(r))}))),r.ma}function Tr(r){return r.fa||(r.fa=(function(i,a,l){const c=Nt(i);return c.sa(),new wC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:LC.bind(null,r),r_:zC.bind(null,r),ta:UC.bind(null,r),na:PC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Rh(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(aa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Wm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new Wm(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tp(r,t){if(bs("AsyncQueue",`${t}: ${r}`),To(r))return new mt(W.UNAVAILABLE,`${t}: ${r}`);throw r}class so{static emptySet(t){return new so(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||vt.comparator(i.key,a.key):(i,a)=>vt.comparator(i.key,a.key),this.keyedMap=Rl(),this.sortedSet=new xe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof so)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new so;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class $v{constructor(){this.ga=new xe(vt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):bt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class mo{constructor(t,i,a,l,c,d,g,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new mo(t,i,so.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class BC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class HC{constructor(){this.queries=Zv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Nt(i),c=l.queries;l.queries=Zv(),c.forEach(((d,g)=>{for(const v of g.Sa)v.onError(a)}))})(this,new mt(W.ABORTED,"Firestore shutting down"))}}function Zv(){return new oa((r=>xE(r)),vh)}async function hT(r,t){const i=Nt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new BC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=tp(d,`Initialization of query '${Za(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&ep(i)}async function fT(r,t){const i=Nt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function qC(r,t){const i=Nt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&ep(i)}function GC(r,t,i){const a=Nt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function ep(r){r.Ca.forEach((t=>{t.next()}))}var gm,Jv;(Jv=gm||(gm={})).Ma="default",Jv.Cache="cache";class dT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new mo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=mo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==gm.Cache}}class mT{constructor(t){this.key=t}}class pT{constructor(t){this.key=t}}class FC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Kt(),this.mutatedKeys=Kt(),this.eu=DE(t),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new $v,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,S)=>{const V=l.get(b),Q=Eh(this.query,S)?S:null,Z=!!V&&this.mutatedKeys.has(V.key),st=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let w=!1;V&&Q?V.data.isEqual(Q.data)?Z!==st&&(a.track({type:3,doc:Q}),w=!0):this.su(V,Q)||(a.track({type:2,doc:Q}),w=!0,(v&&this.eu(Q,v)>0||y&&this.eu(Q,y)<0)&&(g=!0)):!V&&Q?(a.track({type:0,doc:Q}),w=!0):V&&!Q&&(a.track({type:1,doc:V}),w=!0,(v||y)&&(g=!0)),w&&(Q?(d=d.add(Q),c=st?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,S)=>(function(Q,Z){const st=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Rt:w})}};return st(Q)-st(Z)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],v=this.Xa.size===0&&this.current&&!l?1:0,y=v!==this.Za;return this.Za=v,d.length!==0||y?{snapshot:new mo(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $v,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Kt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new pT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new mT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Kt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const np="SyncEngine";class QC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class KC{constructor(t){this.key=t,this.hu=!1}}class YC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new oa((g=>xE(g)),vh),this.Iu=new Map,this.Eu=new Set,this.du=new xe(vt.comparator),this.Au=new Map,this.Ru=new Fm,this.Vu={},this.mu=new Map,this.fu=fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function XC(r,t,i=!0){const a=TT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await gT(a,t,i,!0),l}async function $C(r,t){const i=TT(r);await gT(i,t,!0,!1)}async function gT(r,t,i,a){const l=await gC(r.localStore,qi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await ZC(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&rT(r.remoteStore,l),g}async function ZC(r,t,i,a,l){r.pu=(S,V,Q)=>(async function(st,w,Et,Rt){let yt=w.view.ru(Et);yt.Cs&&(yt=await Gv(st.localStore,w.query,!1).then((({documents:N})=>w.view.ru(N,yt))));const ee=Rt&&Rt.targetChanges.get(w.targetId),se=Rt&&Rt.targetMismatches.get(w.targetId)!=null,kt=w.view.applyChanges(yt,st.isPrimaryClient,ee,se);return t0(st,w.targetId,kt.au),kt.snapshot})(r,S,V,Q);const c=await Gv(r.localStore,t,!0),d=new FC(t,c.Qs),g=d.ru(c.documents),v=Jl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(g,r.isPrimaryClient,v);t0(r,i,y.au);const b=new QC(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function JC(r,t,i){const a=Nt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!vh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await mm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Xm(a.remoteStore,l.targetId),ym(a,l.targetId)})).catch(Eo)):(ym(a,l.targetId),await mm(a.localStore,l.targetId,!0))}async function WC(r,t){const i=Nt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Xm(i.remoteStore,a.targetId))}async function tI(r,t,i){const a=oI(r);try{const l=await(function(d,g){const v=Nt(d),y=Ae.now(),b=g.reduce(((Q,Z)=>Q.add(Z.key)),Kt());let S,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let Z=As(),st=Kt();return v.Ns.getEntries(Q,b).next((w=>{Z=w,Z.forEach(((Et,Rt)=>{Rt.isValidDocument()||(st=st.add(Et))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Q,Z))).next((w=>{S=w;const Et=[];for(const Rt of g){const yt=p2(Rt,S.get(Rt.key).overlayedDocument);yt!=null&&Et.push(new Sr(Rt.key,yt,AE(yt.value.mapValue),Gi.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,y,Et,g)})).next((w=>{V=w;const Et=w.applyToLocalDocumentSet(S,st);return v.documentOverlayCache.saveOverlays(Q,w.batchId,Et)}))})).then((()=>({batchId:V.batchId,changes:ME(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,v){let y=d.Vu[d.currentUser.toKey()];y||(y=new xe(Qt)),y=y.insert(g,v),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await tu(a,l.changes),await Rh(a.remoteStore)}catch(l){const c=tp(l,"Failed to persist write");i.reject(c)}}async function yT(r,t){const i=Nt(r);try{const a=await dC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(re(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?re(d.hu,14607):l.removedDocuments.size>0&&(re(d.hu,42227),d.hu=!1))})),await tu(i,a,t)}catch(a){await Eo(a)}}function Wv(r,t,i){const a=Nt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const v=Nt(d);v.onlineState=g;let y=!1;v.queries.forEach(((b,S)=>{for(const V of S.Sa)V.va(g)&&(y=!0)})),y&&ep(v)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function eI(r,t,i){const a=Nt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new xe(vt.comparator);d=d.insert(c,_n.newNoDocument(c,Ct.min()));const g=Kt().add(c),v=new Ah(Ct.min(),new Map,new xe(Qt),d,g);await yT(a,v),a.du=a.du.remove(c),a.Au.delete(t),ip(a)}else await mm(a.localStore,t,!1).then((()=>ym(a,t,i))).catch(Eo)}async function nI(r,t){const i=Nt(r),a=t.batch.batchId;try{const l=await fC(i.localStore,t);vT(i,a,null),_T(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await tu(i,l)}catch(l){await Eo(l)}}async function iI(r,t,i){const a=Nt(r);try{const l=await(function(d,g){const v=Nt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return v.mutationQueue.lookupMutationBatch(y,g).next((S=>(re(S!==null,37113),b=S.keys(),v.mutationQueue.removeMutationBatch(y,S)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>v.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);vT(a,t,i),_T(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await tu(a,l)}catch(l){await Eo(l)}}function _T(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function vT(r,t,i){const a=Nt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function ym(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||ET(r,a)}))}function ET(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Xm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ip(r))}function t0(r,t,i){for(const a of i)a instanceof mT?(r.Ru.addReference(a.key,t),sI(r,a)):a instanceof pT?(lt(np,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||ET(r,a.key)):bt(19791,{wu:a})}function sI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(lt(np,"New document in limbo: "+i),r.Eu.add(a),ip(r))}function ip(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new vt(Ne.fromString(t)),a=r.fu.next();r.Au.set(a,new KC(i)),r.du=r.du.insert(i,a),rT(r.remoteStore,new cr(qi(_h(i.path)),a,"TargetPurposeLimboResolution",mh.ce))}}async function tu(r,t,i){const a=Nt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(y){l.push(y);const b=Km.As(v.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(v,y){const b=Nt(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(y,(V=>J.forEach(V.Es,(Q=>b.persistence.referenceDelegate.addReference(S,V.targetId,Q))).next((()=>J.forEach(V.ds,(Q=>b.persistence.referenceDelegate.removeReference(S,V.targetId,Q)))))))))}catch(S){if(!To(S))throw S;lt(Ym,"Failed to update sequence numbers: "+S)}for(const S of y){const V=S.targetId;if(!S.fromCache){const Q=b.Ms.get(V),Z=Q.snapshotVersion,st=Q.withLastLimboFreeSnapshotVersion(Z);b.Ms=b.Ms.insert(V,st)}}})(a.localStore,c))}async function rI(r,t){const i=Nt(r);if(!i.currentUser.isEqual(t)){lt(np,"User change. New user:",t.toKey());const a=await eT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new mt(W.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await tu(i,a.Ls)}}function aI(r,t){const i=Nt(r),a=i.Au.get(t);if(a&&a.hu)return Kt().add(a.key);{let l=Kt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function TT(r){const t=Nt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=yT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=aI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=eI.bind(null,t),t.Pu.H_=qC.bind(null,t.eventManager),t.Pu.yu=GC.bind(null,t.eventManager),t}function oI(r){const t=Nt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=nI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iI.bind(null,t),t}class uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Sh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return hC(this.persistence,new lC,t.initialUser,this.serializer)}Cu(t){return new tT(Qm.mi,this.serializer)}Du(t){return new _C}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uh.provider={build:()=>new uh};class lI extends uh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){re(this.persistence.referenceDelegate instanceof oh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new K2(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new tT((a=>oh.mi(a,i)),this.serializer)}}class _m{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Wv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=rI.bind(null,this.syncEngine),await jC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new HC})()}createDatastore(t){const i=Sh(t.databaseInfo.databaseId),a=(function(c){return new AC(c)})(t.databaseInfo);return(function(c,d,g,v){return new CC(c,d,g,v)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new NC(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Wv(this.syncEngine,i,0)),(function(){return Kv.v()?new Kv:new vC})())}createSyncEngine(t,i){return(function(l,c,d,g,v,y,b){const S=new YC(l,c,d,g,v,y);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Nt(i);lt(aa,"RemoteStore shutting down."),a.Ea.add(5),await Wl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_m.provider={build:()=>new _m};class bT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):bs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const br="FirestoreClient";class uI{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=yn.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{lt(br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(lt(br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=tp(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Qd(r,t){r.asyncQueue.verifyOperationInProgress(),lt(br,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await eT(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function e0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await cI(r);lt(br,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Xv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Xv(t.remoteStore,l))),r._onlineComponents=t}async function cI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(br,"Using user provided OfflineComponentProvider");try{await Qd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===W.FAILED_PRECONDITION||l.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;oo("Error using user provided cache. Falling back to memory cache: "+i),await Qd(r,new uh)}}else lt(br,"Using default OfflineComponentProvider"),await Qd(r,new lI(void 0));return r._offlineComponents}async function AT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(br,"Using user provided OnlineComponentProvider"),await e0(r,r._uninitializedComponentsProvider._online)):(lt(br,"Using default OnlineComponentProvider"),await e0(r,new _m))),r._onlineComponents}function hI(r){return AT(r).then((t=>t.syncEngine))}async function vm(r){const t=await AT(r),i=t.eventManager;return i.onListen=XC.bind(null,t.syncEngine),i.onUnlisten=JC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=$C.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=WC.bind(null,t.syncEngine),i}function fI(r,t,i={}){const a=new pr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,v,y){const b=new bT({next:V=>{b.Nu(),d.enqueueAndForget((()=>fT(c,S)));const Q=V.docs.has(g);!Q&&V.fromCache?y.reject(new mt(W.UNAVAILABLE,"Failed to get document because the client is offline.")):Q&&V.fromCache&&v&&v.source==="server"?y.reject(new mt(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(V)},error:V=>y.reject(V)}),S=new dT(_h(g.path),b,{includeMetadataChanges:!0,qa:!0});return hT(c,S)})(await vm(r),r.asyncQueue,t,i,a))),a.promise}function ST(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const n0=new Map;const wT="firestore.googleapis.com",i0=!0;class s0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wT,this.ssl=i0}else this.host=t.host,this.ssl=t.ssl??i0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=WE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<F2)throw new mt(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ST(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new mt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new mt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new mt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class sp{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new gR;switch(a.type){case"firstParty":return new ER(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new mt(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=n0.get(i);a&&(lt("ComponentProvider","Removing Datastore"),n0.delete(i),a.terminate())})(this),Promise.resolve()}}function dI(r,t,i,a={}){r=Hi(r,sp);const l=go(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(E0(`https://${g}`),T0("Firestore",!0)),c.host!==wT&&c.host!==g&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:l,emulatorOptions:a};if(!gr(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=yn.MOCK_USER;else{y=zb(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new mt(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new yn(S)}r._authCredentials=new yR(new fE(y,b))}}class Ch{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ch(this.firestore,t,this._query)}}class Ze{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ze(this.firestore,t,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if($l(i,Ze._jsonSchema))return new Ze(t,a||null,new vt(Ne.fromString(i.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:$e("string",Ze._jsonSchemaVersion),referencePath:$e("string")};class Hl extends Ch{constructor(t,i,a){super(t,i,_h(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ze(this.firestore,null,new vt(t))}withConverter(t){return new Hl(this.firestore,t,this._path)}}function de(r,t,...i){if(r=An(r),arguments.length===1&&(t=Vm.newId()),RR("doc","path",t),r instanceof sp){const a=Ne.fromString(t,...i);return _v(a),new Ze(r,null,new vt(a))}{if(!(r instanceof Ze||r instanceof Hl))throw new mt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Ne.fromString(t,...i));return _v(a),new Ze(r.firestore,r instanceof Hl?r.converter:null,new vt(a))}}const r0="AsyncQueue";class a0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iT(this,"async_queue_retry"),this._c=()=>{const a=Fd();a&&lt(r0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Fd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Fd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new pr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!To(t))throw t;lt(r0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",o0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Wm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&bt(47125,{Pc:o0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function o0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function l0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class po extends sp{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new a0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new a0(t),this._firestoreClient=void 0,await t}}}function mI(r,t){const i=typeof r=="object"?r:w0(),a=typeof r=="string"?r:th,l=Sm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Ub("firestore");c&&dI(l,...c)}return l}function rp(r){if(r._terminated)throw new mt(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pI(r),r._firestoreClient}function pI(r){const t=r._freezeSettings(),i=(function(l,c,d,g){return new PR(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,ST(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new uI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class si{constructor(t){this._byteString=t}static fromBase64String(t){try{return new si(mn.fromBase64String(t))}catch(i){throw new mt(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new si(mn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($l(t,si._jsonSchema))return si.fromBase64String(t.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:$e("string",si._jsonSchemaVersion),bytes:$e("string")};class Ih{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new mt(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Nh{constructor(t){this._methodName=t}}class Qi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new mt(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new mt(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Qt(this._lat,t._lat)||Qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(t){if($l(t,Qi._jsonSchema))return new Qi(t.latitude,t.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:$e("string",Qi._jsonSchemaVersion),latitude:$e("number"),longitude:$e("number")};class Ki{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($l(t,Ki._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ki(t.vectorValues);throw new mt(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ki._jsonSchemaVersion="firestore/vectorValue/1.0",Ki._jsonSchema={type:$e("string",Ki._jsonSchemaVersion),vectorValues:$e("object")};const gI=/^__.*__$/;class yI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Sr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Zl(t,this.data,i,this.fieldTransforms)}}class RT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Sr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function CT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ac:r})}}class xh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new xh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ch(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(CT(this.Ac)&&gI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class _I{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Sh(t)}Cc(t,i,a,l=!1){return new xh({Ac:t,methodName:i,Dc:a,path:dn.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IT(r){const t=r._freezeSettings(),i=Sh(r._databaseId);return new _I(r._databaseId,!!t.ignoreUndefinedProperties,i)}function vI(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);op("Data must be an object, but it was:",d,a);const g=NT(a,d);let v,y;if(c.merge)v=new qn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const S of c.mergeFields){const V=Em(t,S,i);if(!d.contains(V))throw new mt(W.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);DT(b,V)||b.push(V)}v=new qn(b),y=d.fieldTransforms.filter((S=>v.covers(S.field)))}else v=null,y=d.fieldTransforms;return new yI(new On(g),v,y)}class Dh extends Nh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dh}}function EI(r,t,i){return new xh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ap extends Nh{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=EI(this,t,!0),a=this.vc.map((c=>eu(c,i))),l=new ho(a);return new h2(t.path,l)}isEqual(t){return t instanceof ap&&gr(this.vc,t.vc)}}function TI(r,t,i,a){const l=r.Cc(1,t,i);op("Data must be an object, but it was:",l,a);const c=[],d=On.empty();Ar(a,((v,y)=>{const b=lp(t,v,i);y=An(y);const S=l.yc(b);if(y instanceof Dh)c.push(b);else{const V=eu(y,S);V!=null&&(c.push(b),d.set(b,V))}}));const g=new qn(c);return new RT(d,g,l.fieldTransforms)}function bI(r,t,i,a,l,c){const d=r.Cc(1,t,i),g=[Em(t,a,i)],v=[l];if(c.length%2!=0)throw new mt(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)g.push(Em(t,c[V])),v.push(c[V+1]);const y=[],b=On.empty();for(let V=g.length-1;V>=0;--V)if(!DT(y,g[V])){const Q=g[V];let Z=v[V];Z=An(Z);const st=d.yc(Q);if(Z instanceof Dh)y.push(Q);else{const w=eu(Z,st);w!=null&&(y.push(Q),b.set(Q,w))}}const S=new qn(y);return new RT(b,S,d.fieldTransforms)}function eu(r,t){if(xT(r=An(r)))return op("Unsupported field value:",t,r),NT(r,t);if(r instanceof Nh)return(function(a,l){if(!CT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let v=eu(g,l.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=An(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return l2(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Ae.fromDate(a);return{timestampValue:ah(l.serializer,c)}}if(a instanceof Ae){const c=new Ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ah(l.serializer,c)}}if(a instanceof Qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof si)return{bytesValue:QE(l.serializer,a._byteString)};if(a instanceof Ze){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ki)return(function(d,g){return{mapValue:{fields:{[TE]:{stringValue:bE},[eh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Bm(g.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${km(a)}`)})(r,t)}function NT(r,t){const i={};return pE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ar(r,((a,l)=>{const c=eu(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function xT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ae||r instanceof Qi||r instanceof si||r instanceof Ze||r instanceof Nh||r instanceof Ki)}function op(r,t,i){if(!xT(i)||!dE(i)){const a=km(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Em(r,t,i){if((t=An(t))instanceof Ih)return t._internalPath;if(typeof t=="string")return lp(r,t);throw ch("Field path arguments must be of type string or ",r,!1,void 0,i)}const AI=new RegExp("[~\\*/\\[\\]]");function lp(r,t,i){if(t.search(AI)>=0)throw ch(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ih(...t.split("."))._internalPath}catch{throw ch(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ch(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${l}`),v+=")"),new mt(W.INVALID_ARGUMENT,g+r+v)}function DT(r,t){return r.some((i=>i.isEqual(t)))}class OT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new SI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(MT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class SI extends OT{data(){return super.data()}}function MT(r,t){return typeof t=="string"?lp(r,t):t instanceof Ih?t._internalPath:t._delegate._internalPath}function wI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new mt(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class RI{convertValue(t,i="none"){switch(Er(t)){case 0:return null;case 1:return t.booleanValue;case 2:return je(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(vr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Ar(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[eh].arrayValue?.values?.map((a=>je(a.doubleValue)));return new Ki(i)}convertGeoPoint(t){return new Qi(je(t.latitude),je(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=gh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Pl(t));default:return null}}convertTimestamp(t){const i=_r(t);return new Ae(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=Ne.fromString(t);re(JE(a),9688,{name:t});const l=new zl(a.get(1),a.get(3)),c=new vt(a.popFirst(5));return l.isEqual(i)||bs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function CI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Il{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class na extends OT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(MT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:$e("string",na._jsonSchemaVersion),bundleSource:$e("string","DocumentSnapshot"),bundleName:$e("string"),bundle:$e("string")};class Gc extends na{data(t={}){return super.data(t)}}class ro{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Il(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Gc(this._firestore,this._userDataWriter,a.key,a,new Il(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new mt(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const v=new Gc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Il(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new Gc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Il(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:II(g.type),doc:v,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ro._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function II(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:r})}}function NI(r){r=Hi(r,Ze);const t=Hi(r.firestore,po);return fI(rp(t),r._key).then((i=>LT(t,r,i)))}ro._jsonSchemaVersion="firestore/querySnapshot/1.0",ro._jsonSchema={type:$e("string",ro._jsonSchemaVersion),bundleSource:$e("string","QuerySnapshot"),bundleName:$e("string"),bundle:$e("string")};class VT extends RI{constructor(t){super(),this.firestore=t}convertBytes(t){return new si(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ze(this.firestore,null,i)}}function xI(r,t,i){r=Hi(r,Ze);const a=Hi(r.firestore,po),l=CI(r.converter,t);return kT(a,[vI(IT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Gi.none())])}function Ee(r,t,i,...a){r=Hi(r,Ze);const l=Hi(r.firestore,po),c=IT(l);let d;return d=typeof(t=An(t))=="string"||t instanceof Ih?bI(c,"updateDoc",r._key,t,i,a):TI(c,"updateDoc",r._key,t),kT(l,[d.toMutation(r._key,Gi.exists(!0))])}function DI(r,...t){r=An(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||l0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(l0(t[a])){const v=t[a];t[a]=v.next?.bind(v),t[a+1]=v.error?.bind(v),t[a+2]=v.complete?.bind(v)}let c,d,g;if(r instanceof Ze)d=Hi(r.firestore,po),g=_h(r._key.path),c={next:v=>{t[a]&&t[a](LT(d,r,v))},error:t[a+1],complete:t[a+2]};else{const v=Hi(r,Ch);d=Hi(v.firestore,po),g=v._query;const y=new VT(d);c={next:b=>{t[a]&&t[a](new ro(d,y,v,b))},error:t[a+1],complete:t[a+2]},wI(r._query)}return(function(y,b,S,V){const Q=new bT(V),Z=new dT(b,Q,S);return y.asyncQueue.enqueueAndForget((async()=>hT(await vm(y),Z))),()=>{Q.Nu(),y.asyncQueue.enqueueAndForget((async()=>fT(await vm(y),Z)))}})(rp(d),g,l,c)}function kT(r,t){return(function(a,l){const c=new pr;return a.asyncQueue.enqueueAndForget((async()=>tI(await hI(a),l,c))),c.promise})(rp(r),t)}function LT(r,t,i){const a=i.docs.get(t._key),l=new VT(r);return new na(r,l,t._key,a,new Il(i.hasPendingWrites,i.fromCache),t.converter)}function Hn(...r){return new ap("arrayUnion",r)}(function(t,i=!0){(function(l){vo=l})(yo),ao(new ia("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new po(new _R(a.getProvider("auth-internal")),new TR(d,a.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new mt(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(y.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),dr(mv,pv,t),dr(mv,pv,"esm2020")})();const OI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),u0=r=>{const t=MI(r);return t.charAt(0).toUpperCase()+t.slice(1)},UT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),VI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var kI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const LI=Ie.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},v)=>Ie.createElement("svg",{ref:v,...kI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:UT("lucide",l),...!c&&!VI(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>Ie.createElement(y,b)),...Array.isArray(c)?c:[c]]));const En=(r,t)=>{const i=Ie.forwardRef(({className:a,...l},c)=>Ie.createElement(LI,{ref:c,iconNode:t,className:UT(`lucide-${OI(u0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=u0(r),i};const UI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],PT=En("book-open",UI);const PI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zI=En("circle-check-big",PI);const jI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],BI=En("circle-x",jI);const HI=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Kd=En("coins",HI);const qI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],zT=En("crown",qI);const GI=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],FI=En("door-open",GI);const QI=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],KI=En("hand",QI);const YI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],c0=En("info",YI);const XI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$I=En("log-out",XI);const ZI=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],jT=En("refresh-ccw",ZI);const JI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],WI=En("rotate-ccw",JI);const tN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],eN=En("shield",tN);const nN=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],h0=En("skull",nN);const iN=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],sN=En("sword",iN);const rN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],aN=En("trophy",rN);const oN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],BT=En("x",oN),lN={apiKey:"AIzaSyBuqx_QQMMusEFu7BgE_Xnts82K6bKnqhQ",authDomain:"conspiracy-936b1.firebaseapp.com",projectId:"conspiracy-936b1",storageBucket:"conspiracy-936b1.firebasestorage.app",messagingSenderId:"74169733006",appId:"1:74169733006:web:9efd5d6032c7317e4d5edf",measurementId:"G-LZB3DTW0T0"},HT=S0(lN),Yd=mR(HT),me=mI(HT),pe="conspiracy-game-live",uN={HERO:{name:"Hero",color:"bg-purple-600",icon:zT,desc:"Grabs 3 coins. Blocks Export."},ROBBER:{name:"Robber",color:"bg-blue-600",icon:KI,desc:"Steal 2 coins. Blocks Stealing."},GENIE:{name:"Genie",color:"bg-pink-600",icon:eN,desc:"Blocks Stab."},MONSTER:{name:"Monster",color:"bg-red-700",icon:sN,desc:"Stab (Pay 3 to kill)."},RIDDLER:{name:"Riddler",color:"bg-emerald-600",icon:jT,desc:"Exchange cards. Blocks Stealing."}},Sl=[...Array(3).fill("HERO"),...Array(3).fill("ROBBER"),...Array(3).fill("GENIE"),...Array(3).fill("MONSTER"),...Array(3).fill("RIDDLER")],Mc={EARN:{name:"Earn",cost:0,income:1,blockable:!1,challengeable:!1},EXPORT:{name:"Export",cost:0,income:2,blockable:!0,challengeable:!1,blockedBy:["HERO"]},TAX:{name:"Tax",cost:0,income:3,blockable:!1,challengeable:!0,claim:"HERO"},STEAL:{name:"Steal",cost:0,income:0,blockable:!0,challengeable:!0,claim:"ROBBER",blockedBy:["ROBBER","RIDDLER"]},STAB:{name:"Stab",cost:3,income:0,blockable:!0,challengeable:!0,claim:"MONSTER",blockedBy:["GENIE"]},EXCHANGE:{name:"Exchange",cost:0,income:0,blockable:!1,challengeable:!0,claim:"RIDDLER"},KILL:{name:"Kill",cost:7,income:0,blockable:!1,challengeable:!1}},Vc=r=>{let t=r.length,i;for(;t!==0;)i=Math.floor(Math.random()*t),t--,[r[t],r[i]]=[r[i],r[t]];return r},cN=({onClose:r})=>M.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:M.jsxs("div",{className:"bg-gray-800 rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto border border-gray-700 shadow-2xl flex flex-col",children:[M.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center sticky top-0 bg-gray-800 z-10",children:[M.jsxs("h2",{className:"text-2xl font-bold text-purple-400 flex items-center gap-2",children:[M.jsx(PT,{})," How to Play"]}),M.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-700 rounded-full",children:M.jsx(BT,{})})]}),M.jsxs("div",{className:"p-6 space-y-8",children:[M.jsxs("section",{children:[M.jsx("h3",{className:"text-xl font-bold text-yellow-400 mb-2",children:"The Goal"}),M.jsx("p",{className:"text-gray-300",children:"Eliminate all other players. Lose a life when you lose a card. Lose both cards, and you are out."})]}),M.jsxs("section",{children:[M.jsx("h3",{className:"text-xl font-bold text-green-400 mb-2",children:"The Golden Rule: Bluffing"}),M.jsxs("p",{className:"text-gray-300",children:["You can perform ",M.jsx("strong",{children:"ANY"})," action, even if you don't have the card. If Challenged, you must show it. If you can't, you lose a life!"]})]})]})]})}),f0=({onConfirm:r,onCancel:t})=>M.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:M.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[M.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Game?"}),M.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:"Do you really want to leave? You will be removed from the current game."}),M.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[M.jsx("button",{onClick:t,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold",children:"No, Stay"}),M.jsx("button",{onClick:r,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold",children:"Yes, Leave"})]})]})}),d0=()=>M.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-60 mt-auto pb-2 pt-2",children:[M.jsx("span",{className:"text-[10px] font-black tracking-widest text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600 uppercase",children:"CONSPIRACY"}),M.jsx("span",{className:"text-[8px] text-gray-500",children:""})]});function hN(){const[r,t]=Ie.useState(null),[i,a]=Ie.useState("menu"),[l,c]=Ie.useState(""),[d,g]=Ie.useState(""),[v,y]=Ie.useState(""),[b,S]=Ie.useState(""),[V,Q]=Ie.useState(4),[Z,st]=Ie.useState(null),[w,Et]=Ie.useState(null),[Rt,yt]=Ie.useState(""),[ee,se]=Ie.useState(!1),[kt,N]=Ie.useState([]),[A,I]=Ie.useState(!1),[k,x]=Ie.useState(!1),[U,R]=Ie.useState(!1);Ie.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await tw(Yd,__initial_auth_token):await XS(Yd)})();const it=iw(Yd,et=>t(et));return()=>it()},[]),Ie.useEffect(()=>{if(!Z||!r)return;const K=de(me,"artifacts",pe,"public","data","rooms",Z),it=DI(K,et=>{if(et.exists()){const ht=et.data();Et({id:et.id,...ht}),ht.status==="playing"||ht.status==="finished"?a("game"):a("lobby")}else st(null),a("menu"),yt("Room closed or does not exist.")},et=>console.error(et));return()=>it()},[Z,r]);const ye=async()=>{if(!r||!l.trim())return yt("Enter a nickname first.");se(!0);const K=Math.random().toString(36).substring(2,8).toUpperCase(),it={hostId:r.uid,password:b,maxPlayers:parseInt(V),players:[{id:r.uid,name:l,coins:2,cards:[],isEliminated:!1,ready:!0}],status:"lobby",turnIndex:0,deck:[],logs:[],turnState:"IDLE",currentAction:null};try{await xI(de(me,"artifacts",pe,"public","data","rooms",K),it),st(K)}catch{yt("Failed to create room.")}se(!1)},Ve=async()=>{if(!r||!d||!l.trim())return yt("Enter nickname & room code.");se(!0);try{const K=de(me,"artifacts",pe,"public","data","rooms",d),it=await NI(K);if(!it.exists())throw new Error("Room not found.");const et=it.data();if(et.password&&et.password!==v)throw new Error("Wrong password.");if(et.players.length>=et.maxPlayers)throw new Error("Room full.");if(et.status!=="lobby")throw new Error("Game started.");et.players.find(ft=>ft.id===r.uid)||await Ee(K,{players:Hn({id:r.uid,name:l,coins:2,cards:[],isEliminated:!1,ready:!0})}),st(d)}catch(K){yt(K.message)}se(!1)},G=async()=>{if(!Z||!r||!w)return;const K=w.players.filter(Lt=>Lt.id!==r.uid);let it=w.status;it==="playing"&&K.length<2&&(it="finished");const et=w.players.findIndex(Lt=>Lt.id===r.uid);let ht=w.turnIndex;et<w.turnIndex&&(ht=Math.max(0,ht-1)),ht>=K.length&&(ht=0);const ft=[...w.logs||[]],ot=w.players.find(Lt=>Lt.id===r.uid);ot&&ft.push({text:`${ot.name} left the game.`,type:"danger"}),it==="finished"&&w.status==="playing"&&ft.push({text:"Not enough players. Game Over.",type:"neutral"});try{await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),{players:K,status:it,turnIndex:ht,logs:ft})}catch(Lt){console.error("Error leaving room",Lt)}st(null),a("menu"),x(!1)},rt=async()=>{if(!w||w.hostId!==r.uid)return;if(w.players.length<2)return yt("Need 2+ players.");const K=Vc([...Sl,...Sl]),it=w.players.map(et=>({...et,coins:2,cards:[{type:K.pop(),flipped:!1},{type:K.pop(),flipped:!1}],isEliminated:!1}));await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),{status:"playing",deck:K,players:it,turnIndex:0,turnState:"IDLE",logs:Hn({text:"Game Started!",type:"info"})})},pt=async()=>{!w||w.hostId!==r.uid||await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),{status:"lobby",turnState:"IDLE",currentAction:null,logs:[],players:w.players.map(K=>({...K,cards:[],coins:2,isEliminated:!1}))})},Yt=async()=>{if(!w||w.hostId!==r.uid)return;const K=Vc([...Sl,...Sl]),it=w.players.map(et=>({...et,coins:2,cards:[{type:K.pop(),flipped:!1},{type:K.pop(),flipped:!1}],isEliminated:!1}));await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),{status:"playing",deck:K,players:it,turnIndex:0,turnState:"IDLE",logs:[{text:"Game Restarted!",type:"info"}],currentAction:null})},Jt=()=>w?.players.filter(K=>!K.isEliminated)||[],D=()=>w?.players[w.turnIndex],X=()=>D()?.id===r.uid,nt=K=>K.filter(et=>!et.isEliminated).length<=1,at=async K=>{let it=(K.turnIndex+1)%K.players.length,et=0;for(;K.players[it].isEliminated&&et<10;)it=(it+1)%K.players.length,et++;et>=10&&(it=K.players.findIndex(ht=>!ht.isEliminated)),await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),{turnIndex:it,turnState:"IDLE",currentAction:null,players:K.players,loseReason:null})},_t=async(K,it=null)=>{if(!X())return;const et=D(),ht=Mc[K];if(et.coins<ht.cost)return;if(et.coins>=10&&K!=="KILL")return alert("Must use Kill!");const ft={type:K,actorId:r.uid,targetId:it,status:"PENDING",votes:[],actionPending:!1};if(K==="EARN"){const ot=[...w.players];ot[w.turnIndex].coins+=1,await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),{players:ot,logs:Hn({text:`${et.name} takes Income (+1 coin).`,type:"neutral"})}),await at({...w,players:ot});return}if(K==="KILL"){const ot=[...w.players];ot[w.turnIndex].coins-=7;const Lt=w.players.find(Ht=>Ht.id===it).name;await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),{players:ot,turnState:"LOSE_CARD",currentAction:ft,loserId:it,loseReason:"kill",logs:Hn({text:`${et.name} killed ${Lt} (-7 coins).`,type:"danger"})});return}await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),{turnState:"ACTION_PENDING",currentAction:ft})},xt=async()=>{if(!w.currentAction||w.currentAction.votes.includes(r.uid))return;const K=[...w.currentAction.votes,r.uid],it=Jt().length;K.length>=it-1?await Bt():await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),{"currentAction.votes":K})},Bt=async()=>{const K=Mc[w.currentAction.type],it=w.players.findIndex(ft=>ft.id===w.currentAction.actorId),et=[...w.players];let ht=`${et[it].name} performs ${K.name}`;if(w.currentAction.type==="EXPORT")et[it].coins+=2,ht+=" (+2 coins).";else if(w.currentAction.type==="TAX")et[it].coins+=3,ht+=" (+3 coins).";else if(w.currentAction.type==="STEAL"){const ft=et.findIndex(Lt=>Lt.id===w.currentAction.targetId),ot=Math.min(et[ft].coins,2);et[ft].coins-=ot,et[it].coins+=ot,ht+=` on ${et[ft].name} (stole ${ot}).`}else if(w.currentAction.type==="STAB"){et[it].coins-=3;const ft=w.players.find(ot=>ot.id===w.currentAction.targetId).name;await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),{players:et,turnState:"LOSE_CARD",loserId:w.currentAction.targetId,loseReason:"stab",logs:Hn({text:`${et[it].name} assassinates ${ft} (-3 coins).`,type:"danger"})});return}else if(w.currentAction.type==="EXCHANGE"){const ft=[...w.deck];ft.length<2&&ft.push(...Sl);const ot=[ft.pop(),ft.pop()];await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),{turnState:"EXCHANGE_SELECT",deck:ft,tempCards:ot,logs:Hn({text:`${et[it].name} exchanges cards.`,type:"neutral"})});return}await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),{players:et,logs:Hn({text:ht,type:"success"})}),await at({...w,players:et})},Se=async(K,it)=>{await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),{turnState:"BLOCK_PENDING",currentAction:{...w.currentAction,blockerId:K,blockClaim:it,votes:[]},logs:Hn({text:`${w.players.find(et=>et.id===K).name} blocks with ${it}!`,type:"warning"})})},_e=async()=>{if(w.turnState!=="BLOCK_PENDING"||w.currentAction.votes.includes(r.uid))return;const K=[...w.currentAction.votes,r.uid],it=Jt().length;if(K.length>=it-1){const et=w.currentAction;let ht=[...w.players];if(et.type==="STAB"){const ft=ht.findIndex(ot=>ot.id===et.actorId);ht[ft].coins=Math.max(0,ht[ft].coins-3)}await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),{players:ht,logs:Hn({text:"Block Accepted. Action Failed.",type:"info"})}),await at({...w,players:ht})}else await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),{"currentAction.votes":K})},yi=async K=>{const it=w.turnState==="BLOCK_PENDING",et=it?w.currentAction.blockerId:w.currentAction.actorId,ht=it?w.currentAction.blockClaim:Mc[w.currentAction.type].claim;await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),{turnState:"CHALLENGE_RESOLVE",challengerId:K,accusedId:et,challengedCard:ht})},ws=async()=>{const K=[...w.players],it=K.find($t=>$t.id===r.uid),et=K.findIndex($t=>$t.id===r.uid),ht=it.cards.map(($t,Dt)=>({...$t,index:Dt})).filter($t=>!$t.flipped);let ft=[{text:`${it.name} surrendered the challenge.`,type:"danger"}],ot=!1,Lt="IDLE",Ht=null,St=null;if(w.turnState==="BLOCK_PENDING"&&w.currentAction.blockerId===r.uid){const $t=w.currentAction,Dt=K.findIndex(ke=>ke.id===$t.actorId);if($t.type==="STEAL"){const ke=K.findIndex(Pt=>Pt.id===$t.targetId),ve=Math.min(K[ke].coins,2);K[ke].coins-=ve,K[Dt].coins+=ve,ft.push({text:"Block failed. Steal succeeds!",type:"danger"})}else $t.type==="STAB"?(K[Dt].coins-=3,Lt="LOSE_CARD",Ht=$t.targetId,St="stab",ft.push({text:"Block failed. Stab succeeds!",type:"danger"})):$t.type==="EXCHANGE"&&(ot=!0,ft.push({text:"Block failed. Exchange proceeds.",type:"info"}))}else ft.push({text:"Action caught! Turn ends.",type:"info"});ht.length===1?(K[et].cards[ht[0].index].flipped=!0,K[et].isEliminated=!0):(Lt="LOSE_CARD",Ht=r.uid,St="challenge");const an=nt(K);let we={players:K,logs:Hn(...ft),"currentAction.actionPending":ot};if(an?we.status="finished":Lt==="LOSE_CARD"&&(we.turnState="LOSE_CARD",we.loserId=Ht,St&&(we.loseReason=St)),await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),we),!(an||Lt==="LOSE_CARD"))if(ot&&w.currentAction.type==="EXCHANGE"){const $t=[...w.deck],Dt=[$t.pop(),$t.pop()];await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),{turnState:"EXCHANGE_SELECT",deck:$t,tempCards:Dt,"currentAction.actionPending":!1})}else await at({...w,players:K})},Rs=async K=>{const it=w.players.find(ve=>ve.id===r.uid),et=it.cards[K],ht=w.challengedCard,ft=et.type===ht;let ot=[...w.players],Lt=[...w.deck],Ht=[],St="IDLE",an=null,we=null,$t=!1;if(ft){Ht.push({text:`Challenge Failed! ${it.name} had ${ht}.`,type:"success"}),Lt.push(et.type),Lt=Vc(Lt);const ve=ot.findIndex(Pt=>Pt.id===r.uid);if(ot[ve].cards[K]={type:Lt.pop(),flipped:!1},St="LOSE_CARD",an=w.challengerId,we="challenge",w.turnState!=="BLOCK_PENDING"){const Pt=w.currentAction,ut=ot.findIndex(At=>At.id===Pt.actorId);if(Pt.type==="TAX"&&(ot[ut].coins+=3,Ht.push({text:"Action proceeds: Tax (+3 coins)",type:"neutral"})),Pt.type==="EXPORT"&&(ot[ut].coins+=2,Ht.push({text:"Action proceeds: Export (+2 coins)",type:"neutral"})),Pt.type==="STEAL"){const At=ot.findIndex(De=>De.id===Pt.targetId),Ut=Math.min(ot[At].coins,2);ot[At].coins-=Ut,ot[ut].coins+=Ut,Ht.push({text:`Action proceeds: Steal (${Ut} coins)`,type:"neutral"})}Pt.type==="STAB"&&(ot[ut].coins-=3,Ht.push({text:"Action proceeds: Stab",type:"danger"})),Pt.type==="EXCHANGE"&&($t=!0,Ht.push({text:"Action proceeds: Exchange",type:"neutral"}))}else{const Pt=w.currentAction;if(Pt.type==="STAB"){const ut=ot.findIndex(At=>At.id===Pt.actorId);ot[ut].coins=Math.max(0,ot[ut].coins-3)}}}else{Ht.push({text:`Challenge Won! ${it.name} caught lying!`,type:"danger"});const ve=ot.findIndex(Pt=>Pt.id===r.uid);if(ot[ve].cards[K].flipped=!0,ot[ve].cards.every(Pt=>Pt.flipped)&&(ot[ve].isEliminated=!0),w.turnState==="BLOCK_PENDING"){const Pt=w.currentAction,ut=ot.findIndex(At=>At.id===Pt.actorId);if(Pt.type==="STEAL"){const At=ot.findIndex(De=>De.id===Pt.targetId),Ut=Math.min(ot[At].coins,2);ot[At].coins-=Ut,ot[ut].coins+=Ut}Pt.type==="STAB"&&(ot[ut].coins-=3,ot[ve].isEliminated||(St="LOSE_CARD",an=Pt.targetId,we="stab")),Pt.type==="EXCHANGE"&&($t=!0)}}const Dt=nt(ot);let ke={players:ot,deck:Lt,logs:Hn(...Ht),"currentAction.actionPending":$t};if(Dt&&(ke.status="finished"),!Dt&&St==="LOSE_CARD")ke.turnState="LOSE_CARD",ke.loserId=an,we&&(ke.loseReason=we),await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),ke);else{if(await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),ke),Dt)return;if($t&&w.currentAction.type==="EXCHANGE"){const ve=[...Lt],Pt=[ve.pop(),ve.pop()];await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),{turnState:"EXCHANGE_SELECT",deck:ve,tempCards:Pt,"currentAction.actionPending":!1})}else await at({...w,players:ot})}},Cs=async K=>{if(w.loserId!==r.uid)return;const it=[...w.players],et=it.findIndex(Ht=>Ht.id===r.uid);if(it[et].cards[K].flipped)return;it[et].cards[K].flipped=!0;const ht=it[et].cards.every(Ht=>Ht.flipped);ht&&(it[et].isEliminated=!0);const ft=[{text:`${it[et].name} lost a life.`,type:"danger"}];ht&&ft.push({text:`${it[et].name} is ELIMINATED!`,type:"danger"});const ot=nt(it);let Lt={players:it,logs:Hn(...ft)};if(ot){const Ht=it.filter(St=>!St.isEliminated);Lt.status="finished",Lt.logs=Hn({text:`Game Over! ${Ht[0]?.name} Wins!`,type:"success"}),await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),Lt);return}if(await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),Lt),w.currentAction?.actionPending&&w.currentAction.type==="EXCHANGE"){const Ht=[...w.deck],St=[Ht.pop(),Ht.pop()];await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),{turnState:"EXCHANGE_SELECT",deck:Ht,tempCards:St,"currentAction.actionPending":!1});return}await at({...w,players:it})},Gn=async()=>{const K=w.players.find(Dt=>Dt.id===r.uid),it=K.cards.filter(Dt=>!Dt.flipped).length;if(kt.length!==it){alert(`You must select exactly ${it} cards.`);return}const et=[...w.players],ht=et.findIndex(Dt=>Dt.id===r.uid),ot=[...K.cards.filter(Dt=>!Dt.flipped).map(Dt=>Dt.type),...w.tempCards],Lt=kt.map(Dt=>ot[Dt]),Ht=ot.filter((Dt,ke)=>!kt.includes(ke)),St=K.cards.filter(Dt=>Dt.flipped),we=[...Lt.map(Dt=>({type:Dt,flipped:!1})),...St],$t=[...w.deck,...Ht];et[ht].cards=we,await Ee(de(me,"artifacts",pe,"public","data","rooms",Z),{players:et,deck:Vc($t),turnState:"IDLE",tempCards:null,currentAction:null}),await at({...w,players:et}),N([])},wr=({type:K,flipped:it,onClick:et,selectable:ht,size:ft="md"})=>{const ot=uN[K];if(!ot&&!it)return null;const Lt=`rounded-lg shadow-md border-2 transition-all duration-200 relative ${ht?"cursor-pointer hover:scale-105 ring-2 ring-offset-2 ring-yellow-400":""}`,Ht=ft==="sm"?"w-14 h-20 text-[10px]":"w-24 h-36 text-sm";return it?M.jsx("div",{className:`${Lt} ${Ht} bg-gray-800 border-gray-700 flex items-center justify-center opacity-60`,children:M.jsx(h0,{className:"text-gray-500"})}):M.jsxs("div",{onClick:et,className:`${Lt} ${Ht} ${ot.color} border-white/20 flex flex-col items-center justify-between p-2 text-white`,children:[M.jsx("div",{className:"font-bold uppercase tracking-wider truncate w-full text-center",children:ot.name}),M.jsx(ot.icon,{size:ft==="sm"?16:32}),ft!=="sm"&&M.jsx("div",{className:"text-[10px] leading-tight text-center opacity-90",children:ot.desc})]})};if(!r)return M.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:"Loading..."});if(i==="menu")return M.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-4 relative",children:[A&&M.jsx(cN,{onClose:()=>I(!1)}),M.jsx("h1",{className:"text-5xl font-bold mb-8 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600",children:"CONSPIRACY"}),M.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl shadow-2xl w-full max-w-md border border-gray-700",children:[Rt&&M.jsx("div",{className:"bg-red-900/50 text-red-200 p-3 rounded mb-4 text-sm",children:Rt}),M.jsxs("div",{className:"mb-6",children:[M.jsx("label",{className:"text-xs text-gray-400 uppercase font-bold block mb-1",children:"Nickname"}),M.jsx("input",{type:"text",className:"w-full bg-gray-700 p-3 rounded border border-gray-600 text-white",placeholder:"Enter your name",value:l,onChange:K=>c(K.target.value)})]}),M.jsxs("div",{className:"space-y-6",children:[M.jsxs("div",{className:"border-b border-gray-700 pb-6",children:[M.jsx("h3",{className:"text-xl font-semibold mb-4 text-purple-300",children:"Join Room"}),M.jsx("input",{type:"text",placeholder:"Room Code",className:"w-full bg-gray-700 p-3 rounded mb-2 border border-gray-600",value:d,onChange:K=>g(K.target.value.toUpperCase())}),M.jsx("input",{type:"password",placeholder:"Room Password",className:"w-full bg-gray-700 p-3 rounded mb-4 border border-gray-600",value:v,onChange:K=>y(K.target.value)}),M.jsx("button",{onClick:Ve,disabled:ee,className:"w-full bg-purple-600 hover:bg-purple-500 py-3 rounded font-bold",children:"Join Game"})]}),M.jsxs("div",{children:[M.jsx("h3",{className:"text-xl font-semibold mb-4 text-pink-300",children:"Create Room"}),M.jsx("input",{type:"password",placeholder:"Set Room Password",className:"w-full bg-gray-700 p-3 rounded mb-4 border border-gray-600",value:b,onChange:K=>S(K.target.value)}),M.jsxs("div",{className:"flex justify-between mb-4 text-sm text-gray-400",children:[M.jsxs("span",{children:["Players: ",V]}),M.jsx("input",{type:"range",min:"2",max:"6",value:V,onChange:K=>Q(K.target.value),className:"accent-pink-500"})]}),M.jsx("button",{onClick:ye,disabled:ee,className:"w-full bg-gray-700 hover:bg-gray-600 py-3 rounded font-bold border border-gray-600",children:"Create Lobby"})]})]}),M.jsxs("button",{onClick:()=>I(!0),className:"w-full mt-6 flex items-center justify-center gap-2 text-gray-400 hover:text-white transition-colors",children:[M.jsx(PT,{size:18})," How to Play"]})]})]});if(i==="lobby"&&w)return M.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-4 flex flex-col items-center",children:[M.jsxs("div",{className:"w-full max-w-2xl flex-1 flex flex-col",children:[M.jsxs("div",{className:"flex justify-between items-center mb-8",children:[M.jsxs("h2",{className:"text-2xl font-bold text-purple-400",children:["Lobby: ",w.id]}),M.jsx("button",{onClick:()=>x(!0),className:"text-sm text-gray-400 hover:text-white",children:"Leave"})]}),M.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-6 border border-gray-700",children:[M.jsxs("h3",{className:"text-gray-400 text-sm uppercase tracking-wider mb-4",children:["Players (",w.players.length,"/",w.maxPlayers,")"]}),w.players.map(K=>M.jsxs("div",{className:"flex items-center justify-between bg-gray-700 p-3 rounded mb-2",children:[M.jsxs("span",{className:K.id===r.uid?"text-purple-300 font-bold":"text-white",children:[K.name," ",K.id===r.uid&&"(You)"," ",K.id===w.hostId&&""]}),M.jsx("span",{className:"text-green-400 text-sm",children:"Ready"})]},K.id))]}),w.hostId===r.uid?M.jsxs("div",{className:"space-y-2",children:[M.jsx("button",{onClick:rt,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg ${w.players.length>=2?"bg-green-600 hover:bg-green-500":"bg-gray-700 cursor-not-allowed"}`,children:"Start Game"}),M.jsx("button",{onClick:pt,className:"w-full py-2 text-xs text-gray-500 hover:text-red-400",children:"Reset Lobby (Debug)"})]}):M.jsx("div",{className:"text-center text-gray-400 animate-pulse",children:"Waiting for host..."})]}),M.jsx(d0,{}),k&&M.jsx(f0,{onConfirm:G,onCancel:()=>x(!1)})]});if(i==="game"&&w){const K=w.players.find(ut=>ut.id===r.uid);if(!K)return M.jsxs("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white flex-col",children:[M.jsx("div",{className:"text-xl font-bold mb-4",children:"You have left the game or were removed."}),M.jsx("button",{onClick:()=>{st(null),a("menu")},className:"bg-purple-600 px-4 py-2 rounded",children:"Back to Menu"})]});const it=X(),et=w.currentAction?Mc[w.currentAction.type].name:"",ht=w.turnState==="ACTION_PENDING"?w.currentAction.votes.length:0,ft=Jt().length-1,ot=w.currentAction?.votes.includes(r.uid),Lt=w.turnState==="ACTION_PENDING"&&w.currentAction.actorId!==r.uid,Ht=w.turnState==="BLOCK_PENDING"&&w.currentAction.blockerId!==r.uid&&!K.isEliminated,St=w.currentAction,an=w.players.filter(ut=>!ut.isEliminated);let we=!1;St&&(St.type==="EXPORT"||(St.type==="STEAL"||St.type==="STAB")&&St.targetId===r.uid)&&(we=!0);const $t=w.turnState==="EXCHANGE_SELECT"&&K.id===D().id;let Dt=null,ke=null;if(St){const ut=w.players.find(Ut=>Ut.id===St.targetId),At=w.players.find(Ut=>Ut.id===St.actorId);ut&&(Dt=ut.name),At&&(ke=At.name)}let ve="",Pt="";if(w.turnState==="LOSE_CARD"){const ut=w.players.find(Ut=>Ut.id===w.loserId),At=ut?ut.name:"Player";w.loseReason==="challenge"?(ve="Challenge Lost",Pt=`${At} is discarding a card...`):St&&St.type==="KILL"?(ve=`${ke} performs`,Pt=`Kill on ${Dt}`):St&&St.type==="STAB"?(ve=`${ke} performs`,Pt=`Stab on ${Dt}`):(ve=`${At} lost a life`,Pt="Choosing card to lose...")}return M.jsxs("div",{className:"min-h-screen bg-gray-900 text-white overflow-hidden flex flex-col relative",children:[M.jsxs("div",{className:"p-2 bg-gray-800 flex justify-between items-center border-b border-gray-700 z-50 relative",children:[M.jsxs("div",{className:"text-sm font-bold text-purple-400",children:["Room: ",w.id]}),M.jsxs("div",{className:"flex items-center gap-3",children:[M.jsx("button",{onClick:()=>R(!0),className:"text-gray-400 hover:text-white",children:M.jsx(c0,{size:18})}),M.jsxs("button",{onClick:()=>x(!0),className:"text-xs text-gray-400 hover:text-white flex items-center gap-1",children:[M.jsx($I,{size:14})," Leave"]})]})]}),M.jsxs("div",{className:"flex-1 relative p-4 flex flex-col",children:[w.turnState==="IDLE"&&!w.status.includes("finished")&&M.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none",children:M.jsxs("div",{className:"text-2xl font-black text-white/10 uppercase tracking-widest text-center whitespace-nowrap scale-150",children:[D()?.name,"'s Turn"]})}),M.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-4 z-10",children:w.players.map((ut,At)=>ut.id===r.uid?null:M.jsxs("div",{className:`bg-gray-800 p-2 rounded border ${w.turnIndex===At?"border-yellow-500":"border-gray-700"} ${ut.isEliminated?"opacity-50":""} relative`,children:[ut.isEliminated&&M.jsx("div",{className:"absolute inset-x-0 top-8 bg-red-900/80 text-red-500 text-[10px] font-black uppercase tracking-widest text-center py-1 z-20 border-y border-red-700",children:"ELIMINATED"}),M.jsxs("div",{className:"flex justify-between items-start mb-2",children:[M.jsx("span",{className:"font-bold text-xs truncate w-20",children:ut.name}),M.jsxs("div",{className:"flex items-center space-x-1 bg-black/30 px-1 rounded",children:[M.jsx(Kd,{size:10,className:"text-yellow-400"}),M.jsx("span",{className:"text-xs",children:ut.coins})]})]}),M.jsx("div",{className:"flex justify-center space-x-1",children:ut.cards.map((Ut,De)=>M.jsx("div",{className:`w-6 h-8 rounded border ${Ut.flipped?"bg-gray-900 border-gray-600":"bg-blue-900 border-blue-500"} flex items-center justify-center`,children:Ut.flipped&&M.jsx(h0,{size:10,className:"text-gray-600"})},De))}),it&&w.turnState==="IDLE"&&!ut.isEliminated&&M.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-1",children:[M.jsx("button",{disabled:ut.coins<2,onClick:()=>_t("STEAL",ut.id),className:"disabled:opacity-30 bg-blue-900/50 border border-blue-700 hover:bg-blue-800 py-1 rounded text-[9px] font-bold",children:"Steal"}),M.jsx("button",{disabled:K.coins<3,onClick:()=>_t("STAB",ut.id),className:"disabled:opacity-30 bg-red-900/50 border border-red-700 hover:bg-red-800 py-1 rounded text-[9px] font-bold",children:"Stab(3)"}),M.jsx("button",{disabled:K.coins<7,onClick:()=>_t("KILL",ut.id),className:"disabled:opacity-30 bg-red-950 border border-red-900 hover:bg-red-900 py-1 rounded text-[9px] font-bold text-red-500",children:"Kill(7)"})]}),w.currentAction?.votes.includes(ut.id)&&(w.turnState==="ACTION_PENDING"||w.turnState==="BLOCK_PENDING")&&M.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 z-20 text-green-400 bg-black rounded-full p-1 border border-green-500 shadow-lg",children:M.jsx(zI,{size:16,className:"fill-current"})})]},ut.id))}),M.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center my-2 space-y-4 z-10",children:[w.status==="finished"&&M.jsxs("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center z-50",children:[M.jsx(aN,{size:64,className:"text-yellow-400 mb-4 animate-bounce"}),M.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"Game Over"}),M.jsxs("div",{className:"text-2xl text-purple-400 mb-8",children:[an[0]?.name," Wins!"]}),w.hostId===r.uid?M.jsxs("button",{onClick:Yt,className:"bg-green-600 hover:bg-green-500 px-8 py-4 rounded-xl font-bold text-lg flex items-center gap-2 shadow-lg",children:[M.jsx(WI,{})," Play Again"]}):M.jsx("div",{className:"text-gray-400 animate-pulse",children:"Waiting for host to restart..."})]}),(w.turnState==="ACTION_PENDING"||w.turnState==="LOSE_CARD")&&M.jsxs("div",{className:"w-full max-w-md bg-gray-800 p-4 rounded border border-yellow-500/50 relative shadow-2xl",children:[M.jsx("div",{className:"text-center mb-3",children:w.turnState==="LOSE_CARD"?M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"text-sm text-gray-400 mt-1",children:ve}),M.jsx("div",{className:`text-xl font-bold ${w.loseReason==="challenge"?"text-red-500":"text-yellow-400"}`,children:Pt})]}):M.jsxs(M.Fragment,{children:[M.jsxs("div",{className:"text-sm text-gray-400",children:[D().name," attempts"]}),M.jsxs("div",{className:"text-xl font-bold text-yellow-400",children:[et," ",Dt?` on ${Dt}`:""]}),M.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Votes: ",ht," / ",ft]}),M.jsx("div",{className:"w-full bg-gray-700 h-1 mt-1 rounded overflow-hidden",children:M.jsx("div",{className:"bg-green-500 h-full transition-all duration-300",style:{width:`${ht/ft*100}%`}})})]})}),w.turnState==="ACTION_PENDING"&&Lt&&!K.isEliminated&&M.jsx("div",{className:"grid grid-cols-2 gap-2",children:ot?M.jsx("div",{className:"col-span-2 bg-gray-700 py-2 text-center text-gray-400 text-sm rounded",children:"Waiting for others..."}):M.jsxs(M.Fragment,{children:[M.jsx("button",{onClick:xt,className:"col-span-2 bg-green-600 hover:bg-green-500 py-3 rounded font-bold",children:"Pass (Accept)"}),St.type!=="EXPORT"&&M.jsxs("button",{onClick:()=>yi(r.uid),className:"bg-red-600 hover:bg-red-500 py-2 rounded text-xs font-bold flex items-center justify-center gap-1",children:[M.jsx(BI,{size:14})," Challenge"]}),we&&St.type==="EXPORT"&&M.jsx("button",{onClick:()=>Se(r.uid,"HERO"),className:"bg-purple-600 py-2 rounded text-xs font-bold",children:"Block (Hero)"}),we&&St.type==="STEAL"&&M.jsxs(M.Fragment,{children:[M.jsx("button",{onClick:()=>Se(r.uid,"ROBBER"),className:"bg-blue-600 py-2 rounded text-xs font-bold",children:"Block (Robber)"}),M.jsx("button",{onClick:()=>Se(r.uid,"RIDDLER"),className:"bg-emerald-600 py-2 rounded text-xs font-bold",children:"Block (Riddler)"})]}),we&&St.type==="STAB"&&M.jsx("button",{onClick:()=>Se(r.uid,"GENIE"),className:"bg-pink-600 py-2 rounded text-xs font-bold",children:"Block (Genie)"})]})}),w.turnState==="ACTION_PENDING"&&!Lt&&M.jsx("div",{className:"text-center text-xs text-gray-500 animate-pulse",children:"Waiting for consensus..."})]}),w.turnState==="BLOCK_PENDING"&&M.jsxs("div",{className:"bg-gray-800 p-4 rounded border border-purple-500 w-full max-w-md text-center shadow-2xl",children:[M.jsxs("div",{className:"mb-2",children:[M.jsx("span",{className:"font-bold",children:w.players.find(ut=>ut.id===w.currentAction.blockerId).name})," ","blocks with"," ",M.jsx("span",{className:"font-bold text-purple-400",children:w.currentAction.blockClaim})]}),Ht&&M.jsx("div",{className:"grid grid-cols-2 gap-2",children:w.currentAction.votes.includes(r.uid)?M.jsx("div",{className:"col-span-2 text-gray-500 text-xs",children:"You passed. Waiting..."}):M.jsxs(M.Fragment,{children:[M.jsx("button",{onClick:_e,className:"bg-gray-600 hover:bg-gray-500 py-2 rounded text-sm",children:"Accept Block"}),M.jsx("button",{onClick:()=>yi(r.uid),className:"bg-red-600 hover:bg-red-500 py-2 rounded text-sm font-bold",children:"Challenge Block"})]})})]}),w.turnState==="CHALLENGE_RESOLVE"&&M.jsxs("div",{className:"text-center w-full max-w-md",children:[M.jsx("div",{className:"text-red-400 font-bold mb-2 bg-red-900/20 p-2 rounded border border-red-900",children:"CHALLENGE IN PROGRESS"}),w.accusedId===r.uid?M.jsxs("div",{className:"bg-gray-800 p-4 rounded border border-gray-700",children:[M.jsxs("div",{className:"text-sm mb-4",children:["Prove you have ",M.jsx("strong",{children:w.challengedCard})]}),M.jsx("div",{className:"flex justify-center gap-2",children:K.cards.map((ut,At)=>!ut.flipped&&M.jsxs("button",{onClick:()=>Rs(At),className:"bg-gray-700 px-4 py-2 rounded text-sm hover:bg-gray-600 border border-gray-500",children:["Show ",ut.type]},At))}),M.jsx("button",{onClick:ws,className:"mt-4 text-xs text-red-400 underline",children:"I don't have it (Surrender)"})]}):M.jsx("div",{className:"text-sm animate-pulse",children:"Waiting for accused to reveal..."})]}),$t&&M.jsxs("div",{className:"fixed inset-0 bg-black/95 z-50 flex flex-col items-center justify-center p-4 pb-32",children:[M.jsx("h3",{className:"text-xl font-bold mb-2 text-emerald-400",children:"Riddler Exchange"}),M.jsxs("p",{className:"text-sm text-gray-400 mb-6",children:["Keep exactly ",K.cards.filter(ut=>!ut.flipped).length," ","cards."]}),M.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6 max-w-md w-full",children:[...K.cards.filter(ut=>!ut.flipped).map(ut=>ut.type),...w.tempCards].map((ut,At)=>M.jsx("div",{onClick:()=>{const Ut=[...kt];if(Ut.includes(At)){const De=Ut.indexOf(At);Ut.splice(De,1),N(Ut)}else Ut.length<K.cards.filter(De=>!De.flipped).length&&N([...Ut,At])},className:`p-4 rounded border-2 text-center font-bold cursor-pointer transition-colors ${kt.includes(At)?"border-emerald-500 bg-emerald-900/50":"border-gray-600 bg-gray-800"}`,children:ut},At))}),M.jsx("button",{onClick:Gn,className:"bg-emerald-600 px-12 py-3 rounded font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed",disabled:kt.length!==K.cards.filter(ut=>!ut.flipped).length,children:"Confirm"})]})]}),!$t&&w.status!=="finished"&&M.jsx("div",{className:"w-full max-w-md mx-auto mb-2 flex flex-col items-center space-y-1 pointer-events-none z-20",children:w.logs?.slice(-3).reverse().map((ut,At)=>M.jsx("div",{className:"text-xs px-3 py-1 rounded-full bg-black/60 backdrop-blur-sm text-white shadow-sm transition-opacity duration-500",style:{opacity:Math.max(.2,.6-At*.2)},children:ut.text},At))}),K.isEliminated?M.jsx("div",{className:"bg-red-900/20 p-4 text-center border-t border-red-900 text-red-500 font-bold",children:"ELIMINATED"}):M.jsxs("div",{className:`mt-auto bg-gray-800 p-3 rounded-t-xl border-t border-gray-700 shadow-2xl ${w.turnState==="LOSE_CARD"&&w.loserId===r.uid?"ring-2 ring-red-500":""}`,children:[M.jsxs("div",{className:"flex justify-between items-center mb-3",children:[M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsxs("div",{className:"bg-yellow-500 text-black px-2 py-1 rounded font-bold text-sm flex items-center",children:[M.jsx(Kd,{size:14,className:"mr-1"})," ",K.coins]}),M.jsx("span",{className:"text-xs text-gray-400",children:K.name})]}),w.turnState==="LOSE_CARD"&&w.loserId===r.uid&&M.jsx("div",{className:"text-red-400 font-bold text-sm animate-pulse",children:"CLICK A CARD TO LOSE IT!"})]}),M.jsx("div",{className:"flex justify-center space-x-2 mb-4",children:K.cards.map((ut,At)=>M.jsx(wr,{type:ut.type,flipped:ut.flipped,selectable:w.turnState==="LOSE_CARD"&&w.loserId===r.uid&&!ut.flipped,onClick:()=>{w.turnState==="LOSE_CARD"&&w.loserId===r.uid&&!ut.flipped&&Cs(At)}},At))}),it&&w.turnState==="IDLE"&&M.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[M.jsxs("button",{onClick:()=>_t("EARN"),className:"bg-gray-700 p-2 rounded flex flex-col items-center",children:[M.jsx(Kd,{size:16,className:"text-yellow-200"}),M.jsx("span",{className:"text-[10px]",children:"Earn (1 coin)"})]}),M.jsxs("button",{onClick:()=>_t("EXPORT"),className:"bg-gray-700 p-2 rounded flex flex-col items-center",children:[M.jsx(FI,{size:16,className:"text-blue-200"}),M.jsx("span",{className:"text-[10px]",children:"Export (2 coins)"})]}),M.jsxs("button",{onClick:()=>_t("TAX"),className:"bg-purple-900/50 border border-purple-700 p-2 rounded flex flex-col items-center",children:[M.jsx(zT,{size:16,className:"text-purple-300"}),M.jsx("span",{className:"text-[10px]",children:"Hero (3 coins)"})]}),M.jsxs("button",{onClick:()=>_t("EXCHANGE"),className:"bg-emerald-900/50 border border-emerald-700 p-2 rounded flex flex-col items-center",children:[M.jsx(jT,{size:16,className:"text-emerald-300"}),M.jsx("span",{className:"text-[10px]",children:"Riddler (exchange card)"})]})]})]})]}),M.jsx("div",{className:"bg-gray-800 pb-1 pt-1",children:M.jsx(d0,{})}),k&&M.jsx(f0,{onConfirm:G,onCancel:()=>x(!1)}),U&&M.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:M.jsxs("div",{className:"bg-gray-800 rounded-2xl w-full max-w-md h-[80vh] flex flex-col border border-gray-700 shadow-2xl",children:[M.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center bg-gray-800 rounded-t-2xl",children:[M.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[M.jsx(c0,{size:18})," Game Logs"]}),M.jsx("button",{onClick:()=>R(!1),children:M.jsx(BT,{className:"text-gray-400 hover:text-white"})})]}),M.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...w.logs||[]].reverse().map((ut,At)=>M.jsx("div",{className:`text-xs p-2 rounded border-l-2 ${ut.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":ut.type==="success"?"bg-green-900/20 border-green-500 text-green-200":ut.type==="warning"?"bg-yellow-900/20 border-yellow-500 text-yellow-200":"bg-gray-700/50 border-gray-500 text-gray-300"}`,children:ut.text},At))})]})})]})}return null}Ib.createRoot(document.getElementById("root")).render(M.jsx(Ie.StrictMode,{children:M.jsx(hN,{})}));
