(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Nd={exports:{}},bo={};var N_;function b1(){if(N_)return bo;N_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return bo.Fragment=t,bo.jsx=i,bo.jsxs=i,bo}var D_;function A1(){return D_||(D_=1,Nd.exports=b1()),Nd.exports}var A=A1(),Dd={exports:{}},Ot={};var O_;function S1(){if(O_)return Ot;O_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.iterator;function K(O){return O===null||typeof O!="object"?null:(O=V&&O[V]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},st=Object.assign,R={};function bt(O,X,it){this.props=O,this.context=X,this.refs=R,this.updater=it||Z}bt.prototype.isReactComponent={},bt.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},bt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function xt(){}xt.prototype=bt.prototype;function _t(O,X,it){this.props=O,this.context=X,this.refs=R,this.updater=it||Z}var te=_t.prototype=new xt;te.constructor=_t,st(te,bt.prototype),te.isPureReactComponent=!0;var ie=Array.isArray;function Pt(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function x(O,X,it){var at=it.ref;return{$$typeof:r,type:O,key:X,ref:at!==void 0?at:null,props:it}}function k(O,X){return x(O.type,X,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function U(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return X[it]})}var C=/\/+/g;function ye(O,X){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):X.toString(36)}function Me(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Pt,Pt):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,X,it,at,vt){var Vt=typeof O;(Vt==="undefined"||Vt==="boolean")&&(O=null);var Bt=!1;if(O===null)Bt=!0;else switch(Vt){case"bigint":case"string":case"number":Bt=!0;break;case"object":switch(O.$$typeof){case r:case t:Bt=!0;break;case b:return Bt=O._init,G(Bt(O._payload),X,it,at,vt)}}if(Bt)return vt=vt(O),Bt=at===""?"."+ye(O,0):at,ie(vt)?(it="",Bt!=null&&(it=Bt.replace(C,"$&/")+"/"),G(vt,X,it,"",function(yi){return yi})):vt!=null&&(D(vt)&&(vt=k(vt,it+(vt.key==null||O&&O.key===vt.key?"":(""+vt.key).replace(C,"$&/")+"/")+Bt)),X.push(vt)),1;Bt=0;var be=at===""?".":at+":";if(ie(O))for(var _e=0;_e<O.length;_e++)at=O[_e],Vt=be+ye(at,_e),Bt+=G(at,X,it,Vt,vt);else if(_e=K(O),typeof _e=="function")for(O=_e.call(O),_e=0;!(at=O.next()).done;)at=at.value,Vt=be+ye(at,_e++),Bt+=G(at,X,it,Vt,vt);else if(Vt==="object"){if(typeof O.then=="function")return G(Me(O),X,it,at,vt);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Bt}function rt(O,X,it){if(O==null)return O;var at=[],vt=0;return G(O,at,"","",function(Vt){return X.call(it,Vt,vt++)}),at}function gt(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var Kt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},$t={map:rt,forEach:function(O,X,it){rt(O,function(){X.apply(this,arguments)},it)},count:function(O){var X=0;return rt(O,function(){X++}),X},toArray:function(O){return rt(O,function(X){return X})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ot.Activity=w,Ot.Children=$t,Ot.Component=bt,Ot.Fragment=i,Ot.Profiler=o,Ot.PureComponent=_t,Ot.StrictMode=a,Ot.Suspense=v,Ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ot.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Ot.cache=function(O){return function(){return O.apply(null,arguments)}},Ot.cacheSignal=function(){return null},Ot.cloneElement=function(O,X,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=st({},O.props),vt=O.key;if(X!=null)for(Vt in X.key!==void 0&&(vt=""+X.key),X)!S.call(X,Vt)||Vt==="key"||Vt==="__self"||Vt==="__source"||Vt==="ref"&&X.ref===void 0||(at[Vt]=X[Vt]);var Vt=arguments.length-2;if(Vt===1)at.children=it;else if(1<Vt){for(var Bt=Array(Vt),be=0;be<Vt;be++)Bt[be]=arguments[be+2];at.children=Bt}return x(O.type,vt,at)},Ot.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Ot.createElement=function(O,X,it){var at,vt={},Vt=null;if(X!=null)for(at in X.key!==void 0&&(Vt=""+X.key),X)S.call(X,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(vt[at]=X[at]);var Bt=arguments.length-2;if(Bt===1)vt.children=it;else if(1<Bt){for(var be=Array(Bt),_e=0;_e<Bt;_e++)be[_e]=arguments[_e+2];vt.children=be}if(O&&O.defaultProps)for(at in Bt=O.defaultProps,Bt)vt[at]===void 0&&(vt[at]=Bt[at]);return x(O,Vt,vt)},Ot.createRef=function(){return{current:null}},Ot.forwardRef=function(O){return{$$typeof:g,render:O}},Ot.isValidElement=D,Ot.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:gt}},Ot.memo=function(O,X){return{$$typeof:y,type:O,compare:X===void 0?null:X}},Ot.startTransition=function(O){var X=N.T,it={};N.T=it;try{var at=O(),vt=N.S;vt!==null&&vt(it,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Pt,Kt)}catch(Vt){Kt(Vt)}finally{X!==null&&it.types!==null&&(X.types=it.types),N.T=X}},Ot.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ot.use=function(O){return N.H.use(O)},Ot.useActionState=function(O,X,it){return N.H.useActionState(O,X,it)},Ot.useCallback=function(O,X){return N.H.useCallback(O,X)},Ot.useContext=function(O){return N.H.useContext(O)},Ot.useDebugValue=function(){},Ot.useDeferredValue=function(O,X){return N.H.useDeferredValue(O,X)},Ot.useEffect=function(O,X){return N.H.useEffect(O,X)},Ot.useEffectEvent=function(O){return N.H.useEffectEvent(O)},Ot.useId=function(){return N.H.useId()},Ot.useImperativeHandle=function(O,X,it){return N.H.useImperativeHandle(O,X,it)},Ot.useInsertionEffect=function(O,X){return N.H.useInsertionEffect(O,X)},Ot.useLayoutEffect=function(O,X){return N.H.useLayoutEffect(O,X)},Ot.useMemo=function(O,X){return N.H.useMemo(O,X)},Ot.useOptimistic=function(O,X){return N.H.useOptimistic(O,X)},Ot.useReducer=function(O,X,it){return N.H.useReducer(O,X,it)},Ot.useRef=function(O){return N.H.useRef(O)},Ot.useState=function(O){return N.H.useState(O)},Ot.useSyncExternalStore=function(O,X,it){return N.H.useSyncExternalStore(O,X,it)},Ot.useTransition=function(){return N.H.useTransition()},Ot.version="19.2.0",Ot}var M_;function Tm(){return M_||(M_=1,Dd.exports=S1()),Dd.exports}var Re=Tm(),Od={exports:{}},Ao={},Md={exports:{}},Vd={};var V_;function w1(){return V_||(V_=1,(function(r){function t(G,rt){var gt=G.length;G.push(rt);t:for(;0<gt;){var Kt=gt-1>>>1,$t=G[Kt];if(0<o($t,rt))G[Kt]=rt,G[gt]=$t,gt=Kt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var rt=G[0],gt=G.pop();if(gt!==rt){G[0]=gt;t:for(var Kt=0,$t=G.length,O=$t>>>1;Kt<O;){var X=2*(Kt+1)-1,it=G[X],at=X+1,vt=G[at];if(0>o(it,gt))at<$t&&0>o(vt,it)?(G[Kt]=vt,G[at]=gt,Kt=at):(G[Kt]=it,G[X]=gt,Kt=X);else if(at<$t&&0>o(vt,gt))G[Kt]=vt,G[at]=gt,Kt=at;else break t}}return rt}function o(G,rt){var gt=G.sortIndex-rt.sortIndex;return gt!==0?gt:G.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],y=[],b=1,w=null,V=3,K=!1,Z=!1,st=!1,R=!1,bt=typeof setTimeout=="function"?setTimeout:null,xt=typeof clearTimeout=="function"?clearTimeout:null,_t=typeof setImmediate<"u"?setImmediate:null;function te(G){for(var rt=i(y);rt!==null;){if(rt.callback===null)a(y);else if(rt.startTime<=G)a(y),rt.sortIndex=rt.expirationTime,t(v,rt);else break;rt=i(y)}}function ie(G){if(st=!1,te(G),!Z)if(i(v)!==null)Z=!0,Pt||(Pt=!0,U());else{var rt=i(y);rt!==null&&Me(ie,rt.startTime-G)}}var Pt=!1,N=-1,S=5,x=-1;function k(){return R?!0:!(r.unstable_now()-x<S)}function D(){if(R=!1,Pt){var G=r.unstable_now();x=G;var rt=!0;try{t:{Z=!1,st&&(st=!1,xt(N),N=-1),K=!0;var gt=V;try{e:{for(te(G),w=i(v);w!==null&&!(w.expirationTime>G&&k());){var Kt=w.callback;if(typeof Kt=="function"){w.callback=null,V=w.priorityLevel;var $t=Kt(w.expirationTime<=G);if(G=r.unstable_now(),typeof $t=="function"){w.callback=$t,te(G),rt=!0;break e}w===i(v)&&a(v),te(G)}else a(v);w=i(v)}if(w!==null)rt=!0;else{var O=i(y);O!==null&&Me(ie,O.startTime-G),rt=!1}}break t}finally{w=null,V=gt,K=!1}rt=void 0}}finally{rt?U():Pt=!1}}}var U;if(typeof _t=="function")U=function(){_t(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ye=C.port2;C.port1.onmessage=D,U=function(){ye.postMessage(null)}}else U=function(){bt(D,0)};function Me(G,rt){N=bt(function(){G(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(G){switch(V){case 1:case 2:case 3:var rt=3;break;default:rt=V}var gt=V;V=rt;try{return G()}finally{V=gt}},r.unstable_requestPaint=function(){R=!0},r.unstable_runWithPriority=function(G,rt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var gt=V;V=G;try{return rt()}finally{V=gt}},r.unstable_scheduleCallback=function(G,rt,gt){var Kt=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Kt+gt:Kt):gt=Kt,G){case 1:var $t=-1;break;case 2:$t=250;break;case 5:$t=1073741823;break;case 4:$t=1e4;break;default:$t=5e3}return $t=gt+$t,G={id:b++,callback:rt,priorityLevel:G,startTime:gt,expirationTime:$t,sortIndex:-1},gt>Kt?(G.sortIndex=gt,t(y,G),i(v)===null&&G===i(y)&&(st?(xt(N),N=-1):st=!0,Me(ie,gt-Kt))):(G.sortIndex=$t,t(v,G),Z||K||(Z=!0,Pt||(Pt=!0,U()))),G},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(G){var rt=V;return function(){var gt=V;V=rt;try{return G.apply(this,arguments)}finally{V=gt}}}})(Vd)),Vd}var k_;function R1(){return k_||(k_=1,Md.exports=w1()),Md.exports}var kd={exports:{}},pn={};var L_;function C1(){if(L_)return pn;L_=1;var r=Tm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,y,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:v,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,pn.createPortal=function(v,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,b)},pn.flushSync=function(v){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=b,a.d.f()}},pn.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},pn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},pn.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var b=y.as,w=g(b,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,K=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:V,fetchPriority:K}):b==="script"&&a.d.X(v,{crossOrigin:w,integrity:V,fetchPriority:K,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},pn.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},pn.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,w=g(b,y.crossOrigin);a.d.L(v,b,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},pn.preloadModule=function(v,y){if(typeof v=="string")if(y){var b=g(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},pn.requestFormReset=function(v){a.d.r(v)},pn.unstable_batchedUpdates=function(v,y){return v(y)},pn.useFormState=function(v,y,b){return d.H.useFormState(v,y,b)},pn.useFormStatus=function(){return d.H.useHostTransitionStatus()},pn.version="19.2.0",pn}var U_;function I1(){if(U_)return kd.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),kd.exports=C1(),kd.exports}var P_;function x1(){if(P_)return Ao;P_=1;var r=R1(),t=Tm(),i=I1();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,l=f;break}if(E===l){p=!0,l=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,l=h;break}if(E===l){p=!0,l=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,V=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),st=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),bt=Symbol.for("react.profiler"),xt=Symbol.for("react.consumer"),_t=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Pt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function ye(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case st:return"Fragment";case bt:return"Profiler";case R:return"StrictMode";case ie:return"Suspense";case Pt:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case _t:return e.displayName||"Context";case xt:return(e._context.displayName||"Context")+".Consumer";case te:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:ye(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ye(e(n))}catch{}}return null}var Me=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Kt=[],$t=-1;function O(e){return{current:e}}function X(e){0>$t||(e.current=Kt[$t],Kt[$t]=null,$t--)}function it(e,n){$t++,Kt[$t]=e.current,e.current=n}var at=O(null),vt=O(null),Vt=O(null),Bt=O(null);function be(e,n){switch(it(Vt,n),it(vt,e),it(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Wy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Wy(n),e=t_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(at),it(at,e)}function _e(){X(at),X(vt),X(Vt)}function yi(e){e.memoizedState!==null&&it(Bt,e);var n=at.current,s=t_(n,e.type);n!==s&&(it(vt,e),it(at,s))}function ws(e){vt.current===e&&(X(at),X(vt)),Bt.current===e&&(X(Bt),_o._currentValue=gt)}var Rs,Cs;function Gn(e){if(Rs===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Rs=n&&n[1]||"",Cs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rs+e+Cs}var wr=!1;function Q(e,n){if(!e||wr)return"";wr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var B=q}Reflect.construct(e,[],$)}else{try{$.call()}catch(q){B=q}e.call($.prototype)}}else{try{throw Error()}catch(q){B=q}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),j=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===j.length)for(l=I.length-1,h=j.length-1;1<=l&&0<=h&&I[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==j[h]){var F=`
`+I[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{wr=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Gn(s):""}function nt(e,n){switch(e.tag){case 26:case 27:case 5:return Gn(e.type);case 16:return Gn("Lazy");case 13:return e.child!==n&&n!==null?Gn("Suspense Fallback"):Gn("Suspense");case 19:return Gn("SuspenseList");case 0:case 15:return Q(e.type,!1);case 11:return Q(e.type.render,!1);case 1:return Q(e.type,!0);case 31:return Gn("Activity");default:return""}}function et(e){try{var n="",s=null;do n+=nt(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ht=Object.prototype.hasOwnProperty,ot=r.unstable_scheduleCallback,lt=r.unstable_cancelCallback,Ct=r.unstable_shouldYield,Dt=r.unstable_requestPaint,St=r.unstable_now,dn=r.unstable_getCurrentPriorityLevel,ze=r.unstable_ImmediatePriority,Ce=r.unstable_UserBlockingPriority,Et=r.unstable_NormalPriority,Zt=r.unstable_LowPriority,Ae=r.unstable_IdlePriority,mn=r.log,ft=r.unstable_setDisableYieldValue,pt=null,wt=null;function Ne(e){if(typeof mn=="function"&&ft(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(pt,e)}catch{}}var Ve=Math.clz32?Math.clz32:iu,nu=Math.log,ua=Math.LN2;function iu(e){return e>>>=0,e===0?32:31-(nu(e)/ua|0)|0}var _i=256,Rr=262144,je=4194304;function vi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ei(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=vi(l):(p&=E,p!==0?h=vi(p):s||(s=E&~e,s!==0&&(h=vi(s))))):(E=l&~f,E!==0?h=vi(E):p!==0?h=vi(p):s||(s=l&~e,s!==0&&(h=vi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function ri(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Mh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var e=je;return je<<=1,(je&62914560)===0&&(je=4194304),e}function Ti(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Cr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,n,s,l,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,j=e.hiddenUpdates;for(s=p&~s;0<s;){var F=31-Ve(s),$=1<<F;E[F]=0,I[F]=-1;var B=j[F];if(B!==null)for(j[F]=null,F=0;F<B.length;F++){var q=B[F];q!==null&&(q.lane&=-536870913)}s&=~$}l!==0&&Ir(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function Ir(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Ve(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function bl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Ve(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function Al(e,n){var s=n&-n;return s=(s&42)!==0?1:xr(s),(s&(e.suspendedLanes|n))!==0?0:s}function xr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $i(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:A_(e.type))}function ai(e,n){var s=rt.p;try{return rt.p=e,n()}finally{rt.p=s}}var li=Math.random().toString(36).slice(2),Be="__reactFiber$"+li,tn="__reactProps$"+li,bi="__reactContainer$"+li,ca="__reactEvents$"+li,kh="__reactListeners$"+li,au="__reactHandles$"+li,lu="__reactResources$"+li,Ai="__reactMarker$"+li;function ha(e){delete e[Be],delete e[tn],delete e[ca],delete e[kh],delete e[au]}function Si(e){var n=e[Be];if(n)return n;for(var s=e.parentNode;s;){if(n=s[bi]||s[Be]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=l_(e);e!==null;){if(s=e[Be])return s;e=l_(e)}return n}e=s,s=e.parentNode}return null}function Fn(e){if(e=e[Be]||e[bi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Vn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function wi(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function He(e){e[Ai]=!0}var Sl=new Set,wl={};function Ri(e,n){Ci(e,n),Ci(e+"Capture",n)}function Ci(e,n){for(wl[e]=n,e=0;e<n.length;e++)Sl.add(n[e])}var Rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},Il={};function ou(e){return ht.call(Il,e)?!0:ht.call(Cl,e)?!1:Rl.test(e)?Il[e]=!0:(Cl[e]=!0,!1)}function fa(e,n,s){if(ou(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function kn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function qe(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function en(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Is(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function re(e){if(!e._valueTracker){var n=Is(e)?"checked":"value";e._valueTracker=xl(e,n,""+e[n])}}function Nr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=Is(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function Ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Dr=/[\n"\\]/g;function Sn(e){return e.replace(Dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function da(e,n,s,l,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+en(n)):e.value!==""+en(n)&&(e.value=""+en(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Nl(e,p,en(n)):s!=null?Nl(e,p,en(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+en(E):e.removeAttribute("name")}function uu(e,n,s,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){re(e);return}s=s!=null?""+en(s):"",n=n!=null?""+en(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),re(e)}function Nl(e,n,s){n==="number"&&Ii(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function xs(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+en(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,s){if(n!=null&&(n=""+en(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+en(s):""}function Ns(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Me(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=en(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),re(e)}function wn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||hu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ol(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Dl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Dl(e,f,n[f])}function ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(e){return Ds.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function oi(){}var Ml=null;function Qn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Os=null,xi=null;function Or(e){var n=Fn(e);if(n&&(e=n.stateNode)){var s=e[tn]||null;t:switch(e=n.stateNode,n.type){case"input":if(da(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Sn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[tn]||null;if(!h)throw Error(a(90));da(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&Nr(l)}break t;case"textarea":cu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&xs(e,!!s.multiple,n,!1)}}}var ga=!1;function Ms(e,n,s){if(ga)return e(n,s);ga=!0;try{var l=e(n);return l}finally{if(ga=!1,(Os!==null||xi!==null)&&(rc(),Os&&(n=Os,e=xi,xi=Os=null,Or(n),e)))for(n=0;n<e.length;n++)Or(e[n])}}function ui(e,n){var s=e.stateNode;if(s===null)return null;var l=s[tn]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(Kn)try{var he={};Object.defineProperty(he,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",he,he),window.removeEventListener("test",he,he)}catch{Mr=!1}var Ni=null,Vl=null,Vr=null;function kl(){if(Vr)return Vr;var e,n=Vl,s=n.length,l,h="value"in Ni?Ni.value:Ni.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return Vr=h.slice(e,1<l?1-l:void 0)}function kr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Zi(){return!0}function ci(){return!1}function rn(e){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Zi:ci,this.isPropagationStopped=ci,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),n}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=rn(Ji),Vs=w({},Ji,{view:0,detail:0}),Ll=rn(Vs),ks,ya,Oi,_a=w({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oi&&(Oi&&e.type==="mousemove"?(ks=e.screenX-Oi.screenX,ya=e.screenY-Oi.screenY):ya=ks=0,Oi=e),ks)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),Ul=rn(_a),Lr=w({},_a,{dataTransfer:0}),du=rn(Lr),mu=w({},Vs,{relatedTarget:0}),Ur=rn(mu),Pl=w({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=rn(Pl),va=w({},Ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=rn(va),yu=w({},Ji,{data:0}),Mi=rn(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Eu[e])?!!n[e]:!1}function Ls(){return Tu}var Tn=w({},Vs,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=kr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(e){return e.type==="keypress"?kr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=rn(Tn),Au=w({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=rn(Au),u=w({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls}),m=rn(u),_=w({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=rn(_),P=w({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=rn(P),tt=w({},Ji,{newState:0,oldState:0}),kt=rn(tt),ke=[9,13,27,32],ee=Kn&&"CompositionEvent"in window,Se=null;Kn&&"documentMode"in document&&(Se=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!Se,Vi=Kn&&(!ee||Se&&8<Se&&11>=Se),hi=" ",fi=!1;function Pr(e,n){switch(e){case"keyup":return ke.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function QT(e,n){switch(e){case"compositionend":return Ea(n);case"keypress":return n.which!==32?null:(fi=!0,hi);case"textInput":return e=n.data,e===hi&&fi?null:e;default:return null}}function KT(e,n){if(Ta)return e==="compositionend"||!ee&&Pr(e,n)?(e=kl(),Vr=Vl=Ni=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Vi&&n.locale!=="ko"?null:n.data;default:return null}}var YT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!YT[e.type]:n==="textarea"}function hp(e,n,s,l){Os?xi?xi.push(l):xi=[l]:Os=l,n=fc(n,"onChange"),0<n.length&&(s=new Di("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var zl=null,jl=null;function XT(e){Ky(e,0)}function Su(e){var n=Vn(e);if(Nr(n))return e}function fp(e,n){if(e==="change")return n}var dp=!1;if(Kn){var Lh;if(Kn){var Uh="oninput"in document;if(!Uh){var mp=document.createElement("div");mp.setAttribute("oninput","return;"),Uh=typeof mp.oninput=="function"}Lh=Uh}else Lh=!1;dp=Lh&&(!document.documentMode||9<document.documentMode)}function pp(){zl&&(zl.detachEvent("onpropertychange",gp),jl=zl=null)}function gp(e){if(e.propertyName==="value"&&Su(jl)){var n=[];hp(n,jl,e,Qn(e)),Ms(XT,n)}}function $T(e,n,s){e==="focusin"?(pp(),zl=n,jl=s,zl.attachEvent("onpropertychange",gp)):e==="focusout"&&pp()}function ZT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(jl)}function JT(e,n){if(e==="click")return Su(n)}function WT(e,n){if(e==="input"||e==="change")return Su(n)}function tb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ln=typeof Object.is=="function"?Object.is:tb;function Bl(e,n){if(Ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ht.call(n,h)||!Ln(e[h],n[h]))return!1}return!0}function yp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _p(e,n){var s=yp(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=yp(s)}}function vp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?vp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ep(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ii(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ii(e.document)}return n}function Ph(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var eb=Kn&&"documentMode"in document&&11>=document.documentMode,ba=null,zh=null,Hl=null,jh=!1;function Tp(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jh||ba==null||ba!==Ii(l)||(l=ba,"selectionStart"in l&&Ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Hl&&Bl(Hl,l)||(Hl=l,l=fc(zh,"onSelect"),0<l.length&&(n=new Di("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=ba)))}function zr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Aa={animationend:zr("Animation","AnimationEnd"),animationiteration:zr("Animation","AnimationIteration"),animationstart:zr("Animation","AnimationStart"),transitionrun:zr("Transition","TransitionRun"),transitionstart:zr("Transition","TransitionStart"),transitioncancel:zr("Transition","TransitionCancel"),transitionend:zr("Transition","TransitionEnd")},Bh={},bp={};Kn&&(bp=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function jr(e){if(Bh[e])return Bh[e];if(!Aa[e])return e;var n=Aa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in bp)return Bh[e]=n[s];return e}var Ap=jr("animationend"),Sp=jr("animationiteration"),wp=jr("animationstart"),nb=jr("transitionrun"),ib=jr("transitionstart"),sb=jr("transitioncancel"),Rp=jr("transitionend"),Cp=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function di(e,n){Cp.set(e,n),Ri(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Xn=[],Sa=0,qh=0;function Ru(){for(var e=Sa,n=qh=Sa=0;n<e;){var s=Xn[n];Xn[n++]=null;var l=Xn[n];Xn[n++]=null;var h=Xn[n];Xn[n++]=null;var f=Xn[n];if(Xn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Ip(s,h,f)}}function Cu(e,n,s,l){Xn[Sa++]=e,Xn[Sa++]=n,Xn[Sa++]=s,Xn[Sa++]=l,qh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Gh(e,n,s,l){return Cu(e,n,s,l),Iu(e)}function Br(e,n){return Cu(e,null,null,n),Iu(e)}function Ip(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Ve(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Iu(e){if(50<co)throw co=0,td=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var wa={};function rb(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(e,n,s,l){return new rb(e,n,s,l)}function Fh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ts(e,n){var s=e.alternate;return s===null?(s=Un(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function xp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function xu(e,n,s,l,h,f){var p=0;if(l=e,typeof e=="function")Fh(e)&&(p=1);else if(typeof e=="string")p=c1(e,s,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case x:return e=Un(31,s,n,h),e.elementType=x,e.lanes=f,e;case st:return Hr(s.children,h,f,n);case R:p=8,h|=24;break;case bt:return e=Un(12,s,n,h|2),e.elementType=bt,e.lanes=f,e;case ie:return e=Un(13,s,n,h),e.elementType=ie,e.lanes=f,e;case Pt:return e=Un(19,s,n,h),e.elementType=Pt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _t:p=10;break t;case xt:p=9;break t;case te:p=11;break t;case N:p=14;break t;case S:p=16,l=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=Un(p,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Hr(e,n,s,l){return e=Un(7,e,l,n),e.lanes=s,e}function Qh(e,n,s){return e=Un(6,e,null,n),e.lanes=s,e}function Np(e){var n=Un(18,null,null,0);return n.stateNode=e,n}function Kh(e,n,s){return n=Un(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Dp=new WeakMap;function $n(e,n){if(typeof e=="object"&&e!==null){var s=Dp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:et(n)},Dp.set(e,n),n)}return{value:e,source:n,stack:et(n)}}var Ra=[],Ca=0,Nu=null,ql=0,Zn=[],Jn=0,Us=null,ki=1,Li="";function es(e,n){Ra[Ca++]=ql,Ra[Ca++]=Nu,Nu=e,ql=n}function Op(e,n,s){Zn[Jn++]=ki,Zn[Jn++]=Li,Zn[Jn++]=Us,Us=e;var l=ki;e=Li;var h=32-Ve(l)-1;l&=~(1<<h),s+=1;var f=32-Ve(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,ki=1<<32-Ve(n)+h|s<<h|l,Li=f+e}else ki=1<<f|s<<h|l,Li=e}function Yh(e){e.return!==null&&(es(e,1),Op(e,1,0))}function Xh(e){for(;e===Nu;)Nu=Ra[--Ca],Ra[Ca]=null,ql=Ra[--Ca],Ra[Ca]=null;for(;e===Us;)Us=Zn[--Jn],Zn[Jn]=null,Li=Zn[--Jn],Zn[Jn]=null,ki=Zn[--Jn],Zn[Jn]=null}function Mp(e,n){Zn[Jn++]=ki,Zn[Jn++]=Li,Zn[Jn++]=Us,ki=n.id,Li=n.overflow,Us=e}var an=null,ve=null,Yt=!1,Ps=null,Wn=!1,$h=Error(a(519));function zs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gl($n(n,e)),$h}function Vp(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Be]=e,n[tn]=l,s){case"dialog":jt("cancel",n),jt("close",n);break;case"iframe":case"object":case"embed":jt("load",n);break;case"video":case"audio":for(s=0;s<fo.length;s++)jt(fo[s],n);break;case"source":jt("error",n);break;case"img":case"image":case"link":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"input":jt("invalid",n),uu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":jt("invalid",n);break;case"textarea":jt("invalid",n),Ns(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Zy(n.textContent,s)?(l.popover!=null&&(jt("beforetoggle",n),jt("toggle",n)),l.onScroll!=null&&jt("scroll",n),l.onScrollEnd!=null&&jt("scrollend",n),l.onClick!=null&&(n.onclick=oi),n=!0):n=!1,n||zs(e,!0)}function kp(e){for(an=e.return;an;)switch(an.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:an=an.return}}function Ia(e){if(e!==an)return!1;if(!Yt)return kp(e),Yt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||pd(e.type,e.memoizedProps)),s=!s),s&&ve&&zs(e),kp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ve=a_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ve=a_(e)}else n===27?(n=ve,Ws(e.type)?(e=Ed,Ed=null,ve=e):ve=n):ve=an?ei(e.stateNode.nextSibling):null;return!0}function qr(){ve=an=null,Yt=!1}function Zh(){var e=Ps;return e!==null&&(xn===null?xn=e:xn.push.apply(xn,e),Ps=null),e}function Gl(e){Ps===null?Ps=[e]:Ps.push(e)}var Jh=O(null),Gr=null,ns=null;function js(e,n,s){it(Jh,n._currentValue),n._currentValue=s}function is(e){e._currentValue=Jh.current,X(Jh)}function Wh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function tf(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Wh(f.return,s,e),l||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Wh(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function xa(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;Ln(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Bt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(_o):e=[_o])}h=h.return}e!==null&&tf(n,e,s,l),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!Ln(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fr(e){Gr=e,ns=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ln(e){return Lp(Gr,e)}function Ou(e,n){return Gr===null&&Fr(e),Lp(e,n)}function Lp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ns===null){if(e===null)throw Error(a(308));ns=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ns=ns.next=n;return s}var ab=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},lb=r.unstable_scheduleCallback,ob=r.unstable_NormalPriority,Ge={$$typeof:_t,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new ab,data:new Map,refCount:0}}function Fl(e){e.refCount--,e.refCount===0&&lb(ob,function(){e.controller.abort()})}var Ql=null,nf=0,Na=0,Da=null;function ub(e,n){if(Ql===null){var s=Ql=[];nf=0,Na=ad(),Da={status:"pending",value:void 0,then:function(l){s.push(l)}}}return nf++,n.then(Up,Up),n}function Up(){if(--nf===0&&Ql!==null){Da!==null&&(Da.status="fulfilled");var e=Ql;Ql=null,Na=0,Da=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function cb(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Pp=G.S;G.S=function(e,n){Ty=St(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&ub(e,n),Pp!==null&&Pp(e,n)};var Qr=O(null);function sf(){var e=Qr.current;return e!==null?e:pe.pooledCache}function Mu(e,n){n===null?it(Qr,Qr.current):it(Qr,n.pool)}function zp(){var e=sf();return e===null?null:{parent:Ge._currentValue,pool:e}}var Oa=Error(a(460)),rf=Error(a(474)),Vu=Error(a(542)),ku={then:function(){}};function jp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(oi,oi),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qp(e),e;default:if(typeof n.status=="string")n.then(oi,oi);else{if(e=pe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qp(e),e}throw Yr=n,Oa}}function Kr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Yr=s,Oa):s}}var Yr=null;function Hp(){if(Yr===null)throw Error(a(459));var e=Yr;return Yr=null,e}function qp(e){if(e===Oa||e===Vu)throw Error(a(483))}var Ma=null,Kl=0;function Lu(e){var n=Kl;return Kl+=1,Ma===null&&(Ma=[]),Bp(Ma,e,n)}function Yl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Gp(e){function n(L,M){if(e){var z=L.deletions;z===null?(L.deletions=[M],L.flags|=16):z.push(M)}}function s(L,M){if(!e)return null;for(;M!==null;)n(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=ts(L,M),L.index=0,L.sibling=null,L}function f(L,M,z){return L.index=z,e?(z=L.alternate,z!==null?(z=z.index,z<M?(L.flags|=67108866,M):z):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function p(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,M,z,Y){return M===null||M.tag!==6?(M=Qh(z,L.mode,Y),M.return=L,M):(M=h(M,z),M.return=L,M)}function I(L,M,z,Y){var yt=z.type;return yt===st?F(L,M,z.props.children,Y,z.key):M!==null&&(M.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===S&&Kr(yt)===M.type)?(M=h(M,z.props),Yl(M,z),M.return=L,M):(M=xu(z.type,z.key,z.props,null,L.mode,Y),Yl(M,z),M.return=L,M)}function j(L,M,z,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=Kh(z,L.mode,Y),M.return=L,M):(M=h(M,z.children||[]),M.return=L,M)}function F(L,M,z,Y,yt){return M===null||M.tag!==7?(M=Hr(z,L.mode,Y,yt),M.return=L,M):(M=h(M,z),M.return=L,M)}function $(L,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Qh(""+M,L.mode,z),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case K:return z=xu(M.type,M.key,M.props,null,L.mode,z),Yl(z,M),z.return=L,z;case Z:return M=Kh(M,L.mode,z),M.return=L,M;case S:return M=Kr(M),$(L,M,z)}if(Me(M)||U(M))return M=Hr(M,L.mode,z,null),M.return=L,M;if(typeof M.then=="function")return $(L,Lu(M),z);if(M.$$typeof===_t)return $(L,Ou(L,M),z);Uu(L,M)}return null}function B(L,M,z,Y){var yt=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return yt!==null?null:E(L,M,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case K:return z.key===yt?I(L,M,z,Y):null;case Z:return z.key===yt?j(L,M,z,Y):null;case S:return z=Kr(z),B(L,M,z,Y)}if(Me(z)||U(z))return yt!==null?null:F(L,M,z,Y,null);if(typeof z.then=="function")return B(L,M,Lu(z),Y);if(z.$$typeof===_t)return B(L,M,Ou(L,z),Y);Uu(L,z)}return null}function q(L,M,z,Y,yt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return L=L.get(z)||null,E(M,L,""+Y,yt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case K:return L=L.get(Y.key===null?z:Y.key)||null,I(M,L,Y,yt);case Z:return L=L.get(Y.key===null?z:Y.key)||null,j(M,L,Y,yt);case S:return Y=Kr(Y),q(L,M,z,Y,yt)}if(Me(Y)||U(Y))return L=L.get(z)||null,F(M,L,Y,yt,null);if(typeof Y.then=="function")return q(L,M,z,Lu(Y),yt);if(Y.$$typeof===_t)return q(L,M,z,Ou(M,Y),yt);Uu(M,Y)}return null}function ct(L,M,z,Y){for(var yt=null,Jt=null,dt=M,Ut=M=0,qt=null;dt!==null&&Ut<z.length;Ut++){dt.index>Ut?(qt=dt,dt=null):qt=dt.sibling;var Wt=B(L,dt,z[Ut],Y);if(Wt===null){dt===null&&(dt=qt);break}e&&dt&&Wt.alternate===null&&n(L,dt),M=f(Wt,M,Ut),Jt===null?yt=Wt:Jt.sibling=Wt,Jt=Wt,dt=qt}if(Ut===z.length)return s(L,dt),Yt&&es(L,Ut),yt;if(dt===null){for(;Ut<z.length;Ut++)dt=$(L,z[Ut],Y),dt!==null&&(M=f(dt,M,Ut),Jt===null?yt=dt:Jt.sibling=dt,Jt=dt);return Yt&&es(L,Ut),yt}for(dt=l(dt);Ut<z.length;Ut++)qt=q(dt,L,Ut,z[Ut],Y),qt!==null&&(e&&qt.alternate!==null&&dt.delete(qt.key===null?Ut:qt.key),M=f(qt,M,Ut),Jt===null?yt=qt:Jt.sibling=qt,Jt=qt);return e&&dt.forEach(function(sr){return n(L,sr)}),Yt&&es(L,Ut),yt}function At(L,M,z,Y){if(z==null)throw Error(a(151));for(var yt=null,Jt=null,dt=M,Ut=M=0,qt=null,Wt=z.next();dt!==null&&!Wt.done;Ut++,Wt=z.next()){dt.index>Ut?(qt=dt,dt=null):qt=dt.sibling;var sr=B(L,dt,Wt.value,Y);if(sr===null){dt===null&&(dt=qt);break}e&&dt&&sr.alternate===null&&n(L,dt),M=f(sr,M,Ut),Jt===null?yt=sr:Jt.sibling=sr,Jt=sr,dt=qt}if(Wt.done)return s(L,dt),Yt&&es(L,Ut),yt;if(dt===null){for(;!Wt.done;Ut++,Wt=z.next())Wt=$(L,Wt.value,Y),Wt!==null&&(M=f(Wt,M,Ut),Jt===null?yt=Wt:Jt.sibling=Wt,Jt=Wt);return Yt&&es(L,Ut),yt}for(dt=l(dt);!Wt.done;Ut++,Wt=z.next())Wt=q(dt,L,Ut,Wt.value,Y),Wt!==null&&(e&&Wt.alternate!==null&&dt.delete(Wt.key===null?Ut:Wt.key),M=f(Wt,M,Ut),Jt===null?yt=Wt:Jt.sibling=Wt,Jt=Wt);return e&&dt.forEach(function(T1){return n(L,T1)}),Yt&&es(L,Ut),yt}function me(L,M,z,Y){if(typeof z=="object"&&z!==null&&z.type===st&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case K:t:{for(var yt=z.key;M!==null;){if(M.key===yt){if(yt=z.type,yt===st){if(M.tag===7){s(L,M.sibling),Y=h(M,z.props.children),Y.return=L,L=Y;break t}}else if(M.elementType===yt||typeof yt=="object"&&yt!==null&&yt.$$typeof===S&&Kr(yt)===M.type){s(L,M.sibling),Y=h(M,z.props),Yl(Y,z),Y.return=L,L=Y;break t}s(L,M);break}else n(L,M);M=M.sibling}z.type===st?(Y=Hr(z.props.children,L.mode,Y,z.key),Y.return=L,L=Y):(Y=xu(z.type,z.key,z.props,null,L.mode,Y),Yl(Y,z),Y.return=L,L=Y)}return p(L);case Z:t:{for(yt=z.key;M!==null;){if(M.key===yt)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){s(L,M.sibling),Y=h(M,z.children||[]),Y.return=L,L=Y;break t}else{s(L,M);break}else n(L,M);M=M.sibling}Y=Kh(z,L.mode,Y),Y.return=L,L=Y}return p(L);case S:return z=Kr(z),me(L,M,z,Y)}if(Me(z))return ct(L,M,z,Y);if(U(z)){if(yt=U(z),typeof yt!="function")throw Error(a(150));return z=yt.call(z),At(L,M,z,Y)}if(typeof z.then=="function")return me(L,M,Lu(z),Y);if(z.$$typeof===_t)return me(L,M,Ou(L,z),Y);Uu(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(s(L,M.sibling),Y=h(M,z),Y.return=L,L=Y):(s(L,M),Y=Qh(z,L.mode,Y),Y.return=L,L=Y),p(L)):s(L,M)}return function(L,M,z,Y){try{Kl=0;var yt=me(L,M,z,Y);return Ma=null,yt}catch(dt){if(dt===Oa||dt===Vu)throw dt;var Jt=Un(29,dt,null,L.mode);return Jt.lanes=Y,Jt.return=L,Jt}finally{}}}var Xr=Gp(!0),Fp=Gp(!1),Bs=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qs(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ne&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Iu(e),Ip(e,null,s),n}return Cu(e,l,n,s),Iu(e)}function Xl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,bl(e,s)}}function of(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var uf=!1;function $l(){if(uf){var e=Da;if(e!==null)throw e}}function Zl(e,n,s,l){uf=!1;var h=e.updateQueue;Bs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,j=I.next;I.next=null,p===null?f=j:p.next=j,p=I;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==p&&(E===null?F.firstBaseUpdate=j:E.next=j,F.lastBaseUpdate=I))}if(f!==null){var $=h.baseState;p=0,F=j=I=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Ht&B)===B:(l&B)===B){B!==0&&B===Na&&(uf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ct=e,At=E;B=n;var me=s;switch(At.tag){case 1:if(ct=At.payload,typeof ct=="function"){$=ct.call(me,$,B);break t}$=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=At.payload,B=typeof ct=="function"?ct.call(me,$,B):ct,B==null)break t;$=w({},$,B);break t;case 2:Bs=!0}}B=E.callback,B!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(j=F=q,I=$):F=F.next=q,p|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(I=$),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Ys|=p,e.lanes=p,e.memoizedState=$}}function Qp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Kp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Qp(s[e],n)}var Va=O(null),Pu=O(0);function Yp(e,n){e=fs,it(Pu,e),it(Va,n),fs=e|n.baseLanes}function cf(){it(Pu,fs),it(Va,Va.current)}function hf(){fs=Pu.current,X(Va),X(Pu)}var Pn=O(null),ti=null;function Gs(e){var n=e.alternate;it(Le,Le.current&1),it(Pn,e),ti===null&&(n===null||Va.current!==null||n.memoizedState!==null)&&(ti=e)}function ff(e){it(Le,Le.current),it(Pn,e),ti===null&&(ti=e)}function Xp(e){e.tag===22?(it(Le,Le.current),it(Pn,e),ti===null&&(ti=e)):Fs()}function Fs(){it(Le,Le.current),it(Pn,Pn.current)}function zn(e){X(Pn),ti===e&&(ti=null),X(Le)}var Le=O(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_d(s)||vd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ss=0,Lt=null,fe=null,Fe=null,ju=!1,ka=!1,$r=!1,Bu=0,Jl=0,La=null,hb=0;function De(){throw Error(a(321))}function df(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Ln(e[s],n[s]))return!1;return!0}function mf(e,n,s,l,h,f){return ss=f,Lt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Og:xf,$r=!1,f=s(l,h),$r=!1,ka&&(f=Zp(n,s,l,h)),$p(e),f}function $p(e){G.H=eo;var n=fe!==null&&fe.next!==null;if(ss=0,Fe=fe=Lt=null,ju=!1,Jl=0,La=null,n)throw Error(a(300));e===null||Qe||(e=e.dependencies,e!==null&&Du(e)&&(Qe=!0))}function Zp(e,n,s,l){Lt=e;var h=0;do{if(ka&&(La=null),Jl=0,ka=!1,25<=h)throw Error(a(301));if(h+=1,Fe=fe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Mg,f=n(s,l)}while(ka);return f}function fb(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Wl(n):n,e=e.useState()[0],(fe!==null?fe.memoizedState:null)!==e&&(Lt.flags|=1024),n}function pf(){var e=Bu!==0;return Bu=0,e}function gf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function yf(e){if(ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ju=!1}ss=0,Fe=fe=Lt=null,ka=!1,Jl=Bu=0,La=null}function bn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Lt.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Ue(){if(fe===null){var e=Lt.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var n=Fe===null?Lt.memoizedState:Fe.next;if(n!==null)Fe=n,fe=e;else{if(e===null)throw Lt.alternate===null?Error(a(467)):Error(a(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},Fe===null?Lt.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wl(e){var n=Jl;return Jl+=1,La===null&&(La=[]),e=Bp(La,e,n),n=Lt,(Fe===null?n.memoizedState:Fe.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Og:xf),e}function qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wl(e);if(e.$$typeof===_t)return ln(e)}throw Error(a(438,String(e)))}function _f(e){var n=null,s=Lt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Lt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Hu(),Lt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=k;return n.index++,s}function rs(e,n){return typeof n=="function"?n(e):n}function Gu(e){var n=Ue();return vf(n,fe,e)}function vf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,I=null,j=n,F=!1;do{var $=j.lane&-536870913;if($!==j.lane?(Ht&$)===$:(ss&$)===$){var B=j.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===Na&&(F=!0);else if((ss&B)===B){j=j.next,B===Na&&(F=!0);continue}else $={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=$,p=f):I=I.next=$,Lt.lanes|=B,Ys|=B;$=j.action,$r&&s(f,$),f=j.hasEagerState?j.eagerState:s(f,$)}else B={lane:$,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(E=I=B,p=f):I=I.next=B,Lt.lanes|=$,Ys|=$;j=j.next}while(j!==null&&j!==n);if(I===null?p=f:I.next=E,!Ln(f,e.memoizedState)&&(Qe=!0,F&&(s=Da,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ef(e){var n=Ue(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);Ln(f,n.memoizedState)||(Qe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Jp(e,n,s){var l=Lt,h=Ue(),f=Yt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!Ln((fe||h).memoizedState,s);if(p&&(h.memoizedState=s,Qe=!0),h=h.queue,Af(eg.bind(null,l,h,e),[e]),h.getSnapshot!==n||p||Fe!==null&&Fe.memoizedState.tag&1){if(l.flags|=2048,Ua(9,{destroy:void 0},tg.bind(null,l,h,s,n),null),pe===null)throw Error(a(349));f||(ss&127)!==0||Wp(l,n,s)}return s}function Wp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Lt.updateQueue,n===null?(n=Hu(),Lt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function tg(e,n,s,l){n.value=s,n.getSnapshot=l,ng(n)&&ig(e)}function eg(e,n,s){return s(function(){ng(n)&&ig(e)})}function ng(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Ln(e,s)}catch{return!0}}function ig(e){var n=Br(e,2);n!==null&&Nn(n,e,2)}function Tf(e){var n=bn();if(typeof e=="function"){var s=e;if(e=s(),$r){Ne(!0);try{s()}finally{Ne(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:e},n}function sg(e,n,s,l){return e.baseState=s,vf(e,fe,typeof l=="function"?l:rs)}function db(e,n,s,l,h){if(Ku(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,rg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function rg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=s(h,l),I=G.S;I!==null&&I(p,E),ag(e,n,E)}catch(j){bf(e,n,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(h,l),ag(e,n,f)}catch(j){bf(e,n,j)}}function ag(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){lg(e,n,l)},function(l){return bf(e,n,l)}):lg(e,n,s)}function lg(e,n,s){n.status="fulfilled",n.value=s,og(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,rg(e,s)))}function bf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,og(n),n=n.next;while(n!==l)}e.action=null}function og(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ug(e,n){return n}function cg(e,n){if(Yt){var s=pe.formState;if(s!==null){t:{var l=Lt;if(Yt){if(ve){e:{for(var h=ve,f=Wn;h.nodeType!==8;){if(!f){h=null;break e}if(h=ei(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ve=ei(h.nextSibling),l=h.data==="F!";break t}}zs(l)}l=!1}l&&(n=s[0])}}return s=bn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ug,lastRenderedState:n},s.queue=l,s=xg.bind(null,Lt,l),l.dispatch=s,l=Tf(!1),f=If.bind(null,Lt,!1,l.queue),l=bn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=db.bind(null,Lt,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function hg(e){var n=Ue();return fg(n,fe,e)}function fg(e,n,s){if(n=vf(e,n,ug)[0],e=Gu(rs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Wl(n)}catch(p){throw p===Oa?Vu:p}else l=n;n=Ue();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Lt.flags|=2048,Ua(9,{destroy:void 0},mb.bind(null,h,s),null)),[l,f,e]}function mb(e,n){e.action=n}function dg(e){var n=Ue(),s=fe;if(s!==null)return fg(n,s,e);Ue(),n=n.memoizedState,s=Ue();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Ua(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=Lt.updateQueue,n===null&&(n=Hu(),Lt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function mg(){return Ue().memoizedState}function Fu(e,n,s,l){var h=bn();Lt.flags|=e,h.memoizedState=Ua(1|n,{destroy:void 0},s,l===void 0?null:l)}function Qu(e,n,s,l){var h=Ue();l=l===void 0?null:l;var f=h.memoizedState.inst;fe!==null&&l!==null&&df(l,fe.memoizedState.deps)?h.memoizedState=Ua(n,f,s,l):(Lt.flags|=e,h.memoizedState=Ua(1|n,f,s,l))}function pg(e,n){Fu(8390656,8,e,n)}function Af(e,n){Qu(2048,8,e,n)}function pb(e){Lt.flags|=4;var n=Lt.updateQueue;if(n===null)n=Hu(),Lt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function gg(e){var n=Ue().memoizedState;return pb({ref:n,nextImpl:e}),function(){if((ne&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function yg(e,n){return Qu(4,2,e,n)}function _g(e,n){return Qu(4,4,e,n)}function vg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Eg(e,n,s){s=s!=null?s.concat([e]):null,Qu(4,4,vg.bind(null,n,e),s)}function Sf(){}function Tg(e,n){var s=Ue();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&df(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function bg(e,n){var s=Ue();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&df(n,l[1]))return l[0];if(l=e(),$r){Ne(!0);try{e()}finally{Ne(!1)}}return s.memoizedState=[l,n],l}function wf(e,n,s){return s===void 0||(ss&1073741824)!==0&&(Ht&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ay(),Lt.lanes|=e,Ys|=e,s)}function Ag(e,n,s,l){return Ln(s,n)?s:Va.current!==null?(e=wf(e,s,l),Ln(e,n)||(Qe=!0),e):(ss&42)===0||(ss&1073741824)!==0&&(Ht&261930)===0?(Qe=!0,e.memoizedState=s):(e=Ay(),Lt.lanes|=e,Ys|=e,n)}function Sg(e,n,s,l,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,If(e,!1,n,s);try{var I=h(),j=G.S;if(j!==null&&j(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=cb(I,l);to(e,n,F,Hn(e))}else to(e,n,l,Hn(e))}catch($){to(e,n,{then:function(){},status:"rejected",reason:$},Hn())}finally{rt.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function gb(){}function Rf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=wg(e).queue;Sg(e,h,n,gt,s===null?gb:function(){return Rg(e),s(l)})}function wg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:gt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Rg(e){var n=wg(e);n.next===null&&(n=e.alternate.memoizedState),to(e,n.next.queue,{},Hn())}function Cf(){return ln(_o)}function Cg(){return Ue().memoizedState}function Ig(){return Ue().memoizedState}function yb(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Hn();e=Hs(s);var l=qs(n,e,s);l!==null&&(Nn(l,n,s),Xl(l,n,s)),n={cache:ef()},e.payload=n;return}n=n.return}}function _b(e,n,s){var l=Hn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Ng(n,s):(s=Gh(e,n,s,l),s!==null&&(Nn(s,e,l),Dg(s,n,l)))}function xg(e,n,s){var l=Hn();to(e,n,s,l)}function to(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Ng(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,Ln(E,p))return Cu(e,n,h,0),pe===null&&Ru(),!1}catch{}finally{}if(s=Gh(e,n,h,l),s!==null)return Nn(s,e,l),Dg(s,n,l),!0}return!1}function If(e,n,s,l){if(l={lane:2,revertLane:ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(a(479))}else n=Gh(e,s,l,2),n!==null&&Nn(n,e,2)}function Ku(e){var n=e.alternate;return e===Lt||n!==null&&n===Lt}function Ng(e,n){ka=ju=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Dg(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,bl(e,s)}}var eo={readContext:ln,use:qu,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useLayoutEffect:De,useInsertionEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useSyncExternalStore:De,useId:De,useHostTransitionStatus:De,useFormState:De,useActionState:De,useOptimistic:De,useMemoCache:De,useCacheRefresh:De};eo.useEffectEvent=De;var Og={readContext:ln,use:qu,useCallback:function(e,n){return bn().memoizedState=[e,n===void 0?null:n],e},useContext:ln,useEffect:pg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Fu(4194308,4,vg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Fu(4194308,4,e,n)},useInsertionEffect:function(e,n){Fu(4,2,e,n)},useMemo:function(e,n){var s=bn();n=n===void 0?null:n;var l=e();if($r){Ne(!0);try{e()}finally{Ne(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=bn();if(s!==void 0){var h=s(n);if($r){Ne(!0);try{s(n)}finally{Ne(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=_b.bind(null,Lt,e),[l.memoizedState,e]},useRef:function(e){var n=bn();return e={current:e},n.memoizedState=e},useState:function(e){e=Tf(e);var n=e.queue,s=xg.bind(null,Lt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Sf,useDeferredValue:function(e,n){var s=bn();return wf(s,e,n)},useTransition:function(){var e=Tf(!1);return e=Sg.bind(null,Lt,e.queue,!0,!1),bn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Lt,h=bn();if(Yt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),pe===null)throw Error(a(349));(Ht&127)!==0||Wp(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,pg(eg.bind(null,l,f,e),[e]),l.flags|=2048,Ua(9,{destroy:void 0},tg.bind(null,l,f,s,n),null),s},useId:function(){var e=bn(),n=pe.identifierPrefix;if(Yt){var s=Li,l=ki;s=(l&~(1<<32-Ve(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Bu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=hb++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cf,useFormState:cg,useActionState:cg,useOptimistic:function(e){var n=bn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=If.bind(null,Lt,!0,s),s.dispatch=n,[e,n]},useMemoCache:_f,useCacheRefresh:function(){return bn().memoizedState=yb.bind(null,Lt)},useEffectEvent:function(e){var n=bn(),s={impl:e};return n.memoizedState=s,function(){if((ne&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},xf={readContext:ln,use:qu,useCallback:Tg,useContext:ln,useEffect:Af,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:bg,useReducer:Gu,useRef:mg,useState:function(){return Gu(rs)},useDebugValue:Sf,useDeferredValue:function(e,n){var s=Ue();return Ag(s,fe.memoizedState,e,n)},useTransition:function(){var e=Gu(rs)[0],n=Ue().memoizedState;return[typeof e=="boolean"?e:Wl(e),n]},useSyncExternalStore:Jp,useId:Cg,useHostTransitionStatus:Cf,useFormState:hg,useActionState:hg,useOptimistic:function(e,n){var s=Ue();return sg(s,fe,e,n)},useMemoCache:_f,useCacheRefresh:Ig};xf.useEffectEvent=gg;var Mg={readContext:ln,use:qu,useCallback:Tg,useContext:ln,useEffect:Af,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:bg,useReducer:Ef,useRef:mg,useState:function(){return Ef(rs)},useDebugValue:Sf,useDeferredValue:function(e,n){var s=Ue();return fe===null?wf(s,e,n):Ag(s,fe.memoizedState,e,n)},useTransition:function(){var e=Ef(rs)[0],n=Ue().memoizedState;return[typeof e=="boolean"?e:Wl(e),n]},useSyncExternalStore:Jp,useId:Cg,useHostTransitionStatus:Cf,useFormState:dg,useActionState:dg,useOptimistic:function(e,n){var s=Ue();return fe!==null?sg(s,fe,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Ig};Mg.useEffectEvent=gg;function Nf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Df={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Hn(),h=Hs(l);h.payload=n,s!=null&&(h.callback=s),n=qs(e,h,l),n!==null&&(Nn(n,e,l),Xl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Hn(),h=Hs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=qs(e,h,l),n!==null&&(Nn(n,e,l),Xl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Hn(),l=Hs(s);l.tag=2,n!=null&&(l.callback=n),n=qs(e,l,s),n!==null&&(Nn(n,e,s),Xl(n,e,s))}};function Vg(e,n,s,l,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!Bl(s,l)||!Bl(h,f):!0}function kg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Df.enqueueReplaceState(n,n.state,null)}function Zr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Lg(e){wu(e)}function Ug(e){console.error(e)}function Pg(e){wu(e)}function Yu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function zg(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(e,n,s){return s=Hs(s),s.tag=3,s.payload={element:null},s.callback=function(){Yu(e,n)},s}function jg(e){return e=Hs(e),e.tag=3,e}function Bg(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){zg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){zg(n,s,l),typeof h!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function vb(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&xa(n,s,h,!0),s=Pn.current,s!==null){switch(s.tag){case 31:case 13:return ti===null?ac():s.alternate===null&&Oe===0&&(Oe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===ku?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),id(e,l,h)),!1;case 22:return s.flags|=65536,l===ku?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),id(e,l,h)),!1}throw Error(a(435,s.tag))}return id(e,l,h),ac(),!1}if(Yt)return n=Pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==$h&&(e=Error(a(422),{cause:l}),Gl($n(e,s)))):(l!==$h&&(n=Error(a(423),{cause:l}),Gl($n(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=$n(l,s),h=Of(e.stateNode,l,h),of(e,h),Oe!==4&&(Oe=2)),!1;var f=Error(a(520),{cause:l});if(f=$n(f,s),uo===null?uo=[f]:uo.push(f),Oe!==4&&(Oe=2),n===null)return!0;l=$n(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Of(s.stateNode,l,e),of(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Xs===null||!Xs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=jg(h),Bg(h,e,s,l),of(s,h),!1}s=s.return}while(s!==null);return!1}var Mf=Error(a(461)),Qe=!1;function on(e,n,s,l){n.child=e===null?Fp(n,null,s,l):Xr(n,e.child,s,l)}function Hg(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Fr(n),l=mf(e,n,s,p,f,h),E=pf(),e!==null&&!Qe?(gf(e,n,h),as(e,n,h)):(Yt&&E&&Yh(n),n.flags|=1,on(e,n,l,h),n.child)}function qg(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Gg(e,n,f,l,h)):(e=xu(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Bf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Bl,s(p,l)&&e.ref===n.ref)return as(e,n,h)}return n.flags|=1,e=ts(f,l),e.ref=n.ref,e.return=n,n.child=e}function Gg(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Bl(f,l)&&e.ref===n.ref)if(Qe=!1,n.pendingProps=l=f,Bf(e,h))(e.flags&131072)!==0&&(Qe=!0);else return n.lanes=e.lanes,as(e,n,h)}return Vf(e,n,s,l,h)}function Fg(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Qg(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?Yp(n,f):cf(),Xp(n);else return l=n.lanes=536870912,Qg(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Mu(n,f.cachePool),Yp(n,f),Fs(),n.memoizedState=null):(e!==null&&Mu(n,null),cf(),Fs());return on(e,n,h,s),n.child}function no(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Qg(e,n,s,l,h){var f=sf();return f=f===null?null:{parent:Ge._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Mu(n,null),cf(),Xp(n),e!==null&&xa(e,n,l,!0),n.childLanes=h,null}function Xu(e,n){return n=Zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Kg(e,n,s){return Xr(n,e.child,null,s),e=Xu(n,n.pendingProps),e.flags|=2,zn(n),n.memoizedState=null,e}function Eb(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Yt){if(l.mode==="hidden")return e=Xu(n,l),n.lanes=536870912,no(null,e);if(ff(n),(e=ve)?(e=r_(e,Wn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Us!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},s=Np(e),s.return=n,n.child=s,an=n,ve=null)):e=null,e===null)throw zs(n);return n.lanes=536870912,null}return Xu(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=Kg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Qe||xa(e,n,s,!1),h=(s&e.childLanes)!==0,Qe||h){if(l=pe,l!==null&&(p=Al(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Br(e,p),Nn(l,e,p),Mf;ac(),n=Kg(e,n,s)}else e=f.treeContext,ve=ei(p.nextSibling),an=n,Yt=!0,Ps=null,Wn=!1,e!==null&&Mp(n,e),n=Xu(n,l),n.flags|=4096;return n}return e=ts(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Vf(e,n,s,l,h){return Fr(n),s=mf(e,n,s,l,void 0,h),l=pf(),e!==null&&!Qe?(gf(e,n,h),as(e,n,h)):(Yt&&l&&Yh(n),n.flags|=1,on(e,n,s,h),n.child)}function Yg(e,n,s,l,h,f){return Fr(n),n.updateQueue=null,s=Zp(n,l,s,h),$p(e),l=pf(),e!==null&&!Qe?(gf(e,n,f),as(e,n,f)):(Yt&&l&&Yh(n),n.flags|=1,on(e,n,s,f),n.child)}function Xg(e,n,s,l,h){if(Fr(n),n.stateNode===null){var f=wa,p=s.contextType;typeof p=="object"&&p!==null&&(f=ln(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},af(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?ln(p):wa,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Nf(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Df.enqueueReplaceState(f,f.state,null),Zl(n,l,f,h),$l(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Zr(s,E);f.props=I;var j=f.context,F=s.contextType;p=wa,typeof F=="object"&&F!==null&&(p=ln(F));var $=s.getDerivedStateFromProps;F=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==p)&&kg(n,f,l,p),Bs=!1;var B=n.memoizedState;f.state=B,Zl(n,l,f,h),$l(),j=n.memoizedState,E||B!==j||Bs?(typeof $=="function"&&(Nf(n,s,$,l),j=n.memoizedState),(I=Bs||Vg(n,s,I,l,B,j,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=p,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lf(e,n),p=n.memoizedProps,F=Zr(s,p),f.props=F,$=n.pendingProps,B=f.context,j=s.contextType,I=wa,typeof j=="object"&&j!==null&&(I=ln(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||B!==I)&&kg(n,f,l,I),Bs=!1,B=n.memoizedState,f.state=B,Zl(n,l,f,h),$l();var q=n.memoizedState;p!==$||B!==q||Bs||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof E=="function"&&(Nf(n,s,E,l),q=n.memoizedState),(F=Bs||Vg(n,s,F,l,B,q,I)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=I,l=F):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,$u(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Xr(n,e.child,null,h),n.child=Xr(n,null,s,h)):on(e,n,s,h),n.memoizedState=f.state,e=n.child):e=as(e,n,h),e}function $g(e,n,s,l){return qr(),n.flags|=256,on(e,n,s,l),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(e){return{baseLanes:e,cachePool:zp()}}function Uf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Bn),e}function Zg(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Le.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Yt){if(h?Gs(n):Fs(),(e=ve)?(e=r_(e,Wn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Us!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},s=Np(e),s.return=n,n.child=s,an=n,ve=null)):e=null,e===null)throw zs(n);return vd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Fs(),h=n.mode,E=Zu({mode:"hidden",children:E},h),l=Hr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Lf(s),l.childLanes=Uf(e,p,s),n.memoizedState=kf,no(null,l)):(Gs(n),Pf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Gs(n),n.flags&=-257,n=zf(e,n,s)):n.memoizedState!==null?(Fs(),n.child=e.child,n.flags|=128,n=null):(Fs(),E=l.fallback,h=n.mode,l=Zu({mode:"visible",children:l.children},h),E=Hr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Xr(n,e.child,null,s),l=n.child,l.memoizedState=Lf(s),l.childLanes=Uf(e,p,s),n.memoizedState=kf,n=no(null,l));else if(Gs(n),vd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var j=p.dgst;p=j,l=Error(a(419)),l.stack="",l.digest=p,Gl({value:l,source:null,stack:null}),n=zf(e,n,s)}else if(Qe||xa(e,n,s,!1),p=(s&e.childLanes)!==0,Qe||p){if(p=pe,p!==null&&(l=Al(p,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,Br(e,l),Nn(p,e,l),Mf;_d(E)||ac(),n=zf(e,n,s)}else _d(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ve=ei(E.nextSibling),an=n,Yt=!0,Ps=null,Wn=!1,e!==null&&Mp(n,e),n=Pf(n,l.children),n.flags|=4096);return n}return h?(Fs(),E=l.fallback,h=n.mode,I=e.child,j=I.sibling,l=ts(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,j!==null?E=ts(j,E):(E=Hr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,no(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Lf(s):(h=E.cachePool,h!==null?(I=Ge._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=zp(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Uf(e,p,s),n.memoizedState=kf,no(e.child,l)):(Gs(n),s=e.child,e=s.sibling,s=ts(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Pf(e,n){return n=Zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zu(e,n){return e=Un(22,e,null,n),e.lanes=0,e}function zf(e,n,s){return Xr(n,e.child,null,s),e=Pf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Jg(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Wh(e.return,n,s)}function jf(e,n,s,l,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Wg(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=Le.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,it(Le,p),on(e,n,l,s),l=Yt?ql:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jg(e,s,n);else if(e.tag===19)Jg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&zu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),jf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}jf(n,!0,s,null,f,l);break;case"together":jf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function as(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ys|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(xa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=ts(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=ts(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Bf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function Tb(e,n,s){switch(n.tag){case 3:be(n,n.stateNode.containerInfo),js(n,Ge,e.memoizedState.cache),qr();break;case 27:case 5:yi(n);break;case 4:be(n,n.stateNode.containerInfo);break;case 10:js(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Gs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Zg(e,n,s):(Gs(n),e=as(e,n,s),e!==null?e.sibling:null);Gs(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(xa(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Wg(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Le,Le.current),l)break;return null;case 22:return n.lanes=0,Fg(e,n,s,n.pendingProps);case 24:js(n,Ge,e.memoizedState.cache)}return as(e,n,s)}function ty(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Qe=!0;else{if(!Bf(e,s)&&(n.flags&128)===0)return Qe=!1,Tb(e,n,s);Qe=(e.flags&131072)!==0}else Qe=!1,Yt&&(n.flags&1048576)!==0&&Op(n,ql,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Kr(n.elementType),n.type=e,typeof e=="function")Fh(e)?(l=Zr(e,l),n.tag=1,n=Xg(null,n,e,l,s)):(n.tag=0,n=Vf(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===te){n.tag=11,n=Hg(null,n,e,l,s);break t}else if(h===N){n.tag=14,n=qg(null,n,e,l,s);break t}}throw n=ye(e)||e,Error(a(306,n,""))}}return n;case 0:return Vf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Zr(l,n.pendingProps),Xg(e,n,l,h,s);case 3:t:{if(be(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,lf(e,n),Zl(n,l,null,s);var p=n.memoizedState;if(l=p.cache,js(n,Ge,l),l!==f.cache&&tf(n,[Ge],s,!0),$l(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=$g(e,n,l,s);break t}else if(l!==h){h=$n(Error(a(424)),n),Gl(h),n=$g(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ve=ei(e.firstChild),an=n,Yt=!0,Ps=null,Wn=!0,s=Fp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(qr(),l===h){n=as(e,n,s);break t}on(e,n,l,s)}n=n.child}return n;case 26:return $u(e,n),e===null?(s=h_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Yt||(s=n.type,e=n.pendingProps,l=dc(Vt.current).createElement(s),l[Be]=n,l[tn]=e,un(l,s,e),He(l),n.stateNode=l):n.memoizedState=h_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return yi(n),e===null&&Yt&&(l=n.stateNode=o_(n.type,n.pendingProps,Vt.current),an=n,Wn=!0,h=ve,Ws(n.type)?(Ed=h,ve=ei(l.firstChild)):ve=h),on(e,n,n.pendingProps.children,s),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Yt&&((h=l=ve)&&(l=Zb(l,n.type,n.pendingProps,Wn),l!==null?(n.stateNode=l,an=n,ve=ei(l.firstChild),Wn=!1,h=!0):h=!1),h||zs(n)),yi(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,pd(h,f)?l=null:p!==null&&pd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(e,n,fb,null,null,s),_o._currentValue=h),$u(e,n),on(e,n,l,s),n.child;case 6:return e===null&&Yt&&((e=s=ve)&&(s=Jb(s,n.pendingProps,Wn),s!==null?(n.stateNode=s,an=n,ve=null,e=!0):e=!1),e||zs(n)),null;case 13:return Zg(e,n,s);case 4:return be(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Xr(n,null,l,s):on(e,n,l,s),n.child;case 11:return Hg(e,n,n.type,n.pendingProps,s);case 7:return on(e,n,n.pendingProps,s),n.child;case 8:return on(e,n,n.pendingProps.children,s),n.child;case 12:return on(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,js(n,n.type,l.value),on(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Fr(n),h=ln(h),l=l(h),n.flags|=1,on(e,n,l,s),n.child;case 14:return qg(e,n,n.type,n.pendingProps,s);case 15:return Gg(e,n,n.type,n.pendingProps,s);case 19:return Wg(e,n,s);case 31:return Eb(e,n,s);case 22:return Fg(e,n,s,n.pendingProps);case 24:return Fr(n),l=ln(Ge),e===null?(h=sf(),h===null&&(h=pe,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},af(n),js(n,Ge,h)):((e.lanes&s)!==0&&(lf(e,n),Zl(n,null,null,s),$l()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),js(n,Ge,l)):(l=f.cache,js(n,Ge,l),l!==h.cache&&tf(n,[Ge],s,!0))),on(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ls(e){e.flags|=4}function Hf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Cy())e.flags|=8192;else throw Yr=ku,rf}else e.flags&=-16777217}function ey(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!g_(n))if(Cy())e.flags|=8192;else throw Yr=ku,rf}function Ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?su():536870912,e.lanes|=n,Ba|=n)}function io(e,n){if(!Yt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function bb(e,n,s){var l=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(n),null;case 1:return Ee(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),is(Ge),_e(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ia(n)?ls(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),Ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ls(n),f!==null?(Ee(n),ey(n,f)):(Ee(n),Hf(n,h,null,l,s))):f?f!==e.memoizedState?(ls(n),Ee(n),ey(n,f)):(Ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&ls(n),Ee(n),Hf(n,h,e,l,s)),null;case 27:if(ws(n),s=Vt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&ls(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Ee(n),null}e=at.current,Ia(n)?Vp(n):(e=o_(h,l,s),n.stateNode=e,ls(n))}return Ee(n),null;case 5:if(ws(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&ls(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Ee(n),null}if(f=at.current,Ia(n))Vp(n);else{var p=dc(Vt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Be]=n,f[tn]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(un(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ls(n)}}return Ee(n),Hf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&ls(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=Vt.current,Ia(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=an,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Be]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Zy(e.nodeValue,s)),e||zs(n,!0)}else e=dc(e).createTextNode(l),e[Be]=n,n.stateNode=e}return Ee(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=Ia(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Be]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ee(n),e=!1}else s=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(zn(n),n):(zn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Ee(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ia(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Be]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ee(n),h=!1}else h=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(zn(n),n):(zn(n),null)}return zn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Ju(n,n.updateQueue),Ee(n),null);case 4:return _e(),e===null&&cd(n.stateNode.containerInfo),Ee(n),null;case 10:return is(n.type),Ee(n),null;case 19:if(X(Le),l=n.memoizedState,l===null)return Ee(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)io(l,!1);else{if(Oe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,io(l,!1),e=f.updateQueue,n.updateQueue=e,Ju(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)xp(s,e),s=s.sibling;return it(Le,Le.current&1|2),Yt&&es(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&St()>ic&&(n.flags|=128,h=!0,io(l,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ju(n,e),io(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Yt)return Ee(n),null}else 2*St()-l.renderingStartTime>ic&&s!==536870912&&(n.flags|=128,h=!0,io(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=St(),e.sibling=null,s=Le.current,it(Le,h?s&1|2:s&1),Yt&&es(n,l.treeForkCount),e):(Ee(n),null);case 22:case 23:return zn(n),hf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(Ee(n),n.subtreeFlags&6&&(n.flags|=8192)):Ee(n),s=n.updateQueue,s!==null&&Ju(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&X(Qr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),is(Ge),Ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Ab(e,n){switch(Xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return is(Ge),_e(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ws(n),null;case 31:if(n.memoizedState!==null){if(zn(n),n.alternate===null)throw Error(a(340));qr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(zn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));qr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(Le),null;case 4:return _e(),null;case 10:return is(n.type),null;case 22:case 23:return zn(n),hf(),e!==null&&X(Qr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return is(Ge),null;case 25:return null;default:return null}}function ny(e,n){switch(Xh(n),n.tag){case 3:is(Ge),_e();break;case 26:case 27:case 5:ws(n);break;case 4:_e();break;case 31:n.memoizedState!==null&&zn(n);break;case 13:zn(n);break;case 19:X(Le);break;case 10:is(n.type);break;case 22:case 23:zn(n),hf(),e!==null&&X(Qr);break;case 24:is(Ge)}}function so(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(E){le(n,n.return,E)}}function Qs(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=s,j=E;try{j()}catch(F){le(h,I,F)}}}l=l.next}while(l!==f)}}catch(F){le(n,n.return,F)}}function iy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Kp(n,s)}catch(l){le(e,e.return,l)}}}function sy(e,n,s){s.props=Zr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){le(e,n,l)}}function ro(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){le(e,n,h)}}function Ui(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){le(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){le(e,n,h)}else s.current=null}function ry(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){le(e,e.return,h)}}function qf(e,n,s){try{var l=e.stateNode;Fb(l,e.type,s,n),l[tn]=n}catch(h){le(e,e.return,h)}}function ay(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ws(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ws(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ff(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=oi));else if(l!==4&&(l===27&&Ws(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Ff(e,n,s),e=e.sibling;e!==null;)Ff(e,n,s),e=e.sibling}function Wu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Ws(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Wu(e,n,s),e=e.sibling;e!==null;)Wu(e,n,s),e=e.sibling}function ly(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);un(n,l,s),n[Be]=e,n[tn]=s}catch(f){le(e,e.return,f)}}var os=!1,Ke=!1,Qf=!1,oy=typeof WeakSet=="function"?WeakSet:Set,nn=null;function Sb(e,n){if(e=e.containerInfo,dd=Ec,e=Ep(e),Ph(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,I=-1,j=0,F=0,$=e,B=null;e:for(;;){for(var q;$!==s||h!==0&&$.nodeType!==3||(E=p+h),$!==f||l!==0&&$.nodeType!==3||(I=p+l),$.nodeType===3&&(p+=$.nodeValue.length),(q=$.firstChild)!==null;)B=$,$=q;for(;;){if($===e)break e;if(B===s&&++j===h&&(E=p),B===f&&++F===l&&(I=p),(q=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=q}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(md={focusedElem:e,selectionRange:s},Ec=!1,nn=n;nn!==null;)if(n=nn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,nn=e;else for(;nn!==null;){switch(n=nn,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ct=Zr(s.type,h);e=l.getSnapshotBeforeUpdate(ct,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(At){le(s,s.return,At)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)yd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,nn=e;break}nn=n.return}}function uy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:cs(e,s),l&4&&so(5,s);break;case 1:if(cs(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){le(s,s.return,p)}else{var h=Zr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){le(s,s.return,p)}}l&64&&iy(s),l&512&&ro(s,s.return);break;case 3:if(cs(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Kp(e,n)}catch(p){le(s,s.return,p)}}break;case 27:n===null&&l&4&&ly(s);case 26:case 5:cs(e,s),n===null&&l&4&&ry(s),l&512&&ro(s,s.return);break;case 12:cs(e,s);break;case 31:cs(e,s),l&4&&fy(e,s);break;case 13:cs(e,s),l&4&&dy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Mb.bind(null,s),Wb(e,s))));break;case 22:if(l=s.memoizedState!==null||os,!l){n=n!==null&&n.memoizedState!==null||Ke,h=os;var f=Ke;os=l,(Ke=n)&&!f?hs(e,s,(s.subtreeFlags&8772)!==0):cs(e,s),os=h,Ke=f}break;case 30:break;default:cs(e,s)}}function cy(e){var n=e.alternate;n!==null&&(e.alternate=null,cy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ha(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var we=null,Rn=!1;function us(e,n,s){for(s=s.child;s!==null;)hy(e,n,s),s=s.sibling}function hy(e,n,s){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(pt,s)}catch{}switch(s.tag){case 26:Ke||Ui(s,n),us(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ke||Ui(s,n);var l=we,h=Rn;Ws(s.type)&&(we=s.stateNode,Rn=!1),us(e,n,s),po(s.stateNode),we=l,Rn=h;break;case 5:Ke||Ui(s,n);case 6:if(l=we,h=Rn,we=null,us(e,n,s),we=l,Rn=h,we!==null)if(Rn)try{(we.nodeType===9?we.body:we.nodeName==="HTML"?we.ownerDocument.body:we).removeChild(s.stateNode)}catch(f){le(s,n,f)}else try{we.removeChild(s.stateNode)}catch(f){le(s,n,f)}break;case 18:we!==null&&(Rn?(e=we,i_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Xa(e)):i_(we,s.stateNode));break;case 4:l=we,h=Rn,we=s.stateNode.containerInfo,Rn=!0,us(e,n,s),we=l,Rn=h;break;case 0:case 11:case 14:case 15:Qs(2,s,n),Ke||Qs(4,s,n),us(e,n,s);break;case 1:Ke||(Ui(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&sy(s,n,l)),us(e,n,s);break;case 21:us(e,n,s);break;case 22:Ke=(l=Ke)||s.memoizedState!==null,us(e,n,s),Ke=l;break;default:us(e,n,s)}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xa(e)}catch(s){le(n,n.return,s)}}}function dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xa(e)}catch(s){le(n,n.return,s)}}function wb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new oy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new oy),n;default:throw Error(a(435,e.tag))}}function tc(e,n){var s=wb(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=Vb.bind(null,e,l);l.then(h,h)}})}function Cn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Ws(E.type)){we=E.stateNode,Rn=!1;break t}break;case 5:we=E.stateNode,Rn=!1;break t;case 3:case 4:we=E.stateNode.containerInfo,Rn=!0;break t}E=E.return}if(we===null)throw Error(a(160));hy(f,p,h),we=null,Rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)my(n,e),n=n.sibling}var mi=null;function my(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Cn(n,e),In(e),l&4&&(Qs(3,e,e.return),so(3,e),Qs(5,e,e.return));break;case 1:Cn(n,e),In(e),l&512&&(Ke||s===null||Ui(s,s.return)),l&64&&os&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=mi;if(Cn(n,e),In(e),l&512&&(Ke||s===null||Ui(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ai]||f[Be]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),un(f,l,s),f[Be]=e,He(f),l=f;break t;case"link":var p=m_("link","href",h).get(l+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(l),un(f,l,s),h.head.appendChild(f);break;case"meta":if(p=m_("meta","content",h).get(l+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(l),un(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Be]=e,He(f),l=f}e.stateNode=l}else p_(h,e.type,e.stateNode);else e.stateNode=d_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?p_(h,e.type,e.stateNode):d_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&qf(e,e.memoizedProps,s.memoizedProps)}break;case 27:Cn(n,e),In(e),l&512&&(Ke||s===null||Ui(s,s.return)),s!==null&&l&4&&qf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Cn(n,e),In(e),l&512&&(Ke||s===null||Ui(s,s.return)),e.flags&32){h=e.stateNode;try{wn(h,"")}catch(ct){le(e,e.return,ct)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,qf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Qf=!0);break;case 6:if(Cn(n,e),In(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ct){le(e,e.return,ct)}}break;case 3:if(gc=null,h=mi,mi=mc(n.containerInfo),Cn(n,e),mi=h,In(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Xa(n.containerInfo)}catch(ct){le(e,e.return,ct)}Qf&&(Qf=!1,py(e));break;case 4:l=mi,mi=mc(e.stateNode.containerInfo),Cn(n,e),In(e),mi=l;break;case 12:Cn(n,e),In(e);break;case 31:Cn(n,e),In(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 13:Cn(n,e),In(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(nc=St()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,j=os,F=Ke;if(os=j||h,Ke=F||I,Cn(n,e),Ke=F,os=j,In(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||os||Ke||Jr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var $=I.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ct){le(I,I.return,ct)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ct){le(I,I.return,ct)}}}else if(n.tag===18){if(s===null){I=n;try{var q=I.stateNode;h?s_(q,!0):s_(I.stateNode,!1)}catch(ct){le(I,I.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,tc(e,s))));break;case 19:Cn(n,e),In(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tc(e,l)));break;case 30:break;case 21:break;default:Cn(n,e),In(e)}}function In(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(ay(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Gf(e);Wu(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(wn(p,""),s.flags&=-33);var E=Gf(e);Wu(e,E,p);break;case 3:case 4:var I=s.stateNode.containerInfo,j=Gf(e);Ff(e,j,I);break;default:throw Error(a(161))}}catch(F){le(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;py(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function cs(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)uy(e,n.alternate,n),n=n.sibling}function Jr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Qs(4,n,n.return),Jr(n);break;case 1:Ui(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&sy(n,n.return,s),Jr(n);break;case 27:po(n.stateNode);case 26:case 5:Ui(n,n.return),Jr(n);break;case 22:n.memoizedState===null&&Jr(n);break;case 30:Jr(n);break;default:Jr(n)}e=e.sibling}}function hs(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:hs(h,f,s),so(4,f);break;case 1:if(hs(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){le(l,l.return,j)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Qp(I[h],E)}catch(j){le(l,l.return,j)}}s&&p&64&&iy(f),ro(f,f.return);break;case 27:ly(f);case 26:case 5:hs(h,f,s),s&&l===null&&p&4&&ry(f),ro(f,f.return);break;case 12:hs(h,f,s);break;case 31:hs(h,f,s),s&&p&4&&fy(h,f);break;case 13:hs(h,f,s),s&&p&4&&dy(h,f);break;case 22:f.memoizedState===null&&hs(h,f,s),ro(f,f.return);break;case 30:break;default:hs(h,f,s)}n=n.sibling}}function Kf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Fl(s))}function Yf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fl(e))}function pi(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gy(e,n,s,l),n=n.sibling}function gy(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:pi(e,n,s,l),h&2048&&so(9,n);break;case 1:pi(e,n,s,l);break;case 3:pi(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Fl(e)));break;case 12:if(h&2048){pi(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){le(n,n.return,I)}}else pi(e,n,s,l);break;case 31:pi(e,n,s,l);break;case 13:pi(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?pi(e,n,s,l):ao(e,n):f._visibility&2?pi(e,n,s,l):(f._visibility|=2,Pa(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(p,n);break;case 24:pi(e,n,s,l),h&2048&&Yf(n.alternate,n);break;default:pi(e,n,s,l)}}function Pa(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,I=l,j=p.flags;switch(p.tag){case 0:case 11:case 15:Pa(f,p,E,I,h),so(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Pa(f,p,E,I,h):ao(f,p):(F._visibility|=2,Pa(f,p,E,I,h)),h&&j&2048&&Kf(p.alternate,p);break;case 24:Pa(f,p,E,I,h),h&&j&2048&&Yf(p.alternate,p);break;default:Pa(f,p,E,I,h)}n=n.sibling}}function ao(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:ao(s,l),h&2048&&Kf(l.alternate,l);break;case 24:ao(s,l),h&2048&&Yf(l.alternate,l);break;default:ao(s,l)}n=n.sibling}}var lo=8192;function za(e,n,s){if(e.subtreeFlags&lo)for(e=e.child;e!==null;)yy(e,n,s),e=e.sibling}function yy(e,n,s){switch(e.tag){case 26:za(e,n,s),e.flags&lo&&e.memoizedState!==null&&h1(s,mi,e.memoizedState,e.memoizedProps);break;case 5:za(e,n,s);break;case 3:case 4:var l=mi;mi=mc(e.stateNode.containerInfo),za(e,n,s),mi=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=lo,lo=16777216,za(e,n,s),lo=l):za(e,n,s));break;default:za(e,n,s)}}function _y(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function oo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];nn=l,Ey(l,e)}_y(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vy(e),e=e.sibling}function vy(e){switch(e.tag){case 0:case 11:case 15:oo(e),e.flags&2048&&Qs(9,e,e.return);break;case 3:oo(e);break;case 12:oo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):oo(e);break;default:oo(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];nn=l,Ey(l,e)}_y(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Qs(8,n,n.return),ec(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function Ey(e,n){for(;nn!==null;){var s=nn;switch(s.tag){case 0:case 11:case 15:Qs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Fl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,nn=l;else t:for(s=e;nn!==null;){l=nn;var h=l.sibling,f=l.return;if(cy(l),l===s){nn=null;break t}if(h!==null){h.return=f,nn=h;break t}nn=f}}}var Rb={getCacheForType:function(e){var n=ln(Ge),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return ln(Ge).controller.signal}},Cb=typeof WeakMap=="function"?WeakMap:Map,ne=0,pe=null,zt=null,Ht=0,ae=0,jn=null,Ks=!1,ja=!1,Xf=!1,fs=0,Oe=0,Ys=0,Wr=0,$f=0,Bn=0,Ba=0,uo=null,xn=null,Zf=!1,nc=0,Ty=0,ic=1/0,sc=null,Xs=null,Ze=0,$s=null,Ha=null,ds=0,Jf=0,Wf=null,by=null,co=0,td=null;function Hn(){return(ne&2)!==0&&Ht!==0?Ht&-Ht:G.T!==null?ad():ru()}function Ay(){if(Bn===0)if((Ht&536870912)===0||Yt){var e=Rr;Rr<<=1,(Rr&3932160)===0&&(Rr=262144),Bn=e}else Bn=536870912;return e=Pn.current,e!==null&&(e.flags|=32),Bn}function Nn(e,n,s){(e===pe&&(ae===2||ae===9)||e.cancelPendingCommit!==null)&&(qa(e,0),Zs(e,Ht,Bn,!1)),Cr(e,s),((ne&2)===0||e!==pe)&&(e===pe&&((ne&2)===0&&(Wr|=s),Oe===4&&Zs(e,Ht,Bn,!1)),Pi(e))}function Sy(e,n,s){if((ne&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||ri(e,n),h=l?Nb(e,n):nd(e,n,!0),f=l;do{if(h===0){ja&&!l&&Zs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!Ib(s)){h=nd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=uo;var I=E.current.memoizedState.isDehydrated;if(I&&(qa(E,p).flags|=256),p=nd(E,p,!1),p!==2){if(Xf&&!I){E.errorRecoveryDisabledLanes|=f,Wr|=f,h=4;break t}f=xn,xn=h,f!==null&&(xn===null?xn=f:xn.push.apply(xn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){qa(e,0),Zs(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Zs(l,n,Bn,!Ks);break t;case 2:xn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-St(),10<h)){if(Zs(l,n,Bn,!Ks),Ei(l,0,!0)!==0)break t;ds=n,l.timeoutHandle=e_(wy.bind(null,l,s,xn,sc,Zf,n,Bn,Wr,Ba,Ks,f,"Throttled",-0,0),h);break t}wy(l,s,xn,sc,Zf,n,Bn,Wr,Ba,Ks,f,null,-0,0)}}break}while(!0);Pi(e)}function wy(e,n,s,l,h,f,p,E,I,j,F,$,B,q){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oi},yy(n,f,$);var ct=(f&62914560)===f?nc-St():(f&4194048)===f?Ty-St():0;if(ct=f1($,ct),ct!==null){ds=f,e.cancelPendingCommit=ct(My.bind(null,e,n,f,s,l,h,p,E,I,F,$,null,B,q)),Zs(e,f,p,!j);return}}My(e,n,f,s,l,h,p,E,I)}function Ib(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!Ln(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Zs(e,n,s,l){n&=~$f,n&=~Wr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-Ve(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&Ir(e,s,n)}function rc(){return(ne&6)===0?(ho(0),!1):!0}function ed(){if(zt!==null){if(ae===0)var e=zt.return;else e=zt,ns=Gr=null,yf(e),Ma=null,Kl=0,e=zt;for(;e!==null;)ny(e.alternate,e),e=e.return;zt=null}}function qa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Yb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ds=0,ed(),pe=e,zt=s=ts(e.current,null),Ht=n,ae=0,jn=null,Ks=!1,ja=ri(e,n),Xf=!1,Ba=Bn=$f=Wr=Ys=Oe=0,xn=uo=null,Zf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-Ve(l),f=1<<h;n|=e[h],l&=~f}return fs=n,Ru(),s}function Ry(e,n){Lt=null,G.H=eo,n===Oa||n===Vu?(n=Hp(),ae=3):n===rf?(n=Hp(),ae=4):ae=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,jn=n,zt===null&&(Oe=1,Yu(e,$n(n,e.current)))}function Cy(){var e=Pn.current;return e===null?!0:(Ht&4194048)===Ht?ti===null:(Ht&62914560)===Ht||(Ht&536870912)!==0?e===ti:!1}function Iy(){var e=G.H;return G.H=eo,e===null?eo:e}function xy(){var e=G.A;return G.A=Rb,e}function ac(){Oe=4,Ks||(Ht&4194048)!==Ht&&Pn.current!==null||(ja=!0),(Ys&134217727)===0&&(Wr&134217727)===0||pe===null||Zs(pe,Ht,Bn,!1)}function nd(e,n,s){var l=ne;ne|=2;var h=Iy(),f=xy();(pe!==e||Ht!==n)&&(sc=null,qa(e,n)),n=!1;var p=Oe;t:do try{if(ae!==0&&zt!==null){var E=zt,I=jn;switch(ae){case 8:ed(),p=6;break t;case 3:case 2:case 9:case 6:Pn.current===null&&(n=!0);var j=ae;if(ae=0,jn=null,Ga(e,E,I,j),s&&ja){p=0;break t}break;default:j=ae,ae=0,jn=null,Ga(e,E,I,j)}}xb(),p=Oe;break}catch(F){Ry(e,F)}while(!0);return n&&e.shellSuspendCounter++,ns=Gr=null,ne=l,G.H=h,G.A=f,zt===null&&(pe=null,Ht=0,Ru()),p}function xb(){for(;zt!==null;)Ny(zt)}function Nb(e,n){var s=ne;ne|=2;var l=Iy(),h=xy();pe!==e||Ht!==n?(sc=null,ic=St()+500,qa(e,n)):ja=ri(e,n);t:do try{if(ae!==0&&zt!==null){n=zt;var f=jn;e:switch(ae){case 1:ae=0,jn=null,Ga(e,n,f,1);break;case 2:case 9:if(jp(f)){ae=0,jn=null,Dy(n);break}n=function(){ae!==2&&ae!==9||pe!==e||(ae=7),Pi(e)},f.then(n,n);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:jp(f)?(ae=0,jn=null,Dy(n)):(ae=0,jn=null,Ga(e,n,f,7));break;case 5:var p=null;switch(zt.tag){case 26:p=zt.memoizedState;case 5:case 27:var E=zt;if(p?g_(p):E.stateNode.complete){ae=0,jn=null;var I=E.sibling;if(I!==null)zt=I;else{var j=E.return;j!==null?(zt=j,lc(j)):zt=null}break e}}ae=0,jn=null,Ga(e,n,f,5);break;case 6:ae=0,jn=null,Ga(e,n,f,6);break;case 8:ed(),Oe=6;break t;default:throw Error(a(462))}}Db();break}catch(F){Ry(e,F)}while(!0);return ns=Gr=null,G.H=l,G.A=h,ne=s,zt!==null?0:(pe=null,Ht=0,Ru(),Oe)}function Db(){for(;zt!==null&&!Ct();)Ny(zt)}function Ny(e){var n=ty(e.alternate,e,fs);e.memoizedProps=e.pendingProps,n===null?lc(e):zt=n}function Dy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Yg(s,n,n.pendingProps,n.type,void 0,Ht);break;case 11:n=Yg(s,n,n.pendingProps,n.type.render,n.ref,Ht);break;case 5:yf(n);default:ny(s,n),n=zt=xp(n,fs),n=ty(s,n,fs)}e.memoizedProps=e.pendingProps,n===null?lc(e):zt=n}function Ga(e,n,s,l){ns=Gr=null,yf(n),Ma=null,Kl=0;var h=n.return;try{if(vb(e,h,n,s,Ht)){Oe=1,Yu(e,$n(s,e.current)),zt=null;return}}catch(f){if(h!==null)throw zt=h,f;Oe=1,Yu(e,$n(s,e.current)),zt=null;return}n.flags&32768?(Yt||l===1?e=!0:ja||(Ht&536870912)!==0?e=!1:(Ks=e=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Oy(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){Oy(n,Ks);return}e=n.return;var s=bb(n.alternate,n,fs);if(s!==null){zt=s;return}if(n=n.sibling,n!==null){zt=n;return}zt=n=e}while(n!==null);Oe===0&&(Oe=5)}function Oy(e,n){do{var s=Ab(e.alternate,e);if(s!==null){s.flags&=32767,zt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){zt=e;return}zt=e=s}while(e!==null);Oe=6,zt=null}function My(e,n,s,l,h,f,p,E,I){e.cancelPendingCommit=null;do oc();while(Ze!==0);if((ne&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qh,Vh(e,s,f,p,E,I),e===pe&&(zt=pe=null,Ht=0),Ha=n,$s=e,ds=s,Jf=f,Wf=h,by=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kb(Et,function(){return Py(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=rt.p,rt.p=2,p=ne,ne|=4;try{Sb(e,n,s)}finally{ne=p,rt.p=h,G.T=l}}Ze=1,Vy(),ky(),Ly()}}function Vy(){if(Ze===1){Ze=0;var e=$s,n=Ha,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=rt.p;rt.p=2;var h=ne;ne|=4;try{my(n,e);var f=md,p=Ep(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&vp(E.ownerDocument.documentElement,E)){if(I!==null&&Ph(E)){var j=I.start,F=I.end;if(F===void 0&&(F=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(F,E.value.length);else{var $=E.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var q=B.getSelection(),ct=E.textContent.length,At=Math.min(I.start,ct),me=I.end===void 0?At:Math.min(I.end,ct);!q.extend&&At>me&&(p=me,me=At,At=p);var L=_p(E,At),M=_p(E,me);if(L&&M&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var z=$.createRange();z.setStart(L.node,L.offset),q.removeAllRanges(),At>me?(q.addRange(z),q.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),q.addRange(z))}}}}for($=[],q=E;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var Y=$[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ec=!!dd,md=dd=null}finally{ne=h,rt.p=l,G.T=s}}e.current=n,Ze=2}}function ky(){if(Ze===2){Ze=0;var e=$s,n=Ha,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=rt.p;rt.p=2;var h=ne;ne|=4;try{uy(e,n.alternate,n)}finally{ne=h,rt.p=l,G.T=s}}Ze=3}}function Ly(){if(Ze===4||Ze===3){Ze=0,Dt();var e=$s,n=Ha,s=ds,l=by;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ze=5:(Ze=0,Ha=$s=null,Uy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Xs=null),$i(s),n=n.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(pt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=rt.p,rt.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,rt.p=h}}(ds&3)!==0&&oc(),Pi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===td?co++:(co=0,td=e):co=0,ho(0)}}function Uy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Fl(n)))}function oc(){return Vy(),ky(),Ly(),Py()}function Py(){if(Ze!==5)return!1;var e=$s,n=Jf;Jf=0;var s=$i(ds),l=G.T,h=rt.p;try{rt.p=32>s?32:s,G.T=null,s=Wf,Wf=null;var f=$s,p=ds;if(Ze=0,Ha=$s=null,ds=0,(ne&6)!==0)throw Error(a(331));var E=ne;if(ne|=4,vy(f.current),gy(f,f.current,p,s),ne=E,ho(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(pt,f)}catch{}return!0}finally{rt.p=h,G.T=l,Uy(e,n)}}function zy(e,n,s){n=$n(s,n),n=Of(e.stateNode,n,2),e=qs(e,n,2),e!==null&&(Cr(e,2),Pi(e))}function le(e,n,s){if(e.tag===3)zy(e,e,s);else for(;n!==null;){if(n.tag===3){zy(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xs===null||!Xs.has(l))){e=$n(s,e),s=jg(2),l=qs(n,s,2),l!==null&&(Bg(s,l,n,e),Cr(l,2),Pi(l));break}}n=n.return}}function id(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new Cb;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Xf=!0,h.add(s),e=Ob.bind(null,e,n,s),n.then(e,e))}function Ob(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,pe===e&&(Ht&s)===s&&(Oe===4||Oe===3&&(Ht&62914560)===Ht&&300>St()-nc?(ne&2)===0&&qa(e,0):$f|=s,Ba===Ht&&(Ba=0)),Pi(e)}function jy(e,n){n===0&&(n=su()),e=Br(e,n),e!==null&&(Cr(e,n),Pi(e))}function Mb(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),jy(e,s)}function Vb(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),jy(e,s)}function kb(e,n){return ot(e,n)}var uc=null,Fa=null,sd=!1,cc=!1,rd=!1,Js=0;function Pi(e){e!==Fa&&e.next===null&&(Fa===null?uc=Fa=e:Fa=Fa.next=e),cc=!0,sd||(sd=!0,Ub())}function ho(e,n){if(!rd&&cc){rd=!0;do for(var s=!1,l=uc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ve(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Gy(l,f))}else f=Ht,f=Ei(l,l===pe?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ri(l,f)||(s=!0,Gy(l,f));l=l.next}while(s);rd=!1}}function Lb(){By()}function By(){cc=sd=!1;var e=0;Js!==0&&Kb()&&(e=Js);for(var n=St(),s=null,l=uc;l!==null;){var h=l.next,f=Hy(l,n);f===0?(l.next=null,s===null?uc=h:s.next=h,h===null&&(Fa=s)):(s=l,(e!==0||(f&3)!==0)&&(cc=!0)),l=h}Ze!==0&&Ze!==5||ho(e),Js!==0&&(Js=0)}function Hy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-Ve(f),E=1<<p,I=h[p];I===-1?((E&s)===0||(E&l)!==0)&&(h[p]=Mh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=pe,s=Ht,s=Ei(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(ae===2||ae===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&lt(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ri(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&lt(l),$i(s)){case 2:case 8:s=Ce;break;case 32:s=Et;break;case 268435456:s=Ae;break;default:s=Et}return l=qy.bind(null,e),s=ot(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&lt(l),e.callbackPriority=2,e.callbackNode=null,2}function qy(e,n){if(Ze!==0&&Ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(oc()&&e.callbackNode!==s)return null;var l=Ht;return l=Ei(e,e===pe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Sy(e,l,n),Hy(e,St()),e.callbackNode!=null&&e.callbackNode===s?qy.bind(null,e):null)}function Gy(e,n){if(oc())return null;Sy(e,n,!0)}function Ub(){Xb(function(){(ne&6)!==0?ot(ze,Lb):By()})}function ad(){if(Js===0){var e=Na;e===0&&(e=_i,_i<<=1,(_i&261888)===0&&(_i=256)),Js=e}return Js}function Fy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pa(""+e)}function Qy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function Pb(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Fy((h[tn]||null).action),p=l.submitter;p&&(n=(n=p[tn]||null)?Fy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Di("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Js!==0){var I=p?Qy(h,p):new FormData(h);Rf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?Qy(h,p):new FormData(h),Rf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var ld=0;ld<Hh.length;ld++){var od=Hh[ld],zb=od.toLowerCase(),jb=od[0].toUpperCase()+od.slice(1);di(zb,"on"+jb)}di(Ap,"onAnimationEnd"),di(Sp,"onAnimationIteration"),di(wp,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(nb,"onTransitionRun"),di(ib,"onTransitionStart"),di(sb,"onTransitionCancel"),di(Rp,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fo));function Ky(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],I=E.instance,j=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=I}else for(p=0;p<l.length;p++){if(E=l[p],I=E.instance,j=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(F){wu(F)}h.currentTarget=null,f=I}}}}function jt(e,n){var s=n[ca];s===void 0&&(s=n[ca]=new Set);var l=e+"__bubble";s.has(l)||(Yy(n,e,2,!1),s.add(l))}function ud(e,n,s){var l=0;n&&(l|=4),Yy(s,e,l,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[hc]){e[hc]=!0,Sl.forEach(function(s){s!=="selectionchange"&&(Bb.has(s)||ud(s,!1,e),ud(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,ud("selectionchange",!1,n))}}function Yy(e,n,s,l){switch(A_(n)){case 2:var h=p1;break;case 8:h=g1;break;default:h=wd}s=h.bind(null,n,s,e),h=void 0,!Mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function hd(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=Si(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){l=f=p;continue t}E=E.parentNode}}l=l.return}Ms(function(){var j=f,F=Qn(s),$=[];t:{var B=Cp.get(e);if(B!==void 0){var q=Di,ct=e;switch(e){case"keypress":if(kr(s)===0)break t;case"keydown":case"keyup":q=bu;break;case"focusin":ct="focus",q=Ur;break;case"focusout":ct="blur",q=Ur;break;case"beforeblur":case"afterblur":q=Ur;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Ap:case Sp:case wp:q=pu;break;case Rp:q=T;break;case"scroll":case"scrollend":q=Ll;break;case"wheel":q=H;break;case"copy":case"cut":case"paste":q=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Wi;break;case"toggle":case"beforetoggle":q=kt}var At=(n&4)!==0,me=!At&&(e==="scroll"||e==="scrollend"),L=At?B!==null?B+"Capture":null:B;At=[];for(var M=j,z;M!==null;){var Y=M;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||L===null||(Y=ui(M,L),Y!=null&&At.push(mo(M,Y,z))),me)break;M=M.return}0<At.length&&(B=new q(B,ct,null,s,F),$.push({event:B,listeners:At}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",B&&s!==Ml&&(ct=s.relatedTarget||s.fromElement)&&(Si(ct)||ct[bi]))break t;if((q||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,q?(ct=s.relatedTarget||s.toElement,q=j,ct=ct?Si(ct):null,ct!==null&&(me=c(ct),At=ct.tag,ct!==me||At!==5&&At!==27&&At!==6)&&(ct=null)):(q=null,ct=j),q!==ct)){if(At=Ul,Y="onMouseLeave",L="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(At=Wi,Y="onPointerLeave",L="onPointerEnter",M="pointer"),me=q==null?B:Vn(q),z=ct==null?B:Vn(ct),B=new At(Y,M+"leave",q,s,F),B.target=me,B.relatedTarget=z,Y=null,Si(F)===j&&(At=new At(L,M+"enter",ct,s,F),At.target=z,At.relatedTarget=me,Y=At),me=Y,q&&ct)e:{for(At=Hb,L=q,M=ct,z=0,Y=L;Y;Y=At(Y))z++;Y=0;for(var yt=M;yt;yt=At(yt))Y++;for(;0<z-Y;)L=At(L),z--;for(;0<Y-z;)M=At(M),Y--;for(;z--;){if(L===M||M!==null&&L===M.alternate){At=L;break e}L=At(L),M=At(M)}At=null}else At=null;q!==null&&Xy($,B,q,At,!1),ct!==null&&me!==null&&Xy($,me,ct,At,!0)}}t:{if(B=j?Vn(j):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var Jt=fp;else if(cp(B))if(dp)Jt=WT;else{Jt=ZT;var dt=$T}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&ma(j.elementType)&&(Jt=fp):Jt=JT;if(Jt&&(Jt=Jt(e,j))){hp($,Jt,s,F);break t}dt&&dt(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Nl(B,"number",B.value)}switch(dt=j?Vn(j):window,e){case"focusin":(cp(dt)||dt.contentEditable==="true")&&(ba=dt,zh=j,Hl=null);break;case"focusout":Hl=zh=ba=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Tp($,s,F);break;case"selectionchange":if(eb)break;case"keydown":case"keyup":Tp($,s,F)}var Ut;if(ee)t:{switch(e){case"compositionstart":var qt="onCompositionStart";break t;case"compositionend":qt="onCompositionEnd";break t;case"compositionupdate":qt="onCompositionUpdate";break t}qt=void 0}else Ta?Pr(e,s)&&(qt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(qt="onCompositionStart");qt&&(Vi&&s.locale!=="ko"&&(Ta||qt!=="onCompositionStart"?qt==="onCompositionEnd"&&Ta&&(Ut=kl()):(Ni=F,Vl="value"in Ni?Ni.value:Ni.textContent,Ta=!0)),dt=fc(j,qt),0<dt.length&&(qt=new Mi(qt,e,null,s,F),$.push({event:qt,listeners:dt}),Ut?qt.data=Ut:(Ut=Ea(s),Ut!==null&&(qt.data=Ut)))),(Ut=Yn?QT(e,s):KT(e,s))&&(qt=fc(j,"onBeforeInput"),0<qt.length&&(dt=new Mi("onBeforeInput","beforeinput",null,s,F),$.push({event:dt,listeners:qt}),dt.data=Ut)),Pb($,e,j,s,F)}Ky($,n)})}function mo(e,n,s){return{instance:e,listener:n,currentTarget:s}}function fc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ui(e,s),h!=null&&l.unshift(mo(e,h,f)),h=ui(e,n),h!=null&&l.push(mo(e,h,f))),e.tag===3)return l;e=e.return}return[]}function Hb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xy(e,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var E=s,I=E.alternate,j=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||j===null||(I=j,h?(j=ui(s,f),j!=null&&p.unshift(mo(s,j,I))):h||(j=ui(s,f),j!=null&&p.push(mo(s,j,I)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var qb=/\r\n?/g,Gb=/\u0000|\uFFFD/g;function $y(e){return(typeof e=="string"?e:""+e).replace(qb,`
`).replace(Gb,"")}function Zy(e,n){return n=$y(n),$y(e)===n}function de(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||wn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&wn(e,""+l);break;case"className":kn(e,"class",l);break;case"tabIndex":kn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(e,s,l);break;case"style":Ol(e,l,f);break;case"data":if(n!=="object"){kn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=pa(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&de(e,n,"name",h.name,h,null),de(e,n,"formEncType",h.formEncType,h,null),de(e,n,"formMethod",h.formMethod,h,null),de(e,n,"formTarget",h.formTarget,h,null)):(de(e,n,"encType",h.encType,h,null),de(e,n,"method",h.method,h,null),de(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=pa(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=oi);break;case"onScroll":l!=null&&jt("scroll",e);break;case"onScrollEnd":l!=null&&jt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=pa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":jt("beforetoggle",e),jt("toggle",e),fa(e,"popover",l);break;case"xlinkActuate":qe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=fu.get(s)||s,fa(e,s,l))}}function fd(e,n,s,l,h,f){switch(s){case"style":Ol(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?wn(e,l):(typeof l=="number"||typeof l=="bigint")&&wn(e,""+l);break;case"onScroll":l!=null&&jt("scroll",e);break;case"onScrollEnd":l!=null&&jt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[tn]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):fa(e,s,l)}}}function un(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",e),jt("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:de(e,n,f,p,s,null)}}h&&de(e,n,"srcSet",s.srcSet,s,null),l&&de(e,n,"src",s.src,s,null);return;case"input":jt("invalid",e);var E=f=p=h=null,I=null,j=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":h=F;break;case"type":p=F;break;case"checked":I=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:de(e,n,l,F,s,null)}}uu(e,f,E,I,j,p,h,!1);return;case"select":jt("invalid",e),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:de(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!l,n!=null?xs(e,!!l,n,!1):s!=null&&xs(e,!!l,s,!0);return;case"textarea":jt("invalid",e),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:de(e,n,p,E,s,null)}Ns(e,l,h,f);return;case"option":for(I in s)if(s.hasOwnProperty(I)&&(l=s[I],l!=null))switch(I){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:de(e,n,I,l,s,null)}return;case"dialog":jt("beforetoggle",e),jt("toggle",e),jt("cancel",e),jt("close",e);break;case"iframe":case"object":jt("load",e);break;case"video":case"audio":for(l=0;l<fo.length;l++)jt(fo[l],e);break;case"image":jt("error",e),jt("load",e);break;case"details":jt("toggle",e);break;case"embed":case"source":case"link":jt("error",e),jt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:de(e,n,j,l,s,null)}return;default:if(ma(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&fd(e,n,F,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&de(e,n,E,l,s,null))}function Fb(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,j=null,F=null;for(q in s){var $=s[q];if(s.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=$;default:l.hasOwnProperty(q)||de(e,n,q,null,l,$)}}for(var B in l){var q=l[B];if($=s[B],l.hasOwnProperty(B)&&(q!=null||$!=null))switch(B){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":F=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==$&&de(e,n,B,q,l,$)}}da(e,p,E,I,j,F,f,h);return;case"select":q=p=E=B=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(f)||de(e,n,f,null,l,I)}for(h in l)if(f=l[h],I=s[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&de(e,n,h,f,l,I)}n=E,s=p,l=q,B!=null?xs(e,!!s,B,!1):!!l!=!!s&&(n!=null?xs(e,!!s,n,!0):xs(e,!!s,s?[]:"",!1));return;case"textarea":q=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:de(e,n,E,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&de(e,n,p,h,l,f)}cu(e,B,q);return;case"option":for(var ct in s)if(B=s[ct],s.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:de(e,n,ct,null,l,B)}for(I in l)if(B=l[I],q=s[I],l.hasOwnProperty(I)&&B!==q&&(B!=null||q!=null))switch(I){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:de(e,n,I,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in s)B=s[At],s.hasOwnProperty(At)&&B!=null&&!l.hasOwnProperty(At)&&de(e,n,At,null,l,B);for(j in l)if(B=l[j],q=s[j],l.hasOwnProperty(j)&&B!==q&&(B!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:de(e,n,j,B,l,q)}return;default:if(ma(n)){for(var me in s)B=s[me],s.hasOwnProperty(me)&&B!==void 0&&!l.hasOwnProperty(me)&&fd(e,n,me,void 0,l,B);for(F in l)B=l[F],q=s[F],!l.hasOwnProperty(F)||B===q||B===void 0&&q===void 0||fd(e,n,F,B,l,q);return}}for(var L in s)B=s[L],s.hasOwnProperty(L)&&B!=null&&!l.hasOwnProperty(L)&&de(e,n,L,null,l,B);for($ in l)B=l[$],q=s[$],!l.hasOwnProperty($)||B===q||B==null&&q==null||de(e,n,$,B,l,q)}function Jy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Qb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Jy(p)){for(p=0,E=h.responseEnd,l+=1;l<s.length;l++){var I=s[l],j=I.startTime;if(j>E)break;var F=I.transferSize,$=I.initiatorType;F&&Jy($)&&(I=I.responseEnd,p+=F*(I<E?1:(E-j)/(I-j)))}if(--l,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dd=null,md=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function Wy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function Kb(){var e=window.event;return e&&e.type==="popstate"?e===gd?!1:(gd=e,!0):(gd=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,Yb=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,Xb=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(e){return n_.resolve(null).then(e).catch($b)}:e_;function $b(e){setTimeout(function(){throw e})}function Ws(e){return e==="head"}function i_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Xa(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")po(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,po(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&po(e.ownerDocument.body);s=h}while(s);Xa(n)}function s_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function yd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yd(s),ha(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Zb(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ei(e.nextSibling),e===null)break}return null}function Jb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ei(e.nextSibling),e===null))return null;return e}function r_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ei(e.nextSibling),e===null))return null;return e}function _d(e){return e.data==="$?"||e.data==="$~"}function vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Wb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ei(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function a_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return ei(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function l_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function o_(e,n,s){switch(n=dc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function po(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ha(e)}var ni=new Map,u_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ms=rt.d;rt.d={f:t1,r:e1,D:n1,C:i1,L:s1,m:r1,X:l1,S:a1,M:o1};function t1(){var e=ms.f(),n=rc();return e||n}function e1(e){var n=Fn(e);n!==null&&n.tag===5&&n.type==="form"?Rg(n):ms.r(e)}var Qa=typeof document>"u"?null:document;function c_(e,n,s){var l=Qa;if(l&&typeof n=="string"&&n){var h=Sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),u_.has(h)||(u_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),un(n,"link",e),He(n),l.head.appendChild(n)))}}function n1(e){ms.D(e),c_("dns-prefetch",e,null)}function i1(e,n){ms.C(e,n),c_("preconnect",e,n)}function s1(e,n,s){ms.L(e,n,s);var l=Qa;if(l&&e&&n){var h='link[rel="preload"][as="'+Sn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Sn(s.imageSizes)+'"]')):h+='[href="'+Sn(e)+'"]';var f=h;switch(n){case"style":f=Ka(e);break;case"script":f=Ya(e)}ni.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),ni.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(go(f))||n==="script"&&l.querySelector(yo(f))||(n=l.createElement("link"),un(n,"link",e),He(n),l.head.appendChild(n)))}}function r1(e,n){ms.m(e,n);var s=Qa;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Sn(l)+'"][href="'+Sn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ya(e)}if(!ni.has(f)&&(e=w({rel:"modulepreload",href:e},n),ni.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(yo(f)))return}l=s.createElement("link"),un(l,"link",e),He(l),s.head.appendChild(l)}}}function a1(e,n,s){ms.S(e,n,s);var l=Qa;if(l&&e){var h=wi(l).hoistableStyles,f=Ka(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(go(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=ni.get(f))&&Td(e,s);var I=p=l.createElement("link");He(I),un(I,"link",e),I._p=new Promise(function(j,F){I.onload=j,I.onerror=F}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function l1(e,n){ms.X(e,n);var s=Qa;if(s&&e){var l=wi(s).hoistableScripts,h=Ya(e),f=l.get(h);f||(f=s.querySelector(yo(h)),f||(e=w({src:e,async:!0},n),(n=ni.get(h))&&bd(e,n),f=s.createElement("script"),He(f),un(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function o1(e,n){ms.M(e,n);var s=Qa;if(s&&e){var l=wi(s).hoistableScripts,h=Ya(e),f=l.get(h);f||(f=s.querySelector(yo(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=ni.get(h))&&bd(e,n),f=s.createElement("script"),He(f),un(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function h_(e,n,s,l){var h=(h=Vt.current)?mc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ka(s.href),s=wi(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ka(s.href);var f=wi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(go(e)))&&!f._p&&(p.instance=f,p.state.loading=5),ni.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ni.set(e,s),f||u1(h,e,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ya(s),s=wi(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ka(e){return'href="'+Sn(e)+'"'}function go(e){return'link[rel="stylesheet"]['+e+"]"}function f_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function u1(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),un(n,"link",s),He(n),e.head.appendChild(n))}function Ya(e){return'[src="'+Sn(e)+'"]'}function yo(e){return"script[async]"+e}function d_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Sn(s.href)+'"]');if(l)return n.instance=l,He(l),l;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),He(l),un(l,"style",h),pc(l,s.precedence,e),n.instance=l;case"stylesheet":h=Ka(s.href);var f=e.querySelector(go(h));if(f)return n.state.loading|=4,n.instance=f,He(f),f;l=f_(s),(h=ni.get(h))&&Td(l,h),f=(e.ownerDocument||e).createElement("link"),He(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),un(f,"link",l),n.state.loading|=4,pc(f,s.precedence,e),n.instance=f;case"script":return f=Ya(s.src),(h=e.querySelector(yo(f)))?(n.instance=h,He(h),h):(l=s,(h=ni.get(f))&&(l=w({},s),bd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),He(h),un(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,pc(l,s.precedence,e));return n.instance}function pc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function m_(e,n,s){if(gc===null){var l=new Map,h=gc=new Map;h.set(s,l)}else h=gc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[Ai]||f[Be]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function p_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function c1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function g_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function h1(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ka(l.href),f=n.querySelector(go(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,He(f);return}f=n.ownerDocument||n,l=f_(l),(h=ni.get(h))&&Td(l,h),f=f.createElement("link"),He(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),un(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=yc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ad=0;function f1(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ad===0&&(Ad=62500*Qb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ad?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(d1,e),_c=null,yc.call(e))}function d1(e,n){if(!(n.state.loading&4)){var s=_c.get(e);if(s)var l=s.get(null);else{s=new Map,_c.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=yc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var _o={$$typeof:_t,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function m1(e,n,s,l,h,f,p,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function y_(e,n,s,l,h,f,p,E,I,j,F,$){return e=new m1(e,n,s,p,I,j,F,$,E),n=1,f===!0&&(n|=24),f=Un(3,null,null,n),e.current=f,f.stateNode=e,n=ef(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},af(f),e}function __(e){return e?(e=wa,e):wa}function v_(e,n,s,l,h,f){h=__(h),l.context===null?l.context=h:l.pendingContext=h,l=Hs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=qs(e,l,n),s!==null&&(Nn(s,e,n),Xl(s,e,n))}function E_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Sd(e,n){E_(e,n),(e=e.alternate)&&E_(e,n)}function T_(e){if(e.tag===13||e.tag===31){var n=Br(e,67108864);n!==null&&Nn(n,e,67108864),Sd(e,67108864)}}function b_(e){if(e.tag===13||e.tag===31){var n=Hn();n=xr(n);var s=Br(e,n);s!==null&&Nn(s,e,n),Sd(e,n)}}var Ec=!0;function p1(e,n,s,l){var h=G.T;G.T=null;var f=rt.p;try{rt.p=2,wd(e,n,s,l)}finally{rt.p=f,G.T=h}}function g1(e,n,s,l){var h=G.T;G.T=null;var f=rt.p;try{rt.p=8,wd(e,n,s,l)}finally{rt.p=f,G.T=h}}function wd(e,n,s,l){if(Ec){var h=Rd(l);if(h===null)hd(e,n,l,Tc,s),S_(e,l);else if(_1(h,e,n,s,l))l.stopPropagation();else if(S_(e,l),n&4&&-1<y1.indexOf(e)){for(;h!==null;){var f=Fn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=vi(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-Ve(p);E.entanglements[1]|=I,p&=~I}Pi(f),(ne&6)===0&&(ic=St()+500,ho(0))}}break;case 31:case 13:E=Br(f,2),E!==null&&Nn(E,f,2),rc(),Sd(f,2)}if(f=Rd(l),f===null&&hd(e,n,l,Tc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else hd(e,n,l,null,s)}}function Rd(e){return e=Qn(e),Cd(e)}var Tc=null;function Cd(e){if(Tc=null,e=Si(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Tc=e,null}function A_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dn()){case ze:return 2;case Ce:return 8;case Et:case Zt:return 32;case Ae:return 268435456;default:return 32}default:return 32}}var Id=!1,tr=null,er=null,nr=null,vo=new Map,Eo=new Map,ir=[],y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(e,n){switch(e){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":vo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eo.delete(n.pointerId)}}function To(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Fn(n),n!==null&&T_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function _1(e,n,s,l,h){switch(n){case"focusin":return tr=To(tr,e,n,s,l,h),!0;case"dragenter":return er=To(er,e,n,s,l,h),!0;case"mouseover":return nr=To(nr,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return vo.set(f,To(vo.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Eo.set(f,To(Eo.get(f)||null,e,n,s,l,h)),!0}return!1}function w_(e){var n=Si(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,ai(e.priority,function(){b_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,ai(e.priority,function(){b_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Rd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Ml=l,s.target.dispatchEvent(l),Ml=null}else return n=Fn(s),n!==null&&T_(n),e.blockedOn=s,!1;n.shift()}return!0}function R_(e,n,s){bc(e)&&s.delete(n)}function v1(){Id=!1,tr!==null&&bc(tr)&&(tr=null),er!==null&&bc(er)&&(er=null),nr!==null&&bc(nr)&&(nr=null),vo.forEach(R_),Eo.forEach(R_)}function Ac(e,n){e.blockedOn===n&&(e.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,v1)))}var Sc=null;function C_(e){Sc!==e&&(Sc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Cd(l||s)===null)continue;break}var f=Fn(s);f!==null&&(e.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Xa(e){function n(I){return Ac(I,e)}tr!==null&&Ac(tr,e),er!==null&&Ac(er,e),nr!==null&&Ac(nr,e),vo.forEach(n),Eo.forEach(n);for(var s=0;s<ir.length;s++){var l=ir[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ir.length&&(s=ir[0],s.blockedOn===null);)w_(s),s.blockedOn===null&&ir.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[tn]||null;if(typeof f=="function")p||C_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[tn]||null)E=p.formAction;else if(Cd(h)!==null)continue}else E=p.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),C_(s)}}}function I_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(e){this._internalRoot=e}wc.prototype.render=xd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Hn();v_(s,l,e,n,null,null)},wc.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;v_(e.current,2,null,e,null,null),rc(),n[bi]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var s=0;s<ir.length&&n!==0&&n<ir[s].priority;s++);ir.splice(s,0,e),s===0&&w_(e)}};var x_=t.version;if(x_!=="19.2.0")throw Error(a(527,x_,"19.2.0"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var E1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{pt=Rc.inject(E1),wt=Rc}catch{}}return Ao.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=Lg,f=Ug,p=Pg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=y_(e,1,!1,null,null,s,l,null,h,f,p,I_),e[bi]=n.current,cd(e),new xd(n)},Ao.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=Lg,p=Ug,E=Pg,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=y_(e,1,!0,n,s??null,l,h,I,f,p,E,I_),n.context=__(null),s=n.current,l=Hn(),l=xr(l),h=Hs(l),h.callback=null,qs(s,h,l),s=l,n.current.lanes=s,Cr(n,s),Pi(n),e[bi]=n.current,cd(e),new wc(n)},Ao.version="19.2.0",Ao}var z_;function N1(){if(z_)return Od.exports;z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=x1(),Od.exports}var D1=N1();const O1=()=>{};var j_={};const p0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},M1=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},g0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,v=o+2<r.length,y=v?r[o+2]:0,b=c>>2,w=(c&3)<<4|g>>4;let V=(g&15)<<2|y>>6,K=y&63;v||(K=64,d||(V=64)),a.push(i[b],i[w],i[V],i[K])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(p0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):M1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const w=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||w==null)throw new V1;const V=c<<2|g>>4;if(a.push(V),y!==64){const K=g<<4&240|y>>2;if(a.push(K),w!==64){const Z=y<<6&192|w;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class V1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k1=function(r){const t=p0(r);return g0.encodeByteArray(t,!0)},Qc=function(r){return k1(r).replace(/\./g,"")},y0=function(r){try{return g0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function L1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const U1=()=>L1().__FIREBASE_DEFAULTS__,P1=()=>{if(typeof process>"u"||typeof j_>"u")return;const r=j_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},z1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&y0(r[1]);return t&&JSON.parse(t)},fh=()=>{try{return O1()||U1()||P1()||z1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},_0=r=>fh()?.emulatorHosts?.[r],j1=r=>{const t=_0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},v0=()=>fh()?.config,E0=r=>fh()?.[`_${r}`];class B1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function pl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function T0(r){return(await fetch(r,{credentials:"include"})).ok}function H1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Qc(JSON.stringify(i)),Qc(JSON.stringify(d)),""].join(".")}const xo={};function q1(){const r={prod:[],emulator:[]};for(const t of Object.keys(xo))xo[t]?r.emulator.push(t):r.prod.push(t);return r}function G1(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let B_=!1;function b0(r,t){if(typeof window>"u"||typeof document>"u"||!pl(window.location.host)||xo[r]===t||xo[r]||B_)return;xo[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=q1().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,K){V.setAttribute("width","24"),V.setAttribute("id",K),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{B_=!0,d()},V}function b(V,K){V.setAttribute("id",K),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function w(){const V=G1(a),K=i("text"),Z=document.getElementById(K)||document.createElement("span"),st=i("learnmore"),R=document.getElementById(st)||document.createElement("a"),bt=i("preprendIcon"),xt=document.getElementById(bt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const _t=V.element;g(_t),b(R,st);const te=y();v(xt,bt),_t.append(xt,Z,R,te),document.body.appendChild(_t)}c?(Z.innerText="Preview backend disconnected.",xt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(xt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function F1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function Q1(){const r=fh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Y1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function X1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $1(){const r=vn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Z1(){return!Q1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J1(){try{return typeof indexedDB=="object"}catch{return!1}}function W1(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const tA="FirebaseError";class Ss extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=tA,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qo.prototype.create)}}class qo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?eA(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ss(o,g,a)}}function eA(r,t){return r.replace(nA,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const nA=/\{\$([^}]+)}/g;function iA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function gr(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(H_(c)&&H_(d)){if(!gr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function H_(r){return r!==null&&typeof r=="object"}function Go(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function sA(r,t){const i=new rA(r,t);return i.subscribe.bind(i)}class rA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");aA(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Ld),o.error===void 0&&(o.error=Ld),o.complete===void 0&&(o.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ld(){}function An(r){return r&&r._delegate?r._delegate:r}class ia{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ta="[DEFAULT]";class lA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new B1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uA(t))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=ta){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ta){return this.instances.has(t)}getOptions(t=ta){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:oA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=ta){return this.component?this.component.multipleInstances?t:ta:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oA(r){return r===ta?void 0:r}function uA(r){return r.instantiationMode==="EAGER"}class cA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new lA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Gt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Gt||(Gt={}));const hA={debug:Gt.DEBUG,verbose:Gt.VERBOSE,info:Gt.INFO,warn:Gt.WARN,error:Gt.ERROR,silent:Gt.SILENT},fA=Gt.INFO,dA={[Gt.DEBUG]:"log",[Gt.VERBOSE]:"log",[Gt.INFO]:"info",[Gt.WARN]:"warn",[Gt.ERROR]:"error"},mA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=dA[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bm{constructor(t){this.name=t,this._logLevel=fA,this._logHandler=mA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Gt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Gt.DEBUG,...t),this._logHandler(this,Gt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Gt.VERBOSE,...t),this._logHandler(this,Gt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Gt.INFO,...t),this._logHandler(this,Gt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Gt.WARN,...t),this._logHandler(this,Gt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Gt.ERROR,...t),this._logHandler(this,Gt.ERROR,...t)}}const pA=(r,t)=>t.some(i=>r instanceof i);let q_,G_;function gA(){return q_||(q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yA(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A0=new WeakMap,Xd=new WeakMap,S0=new WeakMap,Ud=new WeakMap,Am=new WeakMap;function _A(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(hr(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&A0.set(i,r)}).catch(()=>{}),Am.set(t,r),t}function vA(r){if(Xd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Xd.set(r,t)}let $d={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Xd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||S0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return hr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function EA(r){$d=r($d)}function TA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Pd(this),t,...i);return S0.set(a,t.sort?t.sort():[t]),hr(a)}:yA().includes(r)?function(...t){return r.apply(Pd(this),t),hr(A0.get(this))}:function(...t){return hr(r.apply(Pd(this),t))}}function bA(r){return typeof r=="function"?TA(r):(r instanceof IDBTransaction&&vA(r),pA(r,gA())?new Proxy(r,$d):r)}function hr(r){if(r instanceof IDBRequest)return _A(r);if(Ud.has(r))return Ud.get(r);const t=bA(r);return t!==r&&(Ud.set(r,t),Am.set(t,r)),t}const Pd=r=>Am.get(r);function AA(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),g=hr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(hr(d.result),v.oldVersion,v.newVersion,hr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const SA=["get","getKey","getAll","getAllKeys","count"],wA=["put","add","delete","clear"],zd=new Map;function F_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(zd.get(t))return zd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=wA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||SA.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&v.done]))[0]};return zd.set(t,c),c}EA(r=>({...r,get:(t,i,a)=>F_(t,i)||r.get(t,i,a),has:(t,i)=>!!F_(t,i)||r.has(t,i)}));class RA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(CA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function CA(r){return r.getComponent()?.type==="VERSION"}const Zd="@firebase/app",Q_="0.14.6";const _s=new bm("@firebase/app"),IA="@firebase/app-compat",xA="@firebase/analytics-compat",NA="@firebase/analytics",DA="@firebase/app-check-compat",OA="@firebase/app-check",MA="@firebase/auth",VA="@firebase/auth-compat",kA="@firebase/database",LA="@firebase/data-connect",UA="@firebase/database-compat",PA="@firebase/functions",zA="@firebase/functions-compat",jA="@firebase/installations",BA="@firebase/installations-compat",HA="@firebase/messaging",qA="@firebase/messaging-compat",GA="@firebase/performance",FA="@firebase/performance-compat",QA="@firebase/remote-config",KA="@firebase/remote-config-compat",YA="@firebase/storage",XA="@firebase/storage-compat",$A="@firebase/firestore",ZA="@firebase/ai",JA="@firebase/firestore-compat",WA="firebase",tS="12.6.0";const Jd="[DEFAULT]",eS={[Zd]:"fire-core",[IA]:"fire-core-compat",[NA]:"fire-analytics",[xA]:"fire-analytics-compat",[OA]:"fire-app-check",[DA]:"fire-app-check-compat",[MA]:"fire-auth",[VA]:"fire-auth-compat",[kA]:"fire-rtdb",[LA]:"fire-data-connect",[UA]:"fire-rtdb-compat",[PA]:"fire-fn",[zA]:"fire-fn-compat",[jA]:"fire-iid",[BA]:"fire-iid-compat",[HA]:"fire-fcm",[qA]:"fire-fcm-compat",[GA]:"fire-perf",[FA]:"fire-perf-compat",[QA]:"fire-rc",[KA]:"fire-rc-compat",[YA]:"fire-gcs",[XA]:"fire-gcs-compat",[$A]:"fire-fst",[JA]:"fire-fst-compat",[ZA]:"fire-vertex","fire-js":"fire-js",[WA]:"fire-js-all"};const Kc=new Map,nS=new Map,Wd=new Map;function K_(r,t){try{r.container.addComponent(t)}catch(i){_s.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function al(r){const t=r.name;if(Wd.has(t))return _s.debug(`There were multiple attempts to register component ${t}.`),!1;Wd.set(t,r);for(const i of Kc.values())K_(i,r);for(const i of nS.values())K_(i,r);return!0}function Sm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ii(r){return r==null?!1:r.settings!==void 0}const iS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new qo("app","Firebase",iS);class sS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const gl=tS;function w0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Jd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw fr.create("bad-app-name",{appName:String(o)});if(i||(i=v0()),!i)throw fr.create("no-options");const c=Kc.get(o);if(c){if(gr(i,c.options)&&gr(a,c.config))return c;throw fr.create("duplicate-app",{appName:o})}const d=new cA(o);for(const v of Wd.values())d.addComponent(v);const g=new sS(i,a,d);return Kc.set(o,g),g}function R0(r=Jd){const t=Kc.get(r);if(!t&&r===Jd&&v0())return w0();if(!t)throw fr.create("no-app",{appName:r});return t}function dr(r,t,i){let a=eS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_s.warn(d.join(" "));return}al(new ia(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const rS="firebase-heartbeat-database",aS=1,ko="firebase-heartbeat-store";let jd=null;function C0(){return jd||(jd=AA(rS,aS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(ko)}catch(i){console.warn(i)}}}}).catch(r=>{throw fr.create("idb-open",{originalErrorMessage:r.message})})),jd}async function lS(r){try{const i=(await C0()).transaction(ko),a=await i.objectStore(ko).get(I0(r));return await i.done,a}catch(t){if(t instanceof Ss)_s.warn(t.message);else{const i=fr.create("idb-get",{originalErrorMessage:t?.message});_s.warn(i.message)}}}async function Y_(r,t){try{const a=(await C0()).transaction(ko,"readwrite");await a.objectStore(ko).put(t,I0(r)),await a.done}catch(i){if(i instanceof Ss)_s.warn(i.message);else{const a=fr.create("idb-set",{originalErrorMessage:i?.message});_s.warn(a.message)}}}function I0(r){return`${r.name}!${r.options.appId}`}const oS=1024,uS=30;class cS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new fS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=X_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>uS){const o=dS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){_s.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=X_(),{heartbeatsToSend:i,unsentEntries:a}=hS(this._heartbeatsCache.heartbeats),o=Qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return _s.warn(t),""}}}function X_(){return new Date().toISOString().substring(0,10)}function hS(r,t=oS){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),$_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),$_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class fS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J1()?W1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await lS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function $_(r){return Qc(JSON.stringify({version:2,heartbeats:r})).length}function dS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function mS(r){al(new ia("platform-logger",t=>new RA(t),"PRIVATE")),al(new ia("heartbeat",t=>new cS(t),"PRIVATE")),dr(Zd,Q_,r),dr(Zd,Q_,"esm2020"),dr("fire-js","")}mS("");var pS="firebase",gS="12.6.0";dr(pS,gS,"app");function x0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yS=x0,N0=new qo("auth","Firebase",x0());const Yc=new bm("@firebase/auth");function _S(r,...t){Yc.logLevel<=Gt.WARN&&Yc.warn(`Auth (${gl}): ${r}`,...t)}function kc(r,...t){Yc.logLevel<=Gt.ERROR&&Yc.error(`Auth (${gl}): ${r}`,...t)}function vs(r,...t){throw wm(r,...t)}function ji(r,...t){return wm(r,...t)}function D0(r,t,i){const a={...yS(),[t]:i};return new qo("auth","Firebase",a).create(t,{appName:r.name})}function ys(r){return D0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return N0.create(r,...t)}function It(r,t,...i){if(!r)throw wm(t,...i)}function ps(r){const t="INTERNAL ASSERTION FAILED: "+r;throw kc(t),new Error(t)}function Es(r,t){r||ps(t)}function tm(){return typeof self<"u"&&self.location?.href||""}function vS(){return Z_()==="http:"||Z_()==="https:"}function Z_(){return typeof self<"u"&&self.location?.protocol||null}function ES(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vS()||Y1()||"connection"in navigator)?navigator.onLine:!0}function TS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Fo{constructor(t,i){this.shortDelay=t,this.longDelay=i,Es(i>t,"Short delay should be less than long delay!"),this.isMobile=F1()||X1()}get(){return ES()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rm(r,t){Es(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class O0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const bS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const AS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SS=new Fo(3e4,6e4);function Qo(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function yl(r,t,i,a,o={}){return M0(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Go({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return K1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&pl(r.emulatorConfig.host)&&(y.credentials="include"),O0.fetch()(await V0(r,r.config.apiHost,i,g),y)})}async function M0(r,t,i){r._canInitEmulator=!1;const a={...bS,...t};try{const o=new wS(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Cc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Cc(r,"user-disabled",d);const b=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw D0(r,b,y);vs(r,b)}}catch(o){if(o instanceof Ss)throw o;vs(r,"network-request-failed",{message:String(o)})}}async function Cm(r,t,i,a,o={}){const c=await yl(r,t,i,a,o);return"mfaPendingCredential"in c&&vs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function V0(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?Rm(r.config,o):`${r.config.apiScheme}://${o}`;return AS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class wS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ji(this.auth,"network-request-failed")),SS.get())})}}function Cc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=ji(r,t,a);return o.customData._tokenResponse=i,o}async function RS(r,t){return yl(r,"POST","/v1/accounts:delete",t)}async function Xc(r,t){return yl(r,"POST","/v1/accounts:lookup",t)}function No(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function CS(r,t=!1){const i=An(r),a=await i.getIdToken(t),o=Im(a);It(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:No(Bd(o.auth_time)),issuedAtTime:No(Bd(o.iat)),expirationTime:No(Bd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(r){return Number(r)*1e3}function Im(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=y0(i);return o?JSON.parse(o):(kc("Failed to decode base64 JWT payload"),null)}catch(o){return kc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function J_(r){const t=Im(r);return It(t,"internal-error"),It(typeof t.exp<"u","internal-error"),It(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Lo(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Ss&&IS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function IS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class xS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class em{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=No(this.lastLoginAt),this.creationTime=No(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $c(r){const t=r.auth,i=await r.getIdToken(),a=await Lo(r,Xc(t,{idToken:i}));It(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?k0(o.providerUserInfo):[],d=DS(r.providerData,c),g=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!d?.length,y=g?v:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new em(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function NS(r){const t=An(r);await $c(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function DS(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function k0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function OS(r,t){const i=await M0(r,{},async()=>{const a=Go({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await V0(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return r.emulatorConfig&&pl(r.emulatorConfig.host)&&(v.credentials="include"),O0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function MS(r,t){return yl(r,"POST","/v2/accounts:revokeToken",Qo(r,t))}class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){It(t.idToken,"internal-error"),It(typeof t.idToken<"u","internal-error"),It(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):J_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){It(t.length!==0,"internal-error");const i=J_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(It(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await OS(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new el;return a&&(It(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(It(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(It(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return ps("not implemented")}}function rr(r,t){It(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class gi{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new xS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new em(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Lo(this,this.stsTokenManager.getToken(this.auth,t));return It(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return CS(this,t)}reload(){return NS(this)}_assign(t){this!==t&&(It(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new gi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){It(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await $c(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(ys(this.auth));const t=await this.getIdToken();return await Lo(this,RS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:w,emailVerified:V,isAnonymous:K,providerData:Z,stsTokenManager:st}=i;It(w&&st,t,"internal-error");const R=el.fromJSON(this.name,st);It(typeof w=="string",t,"internal-error"),rr(a,t.name),rr(o,t.name),It(typeof V=="boolean",t,"internal-error"),It(typeof K=="boolean",t,"internal-error"),rr(c,t.name),rr(d,t.name),rr(g,t.name),rr(v,t.name),rr(y,t.name),rr(b,t.name);const bt=new gi({uid:w,auth:t,email:o,emailVerified:V,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:R,createdAt:y,lastLoginAt:b});return Z&&Array.isArray(Z)&&(bt.providerData=Z.map(xt=>({...xt}))),v&&(bt._redirectEventId=v),bt}static async _fromIdTokenResponse(t,i,a=!1){const o=new el;o.updateFromServerResponse(i);const c=new gi({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await $c(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];It(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?k0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new el;g.updateFromIdToken(a);const v=new gi({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new em(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const W_=new Map;function gs(r){Es(r instanceof Function,"Expected a class definition");let t=W_.get(r);return t?(Es(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,W_.set(r,t),t)}class L0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}L0.type="NONE";const tv=L0;function Lc(r,t,i){return`firebase:${r}:${t}:${i}`}class nl{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Lc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Lc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Xc(this.auth,{idToken:t}).catch(()=>{});return i?gi._fromGetAccountInfoResponse(this.auth,i,t):null}return gi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new nl(gs(tv),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||gs(tv);const d=Lc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const b=await y._get(d);if(b){let w;if(typeof b=="string"){const V=await Xc(t,{idToken:b}).catch(()=>{});if(!V)break;w=await gi._fromGetAccountInfoResponse(t,V,b)}else w=gi._fromJSON(t,b);y!==c&&(g=w),c=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new nl(c,t,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new nl(c,t,a))}}function ev(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(j0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(U0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(H0(t))return"Blackberry";if(q0(t))return"Webos";if(P0(t))return"Safari";if((t.includes("chrome/")||z0(t))&&!t.includes("edge/"))return"Chrome";if(B0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function U0(r=vn()){return/firefox\//i.test(r)}function P0(r=vn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function z0(r=vn()){return/crios\//i.test(r)}function j0(r=vn()){return/iemobile/i.test(r)}function B0(r=vn()){return/android/i.test(r)}function H0(r=vn()){return/blackberry/i.test(r)}function q0(r=vn()){return/webos/i.test(r)}function xm(r=vn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function VS(r=vn()){return xm(r)&&!!window.navigator?.standalone}function kS(){return $1()&&document.documentMode===10}function G0(r=vn()){return xm(r)||B0(r)||q0(r)||H0(r)||/windows phone/i.test(r)||j0(r)}function F0(r,t=[]){let i;switch(r){case"Browser":i=ev(vn());break;case"Worker":i=`${ev(vn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${gl}/${a}`}class LS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const v=t(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function US(r,t={}){return yl(r,"GET","/v2/passwordPolicy",Qo(r,t))}const PS=6;class zS{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??PS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class jS{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nv(this),this.idTokenSubscription=new nv(this),this.beforeStateQueue=new LS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=gs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await nl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Xc(this,{idToken:t}),a=await gi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ii(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return It(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await $c(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=TS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ii(this.app))return Promise.reject(ys(this));const i=t?An(t):null;return i&&It(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&It(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ii(this.app)?Promise.reject(ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await US(this),i=new zS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new qo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await MS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&gs(t)||this._popupRedirectResolver;It(i,this,"argument-error"),this.redirectPersistenceManager=await nl.create(this,[gs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(It(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return It(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=F0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&_S(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ko(r){return An(r)}class nv{constructor(t){this.auth=t,this.observer=null,this.addObserver=sA(i=>this.observer=i)}get next(){return It(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BS(r){Nm=r}function HS(r){return Nm.loadJS(r)}function qS(){return Nm.gapiScript}function GS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function FS(r,t){const i=Sm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(gr(c,t??{}))return o;vs(o,"already-initialized")}return i.initialize({options:t})}function QS(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(gs);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function KS(r,t,i){const a=Ko(r);It(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=Q0(t),{host:d,port:g}=YS(t),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){It(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),It(gr(y,a.config.emulator)&&gr(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,pl(d)?(T0(`${c}//${d}${v}`),b0("Auth",!0)):XS()}function Q0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function YS(r){const t=Q0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:iv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:iv(d)}}}function iv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function XS(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class K0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ps("not implemented")}_getIdTokenResponse(t){return ps("not implemented")}_linkToIdToken(t,i){return ps("not implemented")}_getReauthenticationResolver(t){return ps("not implemented")}}async function il(r,t){return Cm(r,"POST","/v1/accounts:signInWithIdp",Qo(r,t))}const $S="http://localhost";class sa extends K0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new sa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):vs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new sa(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return il(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,il(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,il(t,i)}buildRequest(){const t={requestUri:$S,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Go(i)}return t}}class Y0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Yo extends Y0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ar extends Yo{constructor(){super("facebook.com")}static credential(t){return sa._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ar.credential(t.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";class lr extends Yo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return sa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return lr.credential(i,a)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";class or extends Yo{constructor(){super("github.com")}static credential(t){return sa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return or.credential(t.oauthAccessToken)}catch{return null}}}or.GITHUB_SIGN_IN_METHOD="github.com";or.PROVIDER_ID="github.com";class ur extends Yo{constructor(){super("twitter.com")}static credential(t,i){return sa._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return ur.credential(i,a)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";async function ZS(r,t){return Cm(r,"POST","/v1/accounts:signUp",Qo(r,t))}class Ts{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await gi._fromIdTokenResponse(t,a,o),d=sv(a);return new Ts({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=sv(a);return new Ts({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function sv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function JS(r){if(ii(r.app))return Promise.reject(ys(r));const t=Ko(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Ts({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await ZS(t,{returnSecureToken:!0}),a=await Ts._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Zc extends Ss{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Zc(t,i,a,o)}}function X0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Zc._fromErrorAndOperation(r,c,t,a):c})}async function WS(r,t,i=!1){const a=await Lo(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Ts._forOperation(r,"link",a)}async function tw(r,t,i=!1){const{auth:a}=r;if(ii(a.app))return Promise.reject(ys(a));const o="reauthenticate";try{const c=await Lo(r,X0(a,o,t,r),i);It(c.idToken,a,"internal-error");const d=Im(c.idToken);It(d,a,"internal-error");const{sub:g}=d;return It(r.uid===g,a,"user-mismatch"),Ts._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&vs(a,"user-mismatch"),c}}async function ew(r,t,i=!1){if(ii(r.app))return Promise.reject(ys(r));const a="signIn",o=await X0(r,a,t),c=await Ts._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function nw(r,t){return Cm(r,"POST","/v1/accounts:signInWithCustomToken",Qo(r,t))}async function iw(r,t){if(ii(r.app))return Promise.reject(ys(r));const i=Ko(r),a=await nw(i,{token:t,returnSecureToken:!0}),o=await Ts._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function sw(r,t,i,a){return An(r).onIdTokenChanged(t,i,a)}function rw(r,t,i){return An(r).beforeAuthStateChanged(t,i)}function aw(r,t,i,a){return An(r).onAuthStateChanged(t,i,a)}const Jc="__sak";class $0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const lw=1e3,ow=10;class Z0 extends $0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=G0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);kS()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,ow):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},lw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Z0.type="LOCAL";const uw=Z0;class J0 extends $0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}J0.type="SESSION";const W0=J0;function cw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class dh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new dh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await cw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];function Dm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class hw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=Dm("",20);o.port1.start();const b=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const V=w;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(b),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Bi(){return window}function fw(r){Bi().location.href=r}function tE(){return typeof Bi().WorkerGlobalScope<"u"&&typeof Bi().importScripts=="function"}async function dw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mw(){return navigator?.serviceWorker?.controller||null}function pw(){return tE()?self:null}const eE="firebaseLocalStorageDb",gw=1,Wc="firebaseLocalStorage",nE="fbase_key";class Xo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mh(r,t){return r.transaction([Wc],t?"readwrite":"readonly").objectStore(Wc)}function yw(){const r=indexedDB.deleteDatabase(eE);return new Xo(r).toPromise()}function nm(){const r=indexedDB.open(eE,gw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Wc,{keyPath:nE})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Wc)?t(a):(a.close(),await yw(),t(await nm()))})})}async function rv(r,t,i){const a=mh(r,!0).put({[nE]:t,value:i});return new Xo(a).toPromise()}async function _w(r,t){const i=mh(r,!1).get(t),a=await new Xo(i).toPromise();return a===void 0?null:a.value}function av(r,t){const i=mh(r,!0).delete(t);return new Xo(i).toPromise()}const vw=800,Ew=3;class iE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Ew)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(pw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dw(),!this.activeServiceWorker)return;this.sender=new hw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await nm();return await rv(t,Jc,"1"),await av(t,Jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>rv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>_w(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>av(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=mh(o,!1).getAll();return new Xo(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iE.type="LOCAL";const Tw=iE;new Fo(3e4,6e4);function bw(r,t){return t?gs(t):(It(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Om extends K0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return il(t,this._buildIdpRequest())}_linkToIdToken(t,i){return il(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return il(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Aw(r){return ew(r.auth,new Om(r),r.bypassAuthState)}function Sw(r){const{auth:t,user:i}=r;return It(i,t,"internal-error"),tw(i,new Om(r),r.bypassAuthState)}async function ww(r){const{auth:t,user:i}=r;return It(i,t,"internal-error"),WS(i,new Om(r),r.bypassAuthState)}class sE{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Aw;case"linkViaPopup":case"linkViaRedirect":return ww;case"reauthViaPopup":case"reauthViaRedirect":return Sw;default:vs(this.auth,"internal-error")}}resolve(t){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rw=new Fo(2e3,1e4);class tl extends sE{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,tl.currentPopupAction&&tl.currentPopupAction.cancel(),tl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return It(t,this.auth,"internal-error"),t}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const t=Dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Rw.get())};t()}}tl.currentPopupAction=null;const Cw="pendingRedirect",Uc=new Map;class Iw extends sE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const a=await xw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xw(r,t){const i=Ow(t),a=Dw(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Nw(r,t){Uc.set(r._key(),t)}function Dw(r){return gs(r._redirectPersistence)}function Ow(r){return Lc(Cw,r.config.apiKey,r.name)}async function Mw(r,t,i=!1){if(ii(r.app))return Promise.reject(ys(r));const a=Ko(r),o=bw(a,t),d=await new Iw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Vw=600*1e3;class kw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Lw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!rE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ji(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Vw&&this.cachedEventUids.clear(),this.cachedEventUids.has(lv(t))}saveEventToCache(t){this.cachedEventUids.add(lv(t)),this.lastProcessedEventTime=Date.now()}}function lv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function rE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Lw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rE(r);default:return!1}}async function Uw(r,t={}){return yl(r,"GET","/v1/projects",t)}const Pw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zw=/^https?/;async function jw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Uw(r);for(const i of t)try{if(Bw(i))return}catch{}vs(r,"unauthorized-domain")}function Bw(r){const t=tm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!zw.test(i))return!1;if(Pw.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const Hw=new Fo(3e4,6e4);function ov(){const r=Bi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function qw(r){return new Promise((t,i)=>{function a(){ov(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ov(),i(ji(r,"network-request-failed"))},timeout:Hw.get()})}if(Bi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Bi().gapi?.load)a();else{const o=GS("iframefcb");return Bi()[o]=()=>{gapi.load?a():i(ji(r,"network-request-failed"))},HS(`${qS()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Pc=null,t})}let Pc=null;function Gw(r){return Pc=Pc||qw(r),Pc}const Fw=new Fo(5e3,15e3),Qw="__/auth/iframe",Kw="emulator/auth/iframe",Yw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $w(r){const t=r.config;It(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Rm(t,Kw):`https://${r.config.authDomain}/${Qw}`,a={apiKey:t.apiKey,appName:r.name,v:gl},o=Xw.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Go(a).slice(1)}`}async function Zw(r){const t=await Gw(r),i=Bi().gapi;return It(i,r,"internal-error"),t.open({where:document.body,url:$w(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=ji(r,"network-request-failed"),g=Bi().setTimeout(()=>{c(d)},Fw.get());function v(){Bi().clearTimeout(g),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const Jw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ww=500,t2=600,e2="_blank",n2="http://localhost";class uv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i2(r,t,i,a=Ww,o=t2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...Jw,width:a.toString(),height:o.toString(),top:c,left:d},y=vn().toLowerCase();i&&(g=z0(y)?e2:i),U0(y)&&(t=t||n2,v.scrollbars="yes");const b=Object.entries(v).reduce((V,[K,Z])=>`${V}${K}=${Z},`,"");if(VS(y)&&g!=="_self")return s2(t||"",g),new uv(null);const w=window.open(t||"",g,b);It(w,r,"popup-blocked");try{w.focus()}catch{}return new uv(w)}function s2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const r2="__/auth/handler",a2="emulator/auth/handler",l2=encodeURIComponent("fac");async function cv(r,t,i,a,o,c){It(r.config.authDomain,r,"auth-domain-config-required"),It(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:gl,eventId:o};if(t instanceof Y0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",iA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,w]of Object.entries({}))d[b]=w}if(t instanceof Yo){const b=t.getScopes().filter(w=>w!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const v=await r._getAppCheckToken(),y=v?`#${l2}=${encodeURIComponent(v)}`:"";return`${o2(r)}?${Go(g).slice(1)}${y}`}function o2({config:r}){return r.emulator?Rm(r,a2):`https://${r.authDomain}/${r2}`}const Hd="webStorageSupport";class u2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W0,this._completeRedirectFn=Mw,this._overrideRedirectResult=Nw}async _openPopup(t,i,a,o){Es(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await cv(t,i,a,tm(),o);return i2(t,c,Dm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await cv(t,i,a,tm(),o);return fw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Es(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Zw(t),a=new kw(t);return i.register("authEvent",o=>(It(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Hd,{type:Hd},o=>{const c=o?.[0]?.[Hd];c!==void 0&&i(!!c),vs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=jw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return G0()||P0()||xm()}}const c2=u2;var hv="@firebase/auth",fv="1.11.1";class h2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){It(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function f2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function d2(r){al(new ia("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;It(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F0(r)},y=new jS(a,o,c,v);return QS(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),al(new ia("auth-internal",t=>{const i=Ko(t.getProvider("auth").getImmediate());return(a=>new h2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(hv,fv,f2(r)),dr(hv,fv,"esm2020")}const m2=300,p2=E0("authIdTokenMaxAge")||m2;let dv=null;const g2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>p2)return;const o=i?.token;dv!==o&&(dv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function y2(r=R0()){const t=Sm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=FS(r,{popupRedirectResolver:c2,persistence:[Tw,uw,W0]}),a=E0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=g2(c.toString());rw(i,d,()=>d(i.currentUser)),sw(i,g=>d(g))}}const o=_0("auth");return o&&KS(i,`http://${o}`),i}function _2(){return document.getElementsByTagName("head")?.[0]??document}BS({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=ji("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",_2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});d2("Browser");var mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mr,aE;(function(){var r;function t(N,S){function x(){}x.prototype=S.prototype,N.F=S.prototype,N.prototype=new x,N.prototype.constructor=N,N.D=function(k,D,U){for(var C=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)C[ye-2]=arguments[ye];return S.prototype[D].apply(k,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,x){x||(x=0);const k=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)k[D]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(D=0;D<16;++D)k[D]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=N.g[0],x=N.g[1],D=N.g[2];let U=N.g[3],C;C=S+(U^x&(D^U))+k[0]+3614090360&4294967295,S=x+(C<<7&4294967295|C>>>25),C=U+(D^S&(x^D))+k[1]+3905402710&4294967295,U=S+(C<<12&4294967295|C>>>20),C=D+(x^U&(S^x))+k[2]+606105819&4294967295,D=U+(C<<17&4294967295|C>>>15),C=x+(S^D&(U^S))+k[3]+3250441966&4294967295,x=D+(C<<22&4294967295|C>>>10),C=S+(U^x&(D^U))+k[4]+4118548399&4294967295,S=x+(C<<7&4294967295|C>>>25),C=U+(D^S&(x^D))+k[5]+1200080426&4294967295,U=S+(C<<12&4294967295|C>>>20),C=D+(x^U&(S^x))+k[6]+2821735955&4294967295,D=U+(C<<17&4294967295|C>>>15),C=x+(S^D&(U^S))+k[7]+4249261313&4294967295,x=D+(C<<22&4294967295|C>>>10),C=S+(U^x&(D^U))+k[8]+1770035416&4294967295,S=x+(C<<7&4294967295|C>>>25),C=U+(D^S&(x^D))+k[9]+2336552879&4294967295,U=S+(C<<12&4294967295|C>>>20),C=D+(x^U&(S^x))+k[10]+4294925233&4294967295,D=U+(C<<17&4294967295|C>>>15),C=x+(S^D&(U^S))+k[11]+2304563134&4294967295,x=D+(C<<22&4294967295|C>>>10),C=S+(U^x&(D^U))+k[12]+1804603682&4294967295,S=x+(C<<7&4294967295|C>>>25),C=U+(D^S&(x^D))+k[13]+4254626195&4294967295,U=S+(C<<12&4294967295|C>>>20),C=D+(x^U&(S^x))+k[14]+2792965006&4294967295,D=U+(C<<17&4294967295|C>>>15),C=x+(S^D&(U^S))+k[15]+1236535329&4294967295,x=D+(C<<22&4294967295|C>>>10),C=S+(D^U&(x^D))+k[1]+4129170786&4294967295,S=x+(C<<5&4294967295|C>>>27),C=U+(x^D&(S^x))+k[6]+3225465664&4294967295,U=S+(C<<9&4294967295|C>>>23),C=D+(S^x&(U^S))+k[11]+643717713&4294967295,D=U+(C<<14&4294967295|C>>>18),C=x+(U^S&(D^U))+k[0]+3921069994&4294967295,x=D+(C<<20&4294967295|C>>>12),C=S+(D^U&(x^D))+k[5]+3593408605&4294967295,S=x+(C<<5&4294967295|C>>>27),C=U+(x^D&(S^x))+k[10]+38016083&4294967295,U=S+(C<<9&4294967295|C>>>23),C=D+(S^x&(U^S))+k[15]+3634488961&4294967295,D=U+(C<<14&4294967295|C>>>18),C=x+(U^S&(D^U))+k[4]+3889429448&4294967295,x=D+(C<<20&4294967295|C>>>12),C=S+(D^U&(x^D))+k[9]+568446438&4294967295,S=x+(C<<5&4294967295|C>>>27),C=U+(x^D&(S^x))+k[14]+3275163606&4294967295,U=S+(C<<9&4294967295|C>>>23),C=D+(S^x&(U^S))+k[3]+4107603335&4294967295,D=U+(C<<14&4294967295|C>>>18),C=x+(U^S&(D^U))+k[8]+1163531501&4294967295,x=D+(C<<20&4294967295|C>>>12),C=S+(D^U&(x^D))+k[13]+2850285829&4294967295,S=x+(C<<5&4294967295|C>>>27),C=U+(x^D&(S^x))+k[2]+4243563512&4294967295,U=S+(C<<9&4294967295|C>>>23),C=D+(S^x&(U^S))+k[7]+1735328473&4294967295,D=U+(C<<14&4294967295|C>>>18),C=x+(U^S&(D^U))+k[12]+2368359562&4294967295,x=D+(C<<20&4294967295|C>>>12),C=S+(x^D^U)+k[5]+4294588738&4294967295,S=x+(C<<4&4294967295|C>>>28),C=U+(S^x^D)+k[8]+2272392833&4294967295,U=S+(C<<11&4294967295|C>>>21),C=D+(U^S^x)+k[11]+1839030562&4294967295,D=U+(C<<16&4294967295|C>>>16),C=x+(D^U^S)+k[14]+4259657740&4294967295,x=D+(C<<23&4294967295|C>>>9),C=S+(x^D^U)+k[1]+2763975236&4294967295,S=x+(C<<4&4294967295|C>>>28),C=U+(S^x^D)+k[4]+1272893353&4294967295,U=S+(C<<11&4294967295|C>>>21),C=D+(U^S^x)+k[7]+4139469664&4294967295,D=U+(C<<16&4294967295|C>>>16),C=x+(D^U^S)+k[10]+3200236656&4294967295,x=D+(C<<23&4294967295|C>>>9),C=S+(x^D^U)+k[13]+681279174&4294967295,S=x+(C<<4&4294967295|C>>>28),C=U+(S^x^D)+k[0]+3936430074&4294967295,U=S+(C<<11&4294967295|C>>>21),C=D+(U^S^x)+k[3]+3572445317&4294967295,D=U+(C<<16&4294967295|C>>>16),C=x+(D^U^S)+k[6]+76029189&4294967295,x=D+(C<<23&4294967295|C>>>9),C=S+(x^D^U)+k[9]+3654602809&4294967295,S=x+(C<<4&4294967295|C>>>28),C=U+(S^x^D)+k[12]+3873151461&4294967295,U=S+(C<<11&4294967295|C>>>21),C=D+(U^S^x)+k[15]+530742520&4294967295,D=U+(C<<16&4294967295|C>>>16),C=x+(D^U^S)+k[2]+3299628645&4294967295,x=D+(C<<23&4294967295|C>>>9),C=S+(D^(x|~U))+k[0]+4096336452&4294967295,S=x+(C<<6&4294967295|C>>>26),C=U+(x^(S|~D))+k[7]+1126891415&4294967295,U=S+(C<<10&4294967295|C>>>22),C=D+(S^(U|~x))+k[14]+2878612391&4294967295,D=U+(C<<15&4294967295|C>>>17),C=x+(U^(D|~S))+k[5]+4237533241&4294967295,x=D+(C<<21&4294967295|C>>>11),C=S+(D^(x|~U))+k[12]+1700485571&4294967295,S=x+(C<<6&4294967295|C>>>26),C=U+(x^(S|~D))+k[3]+2399980690&4294967295,U=S+(C<<10&4294967295|C>>>22),C=D+(S^(U|~x))+k[10]+4293915773&4294967295,D=U+(C<<15&4294967295|C>>>17),C=x+(U^(D|~S))+k[1]+2240044497&4294967295,x=D+(C<<21&4294967295|C>>>11),C=S+(D^(x|~U))+k[8]+1873313359&4294967295,S=x+(C<<6&4294967295|C>>>26),C=U+(x^(S|~D))+k[15]+4264355552&4294967295,U=S+(C<<10&4294967295|C>>>22),C=D+(S^(U|~x))+k[6]+2734768916&4294967295,D=U+(C<<15&4294967295|C>>>17),C=x+(U^(D|~S))+k[13]+1309151649&4294967295,x=D+(C<<21&4294967295|C>>>11),C=S+(D^(x|~U))+k[4]+4149444226&4294967295,S=x+(C<<6&4294967295|C>>>26),C=U+(x^(S|~D))+k[11]+3174756917&4294967295,U=S+(C<<10&4294967295|C>>>22),C=D+(S^(U|~x))+k[2]+718787259&4294967295,D=U+(C<<15&4294967295|C>>>17),C=x+(U^(D|~S))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,S){S===void 0&&(S=N.length);const x=S-this.blockSize,k=this.C;let D=this.h,U=0;for(;U<S;){if(D==0)for(;U<=x;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(k[D++]=N.charCodeAt(U++),D==this.blockSize){o(this,k),D=0;break}}else for(;U<S;)if(k[D++]=N[U++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var x=N.length-8;x<N.length;++x)N[x]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,x=0;x<4;++x)for(let k=0;k<32;k+=8)N[S++]=this.g[x]>>>k&255;return N};function c(N,S){var x=g;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=S(N)}function d(N,S){this.h=S;const x=[];let k=!0;for(let D=N.length-1;D>=0;D--){const U=N[D]|0;k&&U==S||(x[D]=U,k=!1)}this.g=x}var g={};function v(N){return-128<=N&&N<128?c(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return R(y(-N));const S=[];let x=1;for(let k=0;N>=x;k++)S[k]=N/x|0,x*=4294967296;return new d(S,0)}function b(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return R(b(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(S,8));let k=w;for(let U=0;U<N.length;U+=8){var D=Math.min(8,N.length-U);const C=parseInt(N.substring(U,U+D),S);D<8?(D=y(Math.pow(S,D)),k=k.j(D).add(y(C))):(k=k.j(x),k=k.add(y(C)))}return k}var w=v(0),V=v(1),K=v(16777216);r=d.prototype,r.m=function(){if(st(this))return-R(this).m();let N=0,S=1;for(let x=0;x<this.g.length;x++){const k=this.i(x);N+=(k>=0?k:4294967296+k)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(Z(this))return"0";if(st(this))return"-"+R(this).toString(N);const S=y(Math.pow(N,6));var x=this;let k="";for(;;){const D=te(x,S).g;x=bt(x,D.j(S));let U=((x.g.length>0?x.g[0]:x.h)>>>0).toString(N);if(x=D,Z(x))return U+k;for(;U.length<6;)U="0"+U;k=U+k}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function Z(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function st(N){return N.h==-1}r.l=function(N){return N=bt(this,N),st(N)?-1:Z(N)?0:1};function R(N){const S=N.g.length,x=[];for(let k=0;k<S;k++)x[k]=~N.g[k];return new d(x,~N.h).add(V)}r.abs=function(){return st(this)?R(this):this},r.add=function(N){const S=Math.max(this.g.length,N.g.length),x=[];let k=0;for(let D=0;D<=S;D++){let U=k+(this.i(D)&65535)+(N.i(D)&65535),C=(U>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);k=C>>>16,U&=65535,C&=65535,x[D]=C<<16|U}return new d(x,x[x.length-1]&-2147483648?-1:0)};function bt(N,S){return N.add(R(S))}r.j=function(N){if(Z(this)||Z(N))return w;if(st(this))return st(N)?R(this).j(R(N)):R(R(this).j(N));if(st(N))return R(this.j(R(N)));if(this.l(K)<0&&N.l(K)<0)return y(this.m()*N.m());const S=this.g.length+N.g.length,x=[];for(var k=0;k<2*S;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<N.g.length;D++){const U=this.i(k)>>>16,C=this.i(k)&65535,ye=N.i(D)>>>16,Me=N.i(D)&65535;x[2*k+2*D]+=C*Me,xt(x,2*k+2*D),x[2*k+2*D+1]+=U*Me,xt(x,2*k+2*D+1),x[2*k+2*D+1]+=C*ye,xt(x,2*k+2*D+1),x[2*k+2*D+2]+=U*ye,xt(x,2*k+2*D+2)}for(N=0;N<S;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=S;N<2*S;N++)x[N]=0;return new d(x,0)};function xt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function _t(N,S){this.g=N,this.h=S}function te(N,S){if(Z(S))throw Error("division by zero");if(Z(N))return new _t(w,w);if(st(N))return S=te(R(N),S),new _t(R(S.g),R(S.h));if(st(S))return S=te(N,R(S)),new _t(R(S.g),S.h);if(N.g.length>30){if(st(N)||st(S))throw Error("slowDivide_ only works with positive integers.");for(var x=V,k=S;k.l(N)<=0;)x=ie(x),k=ie(k);var D=Pt(x,1),U=Pt(k,1);for(k=Pt(k,2),x=Pt(x,2);!Z(k);){var C=U.add(k);C.l(N)<=0&&(D=D.add(x),U=C),k=Pt(k,1),x=Pt(x,1)}return S=bt(N,D.j(S)),new _t(D,S)}for(D=w;N.l(S)>=0;){for(x=Math.max(1,Math.floor(N.m()/S.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),U=y(x),C=U.j(S);st(C)||C.l(N)>0;)x-=k,U=y(x),C=U.j(S);Z(U)&&(U=V),D=D.add(U),N=bt(N,C)}return new _t(D,N)}r.B=function(N){return te(this,N).h},r.and=function(N){const S=Math.max(this.g.length,N.g.length),x=[];for(let k=0;k<S;k++)x[k]=this.i(k)&N.i(k);return new d(x,this.h&N.h)},r.or=function(N){const S=Math.max(this.g.length,N.g.length),x=[];for(let k=0;k<S;k++)x[k]=this.i(k)|N.i(k);return new d(x,this.h|N.h)},r.xor=function(N){const S=Math.max(this.g.length,N.g.length),x=[];for(let k=0;k<S;k++)x[k]=this.i(k)^N.i(k);return new d(x,this.h^N.h)};function ie(N){const S=N.g.length+1,x=[];for(let k=0;k<S;k++)x[k]=N.i(k)<<1|N.i(k-1)>>>31;return new d(x,N.h)}function Pt(N,S){const x=S>>5;S%=32;const k=N.g.length-x,D=[];for(let U=0;U<k;U++)D[U]=S>0?N.i(U+x)>>>S|N.i(U+x+1)<<32-S:N.i(U+x);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,aE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,mr=d}).apply(typeof mv<"u"?mv:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var lE,wo,oE,zc,im,uE,cE,hE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in _))break t;_=_[P]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,P,H){for(var tt=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)tt[kt-2]=arguments[kt];return m.prototype[P].apply(T,tt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var _=typeof P;if(_=_!="object"?_:P?Array.isArray(P)?"array":_:"null",_=="array"||_=="object"&&typeof P.length=="number"){_=u.length||0;const H=P.length||0;u.length=_+H;for(let tt=0;tt<H;tt++)u[_+tt]=P[tt]}else u.push(P)}}class st{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function R(u){d.setTimeout(()=>{throw u},0)}function bt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class xt{constructor(){this.h=this.g=null}add(m,_){const T=_t.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var _t=new st(()=>new te,u=>u.reset());class te{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,Pt=!1,N=new xt,S=()=>{const u=Promise.resolve(void 0);ie=()=>{u.then(x)}};function x(){for(var u;u=bt();){try{u.h.call(u.g)}catch(_){R(_)}var m=_t;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Pt=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function ye(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ye,D),ye.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ye.Z.h.call(this)},ye.prototype.h=function(){ye.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Me="closure_listenable_"+(Math.random()*1e6|0),G=0;function rt(u,m,_,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=P,this.key=++G,this.da=this.fa=!1}function gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Kt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function $t(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function O(u){const m={};for(const _ in u)m[_]=u[_];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let _,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(_ in T)u[_]=T[_];for(let H=0;H<X.length;H++)_=X[H],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,_,T,P){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const tt=Vt(u,m,T,P);return tt>-1?(m=u[tt],_||(m.fa=!1)):(m=new rt(m,this.src,H,!!T,P),m.fa=_,u.push(m)),m};function vt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],P=Array.prototype.indexOf.call(T,m,void 0),H;(H=P>=0)&&Array.prototype.splice.call(T,P,1),H&&(gt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Vt(u,m,_,T){for(let P=0;P<u.length;++P){const H=u[P];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==T)return P}return-1}var Bt="closure_lm_"+(Math.random()*1e6|0),be={};function _e(u,m,_,T,P){if(Array.isArray(m)){for(let H=0;H<m.length;H++)_e(u,m[H],_,T,P);return null}return _=et(_),u&&u[Me]?u.J(m,_,g(T)?!!T.capture:!1,P):yi(u,m,_,!1,T,P)}function yi(u,m,_,T,P,H){if(!m)throw Error("Invalid event type");const tt=g(P)?!!P.capture:!!P;let kt=Q(u);if(kt||(u[Bt]=kt=new at(u)),_=kt.add(m,_,T,tt,H),_.proxy)return _;if(T=ws(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)U||(P=tt),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Gn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ws(){function u(_){return m.call(u.src,u.listener,_)}const m=wr;return u}function Rs(u,m,_,T,P){if(Array.isArray(m))for(var H=0;H<m.length;H++)Rs(u,m[H],_,T,P);else T=g(T)?!!T.capture:!!T,_=et(_),u&&u[Me]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],_=Vt(m,_,T,P),_>-1&&(gt(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Q(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Vt(m,_,T,P)),(_=u>-1?m[u]:null)&&Cs(_))}function Cs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Me])vt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Gn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Q(m))?(vt(_,u),_.h==0&&(_.src=null,m[Bt]=null)):gt(u)}}}function Gn(u){return u in be?be[u]:be[u]="on"+u}function wr(u,m){if(u.da)u=!0;else{m=new ye(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&Cs(u),u=_.call(T,m)}return u}function Q(u){return u=u[Bt],u instanceof at?u:null}var nt="__closure_events_fn_"+(Math.random()*1e9>>>0);function et(u){return typeof u=="function"?u:(u[nt]||(u[nt]=function(m){return u.handleEvent(m)}),u[nt])}function ht(){k.call(this),this.i=new at(this),this.M=this,this.G=null}w(ht,k),ht.prototype[Me]=!0,ht.prototype.removeEventListener=function(u,m,_,T){Rs(this,u,m,_,T)};function ot(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(T,u),it(m,P)}P=!0;let H,tt;if(_)for(tt=_.length-1;tt>=0;tt--)H=m.g=_[tt],P=lt(H,T,!0,m)&&P;if(H=m.g=u,P=lt(H,T,!0,m)&&P,P=lt(H,T,!1,m)&&P,_)for(tt=0;tt<_.length;tt++)H=m.g=_[tt],P=lt(H,T,!1,m)&&P}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)gt(_[T]);delete u.g[m],u.h--}}this.G=null},ht.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},ht.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function lt(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let H=0;H<m.length;++H){const tt=m[H];if(tt&&!tt.da&&tt.capture==_){const kt=tt.listener,ke=tt.ha||tt.src;tt.fa&&vt(u.i,tt),P=kt.call(ke,T)!==!1&&P}}return P&&!T.defaultPrevented}function Ct(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Dt(u){u.g=Ct(()=>{u.g=null,u.i&&(u.i=!1,Dt(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class St extends k{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Dt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dn(u){k.call(this),this.h=u,this.g={}}w(dn,k);var ze=[];function Ce(u){Kt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Cs(m)},u),u.g={}}dn.prototype.N=function(){dn.Z.N.call(this),Ce(this)},dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Et=d.JSON.stringify,Zt=d.JSON.parse,Ae=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function mn(){}function ft(){}var pt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function wt(){D.call(this,"d")}w(wt,D);function Ne(){D.call(this,"c")}w(Ne,D);var Ve={},nu=null;function ua(){return nu=nu||new ht}Ve.Ia="serverreachability";function iu(u){D.call(this,Ve.Ia,u)}w(iu,D);function _i(u){const m=ua();ot(m,new iu(m))}Ve.STAT_EVENT="statevent";function Rr(u,m){D.call(this,Ve.STAT_EVENT,u),this.stat=m}w(Rr,D);function je(u){const m=ua();ot(m,new Rr(m,u))}Ve.Ja="timingevent";function vi(u,m){D.call(this,Ve.Ja,u),this.size=m}w(vi,D);function Ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ri(){this.g=!0}ri.prototype.ua=function(){this.g=!1};function Mh(u,m,_,T,P,H){u.info(function(){if(u.g)if(H){var tt="",kt=H.split("&");for(let ee=0;ee<kt.length;ee++){var ke=kt[ee].split("=");if(ke.length>1){const Se=ke[0];ke=ke[1];const Yn=Se.split("_");tt=Yn.length>=2&&Yn[1]=="type"?tt+(Se+"="+ke+"&"):tt+(Se+"=redacted&")}}}else tt=null;else tt=H;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+_+`
`+tt})}function su(u,m,_,T,P,H,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+_+`
`+H+" "+tt})}function Ti(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,_)+(T?" "+T:"")})}function Cr(u,m){u.info(function(){return"TIMEOUT: "+m})}ri.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var _=H[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return Et(H)}catch{return m}}var Ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Al;function xr(){}w(xr,mn),xr.prototype.g=function(){return new XMLHttpRequest},Al=new xr;function $i(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function ai(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new dn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new li}function li(){this.i=null,this.g="",this.h=!1}var Be={},tn={};function bi(u,m,_){u.M=1,u.A=Nr(qe(m)),u.u=_,u.R=!0,ca(u,null)}function ca(u,m){u.F=Date.now(),Ai(u),u.B=qe(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ma(_.i,"t",T),u.C=0,_=u.j.L,u.h=new li,u.g=Eu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new St(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(ze[0]=P.toString()),P=ze);for(let H=0;H<P.length;H++){const tt=_e(_,P[H],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),_i(),Mh(u.i,u.v,u.B,u.l,u.S,u.u)}ai.prototype.ba=function(u){u=u.target;const m=this.O;m&&ci(u)==3?m.j():this.Y(u)},ai.prototype.Y=function(u){try{if(u==this.g)t:{const kt=ci(this.g),ke=this.g.ya(),ee=this.g.ca();if(!(kt<3)&&(kt!=3||this.g&&(this.h.h||this.g.la()||rn(this.g)))){this.K||kt!=4||ke==7||(ke==8||ee<=0?_i(3):_i(2)),Si(this);var m=this.g.ca();this.X=m;var _=kh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,kt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var H=T;break e}}H=null}if(u=H)Ti(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,u);else{this.o=!1,this.m=3,je(12),Vn(this),Fn(this);break t}}if(this.R){u=!0;let Se;for(;!this.K&&this.C<_.length;)if(Se=lu(this,_),Se==tn){kt==4&&(this.m=4,je(14),u=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(Se==Be){this.m=4,je(15),Ti(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Ti(this.i,this.l,Se,null),wi(this,Se);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||_.length!=0||this.h.h||(this.m=1,je(16),u=!1),this.o=this.o&&u,!u)Ti(this.i,this.l,_,"[Invalid Chunked Response]"),Vn(this),Fn(this);else if(_.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Pl(tt),tt.P=!0,je(11))}}else Ti(this.i,this.l,_,null),wi(this,_);kt==4&&Vn(this),this.o&&!this.K&&(kt==4?gu(this.j,this):(this.o=!1,Ai(this)))}else Ji(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,je(12)):(this.m=0,je(13)),Vn(this),Fn(this)}}}catch{}finally{}};function kh(u){if(!au(u))return u.g.la();const m=rn(u.g);if(m==="")return"";let _="";const T=m.length,P=ci(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Vn(u),Fn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,_+=u.h.i.decode(m[H],{stream:!(P&&H==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?tn:(_=Number(m.substring(_,T)),isNaN(_)?Be:(T+=1,T+_>m.length?tn:(m=m.slice(T,T+_),u.C=T+_,m)))}ai.prototype.cancel=function(){this.K=!0,Vn(this)};function Ai(u){u.T=Date.now()+u.H,ha(u,u.H)}function ha(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ei(y(u.aa,u),m)}function Si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ai.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Cr(this.i,this.B),this.M!=2&&(_i(),je(17)),Vn(this),this.m=2,Fn(this)):ha(this,this.T-u)};function Fn(u){u.j.I==0||u.K||gu(u.j,u)}function Vn(u){Si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ce(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function wi(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||Ci(_.h,u))){if(!u.L&&Ci(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)va(_),ks(_);else break t;Ur(_),je(18)}}else _.xa=P[1],0<_.xa-_.K&&P[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Ei(y(_.Va,_),6e3));Ri(_.h)<=1&&_.ta&&(_.ta=void 0)}else Mi(_,11)}else if((u.L||_.g==u)&&va(_),!C(m))for(P=_.Ba.g.parse(m),m=0;m<P.length;m++){let ee=P[m];const Se=ee[0];if(!(Se<=_.K))if(_.K=Se,ee=ee[1],_.I==2)if(ee[0]=="c"){_.M=ee[1],_.ba=ee[2];const Yn=ee[3];Yn!=null&&(_.ka=Yn,_.j.info("VER="+_.ka));const Vi=ee[4];Vi!=null&&(_.za=Vi,_.j.info("SVER="+_.za));const hi=ee[5];hi!=null&&typeof hi=="number"&&hi>0&&(T=1.5*hi,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const fi=u.g;if(fi){const Pr=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var H=T.h;H.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Rl(H,H.h),H.h=null))}if(T.G){const Ea=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(T.wa=Ea,re(T.J,T.G,Ea))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var tt=u;if(T.na=vu(T,T.L?T.ba:null,T.W),tt.L){Cl(T.h,tt);var kt=tt,ke=T.O;ke&&(kt.H=ke),kt.D&&(Si(kt),Ai(kt)),T.g=tt}else mu(T);_.i.length>0&&Oi(_)}else ee[0]!="stop"&&ee[0]!="close"||Mi(_,7);else _.I==3&&(ee[0]=="stop"||ee[0]=="close"?ee[0]=="stop"?Mi(_,7):Ll(_):ee[0]!="noop"&&_.l&&_.l.qa(ee),_.A=0)}}_i(4)}catch{}}var He=class{constructor(u,m){this.g=u,this.map=m}};function Sl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ri(u){return u.h?1:u.g?u.g.size:0}function Ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Rl(u,m){u.g?u.g.add(m):u.h=m}function Cl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Sl.prototype.cancel=function(){if(this.i=Il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Il(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return K(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let P,H=null;T>=0?(P=u[_].substring(0,T),H=u[_].substring(T+1)):P=u[_],m(P,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function kn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof kn?(this.l=u.l,en(this,u.j),this.o=u.o,this.g=u.g,Is(this,u.u),this.h=u.h,xl(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,en(this,m[1]||"",!0),this.o=Ii(m[2]||""),this.g=Ii(m[3]||"",!0),Is(this,m[4]),this.h=Ii(m[5]||"",!0),xl(this,m[6]||"",!0),this.m=Ii(m[7]||"")):(this.l=!1,this.i=new Ns(null,this.l))}kn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Dr(m,da,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Dr(m,da,!0),"@"),u.push($i(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Dr(_,_.charAt(0)=="/"?Nl:uu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Dr(_,cu)),u.join("")},kn.prototype.resolve=function(u){const m=qe(this);let _=!!u.j;_?en(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)Is(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const H=[];for(let tt=0;tt<P.length;){const kt=P[tt++];kt=="."?T&&tt==P.length&&H.push(""):kt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&tt==P.length&&H.push("")):(H.push(kt),T=!0)}T=H.join("/")}else T=P}return _?m.h=T:_=u.i.toString()!=="",_?xl(m,fu(u.i)):_=!!u.m,_&&(m.m=u.m),m};function qe(u){return new kn(u)}function en(u,m,_){u.j=_?Ii(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Is(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function xl(u,m,_){m instanceof Ns?(u.i=m,pa(u.i,u.l)):(_||(m=Dr(m,xs)),u.i=new Ns(m,u.l))}function re(u,m,_){u.i.set(m,_)}function Nr(u){return re(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ii(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Sn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var da=/[#\/\?@]/g,uu=/[#\?:]/g,Nl=/[#\?]/g,xs=/[#\?@]/g,cu=/#/g;function Ns(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function wn(u){u.g||(u.g=new Map,u.h=0,u.i&&fa(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Ns.prototype,r.add=function(u,m){wn(this),this.i=null,u=Ds(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function hu(u,m){wn(u),m=Ds(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Dl(u,m){return wn(u),m=Ds(u,m),u.g.has(m)}r.forEach=function(u,m){wn(this),this.g.forEach(function(_,T){_.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Ol(u,m){wn(u);let _=[];if(typeof m=="string")Dl(u,m)&&(_=_.concat(u.g.get(Ds(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return wn(this),this.i=null,u=Ds(this,u),Dl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ol(this,u),u.length>0?String(u[0]):m):m};function ma(u,m,_){hu(u,m),_.length>0&&(u.i=null,u.g.set(Ds(u,m),K(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const P=$i(_);_=Ol(this,_);for(let H=0;H<_.length;H++){let tt=P;_[H]!==""&&(tt+="="+$i(_[H])),u.push(tt)}}return this.i=u.join("&")};function fu(u){const m=new Ns;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ds(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function pa(u,m){m&&!u.j&&(wn(u),u.i=null,u.g.forEach(function(_,T){const P=T.toLowerCase();T!=P&&(hu(this,T),ma(this,P,_))},u)),u.j=m}function oi(u,m){const _=new ri;if(d.Image){const T=new Image;T.onload=b(Qn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Qn,_,"TestLoadImage: error",!1,m,T),T.onabort=b(Qn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Qn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Ml(u,m){const _=new ri,T=new AbortController,P=setTimeout(()=>{T.abort(),Qn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(P),H.ok?Qn(_,"TestPingServer: ok",!0,m):Qn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Qn(_,"TestPingServer: error",!1,m)})}function Qn(u,m,_,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(_)}catch{}}function Os(){this.g=new Ae}function xi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(xi,mn),xi.prototype.g=function(){return new Or(this.i,this.h)};function Or(u,m){ht.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Or,ht),r=Or.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ui(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ms(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ms(this):ui(this),this.readyState==3&&ga(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ms(this))},r.Na=function(u){this.g&&(this.response=u,Ms(this))},r.ga=function(){this.g&&Ms(this)};function Ms(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ui(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function ui(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Kn(u){let m="";return Kt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Mr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Kn(_),typeof u=="string"?_!=null&&$i(_):re(u,m,_))}function he(u){ht.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(he,ht);var Ni=/^https?$/i,Vl=["POST","PUT"];r=he.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Al.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Vr(this,H);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)_.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())_.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Vl,m,void 0)>=0)||T||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,tt]of _)this.g.setRequestHeader(H,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Vr(this,H)}};function Vr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,kl(u),Zi(u)}function kl(u){u.A||(u.A=!0,ot(u,"complete"),ot(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ot(this,"complete"),ot(this,"abort"),Zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zi(this,!0)),he.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?kr(this):this.Xa())},r.Xa=function(){kr(this)};function kr(u){if(u.h&&typeof c<"u"){if(u.v&&ci(u)==4)setTimeout(u.Ca.bind(u),0);else if(ot(u,"readystatechange"),ci(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=H===0){let tt=String(u.D).match(ou)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!Ni.test(tt?tt.toLowerCase():"")}_=T}if(_)ot(u,"complete"),ot(u,"success");else{u.o=6;try{var P=ci(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",kl(u)}}finally{Zi(u)}}}}function Zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||ot(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ci(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Zt(m)}};function rn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(u){const m={};u=(u.g&&ci(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(C(u[T]))continue;var _=ru(u[T]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[P]||[];m[P]=H,H.push(_)}$t(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Vs(u){this.za=0,this.i=[],this.j=new ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,u),this.Za=Di("retryDelaySeedMs",1e4,u),this.Ta=Di("forwardChannelMaxRetries",2,u),this.va=Di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Sl(u&&u.concurrentRequestLimit),this.Ba=new Os,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Vs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){je(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=vu(this,null,this.W),Oi(this)};function Ll(u){if(ya(u),u.I==3){var m=u.V++,_=qe(u.J);if(re(_,"SID",u.M),re(_,"RID",m),re(_,"TYPE","terminate"),Lr(u,_),m=new ai(u,u.j,m),m.M=2,m.A=Nr(qe(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ai(m)}_u(u)}function ks(u){u.g&&(Pl(u),u.g.cancel(),u.g=null)}function ya(u){ks(u),u.v&&(d.clearTimeout(u.v),u.v=null),va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Oi(u){if(!wl(u.h)&&!u.m){u.m=!0;var m=u.Ea;ie||S(),Pt||(ie(),Pt=!0),N.add(m,u),u.D=0}}function _a(u,m){return Ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ei(y(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new ai(this,this.j,u);let H=this.o;if(this.U&&(H?(H=O(H),it(H,this.U)):H=this.U),this.u!==null||this.R||(P.J=H,H=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=du(this,P,m),_=qe(this.J),re(_,"RID",u),re(_,"CVER",22),this.G&&re(_,"X-HTTP-Session-Id",this.G),Lr(this,_),H&&(this.R?m="headers="+$i(Kn(H))+"&"+m:this.u&&Mr(_,this.u,H)),Rl(this.h,P),this.Ra&&re(_,"TYPE","init"),this.S?(re(_,"$req",m),re(_,"SID","null"),P.U=!0,bi(P,_,null)):bi(P,_,m),this.I=2}}else this.I==3&&(u?Ul(this,u):this.i.length==0||wl(this.h)||Ul(this))};function Ul(u,m){var _;m?_=m.l:_=u.V++;const T=qe(u.J);re(T,"SID",u.M),re(T,"RID",_),re(T,"AID",u.K),Lr(u,T),u.u&&u.o&&Mr(T,u.u,u.o),_=new ai(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Rl(u.h,_),bi(_,T,m)}function Lr(u,m){u.H&&Kt(u.H,function(_,T){re(m,T,_)}),u.l&&Kt({},function(_,T){re(m,T,_)})}function du(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let kt=-1;for(;;){const ke=["count="+_];kt==-1?_>0?(kt=P[0].g,ke.push("ofs="+kt)):kt=0:ke.push("ofs="+kt);let ee=!0;for(let Se=0;Se<_;Se++){var H=P[Se].g;const Yn=P[Se].map;if(H-=kt,H<0)kt=Math.max(0,P[Se].g-100),ee=!1;else try{H="req"+H+"_"||"";try{var tt=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Vi,hi]of tt){let fi=hi;g(hi)&&(fi=Et(hi)),ke.push(H+Vi+"="+encodeURIComponent(fi))}}catch(Vi){throw ke.push(H+"type="+encodeURIComponent("_badmap")),Vi}}catch{T&&T(Yn)}}if(ee){tt=ke.join("&");break t}}tt=void 0}return u=u.i.splice(0,_),m.G=u,tt}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ie||S(),Pt||(ie(),Pt=!0),N.add(m,u),u.A=0}}function Ur(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ei(y(u.Da,u),yu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ei(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,je(10),ks(this),pu(this))};function Pl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new ai(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=qe(u.na);re(m,"RID","rpc"),re(m,"SID",u.M),re(m,"AID",u.K),re(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&re(m,"TO",u.ia),re(m,"TYPE","xmlhttp"),Lr(u,m),u.u&&u.o&&Mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Nr(qe(m)),_.u=null,_.R=!0,ca(_,u)}r.Va=function(){this.C!=null&&(this.C=null,ks(this),Ur(this),je(19))};function va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var _=null;if(u.g==m){va(u),Pl(u),u.g=null;var T=2}else if(Ci(u.h,m))_=m.G,Cl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=ua(),ot(T,new vi(T,_)),Oi(u)}else mu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&_a(u,m)||T==2&&Ur(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),P){case 1:Mi(u,5);break;case 4:Mi(u,10);break;case 3:Mi(u,6);break;default:Mi(u,2)}}}function yu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Mi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const P=!T;T=new kn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||en(T,"https"),Nr(T),P?oi(T.toString(),_):Ml(T.toString(),_)}else je(2);u.I=0,u.l&&u.l.pa(m),_u(u),ya(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),je(2)):(this.j.info("Failed to ping google.com"),je(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=Il(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,_){var T=_ instanceof kn?qe(_):new kn(_);if(T.g!="")m&&(T.g=m+"."+T.g),Is(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const H=new kn(null);T&&en(H,T),m&&(H.g=m),P&&Is(H,P),_&&(H.h=_),T=H}return _=u.G,m=u.wa,_&&m&&re(T,_,m),re(T,"VER",u.ka),Lr(u,T),T}function Eu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new he(new xi({ab:_})):new he(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}r=Tu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ls(){}Ls.prototype.g=function(u,m){return new Tn(u,m)};function Tn(u,m){ht.call(this),this.g=new Vs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Wi(this)}w(Tn,ht),Tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){Ll(this.g)},Tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Et(u),u=_);m.i.push(new He(m.Ya++,u)),m.I==3&&Oi(m)},Tn.prototype.N=function(){this.g.l=null,delete this.j,Ll(this.g),delete this.g,Tn.Z.N.call(this)};function bu(u){wt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(bu,wt);function Au(){Ne.call(this),this.status=1}w(Au,Ne);function Wi(u){this.g=u}w(Wi,Tu),Wi.prototype.ra=function(){ot(this.g,"a")},Wi.prototype.qa=function(u){ot(this.g,new bu(u))},Wi.prototype.pa=function(u){ot(this.g,new Au)},Wi.prototype.oa=function(){ot(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,hE=function(){return new Ls},cE=function(){return ua()},uE=Ve,im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,zc=Ir,bl.COMPLETE="complete",oE=bl,ft.EventType=pt,pt.OPEN="a",pt.CLOSE="b",pt.ERROR="c",pt.MESSAGE="d",ht.prototype.listen=ht.prototype.J,wo=ft,he.prototype.listenOnce=he.prototype.K,he.prototype.getLastError=he.prototype.Ha,he.prototype.getLastErrorCode=he.prototype.ya,he.prototype.getStatus=he.prototype.ca,he.prototype.getResponseJson=he.prototype.La,he.prototype.getResponseText=he.prototype.la,he.prototype.send=he.prototype.ea,he.prototype.setWithCredentials=he.prototype.Fa,lE=he}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const pv="@firebase/firestore",gv="4.9.2";class yn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");let _l="12.3.0";const ra=new bm("@firebase/firestore");function $a(){return ra.logLevel}function ut(r,...t){if(ra.logLevel<=Gt.DEBUG){const i=t.map(Mm);ra.debug(`Firestore (${_l}): ${r}`,...i)}}function bs(r,...t){if(ra.logLevel<=Gt.ERROR){const i=t.map(Mm);ra.error(`Firestore (${_l}): ${r}`,...i)}}function ll(r,...t){if(ra.logLevel<=Gt.WARN){const i=t.map(Mm);ra.warn(`Firestore (${_l}): ${r}`,...i)}}function Mm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Rt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,fE(r,a,i)}function fE(r,t,i){let a=`FIRESTORE (${_l}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw bs(a),new Error(a)}function se(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||fE(t,o,a)}function Mt(r,t){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Ss{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class dE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class v2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(yn.UNAUTHENTICATED)))}shutdown(){}}class E2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class T2{constructor(t){this.t=t,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){se(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new pr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new pr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(se(typeof a.accessToken=="string",31837,{l:a}),new dE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return se(t===null||typeof t=="string",2055,{h:t}),new yn(t)}}class b2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class A2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new b2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(yn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){se(this.o===void 0,3512);const a=c=>{c.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(se(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new yv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function w2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=w2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Ft(r,t){return r<t?-1:r>t?1:0}function sm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return qd(o)===qd(c)?Ft(o,c):qd(o)?1:-1}return Ft(r.length,t.length)}const R2=55296,C2=57343;function qd(r){const t=r.charCodeAt(0);return t>=R2&&t<=C2}function ol(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const _v="__name__";class zi{constructor(t,i,a){i===void 0?i=0:i>t.length&&Rt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&Rt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return zi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof zi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=zi.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Ft(t.length,i.length)}static compareSegments(t,i){const a=zi.isNumericId(t),o=zi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?zi.extractNumericId(t).compare(zi.extractNumericId(i)):sm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return mr.fromString(t.substring(4,t.length-2))}}class Ie extends zi{construct(t,i,a){return new Ie(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new mt(W.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new Ie(i)}static emptyPath(){return new Ie([])}}const I2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends zi{construct(t,i,a){return new hn(t,i,a)}static isValidIdentifier(t){return I2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_v}static keyField(){return new hn([_v])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new mt(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new mt(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new mt(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new mt(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new hn(i)}static emptyPath(){return new hn([])}}class Tt{constructor(t){this.path=t}static fromPath(t){return new Tt(Ie.fromString(t))}static fromName(t){return new Tt(Ie.fromString(t).popFirst(5))}static empty(){return new Tt(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Ie.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tt(new Ie(t.slice()))}}function x2(r,t,i){if(!i)throw new mt(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function N2(r,t,i,a){if(t===!0&&a===!0)throw new mt(W.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function vv(r){if(!Tt.isDocumentKey(r))throw new mt(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function mE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function km(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Rt(12329,{type:typeof r})}function Hi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new mt(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=km(r);throw new mt(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Xe(r,t){const i={typeString:r};return t&&(i.value=t),i}function $o(r,t){if(!mE(r))throw new mt(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new mt(W.INVALID_ARGUMENT,i);return!0}const Ev=-62135596800,Tv=1e6;class Te{static now(){return Te.fromMillis(Date.now())}static fromDate(t){return Te.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Tv);return new Te(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new mt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new mt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Ev)throw new mt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tv}_compareTo(t){return this.seconds===t.seconds?Ft(this.nanoseconds,t.nanoseconds):Ft(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($o(t,Te._jsonSchema))return new Te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Ev;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Te._jsonSchemaVersion="firestore/timestamp/1.0",Te._jsonSchema={type:Xe("string",Te._jsonSchemaVersion),seconds:Xe("number"),nanoseconds:Xe("number")};class Nt{static fromTimestamp(t){return new Nt(t)}static min(){return new Nt(new Te(0,0))}static max(){return new Nt(new Te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Uo=-1;function D2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Nt.fromTimestamp(a===1e9?new Te(i+1,0):new Te(i,a));return new yr(o,Tt.empty(),t)}function O2(r){return new yr(r.readTime,r.key,Uo)}class yr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new yr(Nt.min(),Tt.empty(),Uo)}static max(){return new yr(Nt.max(),Tt.empty(),Uo)}}function M2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=Tt.comparator(r.documentKey,t.documentKey),i!==0?i:Ft(r.largestBatchId,t.largestBatchId))}const V2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class k2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function vl(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==V2)throw r;ut("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,a)=>{i(t)}))}static reject(t){return new J(((i,a)=>{a(t)}))}static waitFor(t){return new J(((i,a)=>{let o=0,c=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(t){let i=J.resolve(!1);for(const a of t)i=i.next((o=>o?J.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new J(((a,o)=>{const c=t.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((b=>{d[y]=b,++g,g===c&&a(d)}),(b=>o(b)))}}))}static doWhile(t,i){return new J(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function L2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function El(r){return r.name==="IndexedDbTransactionError"}class ph{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ph.ce=-1;const Lm=-1;function gh(r){return r==null}function th(r){return r===0&&1/r==-1/0}function U2(r){return typeof r=="number"&&Number.isInteger(r)&&!th(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const pE="";function P2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=bv(t)),t=z2(r.get(i),t);return bv(t)}function z2(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case pE:i+="";break;default:i+=c}}return i}function bv(r){return r+pE+""}function Av(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Ar(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function gE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class xe{constructor(t,i){this.comparator=t,this.root=i||cn.EMPTY}insert(t,i){return new xe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(t){return new xe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,cn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xc(this.root,t,this.comparator,!0)}}class xc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class cn{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??cn.RED,this.left=o??cn.EMPTY,this.right=c??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new cn(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return cn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new cn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class We{constructor(t){this.comparator=t,this.data=new xe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Sv(this.data.getIterator())}getIteratorFrom(t){return new Sv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof We)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new We(this.comparator);return i.data=t,i}}class Sv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class qn{constructor(t){this.fields=t,t.sort(hn.comparator)}static empty(){return new qn([])}unionWith(t){let i=new We(hn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new qn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ol(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class yE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new yE("Invalid base64 string: "+c):c}})(t);return new fn(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new fn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ft(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const j2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(r){if(se(!!r,39018),typeof r=="string"){let t=0;const i=j2.exec(r);if(se(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Pe(r.seconds),nanos:Pe(r.nanos)}}function Pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function vr(r){return typeof r=="string"?fn.fromBase64String(r):fn.fromUint8Array(r)}const _E="server_timestamp",vE="__type__",EE="__previous_value__",TE="__local_write_time__";function Um(r){return(r?.mapValue?.fields||{})[vE]?.stringValue===_E}function yh(r){const t=r.mapValue.fields[EE];return Um(t)?yh(t):t}function Po(r){const t=_r(r.mapValue.fields[TE].timestampValue);return new Te(t.seconds,t.nanos)}class B2{constructor(t,i,a,o,c,d,g,v,y,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=b}}const eh="(default)";class zo{constructor(t,i){this.projectId=t,this.database=i||eh}static empty(){return new zo("","")}get isDefaultDatabase(){return this.database===eh}isEqual(t){return t instanceof zo&&t.projectId===this.projectId&&t.database===this.database}}const bE="__type__",H2="__max__",Nc={mapValue:{}},AE="__vector__",nh="value";function Er(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Um(r)?4:G2(r)?9007199254740991:q2(r)?10:11:Rt(28295,{value:r})}function Yi(r,t){if(r===t)return!0;const i=Er(r);if(i!==Er(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Po(r).isEqual(Po(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=_r(o.timestampValue),g=_r(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return vr(o.bytesValue).isEqual(vr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return Pe(o.geoPointValue.latitude)===Pe(c.geoPointValue.latitude)&&Pe(o.geoPointValue.longitude)===Pe(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Pe(o.integerValue)===Pe(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Pe(o.doubleValue),g=Pe(c.doubleValue);return d===g?th(d)===th(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return ol(r.arrayValue.values||[],t.arrayValue.values||[],Yi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Av(d)!==Av(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Yi(d[v],g[v])))return!1;return!0})(r,t);default:return Rt(52216,{left:r})}}function jo(r,t){return(r.values||[]).find((i=>Yi(i,t)))!==void 0}function ul(r,t){if(r===t)return 0;const i=Er(r),a=Er(t);if(i!==a)return Ft(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ft(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=Pe(c.integerValue||c.doubleValue),v=Pe(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,t);case 3:return wv(r.timestampValue,t.timestampValue);case 4:return wv(Po(r),Po(t));case 5:return sm(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=vr(c),v=vr(d);return g.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const b=Ft(g[y],v[y]);if(b!==0)return b}return Ft(g.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Ft(Pe(c.latitude),Pe(d.latitude));return g!==0?g:Ft(Pe(c.longitude),Pe(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Rv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[nh]?.arrayValue,b=v[nh]?.arrayValue,w=Ft(y?.values?.length||0,b?.values?.length||0);return w!==0?w:Rv(y,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},b=Object.keys(y);v.sort(),b.sort();for(let w=0;w<v.length&&w<b.length;++w){const V=sm(v[w],b[w]);if(V!==0)return V;const K=ul(g[v[w]],y[b[w]]);if(K!==0)return K}return Ft(v.length,b.length)})(r.mapValue,t.mapValue);default:throw Rt(23264,{he:i})}}function wv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ft(r,t);const i=_r(r),a=_r(t),o=Ft(i.seconds,a.seconds);return o!==0?o:Ft(i.nanos,a.nanos)}function Rv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=ul(i[o],a[o]);if(c)return c}return Ft(i.length,a.length)}function cl(r){return rm(r)}function rm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=_r(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return vr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return Tt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=rm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${rm(i.fields[d])}`;return o+"}"})(r.mapValue):Rt(61005,{value:r})}function jc(r){switch(Er(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yh(r);return t?16+jc(t):16;case 5:return 2*r.stringValue.length;case 6:return vr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+jc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Ar(a.fields,((c,d)=>{o+=c.length+jc(d)})),o})(r.mapValue);default:throw Rt(13486,{value:r})}}function am(r){return!!r&&"integerValue"in r}function Pm(r){return!!r&&"arrayValue"in r}function Cv(r){return!!r&&"nullValue"in r}function Iv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bc(r){return!!r&&"mapValue"in r}function q2(r){return(r?.mapValue?.fields||{})[bE]?.stringValue===AE}function Do(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Ar(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Do(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Do(r.arrayValue.values[i]);return t}return{...r}}function G2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===H2}class Mn{constructor(t){this.value=t}static empty(){return new Mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Bc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Do(i)}setAll(t){let i=hn.emptyPath(),a={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Do(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Yi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Bc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){Ar(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new Mn(Do(this.value))}}function SE(r){const t=[];return Ar(r.fields,((i,a)=>{const o=new hn([i]);if(Bc(a)){const c=SE(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new qn(t)}class _n{constructor(t,i,a,o,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new _n(t,0,Nt.min(),Nt.min(),Nt.min(),Mn.empty(),0)}static newFoundDocument(t,i,a,o){return new _n(t,1,i,Nt.min(),a,o,0)}static newNoDocument(t,i){return new _n(t,2,i,Nt.min(),Nt.min(),Mn.empty(),0)}static newUnknownDocument(t,i){return new _n(t,3,i,Nt.min(),Nt.min(),Mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof _n&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ih{constructor(t,i){this.position=t,this.inclusive=i}}function xv(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=Tt.comparator(Tt.fromName(d.referenceValue),i.key):a=ul(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Nv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Yi(r.position[i],t.position[i]))return!1;return!0}class sh{constructor(t,i="asc"){this.field=t,this.dir=i}}function F2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class wE{}class Je extends wE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new K2(t,i,a):i==="array-contains"?new $2(t,a):i==="in"?new Z2(t,a):i==="not-in"?new J2(t,a):i==="array-contains-any"?new W2(t,a):new Je(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Y2(t,a):new X2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ul(i,this.value)):i!==null&&Er(this.value)===Er(i)&&this.matchesComparison(ul(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xi extends wE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Xi(t,i)}matches(t){return RE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RE(r){return r.op==="and"}function CE(r){return Q2(r)&&RE(r)}function Q2(r){for(const t of r.filters)if(t instanceof Xi)return!1;return!0}function lm(r){if(r instanceof Je)return r.field.canonicalString()+r.op.toString()+cl(r.value);if(CE(r))return r.filters.map((t=>lm(t))).join(",");{const t=r.filters.map((i=>lm(i))).join(",");return`${r.op}(${t})`}}function IE(r,t){return r instanceof Je?(function(a,o){return o instanceof Je&&a.op===o.op&&a.field.isEqual(o.field)&&Yi(a.value,o.value)})(r,t):r instanceof Xi?(function(a,o){return o instanceof Xi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&IE(d,o.filters[g])),!0):!1})(r,t):void Rt(19439)}function xE(r){return r instanceof Je?(function(i){return`${i.field.canonicalString()} ${i.op} ${cl(i.value)}`})(r):r instanceof Xi?(function(i){return i.op.toString()+" {"+i.getFilters().map(xE).join(" ,")+"}"})(r):"Filter"}class K2 extends Je{constructor(t,i,a){super(t,i,a),this.key=Tt.fromName(a.referenceValue)}matches(t){const i=Tt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Y2 extends Je{constructor(t,i){super(t,"in",i),this.keys=NE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class X2 extends Je{constructor(t,i){super(t,"not-in",i),this.keys=NE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function NE(r,t){return(t.arrayValue?.values||[]).map((i=>Tt.fromName(i.referenceValue)))}class $2 extends Je{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Pm(i)&&jo(i.arrayValue,this.value)}}class Z2 extends Je{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&jo(this.value.arrayValue,i)}}class J2 extends Je{constructor(t,i){super(t,"not-in",i)}matches(t){if(jo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!jo(this.value.arrayValue,i)}}class W2 extends Je{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Pm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>jo(this.value.arrayValue,a)))}}class tR{constructor(t,i=null,a=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Dv(r,t=null,i=[],a=[],o=null,c=null,d=null){return new tR(r,t,i,a,o,c,d)}function zm(r){const t=Mt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>lm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>cl(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>cl(a))).join(",")),t.Te=i}return t.Te}function jm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!F2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!IE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Nv(r.startAt,t.startAt)&&Nv(r.endAt,t.endAt)}function om(r){return Tt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class _h{constructor(t,i=null,a=[],o=[],c=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function eR(r,t,i,a,o,c,d,g){return new _h(r,t,i,a,o,c,d,g)}function vh(r){return new _h(r)}function Ov(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function nR(r){return r.collectionGroup!==null}function Oo(r){const t=Mt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new We(hn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new sh(c,a))})),i.has(hn.keyField().canonicalString())||t.Ie.push(new sh(hn.keyField(),a))}return t.Ie}function qi(r){const t=Mt(r);return t.Ee||(t.Ee=iR(t,Oo(r))),t.Ee}function iR(r,t){if(r.limitType==="F")return Dv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new sh(o.field,c)}));const i=r.endAt?new ih(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new ih(r.startAt.position,r.startAt.inclusive):null;return Dv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function um(r,t,i){return new _h(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Eh(r,t){return jm(qi(r),qi(t))&&r.limitType===t.limitType}function DE(r){return`${zm(qi(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>xE(o))).join(", ")}]`),gh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>cl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>cl(o))).join(",")),`Target(${a})`})(qi(r))}; limitType=${r.limitType})`}function Th(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Tt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of Oo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,g,v){const y=xv(d,g,v);return d.inclusive?y<=0:y<0})(a.startAt,Oo(a),o)||a.endAt&&!(function(d,g,v){const y=xv(d,g,v);return d.inclusive?y>=0:y>0})(a.endAt,Oo(a),o))})(r,t)}function sR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function OE(r){return(t,i)=>{let a=!1;for(const o of Oo(r)){const c=rR(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function rR(r,t,i){const a=r.field.isKeyField()?Tt.comparator(t.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?ul(v,y):Rt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Rt(19790,{direction:r.dir})}}class la{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ar(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return gE(this.inner)}size(){return this.innerSize}}const aR=new xe(Tt.comparator);function As(){return aR}const ME=new xe(Tt.comparator);function Ro(...r){let t=ME;for(const i of r)t=t.insert(i.key,i);return t}function VE(r){let t=ME;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function ea(){return Mo()}function kE(){return Mo()}function Mo(){return new la((r=>r.toString()),((r,t)=>r.isEqual(t)))}const lR=new xe(Tt.comparator),oR=new We(Tt.comparator);function Qt(...r){let t=oR;for(const i of r)t=t.add(i);return t}const uR=new We(Ft);function cR(){return uR}function Bm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(t)?"-0":t}}function LE(r){return{integerValue:""+r}}function hR(r,t){return U2(t)?LE(t):Bm(r,t)}class bh{constructor(){this._=void 0}}function fR(r,t,i){return r instanceof rh?(function(o,c){const d={fields:{[vE]:{stringValue:_E},[TE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Um(c)&&(c=yh(c)),c&&(d.fields[EE]=c),{mapValue:d}})(i,t):r instanceof hl?PE(r,t):r instanceof Bo?zE(r,t):(function(o,c){const d=UE(o,c),g=Mv(d)+Mv(o.Ae);return am(d)&&am(o.Ae)?LE(g):Bm(o.serializer,g)})(r,t)}function dR(r,t,i){return r instanceof hl?PE(r,t):r instanceof Bo?zE(r,t):i}function UE(r,t){return r instanceof ah?(function(a){return am(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class rh extends bh{}class hl extends bh{constructor(t){super(),this.elements=t}}function PE(r,t){const i=jE(t);for(const a of r.elements)i.some((o=>Yi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Bo extends bh{constructor(t){super(),this.elements=t}}function zE(r,t){let i=jE(t);for(const a of r.elements)i=i.filter((o=>!Yi(o,a)));return{arrayValue:{values:i}}}class ah extends bh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Mv(r){return Pe(r.integerValue||r.doubleValue)}function jE(r){return Pm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class mR{constructor(t,i){this.field=t,this.transform=i}}function pR(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof hl&&o instanceof hl||a instanceof Bo&&o instanceof Bo?ol(a.elements,o.elements,Yi):a instanceof ah&&o instanceof ah?Yi(a.Ae,o.Ae):a instanceof rh&&o instanceof rh})(r.transform,t.transform)}class gR{constructor(t,i){this.version=t,this.transformResults=i}}class Gi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Gi}static exists(t){return new Gi(void 0,t)}static updateTime(t){return new Gi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ah{}function BE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new qE(r.key,Gi.none()):new Zo(r.key,r.data,Gi.none());{const i=r.data,a=Mn.empty();let o=new We(hn.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Sr(r.key,a,new qn(o.toArray()),Gi.none())}}function yR(r,t,i){r instanceof Zo?(function(o,c,d){const g=o.value.clone(),v=kv(o.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof Sr?(function(o,c,d){if(!Hc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=kv(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(HE(o)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Vo(r,t,i,a){return r instanceof Zo?(function(c,d,g,v){if(!Hc(c.precondition,d))return g;const y=c.value.clone(),b=Lv(c.fieldTransforms,v,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof Sr?(function(c,d,g,v){if(!Hc(c.precondition,d))return g;const y=Lv(c.fieldTransforms,v,d),b=d.data;return b.setAll(HE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,g){return Hc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function _R(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=UE(a.transform,o||null);c!=null&&(i===null&&(i=Mn.empty()),i.set(a.field,c))}return i||null}function Vv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ol(a,o,((c,d)=>pR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Zo extends Ah{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Sr extends Ah{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function HE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function kv(r,t,i){const a=new Map;se(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);a.set(c.field,dR(d,g,i[o]))}return a}function Lv(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,fR(c,d,t))}return a}class qE extends Ah{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vR extends Ah{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ER{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&yR(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Vo(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Vo(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=kE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const v=BE(d,g);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(Nt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Qt())}isEqual(t){return this.batchId===t.batchId&&ol(this.mutations,t.mutations,((i,a)=>Vv(i,a)))&&ol(this.baseMutations,t.baseMutations,((i,a)=>Vv(i,a)))}}class Hm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){se(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return lR})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Hm(t,i,a,o)}}class TR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class bR{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ye,Xt;function AR(r){switch(r){case W.OK:return Rt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Rt(15467,{code:r})}}function GE(r){if(r===void 0)return bs("GRPC error has no .code"),W.UNKNOWN;switch(r){case Ye.OK:return W.OK;case Ye.CANCELLED:return W.CANCELLED;case Ye.UNKNOWN:return W.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return W.INTERNAL;case Ye.UNAVAILABLE:return W.UNAVAILABLE;case Ye.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ye.NOT_FOUND:return W.NOT_FOUND;case Ye.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ye.ABORTED:return W.ABORTED;case Ye.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ye.DATA_LOSS:return W.DATA_LOSS;default:return Rt(39323,{code:r})}}(Xt=Ye||(Ye={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";function SR(){return new TextEncoder}const wR=new mr([4294967295,4294967295],0);function Uv(r){const t=SR().encode(r),i=new aE;return i.update(t),new Uint8Array(i.digest())}function Pv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new mr([i,a],0),new mr([o,c],0)]}class qm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Co(`Invalid padding: ${i}`);if(a<0)throw new Co(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Co(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Co(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=mr.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(mr.fromNumber(a)));return o.compare(wR)===1&&(o=new mr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Uv(t),[a,o]=Pv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new qm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Uv(t),[a,o]=Pv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Co extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Jo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Sh(Nt.min(),o,new xe(Ft),As(),Qt())}}class Jo{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Jo(a,i,Qt(),Qt(),Qt())}}class qc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class FE{constructor(t,i){this.targetId=t,this.Ce=i}}class QE{constructor(t,i,a=fn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class zv{constructor(){this.ve=0,this.Fe=jv(),this.Me=fn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Qt(),i=Qt(),a=Qt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Rt(38017,{changeType:c})}})),new Jo(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=jv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,se(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class RR{constructor(t){this.Ge=t,this.ze=new Map,this.je=As(),this.Je=Dc(),this.He=Dc(),this.Ye=new xe(Ft)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(om(c))if(a===0){const d=new Tt(c.path);this.et(i,d,_n.newNoDocument(d,Nt.min()))}else se(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=vr(a).toUint8Array()}catch(v){if(v instanceof yE)return ll("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new qm(d,o,c)}catch(v){return ll(v instanceof Co?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&om(g.target)){const v=new Tt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,_n.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Qt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new Sh(t,i,this.Ye,this.je,a);return this.je=As(),this.Je=Dc(),this.He=Dc(),this.Ye=new xe(Ft),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new zv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new We(Ft),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new We(Ft),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new zv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Dc(){return new xe(Tt.comparator)}function jv(){return new xe(Tt.comparator)}const CR={asc:"ASCENDING",desc:"DESCENDING"},IR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xR={and:"AND",or:"OR"};class NR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function cm(r,t){return r.useProto3Json||gh(t)?t:{value:t}}function lh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function KE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function DR(r,t){return lh(r,t.toTimestamp())}function Fi(r){return se(!!r,49232),Nt.fromTimestamp((function(i){const a=_r(i);return new Te(a.seconds,a.nanos)})(r))}function Gm(r,t){return hm(r,t).canonicalString()}function hm(r,t){const i=(function(o){return new Ie(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function YE(r){const t=Ie.fromString(r);return se(WE(t),10190,{key:t.toString()}),t}function fm(r,t){return Gm(r.databaseId,t.path)}function Gd(r,t){const i=YE(t);if(i.get(1)!==r.databaseId.projectId)throw new mt(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new mt(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new Tt($E(i))}function XE(r,t){return Gm(r.databaseId,t)}function OR(r){const t=YE(r);return t.length===4?Ie.emptyPath():$E(t)}function dm(r){return new Ie(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function $E(r){return se(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Bv(r,t,i){return{name:fm(r,t),fields:i.value.mapValue.fields}}function MR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Rt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(se(b===void 0||typeof b=="string",58123),fn.fromBase64String(b||"")):(se(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),fn.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?W.UNKNOWN:GE(y.code);return new mt(b,y.message||"")})(d);i=new QE(a,o,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Gd(r,a.document.name),c=Fi(a.document.updateTime),d=a.document.createTime?Fi(a.document.createTime):Nt.min(),g=new Mn({mapValue:{fields:a.document.fields}}),v=_n.newFoundDocument(o,c,d,g),y=a.targetIds||[],b=a.removedTargetIds||[];i=new qc(y,b,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Gd(r,a.document),c=a.readTime?Fi(a.readTime):Nt.min(),d=_n.newNoDocument(o,c),g=a.removedTargetIds||[];i=new qc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Gd(r,a.document),c=a.removedTargetIds||[];i=new qc([],c,o,null)}else{if(!("filter"in t))return Rt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new bR(o,c),g=a.targetId;i=new FE(g,d)}}return i}function VR(r,t){let i;if(t instanceof Zo)i={update:Bv(r,t.key,t.value)};else if(t instanceof qE)i={delete:fm(r,t.key)};else if(t instanceof Sr)i={update:Bv(r,t.key,t.data),updateMask:qR(t.fieldMask)};else{if(!(t instanceof vR))return Rt(16599,{Vt:t.type});i={verify:fm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof rh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof hl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Bo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ah)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Rt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:DR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Rt(27497)})(r,t.precondition)),i}function kR(r,t){return r&&r.length>0?(se(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Fi(o.updateTime):Fi(c);return d.isEqual(Nt.min())&&(d=Fi(c)),new gR(d,o.transformResults||[])})(i,t)))):[]}function LR(r,t){return{documents:[XE(r,t.path)]}}function UR(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=XE(r,o);const c=(function(y){if(y.length!==0)return JE(Xi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(V){return{field:Ja(V.field),direction:jR(V.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=cm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function PR(r){let t=OR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){se(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(w){const V=ZE(w);return V instanceof Xi&&CE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((V=>(function(Z){return new sh(Wa(Z.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let V;return V=typeof w=="object"?w.value:w,gh(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(w){const V=!!w.before,K=w.values||[];return new ih(K,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const V=!w.before,K=w.values||[];return new ih(K,V)})(i.endAt)),eR(t,o,d,c,g,"F",v,y)}function zR(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function ZE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Wa(i.unaryFilter.field);return Je.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Wa(i.unaryFilter.field);return Je.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Wa(i.unaryFilter.field);return Je.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Wa(i.unaryFilter.field);return Je.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Je.create(Wa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Xi.create(i.compositeFilter.filters.map((a=>ZE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(i.compositeFilter.op))})(r):Rt(30097,{filter:r})}function jR(r){return CR[r]}function BR(r){return IR[r]}function HR(r){return xR[r]}function Ja(r){return{fieldPath:r.canonicalString()}}function Wa(r){return hn.fromServerFormat(r.fieldPath)}function JE(r){return r instanceof Je?(function(i){if(i.op==="=="){if(Iv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NAN"}};if(Cv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Iv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NAN"}};if(Cv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(i.field),op:BR(i.op),value:i.value}}})(r):r instanceof Xi?(function(i){const a=i.getFilters().map((o=>JE(o)));return a.length===1?a[0]:{compositeFilter:{op:HR(i.op),filters:a}}})(r):Rt(54877,{filter:r})}function qR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function WE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class cr{constructor(t,i,a,o,c=Nt.min(),d=Nt.min(),g=fn.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new cr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class GR{constructor(t){this.yt=t}}function FR(r){const t=PR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?um(t,t.limit,"L"):t}class QR{constructor(){this.Cn=new KR}addToCollectionParentIndex(t,i){return this.Cn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(yr.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(yr.min())}updateCollectionGroup(t,i,a){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class KR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new We(Ie.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new We(Ie.comparator)).toArray()}}const Hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tT=41943040;class On{static withCacheSize(t){return new On(t,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(tT,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class fl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new fl(0)}static cr(){return new fl(-1)}}const qv="LruGarbageCollector",YR=1048576;function Gv([r,t],[i,a]){const o=Ft(r,i);return o===0?Ft(t,a):o}class XR{constructor(t){this.Ir=t,this.buffer=new We(Gv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Gv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class $R{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(qv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){El(i)?ut(qv,"Ignoring IndexedDB error during garbage collection: ",i):await vl(i)}await this.Vr(3e5)}))}}class ZR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(ph.ce);const a=new XR(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Hv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,g,v,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(t,o)))).next((w=>(a=w,g=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(y=Date.now(),$a()<=Gt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${w} documents in `+(y-v)+`ms
Total Duration: ${y-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function JR(r,t){return new ZR(r,t)}class WR{constructor(){this.changes=new la((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,_n.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class tC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class eC{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Vo(a.mutation,o,qn.empty(),Te.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Qt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Qt()){const o=ea();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=Ro();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=ea();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Qt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,o){let c=As();const d=Mo(),g=(function(){return Mo()})();return i.forEach(((v,y)=>{const b=a.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof Sr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Vo(b.mutation,y,b.mutation.getFieldMask(),Te.now())):d.set(y.key,qn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new tC(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Mo();let o=new xe(((d,g)=>d-g)),c=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let b=a.get(v)||qn.empty();b=g.applyToLocalView(y,b),a.set(v,b);const w=(o.get(g.batchId)||Qt()).add(v);o=o.insert(g.batchId,w)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,b=v.value,w=kE();b.forEach((V=>{if(!c.has(V)){const K=BE(i.get(V),a.get(V));K!==null&&w.set(V,K),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,w))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return Tt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):nR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):J.resolve(ea());let g=Uo,v=c;return d.next((y=>J.forEach(y,((b,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(b)?J.resolve():this.remoteDocumentCache.getEntry(t,b).next((V=>{v=v.insert(b,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Qt()))).next((b=>({batchId:g,changes:VE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Tt(i)).next((a=>{let o=Ro();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=Ro();return this.indexManager.getCollectionParents(t,c).next((g=>J.forEach(g,(v=>{const y=(function(w,V){return new _h(V,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((b=>{b.forEach(((w,V)=>{d=d.insert(w,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((v,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,_n.newInvalidDocument(b)))}));let g=Ro();return d.forEach(((v,y)=>{const b=c.get(v);b!==void 0&&Vo(b.mutation,y,qn.empty(),Te.now()),Th(i,y)&&(g=g.insert(v,y))})),g}))}}class nC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Fi(o.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:FR(o.bundledQuery),readTime:Fi(o.readTime)}})(i)),J.resolve()}}class iC{constructor(){this.overlays=new xe(Tt.comparator),this.qr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const a=ea();return J.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),J.resolve()}getOverlaysForCollection(t,i,a){const o=ea(),c=i.length+1,d=new Tt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return J.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new xe(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=ea(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=ea(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=o)););return J.resolve(g)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new TR(i,a));let c=this.qr.get(i);c===void 0&&(c=Qt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class sC{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class Fm{constructor(){this.Qr=new We(sn.$r),this.Ur=new We(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new sn(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new sn(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new Tt(new Ie([])),a=new sn(i,t),o=new sn(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new Tt(new Ie([])),a=new sn(i,t),o=new sn(i,t+1);let c=Qt();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new sn(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class sn{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return Tt.comparator(t.key,i.key)||Ft(t.Yr,i.Yr)}static Kr(t,i){return Ft(t.Yr,i.Yr)||Tt.comparator(t.key,i.key)}}class rC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new We(sn.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ER(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new sn(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Lm:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new sn(i,0),o=new sn(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new We(Ft);return i.forEach((o=>{const c=new sn(o,0),d=new sn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),J.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;Tt.isDocumentKey(c)||(c=c.child(""));const d=new sn(new Tt(c),0);let g=new We(Ft);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(v.Yr)),!0)}),d),J.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){se(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return J.forEach(i.mutations,(o=>{const c=new sn(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new sn(i,0),o=this.Zr.firstAfterOrEqual(a);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class aC{constructor(t){this.ri=t,this.docs=(function(){return new xe(Tt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():_n.newInvalidDocument(i))}getEntries(t,i){let a=As();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():_n.newInvalidDocument(o))})),J.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=As();const d=i.path,g=new Tt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:b}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||M2(O2(b),a)<=0||(o.has(b.key)||Th(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,a,o){Rt(9500)}ii(t,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new lC(this)}getSize(t){return J.resolve(this.size)}}class lC extends WR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),J.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class oC{constructor(t){this.persistence=t,this.si=new la((i=>zm(i)),jm),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.oi=0,this._i=new Fm,this.targetCount=0,this.ai=fl.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),J.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new fl(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.Pr(i),J.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return J.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),J.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return J.resolve(a)}containsKey(t,i){return J.resolve(this._i.containsKey(i))}}class eT{constructor(t,i){this.ui={},this.overlays={},this.ci=new ph(0),this.li=!1,this.li=!0,this.hi=new sC,this.referenceDelegate=t(this),this.Pi=new oC(this),this.indexManager=new QR,this.remoteDocumentCache=(function(o){return new aC(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new GR(i),this.Ii=new nC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new iC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new rC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ut("MemoryPersistence","Starting transaction:",t);const o=new uC(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return J.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class uC extends k2{constructor(t){super(),this.currentSequenceNumber=t}}class Qm{constructor(t){this.persistence=t,this.Ri=new Fm,this.Vi=null}static mi(t){return new Qm(t)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),J.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(a=>{const o=Tt.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,Nt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class oh{constructor(t,i){this.persistence=t,this.pi=new la((a=>P2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=JR(this,i)}static mi(t,i){return new oh(t,i)}Ei(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return J.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?J.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,Nt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),J.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=jc(t.data.value)),i}br(t,i,a){return J.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Km{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Qt(),o=Qt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Km(t,i.fromCache,a,o)}}class cC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class hC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Z1()?8:L2(vn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new cC;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?($a()<=Gt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):($a()<=Gt.DEBUG&&ut("QueryEngine","Query:",Za(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?($a()<=Gt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,qi(i))):J.resolve())}ys(t,i){if(Ov(i))return J.resolve(null);let a=qi(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=um(i,null,"F"),a=qi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Qt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.Ds(i,g);return this.Cs(i,y,d,v.readTime)?this.ys(t,um(i,null,"F")):this.vs(t,y,i,v)}))))})))))}ws(t,i,a,o){return Ov(i)||o.isEqual(Nt.min())?J.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?J.resolve(null):($a()<=Gt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(i)),this.vs(t,d,i,D2(o,Uo)).next((g=>g)))}))}Ds(t,i){let a=new We(OE(t));return i.forEach(((o,c)=>{Th(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return $a()<=Gt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Za(i)),this.ps.getDocumentsMatchingQuery(t,i,yr.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Ym="LocalStore",fC=3e8;class dC{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new xe(Ft),this.xs=new la((c=>zm(c)),jm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new eC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function mC(r,t,i,a){return new dC(r,t,i,a)}async function nT(r,t){const i=Mt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=Qt();for(const y of o){d.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function pC(r,t){const i=Mt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,b){const w=y.batch,V=w.keys();let K=J.resolve();return V.forEach((Z=>{K=K.next((()=>b.getEntry(v,Z))).next((st=>{const R=y.docVersions.get(Z);se(R!==null,48541),st.version.compareTo(R)<0&&(w.applyToRemoteDocument(st,y),st.isValidDocument()&&(st.setReadTime(y.commitVersion),b.addEntry(st)))}))})),K.next((()=>g.mutationQueue.removeMutationBatch(v,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Qt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function iT(r){const t=Mt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function gC(r,t){const i=Mt(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];t.targetChanges.forEach(((b,w)=>{const V=o.get(w);if(!V)return;g.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,w))));let K=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?K=K.withResumeToken(fn.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):b.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(b.resumeToken,a)),o=o.insert(w,K),(function(st,R,bt){return st.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-st.snapshotVersion.toMicroseconds()>=fC?!0:bt.addedDocuments.size+bt.modifiedDocuments.size+bt.removedDocuments.size>0})(V,K,b)&&g.push(i.Pi.updateTargetData(c,K))}));let v=As(),y=Qt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(yC(c,d,t.documentUpdates).next((b=>{v=b.ks,y=b.qs}))),!a.isEqual(Nt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.Ms=o,c)))}function yC(r,t,i){let a=Qt(),o=Qt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=As();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(Nt.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):ut(Ym,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function _C(r,t){const i=Mt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Lm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function vC(r,t){const i=Mt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,J.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new cr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function mm(r,t,i){const a=Mt(r),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!El(d))throw d;ut(Ym,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function Fv(r,t,i){const a=Mt(r);let o=Nt.min(),c=Qt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,b){const w=Mt(v),V=w.xs.get(b);return V!==void 0?J.resolve(w.Ms.get(V)):w.Pi.getTargetData(y,b)})(a,d,qi(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:Nt.min(),i?c:Qt()))).next((g=>(EC(a,sR(t),g),{documents:g,Qs:c})))))}function EC(r,t,i){let a=r.Os.get(t)||Nt.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Qv{constructor(){this.activeTargetIds=cR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class TC{constructor(){this.Mo=new Qv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Qv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class bC{Oo(t){}shutdown(){}}const Kv="ConnectivityMonitor";class Yv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(Kv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(Kv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function pm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Fd="RestConnection",AC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class SC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===eh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=pm(),g=this.zo(t,i.toUriEncodedString());ut(Fd,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:y}=new URL(g),b=pl(y);return this.Jo(t,g,v,a,b).then((w=>(ut(Fd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw ll(Fd,`RPC '${t}' ${d} failed with error: `,w,"url: ",g,"request:",a),w}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_l})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=AC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class wC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const gn="WebChannelConnection";class RC extends SC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=pm();return new Promise(((g,v)=>{const y=new lE;y.setWithCredentials(!0),y.listenOnce(oE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case zc.NO_ERROR:const w=y.getResponseJson();ut(gn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),g(w);break;case zc.TIMEOUT:ut(gn,`RPC '${t}' ${d} timed out`),v(new mt(W.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const V=y.getStatus();if(ut(gn,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let K=y.getResponseJson();Array.isArray(K)&&(K=K[0]);const Z=K?.error;if(Z&&Z.status&&Z.message){const st=(function(bt){const xt=bt.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(xt)>=0?xt:W.UNKNOWN})(Z.status);v(new mt(st,Z.message))}else v(new mt(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new mt(W.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ut(gn,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(o);ut(gn,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const o=pm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=hE(),g=cE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const b=c.join("");ut(gn,`Creating RPC '${t}' stream ${o}: ${b}`,v);const w=d.createWebChannel(b,v);this.I_(w);let V=!1,K=!1;const Z=new wC({Yo:R=>{K?ut(gn,`Not sending because RPC '${t}' stream ${o} is closed:`,R):(V||(ut(gn,`Opening RPC '${t}' stream ${o} transport.`),w.open(),V=!0),ut(gn,`RPC '${t}' stream ${o} sending:`,R),w.send(R))},Zo:()=>w.close()}),st=(R,bt,xt)=>{R.listen(bt,(_t=>{try{xt(_t)}catch(te){setTimeout((()=>{throw te}),0)}}))};return st(w,wo.EventType.OPEN,(()=>{K||(ut(gn,`RPC '${t}' stream ${o} transport opened.`),Z.o_())})),st(w,wo.EventType.CLOSE,(()=>{K||(K=!0,ut(gn,`RPC '${t}' stream ${o} transport closed`),Z.a_(),this.E_(w))})),st(w,wo.EventType.ERROR,(R=>{K||(K=!0,ll(gn,`RPC '${t}' stream ${o} transport errored. Name:`,R.name,"Message:",R.message),Z.a_(new mt(W.UNAVAILABLE,"The operation could not be completed")))})),st(w,wo.EventType.MESSAGE,(R=>{if(!K){const bt=R.data[0];se(!!bt,16349);const xt=bt,_t=xt?.error||xt[0]?.error;if(_t){ut(gn,`RPC '${t}' stream ${o} received error:`,_t);const te=_t.status;let ie=(function(S){const x=Ye[S];if(x!==void 0)return GE(x)})(te),Pt=_t.message;ie===void 0&&(ie=W.INTERNAL,Pt="Unknown error status: "+te+" with message "+_t.message),K=!0,Z.a_(new mt(ie,Pt)),w.close()}else ut(gn,`RPC '${t}' stream ${o} received:`,bt),Z.u_(bt)}})),st(g,uE.STAT_EVENT,(R=>{R.stat===im.PROXY?ut(gn,`RPC '${t}' stream ${o} detected buffering proxy`):R.stat===im.NOPROXY&&ut(gn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Qd(){return typeof document<"u"?document:null}function wh(r){return new NR(r,!0)}class sT{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Xv="PersistentStream";class rT{constructor(t,i,a,o,c,d,g,v){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(bs(i.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new mt(W.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(Xv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ut(Xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CC extends rT{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=MR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Nt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Nt.min():d.readTime?Fi(d.readTime):Nt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=dm(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=om(v)?{documents:LR(c,v)}:{query:UR(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=KE(c,d.resumeToken);const y=cm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Nt.min())>0){g.readTime=lh(c,d.snapshotVersion.toTimestamp());const y=cm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=zR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=dm(this.serializer),i.removeTarget=t,this.q_(i)}}class IC extends rT{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return se(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,se(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){se(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=kR(t.writeResults,t.commitTime),a=Fi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=dm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>VR(this.serializer,a)))};this.q_(i)}}class xC{}class NC extends xC{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new mt(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,hm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(W.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,hm(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new mt(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class DC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class OC{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{oa(this)&&(ut(aa,"Restarting streams for network reachability change."),await(async function(v){const y=Mt(v);y.Ea.add(4),await Wo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Rh(y)})(this))}))})),this.Ra=new DC(a,o)}}async function Rh(r){if(oa(r))for(const t of r.da)await t(!0)}async function Wo(r){for(const t of r.da)await t(!1)}function aT(r,t){const i=Mt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Jm(i)?Zm(i):Tl(i).O_()&&$m(i,t))}function Xm(r,t){const i=Mt(r),a=Tl(i);i.Ia.delete(t),a.O_()&&lT(i,t),i.Ia.size===0&&(a.O_()?a.L_():oa(i)&&i.Ra.set("Unknown"))}function $m(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Tl(r).Y_(t)}function lT(r,t){r.Va.Ue(t),Tl(r).Z_(t)}function Zm(r){r.Va=new RR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Tl(r).start(),r.Ra.ua()}function Jm(r){return oa(r)&&!Tl(r).x_()&&r.Ia.size>0}function oa(r){return Mt(r).Ea.size===0}function oT(r){r.Va=void 0}async function MC(r){r.Ra.set("Online")}async function VC(r){r.Ia.forEach(((t,i)=>{$m(r,t)}))}async function kC(r,t){oT(r),Jm(r)?(r.Ra.ha(t),Zm(r)):r.Ra.set("Unknown")}async function LC(r,t,i){if(r.Ra.set("Online"),t instanceof QE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,t)}catch(a){ut(aa,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await uh(r,a)}else if(t instanceof qc?r.Va.Ze(t):t instanceof FE?r.Va.st(t):r.Va.tt(t),!i.isEqual(Nt.min()))try{const a=await iT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const b=c.Ia.get(v);if(!b)return;c.Ia.set(v,b.withResumeToken(fn.EMPTY_BYTE_STRING,b.snapshotVersion)),lT(c,v);const w=new cr(b.target,v,y,b.sequenceNumber);$m(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){ut(aa,"Failed to raise snapshot:",a),await uh(r,a)}}async function uh(r,t,i){if(!El(t))throw t;r.Ea.add(1),await Wo(r),r.Ra.set("Offline"),i||(i=()=>iT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ut(aa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Rh(r)}))}function uT(r,t){return t().catch((i=>uh(r,i,t)))}async function Ch(r){const t=Mt(r),i=Tr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lm;for(;UC(t);)try{const o=await _C(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,PC(t,o)}catch(o){await uh(t,o)}cT(t)&&hT(t)}function UC(r){return oa(r)&&r.Ta.length<10}function PC(r,t){r.Ta.push(t);const i=Tr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function cT(r){return oa(r)&&!Tr(r).x_()&&r.Ta.length>0}function hT(r){Tr(r).start()}async function zC(r){Tr(r).ra()}async function jC(r){const t=Tr(r);for(const i of r.Ta)t.ea(i.mutations)}async function BC(r,t,i){const a=r.Ta.shift(),o=Hm.from(a,t,i);await uT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Ch(r)}async function HC(r,t){t&&Tr(r).X_&&await(async function(a,o){if((function(d){return AR(d)&&d!==W.ABORTED})(o.code)){const c=a.Ta.shift();Tr(a).B_(),await uT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ch(a)}})(r,t),cT(r)&&hT(r)}async function $v(r,t){const i=Mt(r);i.asyncQueue.verifyOperationInProgress(),ut(aa,"RemoteStore received new credentials");const a=oa(i);i.Ea.add(3),await Wo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Rh(i)}async function qC(r,t){const i=Mt(r);t?(i.Ea.delete(2),await Rh(i)):t||(i.Ea.add(2),await Wo(i),i.Ra.set("Unknown"))}function Tl(r){return r.ma||(r.ma=(function(i,a,o){const c=Mt(i);return c.sa(),new CC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:MC.bind(null,r),t_:VC.bind(null,r),r_:kC.bind(null,r),H_:LC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Jm(r)?Zm(r):r.Ra.set("Unknown")):(await r.ma.stop(),oT(r))}))),r.ma}function Tr(r){return r.fa||(r.fa=(function(i,a,o){const c=Mt(i);return c.sa(),new IC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:zC.bind(null,r),r_:HC.bind(null,r),ta:jC.bind(null,r),na:BC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Ch(r)):(await r.fa.stop(),r.Ta.length>0&&(ut(aa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Wm{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,g=new Wm(t,i,d,o,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tp(r,t){if(bs("AsyncQueue",`${t}: ${r}`),El(r))return new mt(W.UNAVAILABLE,`${t}: ${r}`);throw r}class sl{static emptySet(t){return new sl(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||Tt.comparator(i.key,a.key):(i,a)=>Tt.comparator(i.key,a.key),this.keyedMap=Ro(),this.sortedSet=new xe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof sl)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new sl;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Zv{constructor(){this.ga=new xe(Tt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Rt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class dl{constructor(t,i,a,o,c,d,g,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new dl(t,i,sl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class GC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class FC{constructor(){this.queries=Jv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Mt(i),c=o.queries;o.queries=Jv(),c.forEach(((d,g)=>{for(const v of g.Sa)v.onError(a)}))})(this,new mt(W.ABORTED,"Firestore shutting down"))}}function Jv(){return new la((r=>DE(r)),Eh)}async function fT(r,t){const i=Mt(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new GC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=tp(d,`Initialization of query '${Za(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&ep(i)}async function dT(r,t){const i=Mt(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function QC(r,t){const i=Mt(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&ep(i)}function KC(r,t,i){const a=Mt(r),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function ep(r){r.Ca.forEach((t=>{t.next()}))}var gm,Wv;(Wv=gm||(gm={})).Ma="default",Wv.Cache="cache";class mT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new dl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=dl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==gm.Cache}}class pT{constructor(t){this.key=t}}class gT{constructor(t){this.key=t}}class YC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qt(),this.mutatedKeys=Qt(),this.eu=OE(t),this.tu=new sl(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Zv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,w)=>{const V=o.get(b),K=Th(this.query,w)?w:null,Z=!!V&&this.mutatedKeys.has(V.key),st=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let R=!1;V&&K?V.data.isEqual(K.data)?Z!==st&&(a.track({type:3,doc:K}),R=!0):this.su(V,K)||(a.track({type:2,doc:K}),R=!0,(v&&this.eu(K,v)>0||y&&this.eu(K,y)<0)&&(g=!0)):!V&&K?(a.track({type:0,doc:K}),R=!0):V&&!K&&(a.track({type:1,doc:V}),R=!0,(v||y)&&(g=!0)),R&&(K?(d=d.add(K),c=st?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,w)=>(function(K,Z){const st=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:R})}};return st(K)-st(Z)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,y=v!==this.Za;return this.Za=v,d.length!==0||y?{snapshot:new dl(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Zv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Qt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new gT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new pT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Qt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return dl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const np="SyncEngine";class XC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class $C{constructor(t){this.key=t,this.hu=!1}}class ZC{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new la((g=>DE(g)),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new xe(Tt.comparator),this.Au=new Map,this.Ru=new Fm,this.Vu={},this.mu=new Map,this.fu=fl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JC(r,t,i=!0){const a=bT(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await yT(a,t,i,!0),o}async function WC(r,t){const i=bT(r);await yT(i,t,!0,!1)}async function yT(r,t,i,a){const o=await vC(r.localStore,qi(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await tI(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&aT(r.remoteStore,o),g}async function tI(r,t,i,a,o){r.pu=(w,V,K)=>(async function(st,R,bt,xt){let _t=R.view.ru(bt);_t.Cs&&(_t=await Fv(st.localStore,R.query,!1).then((({documents:N})=>R.view.ru(N,_t))));const te=xt&&xt.targetChanges.get(R.targetId),ie=xt&&xt.targetMismatches.get(R.targetId)!=null,Pt=R.view.applyChanges(_t,st.isPrimaryClient,te,ie);return e0(st,R.targetId,Pt.au),Pt.snapshot})(r,w,V,K);const c=await Fv(r.localStore,t,!0),d=new YC(t,c.Qs),g=d.ru(c.documents),v=Jo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,v);e0(r,i,y.au);const b=new XC(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function eI(r,t,i){const a=Mt(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Eh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await mm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Xm(a.remoteStore,o.targetId),ym(a,o.targetId)})).catch(vl)):(ym(a,o.targetId),await mm(a.localStore,o.targetId,!0))}async function nI(r,t){const i=Mt(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Xm(i.remoteStore,a.targetId))}async function iI(r,t,i){const a=cI(r);try{const o=await(function(d,g){const v=Mt(d),y=Te.now(),b=g.reduce(((K,Z)=>K.add(Z.key)),Qt());let w,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let Z=As(),st=Qt();return v.Ns.getEntries(K,b).next((R=>{Z=R,Z.forEach(((bt,xt)=>{xt.isValidDocument()||(st=st.add(bt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(K,Z))).next((R=>{w=R;const bt=[];for(const xt of g){const _t=_R(xt,w.get(xt.key).overlayedDocument);_t!=null&&bt.push(new Sr(xt.key,_t,SE(_t.value.mapValue),Gi.exists(!0)))}return v.mutationQueue.addMutationBatch(K,y,bt,g)})).next((R=>{V=R;const bt=R.applyToLocalDocumentSet(w,st);return v.documentOverlayCache.saveOverlays(K,R.batchId,bt)}))})).then((()=>({batchId:V.batchId,changes:VE(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let y=d.Vu[d.currentUser.toKey()];y||(y=new xe(Ft)),y=y.insert(g,v),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await tu(a,o.changes),await Ch(a.remoteStore)}catch(o){const c=tp(o,"Failed to persist write");i.reject(c)}}async function _T(r,t){const i=Mt(r);try{const a=await gC(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(se(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?se(d.hu,14607):o.removedDocuments.size>0&&(se(d.hu,42227),d.hu=!1))})),await tu(i,a,t)}catch(a){await vl(a)}}function t0(r,t,i){const a=Mt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=Mt(d);v.onlineState=g;let y=!1;v.queries.forEach(((b,w)=>{for(const V of w.Sa)V.va(g)&&(y=!0)})),y&&ep(v)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function sI(r,t,i){const a=Mt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new xe(Tt.comparator);d=d.insert(c,_n.newNoDocument(c,Nt.min()));const g=Qt().add(c),v=new Sh(Nt.min(),new Map,new xe(Ft),d,g);await _T(a,v),a.du=a.du.remove(c),a.Au.delete(t),ip(a)}else await mm(a.localStore,t,!1).then((()=>ym(a,t,i))).catch(vl)}async function rI(r,t){const i=Mt(r),a=t.batch.batchId;try{const o=await pC(i.localStore,t);ET(i,a,null),vT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await tu(i,o)}catch(o){await vl(o)}}async function aI(r,t,i){const a=Mt(r);try{const o=await(function(d,g){const v=Mt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return v.mutationQueue.lookupMutationBatch(y,g).next((w=>(se(w!==null,37113),b=w.keys(),v.mutationQueue.removeMutationBatch(y,w)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>v.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);ET(a,t,i),vT(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await tu(a,o)}catch(o){await vl(o)}}function vT(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function ET(r,t,i){const a=Mt(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function ym(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||TT(r,a)}))}function TT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Xm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ip(r))}function e0(r,t,i){for(const a of i)a instanceof pT?(r.Ru.addReference(a.key,t),lI(r,a)):a instanceof gT?(ut(np,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||TT(r,a.key)):Rt(19791,{wu:a})}function lI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ut(np,"New document in limbo: "+i),r.Eu.add(a),ip(r))}function ip(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new Tt(Ie.fromString(t)),a=r.fu.next();r.Au.set(a,new $C(i)),r.du=r.du.insert(i,a),aT(r.remoteStore,new cr(qi(vh(i.path)),a,"TargetPurposeLimboResolution",ph.ce))}}async function tu(r,t,i){const a=Mt(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Km.As(v.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,y){const b=Mt(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(y,(V=>J.forEach(V.Es,(K=>b.persistence.referenceDelegate.addReference(w,V.targetId,K))).next((()=>J.forEach(V.ds,(K=>b.persistence.referenceDelegate.removeReference(w,V.targetId,K)))))))))}catch(w){if(!El(w))throw w;ut(Ym,"Failed to update sequence numbers: "+w)}for(const w of y){const V=w.targetId;if(!w.fromCache){const K=b.Ms.get(V),Z=K.snapshotVersion,st=K.withLastLimboFreeSnapshotVersion(Z);b.Ms=b.Ms.insert(V,st)}}})(a.localStore,c))}async function oI(r,t){const i=Mt(r);if(!i.currentUser.isEqual(t)){ut(np,"User change. New user:",t.toKey());const a=await nT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new mt(W.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await tu(i,a.Ls)}}function uI(r,t){const i=Mt(r),a=i.Au.get(t);if(a&&a.hu)return Qt().add(a.key);{let o=Qt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function bT(r){const t=Mt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=_T.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sI.bind(null,t),t.Pu.H_=QC.bind(null,t.eventManager),t.Pu.yu=KC.bind(null,t.eventManager),t}function cI(r){const t=Mt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aI.bind(null,t),t}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return mC(this.persistence,new hC,t.initialUser,this.serializer)}Cu(t){return new eT(Qm.mi,this.serializer)}Du(t){return new TC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class hI extends ch{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){se(this.persistence.referenceDelegate instanceof oh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new $R(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new eT((a=>oh.mi(a,i)),this.serializer)}}class _m{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>t0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=oI.bind(null,this.syncEngine),await qC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new FC})()}createDatastore(t){const i=wh(t.databaseInfo.databaseId),a=(function(c){return new RC(c)})(t.databaseInfo);return(function(c,d,g,v){return new NC(c,d,g,v)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,g){return new OC(a,o,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>t0(this.syncEngine,i,0)),(function(){return Yv.v()?new Yv:new bC})())}createSyncEngine(t,i){return(function(o,c,d,g,v,y,b){const w=new ZC(o,c,d,g,v,y);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Mt(i);ut(aa,"RemoteStore shutting down."),a.Ea.add(5),await Wo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_m.provider={build:()=>new _m};class AT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):bs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const br="FirestoreClient";class fI{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ut(br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ut(br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=tp(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Kd(r,t){r.asyncQueue.verifyOperationInProgress(),ut(br,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await nT(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function n0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await dI(r);ut(br,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>$v(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>$v(t.remoteStore,o))),r._onlineComponents=t}async function dI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(br,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;ll("Error using user provided cache. Falling back to memory cache: "+i),await Kd(r,new ch)}}else ut(br,"Using default OfflineComponentProvider"),await Kd(r,new hI(void 0));return r._offlineComponents}async function ST(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(br,"Using user provided OnlineComponentProvider"),await n0(r,r._uninitializedComponentsProvider._online)):(ut(br,"Using default OnlineComponentProvider"),await n0(r,new _m))),r._onlineComponents}function mI(r){return ST(r).then((t=>t.syncEngine))}async function vm(r){const t=await ST(r),i=t.eventManager;return i.onListen=JC.bind(null,t.syncEngine),i.onUnlisten=eI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=WC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=nI.bind(null,t.syncEngine),i}function pI(r,t,i={}){const a=new pr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,v,y){const b=new AT({next:V=>{b.Nu(),d.enqueueAndForget((()=>dT(c,w)));const K=V.docs.has(g);!K&&V.fromCache?y.reject(new mt(W.UNAVAILABLE,"Failed to get document because the client is offline.")):K&&V.fromCache&&v&&v.source==="server"?y.reject(new mt(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(V)},error:V=>y.reject(V)}),w=new mT(vh(g.path),b,{includeMetadataChanges:!0,qa:!0});return fT(c,w)})(await vm(r),r.asyncQueue,t,i,a))),a.promise}function wT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const i0=new Map;const RT="firestore.googleapis.com",s0=!0;class r0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RT,this.ssl=s0}else this.host=t.host,this.ssl=t.ssl??s0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=tT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<YR)throw new mt(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}N2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new mt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new mt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new mt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class sp{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new v2;switch(a.type){case"firstParty":return new A2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new mt(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=i0.get(i);a&&(ut("ComponentProvider","Removing Datastore"),i0.delete(i),a.terminate())})(this),Promise.resolve()}}function gI(r,t,i,a={}){r=Hi(r,sp);const o=pl(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;o&&(T0(`https://${g}`),b0("Firestore",!0)),c.host!==RT&&c.host!==g&&ll("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:o,emulatorOptions:a};if(!gr(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=yn.MOCK_USER;else{y=H1(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new mt(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new yn(w)}r._authCredentials=new E2(new dE(y,b))}}class Ih{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ih(this.firestore,t,this._query)}}class $e{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new $e(this.firestore,t,this._key)}toJSON(){return{type:$e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if($o(i,$e._jsonSchema))return new $e(t,a||null,new Tt(Ie.fromString(i.referencePath)))}}$e._jsonSchemaVersion="firestore/documentReference/1.0",$e._jsonSchema={type:Xe("string",$e._jsonSchemaVersion),referencePath:Xe("string")};class Ho extends Ih{constructor(t,i,a){super(t,i,vh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new $e(this.firestore,null,new Tt(t))}withConverter(t){return new Ho(this.firestore,t,this._path)}}function oe(r,t,...i){if(r=An(r),arguments.length===1&&(t=Vm.newId()),x2("doc","path",t),r instanceof sp){const a=Ie.fromString(t,...i);return vv(a),new $e(r,null,new Tt(a))}{if(!(r instanceof $e||r instanceof Ho))throw new mt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Ie.fromString(t,...i));return vv(a),new $e(r.firestore,r instanceof Ho?r.converter:null,new Tt(a))}}const a0="AsyncQueue";class l0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sT(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&ut(a0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new pr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!El(t))throw t;ut(a0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",o0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Wm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Rt(47125,{Pc:o0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function o0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function u0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ml extends sp{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new l0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new l0(t),this._firestoreClient=void 0,await t}}}function yI(r,t){const i=typeof r=="object"?r:R0(),a=typeof r=="string"?r:eh,o=Sm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=j1("firestore");c&&gI(o,...c)}return o}function rp(r){if(r._terminated)throw new mt(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_I(r),r._firestoreClient}function _I(r){const t=r._freezeSettings(),i=(function(o,c,d,g){return new B2(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,wT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new fI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class si{constructor(t){this._byteString=t}static fromBase64String(t){try{return new si(fn.fromBase64String(t))}catch(i){throw new mt(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new si(fn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:si._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($o(t,si._jsonSchema))return si.fromBase64String(t.bytes)}}si._jsonSchemaVersion="firestore/bytes/1.0",si._jsonSchema={type:Xe("string",si._jsonSchemaVersion),bytes:Xe("string")};class xh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new mt(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Nh{constructor(t){this._methodName=t}}class Qi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new mt(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new mt(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ft(this._lat,t._lat)||Ft(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Qi._jsonSchemaVersion}}static fromJSON(t){if($o(t,Qi._jsonSchema))return new Qi(t.latitude,t.longitude)}}Qi._jsonSchemaVersion="firestore/geoPoint/1.0",Qi._jsonSchema={type:Xe("string",Qi._jsonSchemaVersion),latitude:Xe("number"),longitude:Xe("number")};class Ki{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($o(t,Ki._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ki(t.vectorValues);throw new mt(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ki._jsonSchemaVersion="firestore/vectorValue/1.0",Ki._jsonSchema={type:Xe("string",Ki._jsonSchemaVersion),vectorValues:Xe("object")};const vI=/^__.*__$/;class EI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Sr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Zo(t,this.data,i,this.fieldTransforms)}}class CT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Sr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function IT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:r})}}class Dh{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Dh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return hh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(IT(this.Ac)&&vI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class TI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||wh(t)}Cc(t,i,a,o=!1){return new Dh({Ac:t,methodName:i,Dc:a,path:hn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xT(r){const t=r._freezeSettings(),i=wh(r._databaseId);return new TI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function bI(r,t,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);lp("Data must be an object, but it was:",d,a);const g=NT(a,d);let v,y;if(c.merge)v=new qn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const w of c.mergeFields){const V=Em(t,w,i);if(!d.contains(V))throw new mt(W.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);OT(b,V)||b.push(V)}v=new qn(b),y=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,y=d.fieldTransforms;return new EI(new Mn(g),v,y)}class Oh extends Nh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Oh}}function AI(r,t,i){return new Dh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ap extends Nh{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=AI(this,t,!0),a=this.vc.map((c=>eu(c,i))),o=new hl(a);return new mR(t.path,o)}isEqual(t){return t instanceof ap&&gr(this.vc,t.vc)}}function SI(r,t,i,a){const o=r.Cc(1,t,i);lp("Data must be an object, but it was:",o,a);const c=[],d=Mn.empty();Ar(a,((v,y)=>{const b=op(t,v,i);y=An(y);const w=o.yc(b);if(y instanceof Oh)c.push(b);else{const V=eu(y,w);V!=null&&(c.push(b),d.set(b,V))}}));const g=new qn(c);return new CT(d,g,o.fieldTransforms)}function wI(r,t,i,a,o,c){const d=r.Cc(1,t,i),g=[Em(t,a,i)],v=[o];if(c.length%2!=0)throw new mt(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)g.push(Em(t,c[V])),v.push(c[V+1]);const y=[],b=Mn.empty();for(let V=g.length-1;V>=0;--V)if(!OT(y,g[V])){const K=g[V];let Z=v[V];Z=An(Z);const st=d.yc(K);if(Z instanceof Oh)y.push(K);else{const R=eu(Z,st);R!=null&&(y.push(K),b.set(K,R))}}const w=new qn(y);return new CT(b,w,d.fieldTransforms)}function eu(r,t){if(DT(r=An(r)))return lp("Unsupported field value:",t,r),NT(r,t);if(r instanceof Nh)return(function(a,o){if(!IT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let v=eu(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=An(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return hR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Te.fromDate(a);return{timestampValue:lh(o.serializer,c)}}if(a instanceof Te){const c=new Te(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:lh(o.serializer,c)}}if(a instanceof Qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof si)return{bytesValue:KE(o.serializer,a._byteString)};if(a instanceof $e){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ki)return(function(d,g){return{mapValue:{fields:{[bE]:{stringValue:AE},[nh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Bm(g.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${km(a)}`)})(r,t)}function NT(r,t){const i={};return gE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ar(r,((a,o)=>{const c=eu(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function DT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Te||r instanceof Qi||r instanceof si||r instanceof $e||r instanceof Nh||r instanceof Ki)}function lp(r,t,i){if(!DT(i)||!mE(i)){const a=km(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Em(r,t,i){if((t=An(t))instanceof xh)return t._internalPath;if(typeof t=="string")return op(r,t);throw hh("Field path arguments must be of type string or ",r,!1,void 0,i)}const RI=new RegExp("[~\\*/\\[\\]]");function op(r,t,i){if(t.search(RI)>=0)throw hh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new xh(...t.split("."))._internalPath}catch{throw hh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function hh(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new mt(W.INVALID_ARGUMENT,g+r+v)}function OT(r,t){return r.some((i=>i.isEqual(t)))}class MT{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new $e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new CI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(VT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class CI extends MT{data(){return super.data()}}function VT(r,t){return typeof t=="string"?op(r,t):t instanceof xh?t._internalPath:t._delegate._internalPath}function II(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new mt(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xI{convertValue(t,i="none"){switch(Er(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(vr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Ar(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[nh].arrayValue?.values?.map((a=>Pe(a.doubleValue)));return new Ki(i)}convertGeoPoint(t){return new Qi(Pe(t.latitude),Pe(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=yh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Po(t));default:return null}}convertTimestamp(t){const i=_r(t);return new Te(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=Ie.fromString(t);se(WE(a),9688,{name:t});const o=new zo(a.get(1),a.get(3)),c=new Tt(a.popFirst(5));return o.isEqual(i)||bs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function NI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Io{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class na extends MT{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(VT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:Xe("string",na._jsonSchemaVersion),bundleSource:Xe("string","DocumentSnapshot"),bundleName:Xe("string"),bundle:Xe("string")};class Gc extends na{data(t={}){return super.data(t)}}class rl{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Io(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Gc(this._firestore,this._userDataWriter,a.key,a,new Io(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new mt(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new Gc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Io(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new Gc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Io(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:DI(g.type),doc:v,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=rl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function DI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:r})}}function OI(r){r=Hi(r,$e);const t=Hi(r.firestore,ml);return pI(rp(t),r._key).then((i=>UT(t,r,i)))}rl._jsonSchemaVersion="firestore/querySnapshot/1.0",rl._jsonSchema={type:Xe("string",rl._jsonSchemaVersion),bundleSource:Xe("string","QuerySnapshot"),bundleName:Xe("string"),bundle:Xe("string")};class kT extends xI{constructor(t){super(),this.firestore=t}convertBytes(t){return new si(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new $e(this.firestore,null,i)}}function MI(r,t,i){r=Hi(r,$e);const a=Hi(r.firestore,ml),o=NI(r.converter,t);return LT(a,[bI(xT(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Gi.none())])}function ge(r,t,i,...a){r=Hi(r,$e);const o=Hi(r.firestore,ml),c=xT(o);let d;return d=typeof(t=An(t))=="string"||t instanceof xh?wI(c,"updateDoc",r._key,t,i,a):SI(c,"updateDoc",r._key,t),LT(o,[d.toMutation(r._key,Gi.exists(!0))])}function VI(r,...t){r=An(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||u0(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(u0(t[a])){const v=t[a];t[a]=v.next?.bind(v),t[a+1]=v.error?.bind(v),t[a+2]=v.complete?.bind(v)}let c,d,g;if(r instanceof $e)d=Hi(r.firestore,ml),g=vh(r._key.path),c={next:v=>{t[a]&&t[a](UT(d,r,v))},error:t[a+1],complete:t[a+2]};else{const v=Hi(r,Ih);d=Hi(v.firestore,ml),g=v._query;const y=new kT(d);c={next:b=>{t[a]&&t[a](new rl(d,y,v,b))},error:t[a+1],complete:t[a+2]},II(r._query)}return(function(y,b,w,V){const K=new AT(V),Z=new mT(b,K,w);return y.asyncQueue.enqueueAndForget((async()=>fT(await vm(y),Z))),()=>{K.Nu(),y.asyncQueue.enqueueAndForget((async()=>dT(await vm(y),Z)))}})(rp(d),g,o,c)}function LT(r,t){return(function(a,o){const c=new pr;return a.asyncQueue.enqueueAndForget((async()=>iI(await mI(a),o,c))),c.promise})(rp(r),t)}function UT(r,t,i){const a=i.docs.get(t._key),o=new kT(r);return new na(r,o,t._key,a,new Io(i.hasPendingWrites,i.fromCache),t.converter)}function Dn(...r){return new ap("arrayUnion",r)}(function(t,i=!0){(function(o){_l=o})(gl),al(new ia("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new ml(new T2(a.getProvider("auth-internal")),new S2(d,a.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new mt(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zo(y.options.projectId,b)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),dr(pv,gv,t),dr(pv,gv,"esm2020")})();const kI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),c0=r=>{const t=LI(r);return t.charAt(0).toUpperCase()+t.slice(1)},PT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),UI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var PI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zI=Re.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},v)=>Re.createElement("svg",{ref:v,...PI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:PT("lucide",o),...!c&&!UI(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>Re.createElement(y,b)),...Array.isArray(c)?c:[c]]));const En=(r,t)=>{const i=Re.forwardRef(({className:a,...o},c)=>Re.createElement(zI,{ref:c,iconNode:t,className:PT(`lucide-${kI(c0(r))}`,`lucide-${r}`,a),...o}));return i.displayName=c0(r),i};const jI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],zT=En("book-open",jI);const BI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],HI=En("circle-check-big",BI);const qI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],jT=En("circle-x",qI);const GI=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Fc=En("coins",GI);const FI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],up=En("crown",FI);const QI=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],KI=En("door-open",QI);const YI=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],XI=En("hand",YI);const $I=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],h0=En("info",$I);const ZI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],JI=En("log-out",ZI);const WI=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],BT=En("refresh-ccw",WI);const tx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ex=En("rotate-ccw",tx);const nx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ix=En("shield",nx);const sx=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],f0=En("skull",sx);const rx=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],HT=En("sword",rx);const ax=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],lx=En("trophy",ax);const ox=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],qT=En("x",ox),ux={apiKey:"AIzaSyBuqx_QQMMusEFu7BgE_Xnts82K6bKnqhQ",authDomain:"conspiracy-936b1.firebaseapp.com",projectId:"conspiracy-936b1",storageBucket:"conspiracy-936b1.firebasestorage.app",messagingSenderId:"74169733006",appId:"1:74169733006:web:9efd5d6032c7317e4d5edf",measurementId:"G-LZB3DTW0T0"},GT=w0(ux),Yd=y2(GT),ue=yI(GT),ce=typeof __app_id<"u"?__app_id:"conspiracy-game-v6-fixed",FT={HERO:{name:"Hero",color:"bg-purple-600",icon:up,desc:"Grabs 3 coins. Blocks Export."},ROBBER:{name:"Robber",color:"bg-blue-600",icon:XI,desc:"Steal 2 coins. Blocks Stealing."},GENIE:{name:"Genie",color:"bg-pink-600",icon:ix,desc:"Blocks Stab."},MONSTER:{name:"Monster",color:"bg-red-700",icon:HT,desc:"Stab (Pay 3 to kill)."},RIDDLER:{name:"Riddler",color:"bg-emerald-600",icon:BT,desc:"Exchange cards. Blocks Stealing."}},So=[...Array(3).fill("HERO"),...Array(3).fill("ROBBER"),...Array(3).fill("GENIE"),...Array(3).fill("MONSTER"),...Array(3).fill("RIDDLER")],Mc={EARN:{name:"Earn",cost:0,income:1,blockable:!1,challengeable:!1},EXPORT:{name:"Export",cost:0,income:2,blockable:!0,challengeable:!1,blockedBy:["HERO"]},TAX:{name:"Tax",cost:0,income:3,blockable:!1,challengeable:!0,claim:"HERO"},STEAL:{name:"Steal",cost:0,income:0,blockable:!0,challengeable:!0,claim:"ROBBER",blockedBy:["ROBBER","RIDDLER"]},STAB:{name:"Stab",cost:3,income:0,blockable:!0,challengeable:!0,claim:"MONSTER",blockedBy:["GENIE"]},EXCHANGE:{name:"Exchange",cost:0,income:0,blockable:!1,challengeable:!0,claim:"RIDDLER"},KILL:{name:"Kill",cost:7,income:0,blockable:!1,challengeable:!1}},Vc=r=>{let t=r.length,i;for(;t!==0;)i=Math.floor(Math.random()*t),t--,[r[t],r[i]]=[r[i],r[t]];return r},cx=({onClose:r})=>{const[t,i]=Re.useState("basics"),a=({id:o,label:c,icon:d})=>A.jsxs("button",{onClick:()=>i(o),className:`flex items-center gap-2 px-4 py-3 text-sm font-bold rounded-lg transition-all ${t===o?"bg-purple-600 text-white shadow-lg":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:[d&&A.jsx(d,{size:16})," ",c]});return A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-gray-900 rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden border border-gray-700 shadow-2xl flex flex-col",children:[A.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center bg-gray-800",children:[A.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[A.jsx(zT,{className:"text-purple-400"})," How to Play"]}),A.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-700 rounded-full text-gray-400 hover:text-white",children:A.jsx(qT,{})})]}),A.jsxs("div",{className:"flex gap-2 p-4 bg-gray-900 border-b border-gray-800 overflow-x-auto",children:[A.jsx(a,{id:"basics",label:"The Basics",icon:Fc}),A.jsx(a,{id:"cards",label:"Characters",icon:up}),A.jsx(a,{id:"actions",label:"Actions",icon:HT}),A.jsx(a,{id:"challenges",label:"Bluffing",icon:jT})]}),A.jsxs("div",{className:"p-6 overflow-y-auto flex-1 text-gray-300 space-y-6",children:[t==="basics"&&A.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[A.jsx("h3",{className:"text-xl font-bold text-yellow-400",children:"Goal: Be the Last One Standing"}),A.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[A.jsxs("li",{children:["Each player starts with ",A.jsx("strong",{children:"2 Cards"})," (Influences) and ",A.jsx("strong",{children:"2 Coins"}),"."]}),A.jsx("li",{children:"Your cards are kept face-down. No one sees them but you."}),A.jsx("li",{children:"If you lose a life (from a Coup, Assassination, or failed Challenge), you must flip one card face-up."}),A.jsxs("li",{children:["If both your cards are face-up, you are"," ",A.jsx("strong",{children:"Eliminated"}),"."]}),A.jsx("li",{children:"The last player with at least one face-down card wins."})]})]}),t==="cards"&&A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in",children:Object.entries(FT).map(([o,c])=>A.jsxs("div",{className:"p-4 rounded-lg border border-gray-700 bg-gray-800 flex items-start gap-3",children:[A.jsx("div",{className:`p-3 rounded-lg ${c.color} text-white`,children:A.jsx(c.icon,{size:24})}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-white",children:c.name}),A.jsx("p",{className:"text-sm text-gray-400",children:c.desc})]})]},o))}),t==="actions"&&A.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[A.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg border-l-4 border-green-500",children:[A.jsx("h4",{className:"font-bold text-white",children:"General Actions (Safe)"}),A.jsxs("p",{className:"text-sm",children:[A.jsx("strong",{children:"Earn:"})," Take 1 coin. (Cannot be blocked)."]}),A.jsxs("p",{className:"text-sm",children:[A.jsx("strong",{children:"Kill (Coup):"})," Pay 7 coins. Choose a player to lose a life immediately. (Unblockable)."]})]}),A.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg border-l-4 border-yellow-500",children:[A.jsx("h4",{className:"font-bold text-white",children:"Character Actions (Blockable/Challengeable)"}),A.jsx("p",{className:"text-sm mb-2",children:"You can claim to have a character to use their action:"}),A.jsxs("ul",{className:"list-disc pl-5 text-sm space-y-1",children:[A.jsxs("li",{children:[A.jsx("strong",{children:"Tax (Hero):"})," Take 3 coins."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Steal (Robber):"})," Take 2 coins from another player."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Stab (Monster):"})," Pay 3 coins to make someone lose a life."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Exchange (Riddler):"})," Draw 2 cards, return 2 cards."]})]})]})]}),t==="challenges"&&A.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-xl font-bold text-red-400 mb-2",children:"The Art of Lying"}),A.jsxs("p",{children:["You don't need the card to do the action! If you don't have a"," ",A.jsx("strong",{children:"Hero"}),', you can still say "I am using Tax" to get 3 coins. This is a bluff.']})]}),A.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"bg-red-900/20 p-4 rounded-lg border border-red-500/50",children:[A.jsx("h4",{className:"font-bold text-white mb-2",children:"Challenging"}),A.jsxs("p",{className:"text-sm",children:["If an opponent thinks you are lying, they can"," ",A.jsx("strong",{children:"CHALLENGE"})," you."]}),A.jsxs("ul",{className:"list-disc pl-5 text-sm mt-2 space-y-1",children:[A.jsxs("li",{children:["If you ",A.jsx("strong",{children:"have"})," the card: You show it. The challenger loses a life. You shuffle your card and draw a new one."]}),A.jsxs("li",{children:["If you ",A.jsx("strong",{children:"don't"})," have the card: You lose a life."]})]})]}),A.jsxs("div",{className:"bg-blue-900/20 p-4 rounded-lg border border-blue-500/50",children:[A.jsx("h4",{className:"font-bold text-white mb-2",children:"Blocking"}),A.jsx("p",{className:"text-sm",children:"You can claim a character to block attacks."}),A.jsxs("ul",{className:"list-disc pl-5 text-sm mt-2 space-y-1",children:[A.jsxs("li",{children:[A.jsx("strong",{children:"Hero"})," blocks Foreign Aid."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Genie"})," blocks Stab (Assassination)."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Robber/Riddler"})," blocks Steal."]})]}),A.jsx("p",{className:"text-xs mt-2 text-blue-300",children:"Blocks can also be Challenged!"})]})]})]})]})]})})},d0=({onConfirm:r,onCancel:t})=>A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[A.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Game?"}),A.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:"Do you really want to leave? You will be removed from the current game."}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsx("button",{onClick:t,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold",children:"No, Stay"}),A.jsx("button",{onClick:r,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold",children:"Yes, Leave"})]})]})}),m0=()=>A.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-60 mt-auto pb-2 pt-2",children:[A.jsx("span",{className:"text-[10px] font-black tracking-widest text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600 uppercase",children:"CONSPIRACY"}),A.jsx("span",{className:"text-[8px] text-gray-500",children:""})]});function hx(){const[r,t]=Re.useState(null),[i,a]=Re.useState("menu"),[o,c]=Re.useState(""),[d,g]=Re.useState(""),[v,y]=Re.useState(""),[b,w]=Re.useState(""),[V,K]=Re.useState(4),[Z,st]=Re.useState(null),[R,bt]=Re.useState(null),[xt,_t]=Re.useState(""),[te,ie]=Re.useState(!1),[Pt,N]=Re.useState([]),[S,x]=Re.useState(!1),[k,D]=Re.useState(!1),[U,C]=Re.useState(!1);Re.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await iw(Yd,__initial_auth_token):await JS(Yd)})();const nt=aw(Yd,et=>t(et));return()=>nt()},[]),Re.useEffect(()=>{if(!Z||!r)return;const Q=oe(ue,"artifacts",ce,"public","data","rooms",Z),nt=VI(Q,et=>{if(et.exists()){const ht=et.data();bt({id:et.id,...ht}),ht.status==="playing"||ht.status==="finished"?a("game"):a("lobby")}else st(null),a("menu"),_t("Room closed or does not exist.")},et=>console.error(et));return()=>nt()},[Z,r]);const ye=async()=>{if(!r||!o.trim())return _t("Enter a nickname first.");ie(!0);const Q=Math.random().toString(36).substring(2,8).toUpperCase(),nt={hostId:r.uid,password:b,maxPlayers:parseInt(V),players:[{id:r.uid,name:o,coins:2,cards:[],isEliminated:!1,ready:!0}],status:"lobby",turnIndex:0,deck:[],logs:[],turnState:"IDLE",currentAction:null};try{await MI(oe(ue,"artifacts",ce,"public","data","rooms",Q),nt),st(Q)}catch{_t("Failed to create room.")}ie(!1)},Me=async()=>{if(!r||!d||!o.trim())return _t("Enter nickname & room code.");ie(!0);try{const Q=oe(ue,"artifacts",ce,"public","data","rooms",d),nt=await OI(Q);if(!nt.exists())throw new Error("Room not found.");const et=nt.data();if(et.password&&et.password!==v)throw new Error("Wrong password.");if(et.players.length>=et.maxPlayers)throw new Error("Room full.");if(et.status!=="lobby")throw new Error("Game started.");et.players.find(ot=>ot.id===r.uid)||await ge(Q,{players:Dn({id:r.uid,name:o,coins:2,cards:[],isEliminated:!1,ready:!0})}),st(d)}catch(Q){_t(Q.message)}ie(!1)},G=async()=>{if(!Z||!r||!R)return;const Q=R.players.filter(Ct=>Ct.id!==r.uid);let nt=R.status;nt==="playing"&&Q.length<2&&(nt="finished");const et=R.players.findIndex(Ct=>Ct.id===r.uid);let ht=R.turnIndex;et<R.turnIndex&&(ht=Math.max(0,ht-1)),ht>=Q.length&&(ht=0);const ot=[...R.logs||[]],lt=R.players.find(Ct=>Ct.id===r.uid);lt&&ot.push({text:`${lt.name} left the game.`,type:"danger"}),nt==="finished"&&R.status==="playing"&&ot.push({text:"Not enough players. Game Over.",type:"neutral"});try{await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),{players:Q,status:nt,turnIndex:ht,logs:ot})}catch(Ct){console.error("Error leaving room",Ct)}st(null),a("menu"),D(!1)},rt=async()=>{if(!R||R.hostId!==r.uid)return;if(R.players.length<2)return _t("Need 2+ players.");const Q=Vc([...So,...So]),nt=R.players.map(et=>({...et,coins:2,cards:[{type:Q.pop(),flipped:!1},{type:Q.pop(),flipped:!1}],isEliminated:!1}));await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),{status:"playing",deck:Q,players:nt,turnIndex:0,turnState:"IDLE",logs:Dn({text:"Game Started!",type:"info"})})},gt=async()=>{!R||R.hostId!==r.uid||await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),{status:"lobby",turnState:"IDLE",currentAction:null,logs:[],players:R.players.map(Q=>({...Q,cards:[],coins:2,isEliminated:!1}))})},Kt=async()=>{if(!R||R.hostId!==r.uid)return;const Q=Vc([...So,...So]),nt=R.players.map(et=>({...et,coins:2,cards:[{type:Q.pop(),flipped:!1},{type:Q.pop(),flipped:!1}],isEliminated:!1}));await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),{status:"playing",deck:Q,players:nt,turnIndex:0,turnState:"IDLE",logs:[{text:"Game Restarted!",type:"info"}],currentAction:null})},$t=()=>R?.players.filter(Q=>!Q.isEliminated)||[],O=()=>R?.players[R.turnIndex],X=()=>O()?.id===r.uid,it=Q=>Q.filter(et=>!et.isEliminated).length<=1,at=async Q=>{let nt=(Q.turnIndex+1)%Q.players.length,et=0;for(;Q.players[nt].isEliminated&&et<10;)nt=(nt+1)%Q.players.length,et++;et>=10&&(nt=Q.players.findIndex(ht=>!ht.isEliminated)),await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),{turnIndex:nt,turnState:"IDLE",currentAction:null,players:Q.players,loseReason:null})},vt=async(Q,nt=null)=>{if(!X())return;const et=O(),ht=Mc[Q];if(et.coins<ht.cost)return;if(et.coins>=10&&Q!=="KILL")return alert("Must use Kill!");const ot={type:Q,actorId:r.uid,targetId:nt,status:"PENDING",votes:[],actionPending:!1};if(Q==="EARN"){const lt=[...R.players];lt[R.turnIndex].coins+=1,await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),{players:lt,logs:Dn({text:`${et.name} takes Income (+1 coin).`,type:"neutral"})}),await at({...R,players:lt});return}if(Q==="KILL"){const lt=[...R.players];lt[R.turnIndex].coins-=7;const Ct=R.players.find(Dt=>Dt.id===nt).name;await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),{players:lt,turnState:"LOSE_CARD",currentAction:ot,loserId:nt,loseReason:"kill",logs:Dn({text:`${et.name} killed ${Ct} (-7 coins).`,type:"danger"})});return}await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),{turnState:"ACTION_PENDING",currentAction:ot})},Vt=async()=>{if(R.turnState!=="ACTION_PENDING"||!R.currentAction||R.currentAction.votes.includes(r.uid))return;const Q=[...R.currentAction.votes,r.uid],nt=$t().length;Q.length>=nt-1?await Bt():await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),{"currentAction.votes":Q})},Bt=async()=>{if(R.turnState!=="ACTION_PENDING")return;const Q=Mc[R.currentAction.type],nt=R.players.findIndex(ot=>ot.id===R.currentAction.actorId),et=[...R.players];let ht=`${et[nt].name} performs ${Q.name}`;if(R.currentAction.type==="EXPORT")et[nt].coins+=2,ht+=" (+2 coins).";else if(R.currentAction.type==="TAX")et[nt].coins+=3,ht+=" (+3 coins).";else if(R.currentAction.type==="STEAL"){const ot=et.findIndex(Ct=>Ct.id===R.currentAction.targetId),lt=Math.min(et[ot].coins,2);et[ot].coins-=lt,et[nt].coins+=lt,ht+=` on ${et[ot].name} (stole ${lt}).`}else if(R.currentAction.type==="STAB"){et[nt].coins-=3;const ot=R.players.find(lt=>lt.id===R.currentAction.targetId).name;await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),{players:et,turnState:"LOSE_CARD",loserId:R.currentAction.targetId,loseReason:"stab",logs:Dn({text:`${et[nt].name} assassinates ${ot} (-3 coins).`,type:"danger"})});return}else if(R.currentAction.type==="EXCHANGE"){const ot=[...R.deck];ot.length<2&&ot.push(...So);const lt=[ot.pop(),ot.pop()];await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),{turnState:"EXCHANGE_SELECT",deck:ot,tempCards:lt,logs:Dn({text:`${et[nt].name} exchanges cards.`,type:"neutral"})});return}await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),{players:et,logs:Dn({text:ht,type:"success"})}),await at({...R,players:et})},be=async(Q,nt)=>{await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),{turnState:"BLOCK_PENDING",currentAction:{...R.currentAction,blockerId:Q,blockClaim:nt,votes:[]},logs:Dn({text:`${R.players.find(et=>et.id===Q).name} blocks with ${nt}!`,type:"warning"})})},_e=async()=>{if(R.turnState!=="BLOCK_PENDING"||R.currentAction.votes.includes(r.uid))return;const Q=[...R.currentAction.votes,r.uid],nt=$t().length;if(Q.length>=nt-1){const et=R.currentAction;let ht=[...R.players];if(et.type==="STAB"){const ot=ht.findIndex(lt=>lt.id===et.actorId);ht[ot].coins=Math.max(0,ht[ot].coins-3)}await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),{players:ht,logs:Dn({text:"Block Accepted. Action Failed.",type:"info"})}),await at({...R,players:ht})}else await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),{"currentAction.votes":Q})},yi=async Q=>{const nt=R.turnState==="BLOCK_PENDING",et=nt?R.currentAction.blockerId:R.currentAction.actorId,ht=nt?R.currentAction.blockClaim:Mc[R.currentAction.type].claim;await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),{turnState:"CHALLENGE_RESOLVE",challengerId:Q,accusedId:et,challengedCard:ht})},ws=async()=>{const Q=[...R.players],nt=Q.find(Et=>Et.id===r.uid),et=Q.findIndex(Et=>Et.id===r.uid),ht=nt.cards.map((Et,Zt)=>({...Et,index:Zt})).filter(Et=>!Et.flipped);let ot=[{text:`${nt.name} surrendered.`,type:"danger"}],lt=!1,Ct="IDLE",Dt=null,St=null;if(R.currentAction.blockerId===r.uid){const Et=R.currentAction,Zt=Q.findIndex(Ae=>Ae.id===Et.actorId);if(Et.type==="STEAL"){const Ae=Q.findIndex(ft=>ft.id===Et.targetId),mn=Math.min(Q[Ae].coins,2);Q[Ae].coins-=mn,Q[Zt].coins+=mn,ot.push({text:"Block failed. Steal succeeds!",type:"danger"})}else Et.type==="EXPORT"?(Q[Zt].coins+=2,ot.push({text:"Block failed. Export succeeds (+2 coins)!",type:"success"})):Et.type==="TAX"?(Q[Zt].coins+=3,ot.push({text:"Block failed. Tax succeeds!",type:"success"})):Et.type==="STAB"?(Q[Zt].coins-=3,Ct="LOSE_CARD",Dt=Et.targetId,St="stab",ot.push({text:"Block failed. Stab succeeds!",type:"danger"})):Et.type==="EXCHANGE"&&(lt=!0,ot.push({text:"Block failed. Exchange proceeds.",type:"info"}))}else ot.push({text:"Action caught! Turn ends.",type:"info"});ht.length===1?(Q[et].cards[ht[0].index].flipped=!0,Q[et].isEliminated=!0):(Ct="LOSE_CARD",Dt=r.uid,St="challenge");const ze=it(Q);let Ce={players:Q,logs:Dn(...ot),"currentAction.actionPending":lt};if(ze?Ce.status="finished":Ct==="LOSE_CARD"&&(Ce.turnState="LOSE_CARD",Ce.loserId=Dt,St&&(Ce.loseReason=St)),await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),Ce),!(ze||Ct==="LOSE_CARD"))if(lt&&R.currentAction.type==="EXCHANGE"){const Et=[...R.deck],Zt=[Et.pop(),Et.pop()];await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),{turnState:"EXCHANGE_SELECT",deck:Et,tempCards:Zt,"currentAction.actionPending":!1})}else await at({...R,players:Q})},Rs=async Q=>{const nt=R.players.find(pt=>pt.id===r.uid),et=nt.cards[Q],ht=R.challengedCard,ot=et.type===ht;let lt=[...R.players],Ct=[...R.deck],Dt=[],St="IDLE",dn=null,ze=null,Ce=!1;const Et=R.currentAction.blockerId&&R.currentAction.blockerId===R.accusedId;if(ot){Dt.push({text:`Challenge Failed! ${nt.name} had ${ht}.`,type:"success"}),Ct.push(et.type),Ct=Vc(Ct);const pt=lt.findIndex(wt=>wt.id===r.uid);lt[pt].cards[Q]={type:Ct.pop(),flipped:!1},St="LOSE_CARD",dn=R.challengerId,ze="challenge"}else{Dt.push({text:`Challenge Won! ${nt.name} caught lying!`,type:"danger"});const pt=lt.findIndex(wt=>wt.id===r.uid);lt[pt].cards[Q].flipped=!0,lt[pt].cards.every(wt=>wt.flipped)&&(lt[pt].isEliminated=!0)}const Zt=R.currentAction,Ae=lt.findIndex(pt=>pt.id===Zt.actorId);if(Et)if(ot)Dt.push({text:"Block Valid. Action stopped.",type:"warning"});else{if(Zt.type==="TAX"&&(lt[Ae].coins+=3,Dt.push({text:"Block Invalid: Tax succeeds (+3).",type:"success"})),Zt.type==="EXPORT"&&(lt[Ae].coins+=2,Dt.push({text:"Block Invalid: Export succeeds (+2).",type:"success"})),Zt.type==="STEAL"){const pt=lt.findIndex(Ne=>Ne.id===Zt.targetId),wt=Math.min(lt[pt].coins,2);lt[pt].coins-=wt,lt[Ae].coins+=wt,Dt.push({text:`Block Invalid: Steal succeeds (+${wt}).`,type:"success"})}Zt.type==="STAB"&&(lt[Ae].coins-=3,Ce=!0,Dt.push({text:"Block Invalid: Stab succeeds.",type:"danger"})),Zt.type==="EXCHANGE"&&(Ce=!0)}else if(ot){if(Zt.type==="TAX"&&(lt[Ae].coins+=3,Dt.push({text:"Challenge Failed: Tax proceeds (+3).",type:"success"})),Zt.type==="EXPORT"&&(lt[Ae].coins+=2,Dt.push({text:"Challenge Failed: Export proceeds (+2).",type:"success"})),Zt.type==="STEAL"){const pt=lt.findIndex(Ne=>Ne.id===Zt.targetId),wt=Math.min(lt[pt].coins,2);lt[pt].coins-=wt,lt[Ae].coins+=wt,Dt.push({text:`Challenge Failed: Steal proceeds (+${wt}).`,type:"success"})}Zt.type==="STAB"&&(lt[Ae].coins-=3,Ce=!0,Dt.push({text:"Challenge Failed: Stab proceeds.",type:"danger"})),Zt.type==="EXCHANGE"&&(Ce=!0)}else Dt.push({text:"Action Invalid due to bluff.",type:"warning"});const mn=it(lt);let ft={players:lt,deck:Ct,logs:Dn(...Dt),"currentAction.actionPending":Ce};if(mn?ft.status="finished":St==="LOSE_CARD"&&(ft.turnState="LOSE_CARD",ft.loserId=dn,ze&&(ft.loseReason=ze)),await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),ft),!(mn||St==="LOSE_CARD"))if(Ce&&R.currentAction.type==="EXCHANGE"){const pt=[...Ct],wt=[pt.pop(),pt.pop()];await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),{turnState:"EXCHANGE_SELECT",deck:pt,tempCards:wt,"currentAction.actionPending":!1})}else await at({...R,players:lt})},Cs=async Q=>{if(R.loserId!==r.uid)return;const nt=[...R.players],et=nt.findIndex(Dt=>Dt.id===r.uid);if(nt[et].cards[Q].flipped)return;nt[et].cards[Q].flipped=!0;const ht=nt[et].cards.every(Dt=>Dt.flipped);ht&&(nt[et].isEliminated=!0);const ot=[{text:`${nt[et].name} lost a life.`,type:"danger"}];ht&&ot.push({text:`${nt[et].name} is ELIMINATED!`,type:"danger"});const lt=it(nt);let Ct={players:nt,logs:Dn(...ot)};if(lt){const Dt=nt.filter(St=>!St.isEliminated);Ct.status="finished",Ct.logs=Dn({text:`Game Over! ${Dt[0]?.name} Wins!`,type:"success"}),await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),Ct);return}if(R.currentAction?.actionPending){if(R.currentAction.type==="EXCHANGE"){await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),Ct);const Dt=[...R.deck],St=[Dt.pop(),Dt.pop()];await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),{turnState:"EXCHANGE_SELECT",deck:Dt,tempCards:St,"currentAction.actionPending":!1});return}if(R.currentAction.type==="STAB"){const Dt=R.currentAction.targetId,St=nt.find(dn=>dn.id===Dt);if(St&&!St.isEliminated){Ct.logs=Dn(...ot,{text:"Stab still lands! Target must lose another life.",type:"danger"}),Ct.turnState="LOSE_CARD",Ct.loserId=Dt,Ct.loseReason="stab",Ct["currentAction.actionPending"]=!1,await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),Ct);return}}}await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),Ct),await at({...R,players:nt})},Gn=async()=>{const Q=R.players.find(Et=>Et.id===r.uid),nt=Q.cards.filter(Et=>!Et.flipped).length;if(Pt.length!==nt){alert(`You must select exactly ${nt} cards.`);return}const et=[...R.players],ht=et.findIndex(Et=>Et.id===r.uid),lt=[...Q.cards.filter(Et=>!Et.flipped).map(Et=>Et.type),...R.tempCards],Ct=Pt.map(Et=>lt[Et]),Dt=lt.filter((Et,Zt)=>!Pt.includes(Zt)),St=Q.cards.filter(Et=>Et.flipped),ze=[...Ct.map(Et=>({type:Et,flipped:!1})),...St],Ce=[...R.deck,...Dt];et[ht].cards=ze,await ge(oe(ue,"artifacts",ce,"public","data","rooms",Z),{players:et,deck:Vc(Ce),turnState:"IDLE",tempCards:null,currentAction:null}),await at({...R,players:et}),N([])},wr=({type:Q,flipped:nt,onClick:et,selectable:ht,size:ot="md"})=>{const lt=FT[Q];if(!lt&&!nt)return null;const Ct=`rounded-lg shadow-md border-2 transition-all duration-200 relative ${ht?"cursor-pointer hover:scale-105 ring-2 ring-offset-2 ring-yellow-400":""}`,Dt=ot==="sm"?"w-14 h-20 text-[10px]":"w-24 h-36 text-sm";return nt?A.jsx("div",{className:`${Ct} ${Dt} bg-gray-800 border-gray-700 flex items-center justify-center opacity-60`,children:A.jsx(f0,{className:"text-gray-500"})}):A.jsxs("div",{onClick:et,className:`${Ct} ${Dt} ${lt.color} border-white/20 flex flex-col items-center justify-between p-2 text-white`,children:[A.jsx("div",{className:"font-bold uppercase tracking-wider truncate w-full text-center",children:lt.name}),A.jsx(lt.icon,{size:ot==="sm"?16:32}),ot!=="sm"&&A.jsx("div",{className:"text-[10px] leading-tight text-center opacity-90",children:lt.desc})]})};if(!r)return A.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:"Loading..."});if(i==="menu")return A.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-4 relative",children:[S&&A.jsx(cx,{onClose:()=>x(!1)}),A.jsx("h1",{className:"text-5xl font-bold mb-8 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600",children:"CONSPIRACY"}),A.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl shadow-2xl w-full max-w-md border border-gray-700",children:[xt&&A.jsx("div",{className:"bg-red-900/50 text-red-200 p-3 rounded mb-4 text-sm",children:xt}),A.jsxs("div",{className:"mb-6",children:[A.jsx("label",{className:"text-xs text-gray-400 uppercase font-bold block mb-1",children:"Nickname"}),A.jsx("input",{type:"text",className:"w-full bg-gray-700 p-3 rounded border border-gray-600 text-white",placeholder:"Enter your name",value:o,onChange:Q=>c(Q.target.value)})]}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"border-b border-gray-700 pb-6",children:[A.jsx("h3",{className:"text-xl font-semibold mb-4 text-purple-300",children:"Join Room"}),A.jsx("input",{type:"text",placeholder:"Room Code",className:"w-full bg-gray-700 p-3 rounded mb-2 border border-gray-600",value:d,onChange:Q=>g(Q.target.value.toUpperCase())}),A.jsx("input",{type:"password",placeholder:"Room Password",className:"w-full bg-gray-700 p-3 rounded mb-4 border border-gray-600",value:v,onChange:Q=>y(Q.target.value)}),A.jsx("button",{onClick:Me,disabled:te,className:"w-full bg-purple-600 hover:bg-purple-500 py-3 rounded font-bold",children:"Join Game"})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-xl font-semibold mb-4 text-pink-300",children:"Create Room"}),A.jsx("input",{type:"password",placeholder:"Set Room Password",className:"w-full bg-gray-700 p-3 rounded mb-4 border border-gray-600",value:b,onChange:Q=>w(Q.target.value)}),A.jsxs("div",{className:"flex justify-between mb-4 text-sm text-gray-400",children:[A.jsxs("span",{children:["Players: ",V]}),A.jsx("input",{type:"range",min:"2",max:"6",value:V,onChange:Q=>K(Q.target.value),className:"accent-pink-500"})]}),A.jsx("button",{onClick:ye,disabled:te,className:"w-full bg-gray-700 hover:bg-gray-600 py-3 rounded font-bold border border-gray-600",children:"Create Lobby"})]})]}),A.jsxs("button",{onClick:()=>x(!0),className:"w-full mt-6 flex items-center justify-center gap-2 text-gray-400 hover:text-white transition-colors",children:[A.jsx(zT,{size:18})," How to Play"]})]})]});if(i==="lobby"&&R)return A.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-4 flex flex-col items-center",children:[A.jsxs("div",{className:"w-full max-w-2xl flex-1 flex flex-col",children:[A.jsxs("div",{className:"flex justify-between items-center mb-8",children:[A.jsxs("h2",{className:"text-2xl font-bold text-purple-400",children:["Lobby: ",R.id]}),A.jsx("button",{onClick:()=>D(!0),className:"text-sm text-gray-400 hover:text-white",children:"Leave"})]}),A.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-6 border border-gray-700",children:[A.jsxs("h3",{className:"text-gray-400 text-sm uppercase tracking-wider mb-4",children:["Players (",R.players.length,"/",R.maxPlayers,")"]}),R.players.map(Q=>A.jsxs("div",{className:"flex items-center justify-between bg-gray-700 p-3 rounded mb-2",children:[A.jsxs("span",{className:Q.id===r.uid?"text-purple-300 font-bold":"text-white",children:[Q.name," ",Q.id===r.uid&&"(You)"," ",Q.id===R.hostId&&""]}),A.jsx("span",{className:"text-green-400 text-sm",children:"Ready"})]},Q.id))]}),R.hostId===r.uid?A.jsxs("div",{className:"space-y-2",children:[A.jsx("button",{onClick:rt,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg ${R.players.length>=2?"bg-green-600 hover:bg-green-500":"bg-gray-700 cursor-not-allowed"}`,children:"Start Game"}),A.jsx("button",{onClick:gt,className:"w-full py-2 text-xs text-gray-500 hover:text-red-400",children:"Reset Lobby (Debug)"})]}):A.jsx("div",{className:"text-center text-gray-400 animate-pulse",children:"Waiting for host..."})]}),A.jsx(m0,{}),k&&A.jsx(d0,{onConfirm:G,onCancel:()=>D(!1)})]});if(i==="game"&&R){const Q=R.players.find(ft=>ft.id===r.uid);if(!Q)return A.jsxs("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white flex-col",children:[A.jsx("div",{className:"text-xl font-bold mb-4",children:"You have left the game or were removed."}),A.jsx("button",{onClick:()=>{st(null),a("menu")},className:"bg-purple-600 px-4 py-2 rounded",children:"Back to Menu"})]});const nt=X(),et=R.currentAction?Mc[R.currentAction.type].name:"",ht=R.turnState==="ACTION_PENDING"?R.currentAction.votes.length:0,ot=$t().length-1,lt=R.currentAction?.votes.includes(r.uid),Ct=R.turnState==="ACTION_PENDING"&&R.currentAction.actorId!==r.uid,Dt=R.turnState==="BLOCK_PENDING"&&R.currentAction.blockerId!==r.uid&&!Q.isEliminated,St=R.currentAction,dn=R.players.filter(ft=>!ft.isEliminated);let ze=!1;St&&(St.type==="EXPORT"||(St.type==="STEAL"||St.type==="STAB")&&St.targetId===r.uid)&&(ze=!0);const Ce=R.turnState==="EXCHANGE_SELECT"&&Q.id===O().id;let Et=null,Zt=null;if(St){const ft=R.players.find(wt=>wt.id===St.targetId),pt=R.players.find(wt=>wt.id===St.actorId);ft&&(Et=ft.name),pt&&(Zt=pt.name)}let Ae="",mn="";if(R.turnState==="LOSE_CARD"){const ft=R.players.find(wt=>wt.id===R.loserId),pt=ft?ft.name:"Player";R.loseReason==="challenge"?(Ae="Challenge Lost",mn=`${pt} is discarding a card...`):St&&St.type==="KILL"?(Ae=`${Zt} performs`,mn=`Kill on ${Et}`):St&&St.type==="STAB"?(Ae=`${Zt} performs`,mn=`Stab on ${Et}`):(Ae=`${pt} lost a life`,mn="Choosing card to lose...")}return A.jsxs("div",{className:"min-h-screen bg-gray-900 text-white overflow-hidden flex flex-col relative",children:[A.jsxs("div",{className:"p-2 bg-gray-800 flex justify-between items-center border-b border-gray-700 z-50 relative",children:[A.jsxs("div",{className:"text-sm font-bold text-purple-400",children:["Room: ",R.id]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("button",{onClick:()=>C(!0),className:"text-gray-400 hover:text-white",children:A.jsx(h0,{size:18})}),A.jsxs("button",{onClick:()=>D(!0),className:"text-xs text-gray-400 hover:text-white flex items-center gap-1",children:[A.jsx(JI,{size:14})," Leave"]})]})]}),A.jsxs("div",{className:"flex-1 relative p-4 flex flex-col",children:[R.turnState==="IDLE"&&!R.status.includes("finished")&&A.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none",children:A.jsxs("div",{className:"text-2xl font-black text-white/10 uppercase tracking-widest text-center whitespace-nowrap scale-150",children:[O()?.name,"'s Turn"]})}),A.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-4 z-10",children:R.players.map((ft,pt)=>ft.id===r.uid?null:A.jsxs("div",{className:`bg-gray-800 p-2 rounded border ${R.turnIndex===pt?"border-yellow-500":"border-gray-700"} ${ft.isEliminated?"opacity-50":""} relative`,children:[ft.isEliminated&&A.jsx("div",{className:"absolute inset-x-0 top-8 bg-red-900/80 text-red-500 text-[10px] font-black uppercase tracking-widest text-center py-1 z-20 border-y border-red-700",children:"ELIMINATED"}),A.jsxs("div",{className:"flex justify-between items-start mb-2",children:[A.jsx("span",{className:"font-bold text-xs truncate w-20",children:ft.name}),A.jsxs("div",{className:"flex items-center space-x-1 bg-black/30 px-1 rounded",children:[A.jsx(Fc,{size:10,className:"text-yellow-400"}),A.jsx("span",{className:"text-xs",children:ft.coins})]})]}),A.jsx("div",{className:"flex justify-center space-x-1",children:ft.cards.map((wt,Ne)=>A.jsx("div",{className:`w-6 h-8 rounded border ${wt.flipped?"bg-gray-900 border-gray-600":"bg-blue-900 border-blue-500"} flex items-center justify-center`,children:wt.flipped&&A.jsx(f0,{size:10,className:"text-gray-600"})},Ne))}),nt&&R.turnState==="IDLE"&&!ft.isEliminated&&A.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-1",children:[A.jsx("button",{disabled:ft.coins<2,onClick:()=>vt("STEAL",ft.id),className:"disabled:opacity-30 bg-blue-900/50 border border-blue-700 hover:bg-blue-800 py-1 rounded text-[9px] font-bold",children:"Steal"}),A.jsx("button",{disabled:Q.coins<3,onClick:()=>vt("STAB",ft.id),className:"disabled:opacity-30 bg-red-900/50 border border-red-700 hover:bg-red-800 py-1 rounded text-[9px] font-bold",children:"Stab(3)"}),A.jsx("button",{disabled:Q.coins<7,onClick:()=>vt("KILL",ft.id),className:"disabled:opacity-30 bg-red-950 border border-red-900 hover:bg-red-900 py-1 rounded text-[9px] font-bold text-red-500",children:"Kill(7)"})]}),R.currentAction?.votes.includes(ft.id)&&(R.turnState==="ACTION_PENDING"||R.turnState==="BLOCK_PENDING")&&A.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 z-20 text-green-400 bg-black rounded-full p-1 border border-green-500 shadow-lg",children:A.jsx(HI,{size:16,className:"fill-current"})})]},ft.id))}),A.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center my-2 space-y-4 z-10",children:[R.status==="finished"&&A.jsxs("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center z-50",children:[A.jsx(lx,{size:64,className:"text-yellow-400 mb-4 animate-bounce"}),A.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"Game Over"}),A.jsxs("div",{className:"text-2xl text-purple-400 mb-8",children:[dn[0]?.name," Wins!"]}),R.hostId===r.uid?A.jsxs("button",{onClick:Kt,className:"bg-green-600 hover:bg-green-500 px-8 py-4 rounded-xl font-bold text-lg flex items-center gap-2 shadow-lg",children:[A.jsx(ex,{})," Play Again"]}):A.jsx("div",{className:"text-gray-400 animate-pulse",children:"Waiting for host to restart..."})]}),(R.turnState==="ACTION_PENDING"||R.turnState==="LOSE_CARD")&&A.jsxs("div",{className:"w-full max-w-md bg-gray-800 p-4 rounded border border-yellow-500/50 relative shadow-2xl",children:[A.jsx("div",{className:"text-center mb-3",children:R.turnState==="LOSE_CARD"?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"text-sm text-gray-400 mt-1",children:Ae}),A.jsx("div",{className:`text-xl font-bold ${R.loseReason==="challenge"?"text-red-500":"text-yellow-400"}`,children:mn})]}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"text-sm text-gray-400",children:[O().name," attempts"]}),A.jsxs("div",{className:"text-xl font-bold text-yellow-400",children:[et," ",Et?` on ${Et}`:""]}),A.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Votes: ",ht," / ",ot]}),A.jsx("div",{className:"w-full bg-gray-700 h-1 mt-1 rounded overflow-hidden",children:A.jsx("div",{className:"bg-green-500 h-full transition-all duration-300",style:{width:`${ht/ot*100}%`}})})]})}),R.turnState==="ACTION_PENDING"&&Ct&&!Q.isEliminated&&A.jsx("div",{className:"grid grid-cols-2 gap-2",children:lt?A.jsx("div",{className:"col-span-2 bg-gray-700 py-2 text-center text-gray-400 text-sm rounded",children:"Waiting for others..."}):A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:Vt,className:"col-span-2 bg-green-600 hover:bg-green-500 py-3 rounded font-bold",children:"Pass (Accept)"}),St.type!=="EXPORT"&&A.jsxs("button",{onClick:()=>yi(r.uid),className:"bg-red-600 hover:bg-red-500 py-2 rounded text-xs font-bold flex items-center justify-center gap-1",children:[A.jsx(jT,{size:14})," Challenge"]}),ze&&St.type==="EXPORT"&&A.jsx("button",{onClick:()=>be(r.uid,"HERO"),className:"bg-purple-600 py-2 rounded text-xs font-bold",children:"Block (Hero)"}),ze&&St.type==="STEAL"&&A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>be(r.uid,"ROBBER"),className:"bg-blue-600 py-2 rounded text-xs font-bold",children:"Block (Robber)"}),A.jsx("button",{onClick:()=>be(r.uid,"RIDDLER"),className:"bg-emerald-600 py-2 rounded text-xs font-bold",children:"Block (Riddler)"})]}),ze&&St.type==="STAB"&&A.jsx("button",{onClick:()=>be(r.uid,"GENIE"),className:"bg-pink-600 py-2 rounded text-xs font-bold",children:"Block (Genie)"})]})}),R.turnState==="ACTION_PENDING"&&!Ct&&A.jsx("div",{className:"text-center text-xs text-gray-500 animate-pulse",children:"Waiting for consensus..."})]}),R.turnState==="BLOCK_PENDING"&&A.jsxs("div",{className:"bg-gray-800 p-4 rounded border border-purple-500 w-full max-w-md text-center shadow-2xl",children:[A.jsxs("div",{className:"mb-2",children:[A.jsx("span",{className:"font-bold",children:R.players.find(ft=>ft.id===R.currentAction.blockerId).name})," ","blocks with"," ",A.jsx("span",{className:"font-bold text-purple-400",children:R.currentAction.blockClaim})]}),Dt&&A.jsx("div",{className:"grid grid-cols-2 gap-2",children:R.currentAction.votes.includes(r.uid)?A.jsx("div",{className:"col-span-2 text-gray-500 text-xs",children:"You passed. Waiting..."}):A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:_e,className:"bg-gray-600 hover:bg-gray-500 py-2 rounded text-sm",children:"Accept Block"}),A.jsx("button",{onClick:()=>yi(r.uid),className:"bg-red-600 hover:bg-red-500 py-2 rounded text-sm font-bold",children:"Challenge Block"})]})})]}),R.turnState==="CHALLENGE_RESOLVE"&&A.jsxs("div",{className:"text-center w-full max-w-md",children:[A.jsx("div",{className:"text-red-400 font-bold mb-2 bg-red-900/20 p-2 rounded border border-red-900",children:"CHALLENGE IN PROGRESS"}),R.accusedId===r.uid?A.jsxs("div",{className:"bg-gray-800 p-4 rounded border border-gray-700",children:[A.jsxs("div",{className:"text-sm mb-4",children:["Prove you have ",A.jsx("strong",{children:R.challengedCard})]}),A.jsx("div",{className:"flex justify-center gap-2",children:Q.cards.map((ft,pt)=>!ft.flipped&&A.jsxs("button",{onClick:()=>Rs(pt),className:"bg-gray-700 px-4 py-2 rounded text-sm hover:bg-gray-600 border border-gray-500",children:["Show ",ft.type]},pt))}),A.jsx("button",{onClick:ws,className:"mt-4 text-xs text-red-400 underline",children:"I don't have it (Surrender)"})]}):A.jsx("div",{className:"text-sm animate-pulse",children:"Waiting for accused to reveal..."})]}),Ce&&A.jsxs("div",{className:"fixed inset-0 bg-black/95 z-50 flex flex-col items-center justify-center p-4 pb-32",children:[A.jsx("h3",{className:"text-xl font-bold mb-2 text-emerald-400",children:"Riddler Exchange"}),A.jsxs("p",{className:"text-sm text-gray-400 mb-6",children:["Keep exactly ",Q.cards.filter(ft=>!ft.flipped).length," ","cards."]}),A.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6 max-w-md w-full",children:[...Q.cards.filter(ft=>!ft.flipped).map(ft=>ft.type),...R.tempCards].map((ft,pt)=>A.jsx("div",{onClick:()=>{const wt=[...Pt];if(wt.includes(pt)){const Ne=wt.indexOf(pt);wt.splice(Ne,1),N(wt)}else wt.length<Q.cards.filter(Ne=>!Ne.flipped).length&&N([...wt,pt])},className:`p-4 rounded border-2 text-center font-bold cursor-pointer transition-colors ${Pt.includes(pt)?"border-emerald-500 bg-emerald-900/50":"border-gray-600 bg-gray-800"}`,children:ft},pt))}),A.jsx("button",{onClick:Gn,className:"bg-emerald-600 px-12 py-3 rounded font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed",disabled:Pt.length!==Q.cards.filter(ft=>!ft.flipped).length,children:"Confirm"})]})]}),!Ce&&R.status!=="finished"&&A.jsx("div",{className:"w-full max-w-md mx-auto mb-2 flex flex-col items-center space-y-1 pointer-events-none z-20",children:R.logs?.slice(-3).reverse().map((ft,pt)=>A.jsx("div",{className:"text-xs px-3 py-1 rounded-full bg-black/60 backdrop-blur-sm text-white shadow-sm transition-opacity duration-500",style:{opacity:Math.max(.2,.6-pt*.2)},children:ft.text},pt))}),Q.isEliminated?A.jsx("div",{className:"bg-red-900/20 p-4 text-center border-t border-red-900 text-red-500 font-bold",children:"ELIMINATED"}):A.jsxs("div",{className:`mt-auto bg-gray-800 p-3 rounded-t-xl border-t border-gray-700 shadow-2xl ${R.turnState==="LOSE_CARD"&&R.loserId===r.uid?"ring-2 ring-red-500":""}`,children:[A.jsxs("div",{className:"flex justify-between items-center mb-3",children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsxs("div",{className:"bg-yellow-500 text-black px-2 py-1 rounded font-bold text-sm flex items-center",children:[A.jsx(Fc,{size:14,className:"mr-1"})," ",Q.coins]}),A.jsx("span",{className:"text-xs text-gray-400",children:Q.name})]}),R.turnState==="LOSE_CARD"&&R.loserId===r.uid&&A.jsx("div",{className:"text-red-400 font-bold text-sm animate-pulse",children:"CLICK A CARD TO LOSE IT!"})]}),A.jsx("div",{className:"flex justify-center space-x-2 mb-4",children:Q.cards.map((ft,pt)=>A.jsx(wr,{type:ft.type,flipped:ft.flipped,selectable:R.turnState==="LOSE_CARD"&&R.loserId===r.uid&&!ft.flipped,onClick:()=>{R.turnState==="LOSE_CARD"&&R.loserId===r.uid&&!ft.flipped&&Cs(pt)}},pt))}),nt&&R.turnState==="IDLE"&&A.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[A.jsxs("button",{onClick:()=>vt("EARN"),className:"bg-gray-700 p-2 rounded flex flex-col items-center",children:[A.jsx(Fc,{size:16,className:"text-yellow-200"}),A.jsx("span",{className:"text-[10px]",children:"Earn (1 coin)"})]}),A.jsxs("button",{onClick:()=>vt("EXPORT"),className:"bg-gray-700 p-2 rounded flex flex-col items-center",children:[A.jsx(KI,{size:16,className:"text-blue-200"}),A.jsx("span",{className:"text-[10px]",children:"Export (2 coins)"})]}),A.jsxs("button",{onClick:()=>vt("TAX"),className:"bg-purple-900/50 border border-purple-700 p-2 rounded flex flex-col items-center",children:[A.jsx(up,{size:16,className:"text-purple-300"}),A.jsx("span",{className:"text-[10px]",children:"Hero (3 coins)"})]}),A.jsxs("button",{onClick:()=>vt("EXCHANGE"),className:"bg-emerald-900/50 border border-emerald-700 p-2 rounded flex flex-col items-center",children:[A.jsx(BT,{size:16,className:"text-emerald-300"}),A.jsx("span",{className:"text-[10px]",children:"Riddler (exchange card)"})]})]})]})]}),A.jsx("div",{className:"bg-gray-800 pb-1 pt-1",children:A.jsx(m0,{})}),k&&A.jsx(d0,{onConfirm:G,onCancel:()=>D(!1)}),U&&A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-gray-800 rounded-2xl w-full max-w-md h-[80vh] flex flex-col border border-gray-700 shadow-2xl",children:[A.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center bg-gray-800 rounded-t-2xl",children:[A.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[A.jsx(h0,{size:18})," Game Logs"]}),A.jsx("button",{onClick:()=>C(!1),children:A.jsx(qT,{className:"text-gray-400 hover:text-white"})})]}),A.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...R.logs||[]].reverse().map((ft,pt)=>A.jsx("div",{className:`text-xs p-2 rounded border-l-2 ${ft.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":ft.type==="success"?"bg-green-900/20 border-green-500 text-green-200":ft.type==="warning"?"bg-yellow-900/20 border-yellow-500 text-yellow-200":"bg-gray-700/50 border-gray-500 text-gray-300"}`,children:ft.text},pt))})]})})]})}return null}D1.createRoot(document.getElementById("root")).render(A.jsx(Re.StrictMode,{children:A.jsx(hx,{})}));
