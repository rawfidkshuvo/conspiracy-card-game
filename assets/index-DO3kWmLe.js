(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Nd={exports:{}},So={};var N_;function A1(){if(N_)return So;N_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return So.Fragment=t,So.jsx=i,So.jsxs=i,So}var D_;function S1(){return D_||(D_=1,Nd.exports=A1()),Nd.exports}var A=S1(),Dd={exports:{}},Nt={};var O_;function w1(){if(O_)return Nt;O_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),V=Symbol.iterator;function K(M){return M===null||typeof M!="object"?null:(M=V&&M[V]||M["@@iterator"],typeof M=="function"?M:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ot=Object.assign,X={};function yt(M,$,at){this.props=M,this.context=$,this.refs=X,this.updater=at||et}yt.prototype.isReactComponent={},yt.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},yt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function C(){}C.prototype=yt.prototype;function wt(M,$,at){this.props=M,this.context=$,this.refs=X,this.updater=at||et}var ie=wt.prototype=new C;ie.constructor=wt,ot(ie,yt.prototype),ie.isPureReactComponent=!0;var Zt=Array.isArray;function jt(){}var N={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(M,$,at){var ut=at.ref;return{$$typeof:r,type:M,key:$,ref:ut!==void 0?ut:null,props:at}}function k(M,$){return I(M.type,$,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(at){return $[at]})}var R=/\/+/g;function ve(M,$){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):$.toString(36)}function Ve(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(jt,jt):(M.status="pending",M.then(function($){M.status==="pending"&&(M.status="fulfilled",M.value=$)},function($){M.status==="pending"&&(M.status="rejected",M.reason=$)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,$,at,ut,At){var St=typeof M;(St==="undefined"||St==="boolean")&&(M=null);var Ot=!1;if(M===null)Ot=!0;else switch(St){case"bigint":case"string":case"number":Ot=!0;break;case"object":switch(M.$$typeof){case r:case t:Ot=!0;break;case b:return Ot=M._init,F(Ot(M._payload),$,at,ut,At)}}if(Ot)return At=At(M),Ot=ut===""?"."+ve(M,0):ut,Zt(At)?(at="",Ot!=null&&(at=Ot.replace(R,"$&/")+"/"),F(At,$,at,"",function(Fn){return Fn})):At!=null&&(D(At)&&(At=k(At,at+(At.key==null||M&&M.key===At.key?"":(""+At.key).replace(R,"$&/")+"/")+Ot)),$.push(At)),1;Ot=0;var Ue=ut===""?".":ut+":";if(Zt(M))for(var Ee=0;Ee<M.length;Ee++)ut=M[Ee],St=Ue+ve(ut,Ee),Ot+=F(ut,$,at,St,At);else if(Ee=K(M),typeof Ee=="function")for(M=Ee.call(M),Ee=0;!(ut=M.next()).done;)ut=ut.value,St=Ue+ve(ut,Ee++),Ot+=F(ut,$,at,St,At);else if(St==="object"){if(typeof M.then=="function")return F(Ve(M),$,at,ut,At);throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Ot}function lt(M,$,at){if(M==null)return M;var ut=[],At=0;return F(M,ut,"","",function(St){return $.call(at,St,At++)}),ut}function gt(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(at){(M._status===0||M._status===-1)&&(M._status=1,M._result=at)},function(at){(M._status===0||M._status===-1)&&(M._status=2,M._result=at)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var Qt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},se={map:lt,forEach:function(M,$,at){lt(M,function(){$.apply(this,arguments)},at)},count:function(M){var $=0;return lt(M,function(){$++}),$},toArray:function(M){return lt(M,function($){return $})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Nt.Activity=w,Nt.Children=se,Nt.Component=yt,Nt.Fragment=i,Nt.Profiler=o,Nt.PureComponent=wt,Nt.StrictMode=a,Nt.Suspense=v,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return N.H.useMemoCache(M)}},Nt.cache=function(M){return function(){return M.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(M,$,at){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ut=ot({},M.props),At=M.key;if($!=null)for(St in $.key!==void 0&&(At=""+$.key),$)!S.call($,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&$.ref===void 0||(ut[St]=$[St]);var St=arguments.length-2;if(St===1)ut.children=at;else if(1<St){for(var Ot=Array(St),Ue=0;Ue<St;Ue++)Ot[Ue]=arguments[Ue+2];ut.children=Ot}return I(M.type,At,ut)},Nt.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Nt.createElement=function(M,$,at){var ut,At={},St=null;if($!=null)for(ut in $.key!==void 0&&(St=""+$.key),$)S.call($,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(At[ut]=$[ut]);var Ot=arguments.length-2;if(Ot===1)At.children=at;else if(1<Ot){for(var Ue=Array(Ot),Ee=0;Ee<Ot;Ee++)Ue[Ee]=arguments[Ee+2];At.children=Ue}if(M&&M.defaultProps)for(ut in Ot=M.defaultProps,Ot)At[ut]===void 0&&(At[ut]=Ot[ut]);return I(M,St,At)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(M){return{$$typeof:g,render:M}},Nt.isValidElement=D,Nt.lazy=function(M){return{$$typeof:b,_payload:{_status:-1,_result:M},_init:gt}},Nt.memo=function(M,$){return{$$typeof:y,type:M,compare:$===void 0?null:$}},Nt.startTransition=function(M){var $=N.T,at={};N.T=at;try{var ut=M(),At=N.S;At!==null&&At(at,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(jt,Qt)}catch(St){Qt(St)}finally{$!==null&&at.types!==null&&($.types=at.types),N.T=$}},Nt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Nt.use=function(M){return N.H.use(M)},Nt.useActionState=function(M,$,at){return N.H.useActionState(M,$,at)},Nt.useCallback=function(M,$){return N.H.useCallback(M,$)},Nt.useContext=function(M){return N.H.useContext(M)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(M,$){return N.H.useDeferredValue(M,$)},Nt.useEffect=function(M,$){return N.H.useEffect(M,$)},Nt.useEffectEvent=function(M){return N.H.useEffectEvent(M)},Nt.useId=function(){return N.H.useId()},Nt.useImperativeHandle=function(M,$,at){return N.H.useImperativeHandle(M,$,at)},Nt.useInsertionEffect=function(M,$){return N.H.useInsertionEffect(M,$)},Nt.useLayoutEffect=function(M,$){return N.H.useLayoutEffect(M,$)},Nt.useMemo=function(M,$){return N.H.useMemo(M,$)},Nt.useOptimistic=function(M,$){return N.H.useOptimistic(M,$)},Nt.useReducer=function(M,$,at){return N.H.useReducer(M,$,at)},Nt.useRef=function(M){return N.H.useRef(M)},Nt.useState=function(M){return N.H.useState(M)},Nt.useSyncExternalStore=function(M,$,at){return N.H.useSyncExternalStore(M,$,at)},Nt.useTransition=function(){return N.H.useTransition()},Nt.version="19.2.0",Nt}var M_;function Tm(){return M_||(M_=1,Dd.exports=w1()),Dd.exports}var Ce=Tm(),Od={exports:{}},wo={},Md={exports:{}},Vd={};var V_;function R1(){return V_||(V_=1,(function(r){function t(F,lt){var gt=F.length;F.push(lt);t:for(;0<gt;){var Qt=gt-1>>>1,se=F[Qt];if(0<o(se,lt))F[Qt]=lt,F[gt]=se,gt=Qt;else break t}}function i(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var lt=F[0],gt=F.pop();if(gt!==lt){F[0]=gt;t:for(var Qt=0,se=F.length,M=se>>>1;Qt<M;){var $=2*(Qt+1)-1,at=F[$],ut=$+1,At=F[ut];if(0>o(at,gt))ut<se&&0>o(At,at)?(F[Qt]=At,F[ut]=gt,Qt=ut):(F[Qt]=at,F[$]=gt,Qt=$);else if(ut<se&&0>o(At,gt))F[Qt]=At,F[ut]=gt,Qt=ut;else break t}}return lt}function o(F,lt){var gt=F.sortIndex-lt.sortIndex;return gt!==0?gt:F.id-lt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var v=[],y=[],b=1,w=null,V=3,K=!1,et=!1,ot=!1,X=!1,yt=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,wt=typeof setImmediate<"u"?setImmediate:null;function ie(F){for(var lt=i(y);lt!==null;){if(lt.callback===null)a(y);else if(lt.startTime<=F)a(y),lt.sortIndex=lt.expirationTime,t(v,lt);else break;lt=i(y)}}function Zt(F){if(ot=!1,ie(F),!et)if(i(v)!==null)et=!0,jt||(jt=!0,U());else{var lt=i(y);lt!==null&&Ve(Zt,lt.startTime-F)}}var jt=!1,N=-1,S=5,I=-1;function k(){return X?!0:!(r.unstable_now()-I<S)}function D(){if(X=!1,jt){var F=r.unstable_now();I=F;var lt=!0;try{t:{et=!1,ot&&(ot=!1,C(N),N=-1),K=!0;var gt=V;try{e:{for(ie(F),w=i(v);w!==null&&!(w.expirationTime>F&&k());){var Qt=w.callback;if(typeof Qt=="function"){w.callback=null,V=w.priorityLevel;var se=Qt(w.expirationTime<=F);if(F=r.unstable_now(),typeof se=="function"){w.callback=se,ie(F),lt=!0;break e}w===i(v)&&a(v),ie(F)}else a(v);w=i(v)}if(w!==null)lt=!0;else{var M=i(y);M!==null&&Ve(Zt,M.startTime-F),lt=!1}}break t}finally{w=null,V=gt,K=!1}lt=void 0}}finally{lt?U():jt=!1}}}var U;if(typeof wt=="function")U=function(){wt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ve=R.port2;R.port1.onmessage=D,U=function(){ve.postMessage(null)}}else U=function(){yt(D,0)};function Ve(F,lt){N=yt(function(){F(r.unstable_now())},lt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(F){switch(V){case 1:case 2:case 3:var lt=3;break;default:lt=V}var gt=V;V=lt;try{return F()}finally{V=gt}},r.unstable_requestPaint=function(){X=!0},r.unstable_runWithPriority=function(F,lt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var gt=V;V=F;try{return lt()}finally{V=gt}},r.unstable_scheduleCallback=function(F,lt,gt){var Qt=r.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Qt+gt:Qt):gt=Qt,F){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=gt+se,F={id:b++,callback:lt,priorityLevel:F,startTime:gt,expirationTime:se,sortIndex:-1},gt>Qt?(F.sortIndex=gt,t(y,F),i(v)===null&&F===i(y)&&(ot?(C(N),N=-1):ot=!0,Ve(Zt,gt-Qt))):(F.sortIndex=se,t(v,F),et||K||(et=!0,jt||(jt=!0,U()))),F},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(F){var lt=V;return function(){var gt=V;V=lt;try{return F.apply(this,arguments)}finally{V=gt}}}})(Vd)),Vd}var k_;function C1(){return k_||(k_=1,Md.exports=R1()),Md.exports}var kd={exports:{}},yn={};var L_;function I1(){if(L_)return yn;L_=1;var r=Tm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,y,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:v,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,yn.createPortal=function(v,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,b)},yn.flushSync=function(v){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=b,a.d.f()}},yn.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},yn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},yn.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var b=y.as,w=g(b,y.crossOrigin),V=typeof y.integrity=="string"?y.integrity:void 0,K=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:V,fetchPriority:K}):b==="script"&&a.d.X(v,{crossOrigin:w,integrity:V,fetchPriority:K,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},yn.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},yn.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,w=g(b,y.crossOrigin);a.d.L(v,b,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},yn.preloadModule=function(v,y){if(typeof v=="string")if(y){var b=g(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},yn.requestFormReset=function(v){a.d.r(v)},yn.unstable_batchedUpdates=function(v,y){return v(y)},yn.useFormState=function(v,y,b){return d.H.useFormState(v,y,b)},yn.useFormStatus=function(){return d.H.useHostTransitionStatus()},yn.version="19.2.0",yn}var U_;function x1(){if(U_)return kd.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),kd.exports=I1(),kd.exports}var P_;function N1(){if(P_)return wo;P_=1;var r=C1(),t=Tm(),i=x1();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,l=f;break}if(E===l){p=!0,l=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,l=h;break}if(E===l){p=!0,l=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,V=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),ot=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),yt=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),wt=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),Zt=Symbol.for("react.suspense"),jt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ve(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ot:return"Fragment";case yt:return"Profiler";case X:return"StrictMode";case Zt:return"Suspense";case jt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case et:return"Portal";case wt:return e.displayName||"Context";case C:return(e._context.displayName||"Context")+".Consumer";case ie:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:ve(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ve(e(n))}catch{}}return null}var Ve=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Qt=[],se=-1;function M(e){return{current:e}}function $(e){0>se||(e.current=Qt[se],Qt[se]=null,se--)}function at(e,n){se++,Qt[se]=e.current,e.current=n}var ut=M(null),At=M(null),St=M(null),Ot=M(null);function Ue(e,n){switch(at(St,n),at(At,e),at(ut,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Wy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Wy(n),e=t_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(ut),at(ut,e)}function Ee(){$(ut),$(At),$(St)}function Fn(e){e.memoizedState!==null&&at(Ot,e);var n=ut.current,s=t_(n,e.type);n!==s&&(at(At,e),at(ut,s))}function Is(e){At.current===e&&($(ut),$(At)),Ot.current===e&&($(Ot),Eo._currentValue=gt)}var Zi,xs;function Qn(e){if(Zi===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Zi=n&&n[1]||"",xs=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zi+e+xs}var Cr=!1;function Ji(e,n){if(!e||Cr)return"";Cr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(q){var B=q}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(q){B=q}e.call(Z.prototype)}}else{try{throw Error()}catch(q){B=q}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var x=p.split(`
`),j=E.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===j.length)for(l=x.length-1,h=j.length-1;1<=l&&0<=h&&x[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==j[h]){var Q=`
`+x[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=h);break}}}finally{Cr=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Qn(s):""}function Ir(e,n){switch(e.tag){case 26:case 27:case 5:return Qn(e.type);case 16:return Qn("Lazy");case 13:return e.child!==n&&n!==null?Qn("Suspense Fallback"):Qn("Suspense");case 19:return Qn("SuspenseList");case 0:case 15:return Ji(e.type,!1);case 11:return Ji(e.type.render,!1);case 1:return Ji(e.type,!0);case 31:return Qn("Activity");default:return""}}function G(e){try{var n="",s=null;do n+=Ir(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var tt=Object.prototype.hasOwnProperty,it=r.unstable_scheduleCallback,Et=r.unstable_cancelCallback,ft=r.unstable_shouldYield,vt=r.unstable_requestPaint,nt=r.unstable_now,pt=r.unstable_getCurrentPriorityLevel,de=r.unstable_ImmediatePriority,be=r.unstable_UserBlockingPriority,Ae=r.unstable_NormalPriority,Kn=r.unstable_LowPriority,re=r.unstable_IdlePriority,Te=r.log,Ut=r.unstable_setDisableYieldValue,It=null,Kt=null;function Se(e){if(typeof Te=="function"&&Ut(e),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(It,e)}catch{}}var Yt=Math.clz32?Math.clz32:xe,st=Math.log,Mt=Math.LN2;function xe(e){return e>>>=0,e===0?32:31-(st(e)/Mt|0)|0}var gn=256,xr=262144,He=4194304;function Ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ti(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=Ei(l):(p&=E,p!==0?h=Ei(p):s||(s=E&~e,s!==0&&(h=Ei(s))))):(E=l&~f,E!==0?h=Ei(E):p!==0?h=Ei(p):s||(s=l&~e,s!==0&&(h=Ei(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function oi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Mh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=He;return He<<=1,(He&62914560)===0&&(He=4194304),e}function bi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Nr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,n,s,l,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,x=e.expirationTimes,j=e.hiddenUpdates;for(s=p&~s;0<s;){var Q=31-Yt(s),Z=1<<Q;E[Q]=0,x[Q]=-1;var B=j[Q];if(B!==null)for(j[Q]=null,Q=0;Q<B.length;Q++){var q=B[Q];q!==null&&(q.lane&=-536870913)}s&=~Z}l!==0&&Dr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function Dr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Yt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function Sl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Yt(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function wl(e,n){var s=n&-n;return s=(s&42)!==0?1:Or(s),(s&(e.suspendedLanes|n))!==0?0:s}function Or(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Wi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=lt.p;return e!==0?e:(e=window.event,e===void 0?32:A_(e.type))}function ui(e,n){var s=lt.p;try{return lt.p=e,n()}finally{lt.p=s}}var ci=Math.random().toString(36).slice(2),qe="__reactFiber$"+ci,nn="__reactProps$"+ci,Ai="__reactContainer$"+ci,fa="__reactEvents$"+ci,kh="__reactListeners$"+ci,lu="__reactHandles$"+ci,ou="__reactResources$"+ci,Si="__reactMarker$"+ci;function da(e){delete e[qe],delete e[nn],delete e[fa],delete e[kh],delete e[lu]}function wi(e){var n=e[qe];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Ai]||s[qe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=l_(e);e!==null;){if(s=e[qe])return s;e=l_(e)}return n}e=s,s=e.parentNode}return null}function Yn(e){if(e=e[qe]||e[Ai]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function kn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ri(e){var n=e[ou];return n||(n=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ge(e){e[Si]=!0}var Rl=new Set,Cl={};function Ci(e,n){Ii(e,n),Ii(e+"Capture",n)}function Ii(e,n){for(Cl[e]=n,e=0;e<n.length;e++)Rl.add(n[e])}var Il=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xl={},Nl={};function uu(e){return tt.call(Nl,e)?!0:tt.call(xl,e)?!1:Il.test(e)?Nl[e]=!0:(xl[e]=!0,!1)}function ma(e,n,s){if(uu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Ln(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Fe(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function sn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ns(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Dl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ce(e){if(!e._valueTracker){var n=Ns(e)?"checked":"value";e._valueTracker=Dl(e,n,""+e[n])}}function Mr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=Ns(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function xi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Vr=/[\n"\\]/g;function Rn(e){return e.replace(Vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function pa(e,n,s,l,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+sn(n)):e.value!==""+sn(n)&&(e.value=""+sn(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Ol(e,p,sn(n)):s!=null?Ol(e,p,sn(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+sn(E):e.removeAttribute("name")}function cu(e,n,s,l,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ce(e);return}s=s!=null?""+sn(s):"",n=n!=null?""+sn(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),ce(e)}function Ol(e,n,s){n==="number"&&xi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Ds(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+sn(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function hu(e,n,s){if(n!=null&&(n=""+sn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+sn(s):""}function Os(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(Ve(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=sn(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),ce(e)}function Cn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ml(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||fu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Vl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Ml(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Ml(e,f,n[f])}function ga(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(e){return Ms.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function hi(){}var kl=null;function Xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vs=null,Ni=null;function kr(e){var n=Yn(e);if(n&&(e=n.stateNode)){var s=e[nn]||null;t:switch(e=n.stateNode,n.type){case"input":if(pa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Rn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[nn]||null;if(!h)throw Error(a(90));pa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&Mr(l)}break t;case"textarea":hu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Ds(e,!!s.multiple,n,!1)}}}var _a=!1;function ks(e,n,s){if(_a)return e(n,s);_a=!0;try{var l=e(n);return l}finally{if(_a=!1,(Vs!==null||Ni!==null)&&(ac(),Vs&&(n=Vs,e=Ni,Ni=Vs=null,kr(n),e)))for(n=0;n<e.length;n++)kr(e[n])}}function fi(e,n){var s=e.stateNode;if(s===null)return null;var l=s[nn]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lr=!1;if($n)try{var me={};Object.defineProperty(me,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",me,me),window.removeEventListener("test",me,me)}catch{Lr=!1}var Di=null,Ll=null,Ur=null;function Ul(){if(Ur)return Ur;var e,n=Ll,s=n.length,l,h="value"in Di?Di.value:Di.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return Ur=h.slice(e,1<l?1-l:void 0)}function Pr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ts(){return!0}function di(){return!1}function on(e){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ts:di,this.isPropagationStopped=di,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),n}var es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=on(es),Ls=w({},es,{view:0,detail:0}),Pl=on(Ls),Us,va,Mi,Ea=w({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Mi&&(Mi&&e.type==="mousemove"?(Us=e.screenX-Mi.screenX,va=e.screenY-Mi.screenY):va=Us=0,Mi=e),Us)},movementY:function(e){return"movementY"in e?e.movementY:va}}),zl=on(Ea),zr=w({},Ea,{dataTransfer:0}),mu=on(zr),pu=w({},Ls,{relatedTarget:0}),jr=on(pu),jl=w({},es,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=on(jl),Ta=w({},es,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yu=on(Ta),_u=w({},es,{data:0}),Vi=on(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function Ps(){return bu}var An=w({},Ls,{key:function(e){if(e.key){var n=vu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Pr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(e){return e.type==="keypress"?Pr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Au=on(An),Su=w({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ns=on(Su),u=w({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),m=on(u),_=w({},es,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=on(_),P=w({},Ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=on(P),rt=w({},es,{newState:0,oldState:0}),Vt=on(rt),Pe=[9,13,27,32],ae=$n&&"CompositionEvent"in window,Ne=null;$n&&"documentMode"in document&&(Ne=document.documentMode);var Zn=$n&&"TextEvent"in window&&!Ne,ki=$n&&(!ae||Ne&&8<Ne&&11>=Ne),mi=" ",pi=!1;function Br(e,n){switch(e){case"keyup":return Pe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Aa=!1;function KT(e,n){switch(e){case"compositionend":return ba(n);case"keypress":return n.which!==32?null:(pi=!0,mi);case"textInput":return e=n.data,e===mi&&pi?null:e;default:return null}}function YT(e,n){if(Aa)return e==="compositionend"||!ae&&Br(e,n)?(e=Ul(),Ur=Ll=Di=null,Aa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ki&&n.locale!=="ko"?null:n.data;default:return null}}var XT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!XT[e.type]:n==="textarea"}function hp(e,n,s,l){Vs?Ni?Ni.push(l):Ni=[l]:Vs=l,n=dc(n,"onChange"),0<n.length&&(s=new Oi("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Bl=null,Hl=null;function $T(e){Ky(e,0)}function wu(e){var n=kn(e);if(Mr(n))return e}function fp(e,n){if(e==="change")return n}var dp=!1;if($n){var Lh;if($n){var Uh="oninput"in document;if(!Uh){var mp=document.createElement("div");mp.setAttribute("oninput","return;"),Uh=typeof mp.oninput=="function"}Lh=Uh}else Lh=!1;dp=Lh&&(!document.documentMode||9<document.documentMode)}function pp(){Bl&&(Bl.detachEvent("onpropertychange",gp),Hl=Bl=null)}function gp(e){if(e.propertyName==="value"&&wu(Hl)){var n=[];hp(n,Hl,e,Xn(e)),ks($T,n)}}function ZT(e,n,s){e==="focusin"?(pp(),Bl=n,Hl=s,Bl.attachEvent("onpropertychange",gp)):e==="focusout"&&pp()}function JT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(Hl)}function WT(e,n){if(e==="click")return wu(n)}function tb(e,n){if(e==="input"||e==="change")return wu(n)}function eb(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Un=typeof Object.is=="function"?Object.is:eb;function ql(e,n){if(Un(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!tt.call(n,h)||!Un(e[h],n[h]))return!1}return!0}function yp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _p(e,n){var s=yp(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=yp(s)}}function vp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?vp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ep(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=xi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=xi(e.document)}return n}function Ph(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var nb=$n&&"documentMode"in document&&11>=document.documentMode,Sa=null,zh=null,Gl=null,jh=!1;function Tp(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jh||Sa==null||Sa!==xi(l)||(l=Sa,"selectionStart"in l&&Ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Gl&&ql(Gl,l)||(Gl=l,l=dc(zh,"onSelect"),0<l.length&&(n=new Oi("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=Sa)))}function Hr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var wa={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},Bh={},bp={};$n&&(bp=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function qr(e){if(Bh[e])return Bh[e];if(!wa[e])return e;var n=wa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in bp)return Bh[e]=n[s];return e}var Ap=qr("animationend"),Sp=qr("animationiteration"),wp=qr("animationstart"),ib=qr("transitionrun"),sb=qr("transitionstart"),rb=qr("transitioncancel"),Rp=qr("transitionend"),Cp=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function gi(e,n){Cp.set(e,n),Ci(n,[e])}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Jn=[],Ra=0,qh=0;function Cu(){for(var e=Ra,n=qh=Ra=0;n<e;){var s=Jn[n];Jn[n++]=null;var l=Jn[n];Jn[n++]=null;var h=Jn[n];Jn[n++]=null;var f=Jn[n];if(Jn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Ip(s,h,f)}}function Iu(e,n,s,l){Jn[Ra++]=e,Jn[Ra++]=n,Jn[Ra++]=s,Jn[Ra++]=l,qh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Gh(e,n,s,l){return Iu(e,n,s,l),xu(e)}function Gr(e,n){return Iu(e,null,null,n),xu(e)}function Ip(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Yt(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function xu(e){if(50<fo)throw fo=0,td=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ca={};function ab(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(e,n,s,l){return new ab(e,n,s,l)}function Fh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function is(e,n){var s=e.alternate;return s===null?(s=Pn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function xp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nu(e,n,s,l,h,f){var p=0;if(l=e,typeof e=="function")Fh(e)&&(p=1);else if(typeof e=="string")p=h1(e,s,ut.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=Pn(31,s,n,h),e.elementType=I,e.lanes=f,e;case ot:return Fr(s.children,h,f,n);case X:p=8,h|=24;break;case yt:return e=Pn(12,s,n,h|2),e.elementType=yt,e.lanes=f,e;case Zt:return e=Pn(13,s,n,h),e.elementType=Zt,e.lanes=f,e;case jt:return e=Pn(19,s,n,h),e.elementType=jt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wt:p=10;break t;case C:p=9;break t;case ie:p=11;break t;case N:p=14;break t;case S:p=16,l=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=Pn(p,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Fr(e,n,s,l){return e=Pn(7,e,l,n),e.lanes=s,e}function Qh(e,n,s){return e=Pn(6,e,null,n),e.lanes=s,e}function Np(e){var n=Pn(18,null,null,0);return n.stateNode=e,n}function Kh(e,n,s){return n=Pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Dp=new WeakMap;function Wn(e,n){if(typeof e=="object"&&e!==null){var s=Dp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:G(n)},Dp.set(e,n),n)}return{value:e,source:n,stack:G(n)}}var Ia=[],xa=0,Du=null,Fl=0,ti=[],ei=0,zs=null,Li=1,Ui="";function ss(e,n){Ia[xa++]=Fl,Ia[xa++]=Du,Du=e,Fl=n}function Op(e,n,s){ti[ei++]=Li,ti[ei++]=Ui,ti[ei++]=zs,zs=e;var l=Li;e=Ui;var h=32-Yt(l)-1;l&=~(1<<h),s+=1;var f=32-Yt(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Li=1<<32-Yt(n)+h|s<<h|l,Ui=f+e}else Li=1<<f|s<<h|l,Ui=e}function Yh(e){e.return!==null&&(ss(e,1),Op(e,1,0))}function Xh(e){for(;e===Du;)Du=Ia[--xa],Ia[xa]=null,Fl=Ia[--xa],Ia[xa]=null;for(;e===zs;)zs=ti[--ei],ti[ei]=null,Ui=ti[--ei],ti[ei]=null,Li=ti[--ei],ti[ei]=null}function Mp(e,n){ti[ei++]=Li,ti[ei++]=Ui,ti[ei++]=zs,Li=n.id,Ui=n.overflow,zs=e}var un=null,we=null,Xt=!1,js=null,ni=!1,$h=Error(a(519));function Bs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ql(Wn(n,e)),$h}function Vp(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[qe]=e,n[nn]=l,s){case"dialog":zt("cancel",n),zt("close",n);break;case"iframe":case"object":case"embed":zt("load",n);break;case"video":case"audio":for(s=0;s<po.length;s++)zt(po[s],n);break;case"source":zt("error",n);break;case"img":case"image":case"link":zt("error",n),zt("load",n);break;case"details":zt("toggle",n);break;case"input":zt("invalid",n),cu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":zt("invalid",n);break;case"textarea":zt("invalid",n),Os(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Zy(n.textContent,s)?(l.popover!=null&&(zt("beforetoggle",n),zt("toggle",n)),l.onScroll!=null&&zt("scroll",n),l.onScrollEnd!=null&&zt("scrollend",n),l.onClick!=null&&(n.onclick=hi),n=!0):n=!1,n||Bs(e,!0)}function kp(e){for(un=e.return;un;)switch(un.tag){case 5:case 31:case 13:ni=!1;return;case 27:case 3:ni=!0;return;default:un=un.return}}function Na(e){if(e!==un)return!1;if(!Xt)return kp(e),Xt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||pd(e.type,e.memoizedProps)),s=!s),s&&we&&Bs(e),kp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));we=a_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));we=a_(e)}else n===27?(n=we,er(e.type)?(e=Ed,Ed=null,we=e):we=n):we=un?si(e.stateNode.nextSibling):null;return!0}function Qr(){we=un=null,Xt=!1}function Zh(){var e=js;return e!==null&&(Dn===null?Dn=e:Dn.push.apply(Dn,e),js=null),e}function Ql(e){js===null?js=[e]:js.push(e)}var Jh=M(null),Kr=null,rs=null;function Hs(e,n,s){at(Jh,n._currentValue),n._currentValue=s}function as(e){e._currentValue=Jh.current,$(Jh)}function Wh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function tf(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Wh(f.return,s,e),l||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Wh(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Da(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;Un(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ot.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Eo):e=[Eo])}h=h.return}e!==null&&tf(n,e,s,l),n.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!Un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Yr(e){Kr=e,rs=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function cn(e){return Lp(Kr,e)}function Mu(e,n){return Kr===null&&Yr(e),Lp(e,n)}function Lp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},rs===null){if(e===null)throw Error(a(308));rs=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else rs=rs.next=n;return s}var lb=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},ob=r.unstable_scheduleCallback,ub=r.unstable_NormalPriority,Qe={$$typeof:wt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new lb,data:new Map,refCount:0}}function Kl(e){e.refCount--,e.refCount===0&&ob(ub,function(){e.controller.abort()})}var Yl=null,nf=0,Oa=0,Ma=null;function cb(e,n){if(Yl===null){var s=Yl=[];nf=0,Oa=ad(),Ma={status:"pending",value:void 0,then:function(l){s.push(l)}}}return nf++,n.then(Up,Up),n}function Up(){if(--nf===0&&Yl!==null){Ma!==null&&(Ma.status="fulfilled");var e=Yl;Yl=null,Oa=0,Ma=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function hb(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Pp=F.S;F.S=function(e,n){Ty=nt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&cb(e,n),Pp!==null&&Pp(e,n)};var Xr=M(null);function sf(){var e=Xr.current;return e!==null?e:_e.pooledCache}function Vu(e,n){n===null?at(Xr,Xr.current):at(Xr,n.pool)}function zp(){var e=sf();return e===null?null:{parent:Qe._currentValue,pool:e}}var Va=Error(a(460)),rf=Error(a(474)),ku=Error(a(542)),Lu={then:function(){}};function jp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(hi,hi),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qp(e),e;default:if(typeof n.status=="string")n.then(hi,hi);else{if(e=_e,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,qp(e),e}throw Zr=n,Va}}function $r(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Zr=s,Va):s}}var Zr=null;function Hp(){if(Zr===null)throw Error(a(459));var e=Zr;return Zr=null,e}function qp(e){if(e===Va||e===ku)throw Error(a(483))}var ka=null,Xl=0;function Uu(e){var n=Xl;return Xl+=1,ka===null&&(ka=[]),Bp(ka,e,n)}function $l(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Gp(e){function n(L,O){if(e){var z=L.deletions;z===null?(L.deletions=[O],L.flags|=16):z.push(O)}}function s(L,O){if(!e)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=is(L,O),L.index=0,L.sibling=null,L}function f(L,O,z){return L.index=z,e?(z=L.alternate,z!==null?(z=z.index,z<O?(L.flags|=67108866,O):z):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function p(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,O,z,Y){return O===null||O.tag!==6?(O=Qh(z,L.mode,Y),O.return=L,O):(O=h(O,z),O.return=L,O)}function x(L,O,z,Y){var _t=z.type;return _t===ot?Q(L,O,z.props.children,Y,z.key):O!==null&&(O.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===S&&$r(_t)===O.type)?(O=h(O,z.props),$l(O,z),O.return=L,O):(O=Nu(z.type,z.key,z.props,null,L.mode,Y),$l(O,z),O.return=L,O)}function j(L,O,z,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=Kh(z,L.mode,Y),O.return=L,O):(O=h(O,z.children||[]),O.return=L,O)}function Q(L,O,z,Y,_t){return O===null||O.tag!==7?(O=Fr(z,L.mode,Y,_t),O.return=L,O):(O=h(O,z),O.return=L,O)}function Z(L,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Qh(""+O,L.mode,z),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case K:return z=Nu(O.type,O.key,O.props,null,L.mode,z),$l(z,O),z.return=L,z;case et:return O=Kh(O,L.mode,z),O.return=L,O;case S:return O=$r(O),Z(L,O,z)}if(Ve(O)||U(O))return O=Fr(O,L.mode,z,null),O.return=L,O;if(typeof O.then=="function")return Z(L,Uu(O),z);if(O.$$typeof===wt)return Z(L,Mu(L,O),z);Pu(L,O)}return null}function B(L,O,z,Y){var _t=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return _t!==null?null:E(L,O,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case K:return z.key===_t?x(L,O,z,Y):null;case et:return z.key===_t?j(L,O,z,Y):null;case S:return z=$r(z),B(L,O,z,Y)}if(Ve(z)||U(z))return _t!==null?null:Q(L,O,z,Y,null);if(typeof z.then=="function")return B(L,O,Uu(z),Y);if(z.$$typeof===wt)return B(L,O,Mu(L,z),Y);Pu(L,z)}return null}function q(L,O,z,Y,_t){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return L=L.get(z)||null,E(O,L,""+Y,_t);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case K:return L=L.get(Y.key===null?z:Y.key)||null,x(O,L,Y,_t);case et:return L=L.get(Y.key===null?z:Y.key)||null,j(O,L,Y,_t);case S:return Y=$r(Y),q(L,O,z,Y,_t)}if(Ve(Y)||U(Y))return L=L.get(z)||null,Q(O,L,Y,_t,null);if(typeof Y.then=="function")return q(L,O,z,Uu(Y),_t);if(Y.$$typeof===wt)return q(L,O,z,Mu(O,Y),_t);Pu(O,Y)}return null}function ht(L,O,z,Y){for(var _t=null,Jt=null,dt=O,Lt=O=0,Ht=null;dt!==null&&Lt<z.length;Lt++){dt.index>Lt?(Ht=dt,dt=null):Ht=dt.sibling;var Wt=B(L,dt,z[Lt],Y);if(Wt===null){dt===null&&(dt=Ht);break}e&&dt&&Wt.alternate===null&&n(L,dt),O=f(Wt,O,Lt),Jt===null?_t=Wt:Jt.sibling=Wt,Jt=Wt,dt=Ht}if(Lt===z.length)return s(L,dt),Xt&&ss(L,Lt),_t;if(dt===null){for(;Lt<z.length;Lt++)dt=Z(L,z[Lt],Y),dt!==null&&(O=f(dt,O,Lt),Jt===null?_t=dt:Jt.sibling=dt,Jt=dt);return Xt&&ss(L,Lt),_t}for(dt=l(dt);Lt<z.length;Lt++)Ht=q(dt,L,Lt,z[Lt],Y),Ht!==null&&(e&&Ht.alternate!==null&&dt.delete(Ht.key===null?Lt:Ht.key),O=f(Ht,O,Lt),Jt===null?_t=Ht:Jt.sibling=Ht,Jt=Ht);return e&&dt.forEach(function(ar){return n(L,ar)}),Xt&&ss(L,Lt),_t}function bt(L,O,z,Y){if(z==null)throw Error(a(151));for(var _t=null,Jt=null,dt=O,Lt=O=0,Ht=null,Wt=z.next();dt!==null&&!Wt.done;Lt++,Wt=z.next()){dt.index>Lt?(Ht=dt,dt=null):Ht=dt.sibling;var ar=B(L,dt,Wt.value,Y);if(ar===null){dt===null&&(dt=Ht);break}e&&dt&&ar.alternate===null&&n(L,dt),O=f(ar,O,Lt),Jt===null?_t=ar:Jt.sibling=ar,Jt=ar,dt=Ht}if(Wt.done)return s(L,dt),Xt&&ss(L,Lt),_t;if(dt===null){for(;!Wt.done;Lt++,Wt=z.next())Wt=Z(L,Wt.value,Y),Wt!==null&&(O=f(Wt,O,Lt),Jt===null?_t=Wt:Jt.sibling=Wt,Jt=Wt);return Xt&&ss(L,Lt),_t}for(dt=l(dt);!Wt.done;Lt++,Wt=z.next())Wt=q(dt,L,Lt,Wt.value,Y),Wt!==null&&(e&&Wt.alternate!==null&&dt.delete(Wt.key===null?Lt:Wt.key),O=f(Wt,O,Lt),Jt===null?_t=Wt:Jt.sibling=Wt,Jt=Wt);return e&&dt.forEach(function(b1){return n(L,b1)}),Xt&&ss(L,Lt),_t}function ye(L,O,z,Y){if(typeof z=="object"&&z!==null&&z.type===ot&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case K:t:{for(var _t=z.key;O!==null;){if(O.key===_t){if(_t=z.type,_t===ot){if(O.tag===7){s(L,O.sibling),Y=h(O,z.props.children),Y.return=L,L=Y;break t}}else if(O.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===S&&$r(_t)===O.type){s(L,O.sibling),Y=h(O,z.props),$l(Y,z),Y.return=L,L=Y;break t}s(L,O);break}else n(L,O);O=O.sibling}z.type===ot?(Y=Fr(z.props.children,L.mode,Y,z.key),Y.return=L,L=Y):(Y=Nu(z.type,z.key,z.props,null,L.mode,Y),$l(Y,z),Y.return=L,L=Y)}return p(L);case et:t:{for(_t=z.key;O!==null;){if(O.key===_t)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){s(L,O.sibling),Y=h(O,z.children||[]),Y.return=L,L=Y;break t}else{s(L,O);break}else n(L,O);O=O.sibling}Y=Kh(z,L.mode,Y),Y.return=L,L=Y}return p(L);case S:return z=$r(z),ye(L,O,z,Y)}if(Ve(z))return ht(L,O,z,Y);if(U(z)){if(_t=U(z),typeof _t!="function")throw Error(a(150));return z=_t.call(z),bt(L,O,z,Y)}if(typeof z.then=="function")return ye(L,O,Uu(z),Y);if(z.$$typeof===wt)return ye(L,O,Mu(L,z),Y);Pu(L,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(s(L,O.sibling),Y=h(O,z),Y.return=L,L=Y):(s(L,O),Y=Qh(z,L.mode,Y),Y.return=L,L=Y),p(L)):s(L,O)}return function(L,O,z,Y){try{Xl=0;var _t=ye(L,O,z,Y);return ka=null,_t}catch(dt){if(dt===Va||dt===ku)throw dt;var Jt=Pn(29,dt,null,L.mode);return Jt.lanes=Y,Jt.return=L,Jt}finally{}}}var Jr=Gp(!0),Fp=Gp(!1),qs=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fs(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(le&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=xu(e),Ip(e,null,s),n}return Iu(e,l,n,s),xu(e)}function Zl(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,Sl(e,s)}}function of(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var uf=!1;function Jl(){if(uf){var e=Ma;if(e!==null)throw e}}function Wl(e,n,s,l){uf=!1;var h=e.updateQueue;qs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,j=x.next;x.next=null,p===null?f=j:p.next=j,p=x;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=x))}if(f!==null){var Z=h.baseState;p=0,Q=j=x=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Bt&B)===B:(l&B)===B){B!==0&&B===Oa&&(uf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ht=e,bt=E;B=n;var ye=s;switch(bt.tag){case 1:if(ht=bt.payload,typeof ht=="function"){Z=ht.call(ye,Z,B);break t}Z=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=bt.payload,B=typeof ht=="function"?ht.call(ye,Z,B):ht,B==null)break t;Z=w({},Z,B);break t;case 2:qs=!0}}B=E.callback,B!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=q,x=Z):Q=Q.next=q,p|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);Q===null&&(x=Z),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),$s|=p,e.lanes=p,e.memoizedState=Z}}function Qp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Kp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Qp(s[e],n)}var La=M(null),zu=M(0);function Yp(e,n){e=ps,at(zu,e),at(La,n),ps=e|n.baseLanes}function cf(){at(zu,ps),at(La,La.current)}function hf(){ps=zu.current,$(La),$(zu)}var zn=M(null),ii=null;function Qs(e){var n=e.alternate;at(ze,ze.current&1),at(zn,e),ii===null&&(n===null||La.current!==null||n.memoizedState!==null)&&(ii=e)}function ff(e){at(ze,ze.current),at(zn,e),ii===null&&(ii=e)}function Xp(e){e.tag===22?(at(ze,ze.current),at(zn,e),ii===null&&(ii=e)):Ks()}function Ks(){at(ze,ze.current),at(zn,zn.current)}function jn(e){$(zn),ii===e&&(ii=null),$(ze)}var ze=M(0);function ju(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_d(s)||vd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ls=0,kt=null,pe=null,Ke=null,Bu=!1,Ua=!1,Wr=!1,Hu=0,to=0,Pa=null,fb=0;function ke(){throw Error(a(321))}function df(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Un(e[s],n[s]))return!1;return!0}function mf(e,n,s,l,h,f){return ls=f,kt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Og:xf,Wr=!1,f=s(l,h),Wr=!1,Ua&&(f=Zp(n,s,l,h)),$p(e),f}function $p(e){F.H=io;var n=pe!==null&&pe.next!==null;if(ls=0,Ke=pe=kt=null,Bu=!1,to=0,Pa=null,n)throw Error(a(300));e===null||Ye||(e=e.dependencies,e!==null&&Ou(e)&&(Ye=!0))}function Zp(e,n,s,l){kt=e;var h=0;do{if(Ua&&(Pa=null),to=0,Ua=!1,25<=h)throw Error(a(301));if(h+=1,Ke=pe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Mg,f=n(s,l)}while(Ua);return f}function db(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?eo(n):n,e=e.useState()[0],(pe!==null?pe.memoizedState:null)!==e&&(kt.flags|=1024),n}function pf(){var e=Hu!==0;return Hu=0,e}function gf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function yf(e){if(Bu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Bu=!1}ls=0,Ke=pe=kt=null,Ua=!1,to=Hu=0,Pa=null}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?kt.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function je(){if(pe===null){var e=kt.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var n=Ke===null?kt.memoizedState:Ke.next;if(n!==null)Ke=n,pe=e;else{if(e===null)throw kt.alternate===null?Error(a(467)):Error(a(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},Ke===null?kt.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eo(e){var n=to;return to+=1,Pa===null&&(Pa=[]),e=Bp(Pa,e,n),n=kt,(Ke===null?n.memoizedState:Ke.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Og:xf),e}function Gu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return eo(e);if(e.$$typeof===wt)return cn(e)}throw Error(a(438,String(e)))}function _f(e){var n=null,s=kt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=kt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=qu(),kt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=k;return n.index++,s}function os(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=je();return vf(n,pe,e)}function vf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,x=null,j=n,Q=!1;do{var Z=j.lane&-536870913;if(Z!==j.lane?(Bt&Z)===Z:(ls&Z)===Z){var B=j.revertLane;if(B===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Z===Oa&&(Q=!0);else if((ls&B)===B){j=j.next,B===Oa&&(Q=!0);continue}else Z={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=Z,p=f):x=x.next=Z,kt.lanes|=B,$s|=B;Z=j.action,Wr&&s(f,Z),f=j.hasEagerState?j.eagerState:s(f,Z)}else B={lane:Z,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=B,p=f):x=x.next=B,kt.lanes|=Z,$s|=Z;j=j.next}while(j!==null&&j!==n);if(x===null?p=f:x.next=E,!Un(f,e.memoizedState)&&(Ye=!0,Q&&(s=Ma,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=x,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Ef(e){var n=je(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);Un(f,n.memoizedState)||(Ye=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Jp(e,n,s){var l=kt,h=je(),f=Xt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!Un((pe||h).memoizedState,s);if(p&&(h.memoizedState=s,Ye=!0),h=h.queue,Af(eg.bind(null,l,h,e),[e]),h.getSnapshot!==n||p||Ke!==null&&Ke.memoizedState.tag&1){if(l.flags|=2048,za(9,{destroy:void 0},tg.bind(null,l,h,s,n),null),_e===null)throw Error(a(349));f||(ls&127)!==0||Wp(l,n,s)}return s}function Wp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=kt.updateQueue,n===null?(n=qu(),kt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function tg(e,n,s,l){n.value=s,n.getSnapshot=l,ng(n)&&ig(e)}function eg(e,n,s){return s(function(){ng(n)&&ig(e)})}function ng(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Un(e,s)}catch{return!0}}function ig(e){var n=Gr(e,2);n!==null&&On(n,e,2)}function Tf(e){var n=Sn();if(typeof e=="function"){var s=e;if(e=s(),Wr){Se(!0);try{s()}finally{Se(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:e},n}function sg(e,n,s,l){return e.baseState=s,vf(e,pe,typeof l=="function"?l:os)}function mb(e,n,s,l,h){if(Yu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};F.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,rg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function rg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=F.T,p={};F.T=p;try{var E=s(h,l),x=F.S;x!==null&&x(p,E),ag(e,n,E)}catch(j){bf(e,n,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),F.T=f}}else try{f=s(h,l),ag(e,n,f)}catch(j){bf(e,n,j)}}function ag(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){lg(e,n,l)},function(l){return bf(e,n,l)}):lg(e,n,s)}function lg(e,n,s){n.status="fulfilled",n.value=s,og(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,rg(e,s)))}function bf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,og(n),n=n.next;while(n!==l)}e.action=null}function og(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ug(e,n){return n}function cg(e,n){if(Xt){var s=_e.formState;if(s!==null){t:{var l=kt;if(Xt){if(we){e:{for(var h=we,f=ni;h.nodeType!==8;){if(!f){h=null;break e}if(h=si(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){we=si(h.nextSibling),l=h.data==="F!";break t}}Bs(l)}l=!1}l&&(n=s[0])}}return s=Sn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ug,lastRenderedState:n},s.queue=l,s=xg.bind(null,kt,l),l.dispatch=s,l=Tf(!1),f=If.bind(null,kt,!1,l.queue),l=Sn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=mb.bind(null,kt,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function hg(e){var n=je();return fg(n,pe,e)}function fg(e,n,s){if(n=vf(e,n,ug)[0],e=Fu(os)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=eo(n)}catch(p){throw p===Va?ku:p}else l=n;n=je();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(kt.flags|=2048,za(9,{destroy:void 0},pb.bind(null,h,s),null)),[l,f,e]}function pb(e,n){e.action=n}function dg(e){var n=je(),s=pe;if(s!==null)return fg(n,s,e);je(),n=n.memoizedState,s=je();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function za(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=kt.updateQueue,n===null&&(n=qu(),kt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function mg(){return je().memoizedState}function Qu(e,n,s,l){var h=Sn();kt.flags|=e,h.memoizedState=za(1|n,{destroy:void 0},s,l===void 0?null:l)}function Ku(e,n,s,l){var h=je();l=l===void 0?null:l;var f=h.memoizedState.inst;pe!==null&&l!==null&&df(l,pe.memoizedState.deps)?h.memoizedState=za(n,f,s,l):(kt.flags|=e,h.memoizedState=za(1|n,f,s,l))}function pg(e,n){Qu(8390656,8,e,n)}function Af(e,n){Ku(2048,8,e,n)}function gb(e){kt.flags|=4;var n=kt.updateQueue;if(n===null)n=qu(),kt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function gg(e){var n=je().memoizedState;return gb({ref:n,nextImpl:e}),function(){if((le&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function yg(e,n){return Ku(4,2,e,n)}function _g(e,n){return Ku(4,4,e,n)}function vg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Eg(e,n,s){s=s!=null?s.concat([e]):null,Ku(4,4,vg.bind(null,n,e),s)}function Sf(){}function Tg(e,n){var s=je();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&df(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function bg(e,n){var s=je();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&df(n,l[1]))return l[0];if(l=e(),Wr){Se(!0);try{e()}finally{Se(!1)}}return s.memoizedState=[l,n],l}function wf(e,n,s){return s===void 0||(ls&1073741824)!==0&&(Bt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ay(),kt.lanes|=e,$s|=e,s)}function Ag(e,n,s,l){return Un(s,n)?s:La.current!==null?(e=wf(e,s,l),Un(e,n)||(Ye=!0),e):(ls&42)===0||(ls&1073741824)!==0&&(Bt&261930)===0?(Ye=!0,e.memoizedState=s):(e=Ay(),kt.lanes|=e,$s|=e,n)}function Sg(e,n,s,l,h){var f=lt.p;lt.p=f!==0&&8>f?f:8;var p=F.T,E={};F.T=E,If(e,!1,n,s);try{var x=h(),j=F.S;if(j!==null&&j(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=hb(x,l);no(e,n,Q,qn(e))}else no(e,n,l,qn(e))}catch(Z){no(e,n,{then:function(){},status:"rejected",reason:Z},qn())}finally{lt.p=f,p!==null&&E.types!==null&&(p.types=E.types),F.T=p}}function yb(){}function Rf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=wg(e).queue;Sg(e,h,n,gt,s===null?yb:function(){return Rg(e),s(l)})}function wg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:gt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Rg(e){var n=wg(e);n.next===null&&(n=e.alternate.memoizedState),no(e,n.next.queue,{},qn())}function Cf(){return cn(Eo)}function Cg(){return je().memoizedState}function Ig(){return je().memoizedState}function _b(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=qn();e=Gs(s);var l=Fs(n,e,s);l!==null&&(On(l,n,s),Zl(l,n,s)),n={cache:ef()},e.payload=n;return}n=n.return}}function vb(e,n,s){var l=qn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Yu(e)?Ng(n,s):(s=Gh(e,n,s,l),s!==null&&(On(s,e,l),Dg(s,n,l)))}function xg(e,n,s){var l=qn();no(e,n,s,l)}function no(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))Ng(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,Un(E,p))return Iu(e,n,h,0),_e===null&&Cu(),!1}catch{}finally{}if(s=Gh(e,n,h,l),s!==null)return On(s,e,l),Dg(s,n,l),!0}return!1}function If(e,n,s,l){if(l={lane:2,revertLane:ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(a(479))}else n=Gh(e,s,l,2),n!==null&&On(n,e,2)}function Yu(e){var n=e.alternate;return e===kt||n!==null&&n===kt}function Ng(e,n){Ua=Bu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Dg(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,Sl(e,s)}}var io={readContext:cn,use:Gu,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useLayoutEffect:ke,useInsertionEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useSyncExternalStore:ke,useId:ke,useHostTransitionStatus:ke,useFormState:ke,useActionState:ke,useOptimistic:ke,useMemoCache:ke,useCacheRefresh:ke};io.useEffectEvent=ke;var Og={readContext:cn,use:Gu,useCallback:function(e,n){return Sn().memoizedState=[e,n===void 0?null:n],e},useContext:cn,useEffect:pg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Qu(4194308,4,vg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Qu(4194308,4,e,n)},useInsertionEffect:function(e,n){Qu(4,2,e,n)},useMemo:function(e,n){var s=Sn();n=n===void 0?null:n;var l=e();if(Wr){Se(!0);try{e()}finally{Se(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=Sn();if(s!==void 0){var h=s(n);if(Wr){Se(!0);try{s(n)}finally{Se(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=vb.bind(null,kt,e),[l.memoizedState,e]},useRef:function(e){var n=Sn();return e={current:e},n.memoizedState=e},useState:function(e){e=Tf(e);var n=e.queue,s=xg.bind(null,kt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Sf,useDeferredValue:function(e,n){var s=Sn();return wf(s,e,n)},useTransition:function(){var e=Tf(!1);return e=Sg.bind(null,kt,e.queue,!0,!1),Sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=kt,h=Sn();if(Xt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),_e===null)throw Error(a(349));(Bt&127)!==0||Wp(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,pg(eg.bind(null,l,f,e),[e]),l.flags|=2048,za(9,{destroy:void 0},tg.bind(null,l,f,s,n),null),s},useId:function(){var e=Sn(),n=_e.identifierPrefix;if(Xt){var s=Ui,l=Li;s=(l&~(1<<32-Yt(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Hu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=fb++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cf,useFormState:cg,useActionState:cg,useOptimistic:function(e){var n=Sn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=If.bind(null,kt,!0,s),s.dispatch=n,[e,n]},useMemoCache:_f,useCacheRefresh:function(){return Sn().memoizedState=_b.bind(null,kt)},useEffectEvent:function(e){var n=Sn(),s={impl:e};return n.memoizedState=s,function(){if((le&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},xf={readContext:cn,use:Gu,useCallback:Tg,useContext:cn,useEffect:Af,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:bg,useReducer:Fu,useRef:mg,useState:function(){return Fu(os)},useDebugValue:Sf,useDeferredValue:function(e,n){var s=je();return Ag(s,pe.memoizedState,e,n)},useTransition:function(){var e=Fu(os)[0],n=je().memoizedState;return[typeof e=="boolean"?e:eo(e),n]},useSyncExternalStore:Jp,useId:Cg,useHostTransitionStatus:Cf,useFormState:hg,useActionState:hg,useOptimistic:function(e,n){var s=je();return sg(s,pe,e,n)},useMemoCache:_f,useCacheRefresh:Ig};xf.useEffectEvent=gg;var Mg={readContext:cn,use:Gu,useCallback:Tg,useContext:cn,useEffect:Af,useImperativeHandle:Eg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:bg,useReducer:Ef,useRef:mg,useState:function(){return Ef(os)},useDebugValue:Sf,useDeferredValue:function(e,n){var s=je();return pe===null?wf(s,e,n):Ag(s,pe.memoizedState,e,n)},useTransition:function(){var e=Ef(os)[0],n=je().memoizedState;return[typeof e=="boolean"?e:eo(e),n]},useSyncExternalStore:Jp,useId:Cg,useHostTransitionStatus:Cf,useFormState:dg,useActionState:dg,useOptimistic:function(e,n){var s=je();return pe!==null?sg(s,pe,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Ig};Mg.useEffectEvent=gg;function Nf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Df={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=qn(),h=Gs(l);h.payload=n,s!=null&&(h.callback=s),n=Fs(e,h,l),n!==null&&(On(n,e,l),Zl(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=qn(),h=Gs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Fs(e,h,l),n!==null&&(On(n,e,l),Zl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=qn(),l=Gs(s);l.tag=2,n!=null&&(l.callback=n),n=Fs(e,l,s),n!==null&&(On(n,e,s),Zl(n,e,s))}};function Vg(e,n,s,l,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!ql(s,l)||!ql(h,f):!0}function kg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Df.enqueueReplaceState(n,n.state,null)}function ta(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Lg(e){Ru(e)}function Ug(e){console.error(e)}function Pg(e){Ru(e)}function Xu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function zg(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(e,n,s){return s=Gs(s),s.tag=3,s.payload={element:null},s.callback=function(){Xu(e,n)},s}function jg(e){return e=Gs(e),e.tag=3,e}function Bg(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){zg(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){zg(n,s,l),typeof h!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Eb(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Da(n,s,h,!0),s=zn.current,s!==null){switch(s.tag){case 31:case 13:return ii===null?lc():s.alternate===null&&Le===0&&(Le=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Lu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),id(e,l,h)),!1;case 22:return s.flags|=65536,l===Lu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),id(e,l,h)),!1}throw Error(a(435,s.tag))}return id(e,l,h),lc(),!1}if(Xt)return n=zn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==$h&&(e=Error(a(422),{cause:l}),Ql(Wn(e,s)))):(l!==$h&&(n=Error(a(423),{cause:l}),Ql(Wn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Wn(l,s),h=Of(e.stateNode,l,h),of(e,h),Le!==4&&(Le=2)),!1;var f=Error(a(520),{cause:l});if(f=Wn(f,s),ho===null?ho=[f]:ho.push(f),Le!==4&&(Le=2),n===null)return!0;l=Wn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Of(s.stateNode,l,e),of(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Zs===null||!Zs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=jg(h),Bg(h,e,s,l),of(s,h),!1}s=s.return}while(s!==null);return!1}var Mf=Error(a(461)),Ye=!1;function hn(e,n,s,l){n.child=e===null?Fp(n,null,s,l):Jr(n,e.child,s,l)}function Hg(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return Yr(n),l=mf(e,n,s,p,f,h),E=pf(),e!==null&&!Ye?(gf(e,n,h),us(e,n,h)):(Xt&&E&&Yh(n),n.flags|=1,hn(e,n,l,h),n.child)}function qg(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!Fh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Gg(e,n,f,l,h)):(e=Nu(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Bf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:ql,s(p,l)&&e.ref===n.ref)return us(e,n,h)}return n.flags|=1,e=is(f,l),e.ref=n.ref,e.return=n,n.child=e}function Gg(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(ql(f,l)&&e.ref===n.ref)if(Ye=!1,n.pendingProps=l=f,Bf(e,h))(e.flags&131072)!==0&&(Ye=!0);else return n.lanes=e.lanes,us(e,n,h)}return Vf(e,n,s,l,h)}function Fg(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Qg(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?Yp(n,f):cf(),Xp(n);else return l=n.lanes=536870912,Qg(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Vu(n,f.cachePool),Yp(n,f),Ks(),n.memoizedState=null):(e!==null&&Vu(n,null),cf(),Ks());return hn(e,n,h,s),n.child}function so(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Qg(e,n,s,l,h){var f=sf();return f=f===null?null:{parent:Qe._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Vu(n,null),cf(),Xp(n),e!==null&&Da(e,n,l,!0),n.childLanes=h,null}function $u(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Kg(e,n,s){return Jr(n,e.child,null,s),e=$u(n,n.pendingProps),e.flags|=2,jn(n),n.memoizedState=null,e}function Tb(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Xt){if(l.mode==="hidden")return e=$u(n,l),n.lanes=536870912,so(null,e);if(ff(n),(e=we)?(e=r_(e,ni),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:zs!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},s=Np(e),s.return=n,n.child=s,un=n,we=null)):e=null,e===null)throw Bs(n);return n.lanes=536870912,null}return $u(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=Kg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ye||Da(e,n,s,!1),h=(s&e.childLanes)!==0,Ye||h){if(l=_e,l!==null&&(p=wl(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Gr(e,p),On(l,e,p),Mf;lc(),n=Kg(e,n,s)}else e=f.treeContext,we=si(p.nextSibling),un=n,Xt=!0,js=null,ni=!1,e!==null&&Mp(n,e),n=$u(n,l),n.flags|=4096;return n}return e=is(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Zu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Vf(e,n,s,l,h){return Yr(n),s=mf(e,n,s,l,void 0,h),l=pf(),e!==null&&!Ye?(gf(e,n,h),us(e,n,h)):(Xt&&l&&Yh(n),n.flags|=1,hn(e,n,s,h),n.child)}function Yg(e,n,s,l,h,f){return Yr(n),n.updateQueue=null,s=Zp(n,l,s,h),$p(e),l=pf(),e!==null&&!Ye?(gf(e,n,f),us(e,n,f)):(Xt&&l&&Yh(n),n.flags|=1,hn(e,n,s,f),n.child)}function Xg(e,n,s,l,h){if(Yr(n),n.stateNode===null){var f=Ca,p=s.contextType;typeof p=="object"&&p!==null&&(f=cn(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},af(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?cn(p):Ca,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Nf(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Df.enqueueReplaceState(f,f.state,null),Wl(n,l,f,h),Jl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,x=ta(s,E);f.props=x;var j=f.context,Q=s.contextType;p=Ca,typeof Q=="object"&&Q!==null&&(p=cn(Q));var Z=s.getDerivedStateFromProps;Q=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==p)&&kg(n,f,l,p),qs=!1;var B=n.memoizedState;f.state=B,Wl(n,l,f,h),Jl(),j=n.memoizedState,E||B!==j||qs?(typeof Z=="function"&&(Nf(n,s,Z,l),j=n.memoizedState),(x=qs||Vg(n,s,x,l,B,j,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=p,l=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,lf(e,n),p=n.memoizedProps,Q=ta(s,p),f.props=Q,Z=n.pendingProps,B=f.context,j=s.contextType,x=Ca,typeof j=="object"&&j!==null&&(x=cn(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Z||B!==x)&&kg(n,f,l,x),qs=!1,B=n.memoizedState,f.state=B,Wl(n,l,f,h),Jl();var q=n.memoizedState;p!==Z||B!==q||qs||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof E=="function"&&(Nf(n,s,E,l),q=n.memoizedState),(Q=qs||Vg(n,s,Q,l,B,q,x)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=x,l=Q):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Zu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Jr(n,e.child,null,h),n.child=Jr(n,null,s,h)):hn(e,n,s,h),n.memoizedState=f.state,e=n.child):e=us(e,n,h),e}function $g(e,n,s,l){return Qr(),n.flags|=256,hn(e,n,s,l),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(e){return{baseLanes:e,cachePool:zp()}}function Uf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Hn),e}function Zg(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(ze.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Xt){if(h?Qs(n):Ks(),(e=we)?(e=r_(e,ni),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:zs!==null?{id:Li,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},s=Np(e),s.return=n,n.child=s,un=n,we=null)):e=null,e===null)throw Bs(n);return vd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Ks(),h=n.mode,E=Ju({mode:"hidden",children:E},h),l=Fr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Lf(s),l.childLanes=Uf(e,p,s),n.memoizedState=kf,so(null,l)):(Qs(n),Pf(n,E))}var x=e.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(Qs(n),n.flags&=-257,n=zf(e,n,s)):n.memoizedState!==null?(Ks(),n.child=e.child,n.flags|=128,n=null):(Ks(),E=l.fallback,h=n.mode,l=Ju({mode:"visible",children:l.children},h),E=Fr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Jr(n,e.child,null,s),l=n.child,l.memoizedState=Lf(s),l.childLanes=Uf(e,p,s),n.memoizedState=kf,n=so(null,l));else if(Qs(n),vd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var j=p.dgst;p=j,l=Error(a(419)),l.stack="",l.digest=p,Ql({value:l,source:null,stack:null}),n=zf(e,n,s)}else if(Ye||Da(e,n,s,!1),p=(s&e.childLanes)!==0,Ye||p){if(p=_e,p!==null&&(l=wl(p,s),l!==0&&l!==x.retryLane))throw x.retryLane=l,Gr(e,l),On(p,e,l),Mf;_d(E)||lc(),n=zf(e,n,s)}else _d(E)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,we=si(E.nextSibling),un=n,Xt=!0,js=null,ni=!1,e!==null&&Mp(n,e),n=Pf(n,l.children),n.flags|=4096);return n}return h?(Ks(),E=l.fallback,h=n.mode,x=e.child,j=x.sibling,l=is(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,j!==null?E=is(j,E):(E=Fr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,so(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Lf(s):(h=E.cachePool,h!==null?(x=Qe._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=zp(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Uf(e,p,s),n.memoizedState=kf,so(e.child,l)):(Qs(n),s=e.child,e=s.sibling,s=is(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Pf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=Pn(22,e,null,n),e.lanes=0,e}function zf(e,n,s){return Jr(n,e.child,null,s),e=Pf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Jg(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Wh(e.return,n,s)}function jf(e,n,s,l,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function Wg(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=ze.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,at(ze,p),hn(e,n,l,s),l=Xt?Fl:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jg(e,s,n);else if(e.tag===19)Jg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&ju(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),jf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ju(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}jf(n,!0,s,null,f,l);break;case"together":jf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function us(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),$s|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Da(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=is(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=is(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Bf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function bb(e,n,s){switch(n.tag){case 3:Ue(n,n.stateNode.containerInfo),Hs(n,Qe,e.memoizedState.cache),Qr();break;case 27:case 5:Fn(n);break;case 4:Ue(n,n.stateNode.containerInfo);break;case 10:Hs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Qs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Zg(e,n,s):(Qs(n),e=us(e,n,s),e!==null?e.sibling:null);Qs(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Da(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Wg(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),at(ze,ze.current),l)break;return null;case 22:return n.lanes=0,Fg(e,n,s,n.pendingProps);case 24:Hs(n,Qe,e.memoizedState.cache)}return us(e,n,s)}function ty(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ye=!0;else{if(!Bf(e,s)&&(n.flags&128)===0)return Ye=!1,bb(e,n,s);Ye=(e.flags&131072)!==0}else Ye=!1,Xt&&(n.flags&1048576)!==0&&Op(n,Fl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=$r(n.elementType),n.type=e,typeof e=="function")Fh(e)?(l=ta(e,l),n.tag=1,n=Xg(null,n,e,l,s)):(n.tag=0,n=Vf(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===ie){n.tag=11,n=Hg(null,n,e,l,s);break t}else if(h===N){n.tag=14,n=qg(null,n,e,l,s);break t}}throw n=ve(e)||e,Error(a(306,n,""))}}return n;case 0:return Vf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=ta(l,n.pendingProps),Xg(e,n,l,h,s);case 3:t:{if(Ue(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,lf(e,n),Wl(n,l,null,s);var p=n.memoizedState;if(l=p.cache,Hs(n,Qe,l),l!==f.cache&&tf(n,[Qe],s,!0),Jl(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=$g(e,n,l,s);break t}else if(l!==h){h=Wn(Error(a(424)),n),Ql(h),n=$g(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(we=si(e.firstChild),un=n,Xt=!0,js=null,ni=!0,s=Fp(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Qr(),l===h){n=us(e,n,s);break t}hn(e,n,l,s)}n=n.child}return n;case 26:return Zu(e,n),e===null?(s=h_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Xt||(s=n.type,e=n.pendingProps,l=mc(St.current).createElement(s),l[qe]=n,l[nn]=e,fn(l,s,e),Ge(l),n.stateNode=l):n.memoizedState=h_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Fn(n),e===null&&Xt&&(l=n.stateNode=o_(n.type,n.pendingProps,St.current),un=n,ni=!0,h=we,er(n.type)?(Ed=h,we=si(l.firstChild)):we=h),hn(e,n,n.pendingProps.children,s),Zu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Xt&&((h=l=we)&&(l=Jb(l,n.type,n.pendingProps,ni),l!==null?(n.stateNode=l,un=n,we=si(l.firstChild),ni=!1,h=!0):h=!1),h||Bs(n)),Fn(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,pd(h,f)?l=null:p!==null&&pd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(e,n,db,null,null,s),Eo._currentValue=h),Zu(e,n),hn(e,n,l,s),n.child;case 6:return e===null&&Xt&&((e=s=we)&&(s=Wb(s,n.pendingProps,ni),s!==null?(n.stateNode=s,un=n,we=null,e=!0):e=!1),e||Bs(n)),null;case 13:return Zg(e,n,s);case 4:return Ue(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Jr(n,null,l,s):hn(e,n,l,s),n.child;case 11:return Hg(e,n,n.type,n.pendingProps,s);case 7:return hn(e,n,n.pendingProps,s),n.child;case 8:return hn(e,n,n.pendingProps.children,s),n.child;case 12:return hn(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Hs(n,n.type,l.value),hn(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Yr(n),h=cn(h),l=l(h),n.flags|=1,hn(e,n,l,s),n.child;case 14:return qg(e,n,n.type,n.pendingProps,s);case 15:return Gg(e,n,n.type,n.pendingProps,s);case 19:return Wg(e,n,s);case 31:return Tb(e,n,s);case 22:return Fg(e,n,s,n.pendingProps);case 24:return Yr(n),l=cn(Qe),e===null?(h=sf(),h===null&&(h=_e,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},af(n),Hs(n,Qe,h)):((e.lanes&s)!==0&&(lf(e,n),Wl(n,null,null,s),Jl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Hs(n,Qe,l)):(l=f.cache,Hs(n,Qe,l),l!==h.cache&&tf(n,[Qe],s,!0))),hn(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function cs(e){e.flags|=4}function Hf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Cy())e.flags|=8192;else throw Zr=Lu,rf}else e.flags&=-16777217}function ey(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!g_(n))if(Cy())e.flags|=8192;else throw Zr=Lu,rf}function Wu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ru():536870912,e.lanes|=n,qa|=n)}function ro(e,n){if(!Xt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Re(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function Ab(e,n,s){var l=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(n),null;case 1:return Re(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),as(Qe),Ee(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Na(n)?cs(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),Re(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(cs(n),f!==null?(Re(n),ey(n,f)):(Re(n),Hf(n,h,null,l,s))):f?f!==e.memoizedState?(cs(n),Re(n),ey(n,f)):(Re(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&cs(n),Re(n),Hf(n,h,e,l,s)),null;case 27:if(Is(n),s=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&cs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Re(n),null}e=ut.current,Na(n)?Vp(n):(e=o_(h,l,s),n.stateNode=e,cs(n))}return Re(n),null;case 5:if(Is(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&cs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Re(n),null}if(f=ut.current,Na(n))Vp(n);else{var p=mc(St.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[qe]=n,f[nn]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(fn(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&cs(n)}}return Re(n),Hf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&cs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,Na(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=un,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[qe]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Zy(e.nodeValue,s)),e||Bs(n,!0)}else e=mc(e).createTextNode(l),e[qe]=n,n.stateNode=e}return Re(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=Na(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[qe]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Re(n),e=!1}else s=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(jn(n),n):(jn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Re(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Na(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[qe]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Re(n),h=!1}else h=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(jn(n),n):(jn(n),null)}return jn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Wu(n,n.updateQueue),Re(n),null);case 4:return Ee(),e===null&&cd(n.stateNode.containerInfo),Re(n),null;case 10:return as(n.type),Re(n),null;case 19:if($(ze),l=n.memoizedState,l===null)return Re(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)ro(l,!1);else{if(Le!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ju(e),f!==null){for(n.flags|=128,ro(l,!1),e=f.updateQueue,n.updateQueue=e,Wu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)xp(s,e),s=s.sibling;return at(ze,ze.current&1|2),Xt&&ss(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&nt()>sc&&(n.flags|=128,h=!0,ro(l,!1),n.lanes=4194304)}else{if(!h)if(e=ju(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Wu(n,e),ro(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Xt)return Re(n),null}else 2*nt()-l.renderingStartTime>sc&&s!==536870912&&(n.flags|=128,h=!0,ro(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=nt(),e.sibling=null,s=ze.current,at(ze,h?s&1|2:s&1),Xt&&ss(n,l.treeForkCount),e):(Re(n),null);case 22:case 23:return jn(n),hf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(Re(n),n.subtreeFlags&6&&(n.flags|=8192)):Re(n),s=n.updateQueue,s!==null&&Wu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&$(Xr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),as(Qe),Re(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Sb(e,n){switch(Xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return as(Qe),Ee(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Is(n),null;case 31:if(n.memoizedState!==null){if(jn(n),n.alternate===null)throw Error(a(340));Qr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(jn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Qr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return $(ze),null;case 4:return Ee(),null;case 10:return as(n.type),null;case 22:case 23:return jn(n),hf(),e!==null&&$(Xr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return as(Qe),null;case 25:return null;default:return null}}function ny(e,n){switch(Xh(n),n.tag){case 3:as(Qe),Ee();break;case 26:case 27:case 5:Is(n);break;case 4:Ee();break;case 31:n.memoizedState!==null&&jn(n);break;case 13:jn(n);break;case 19:$(ze);break;case 10:as(n.type);break;case 22:case 23:jn(n),hf(),e!==null&&$(Xr);break;case 24:as(Qe)}}function ao(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(E){fe(n,n.return,E)}}function Ys(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var x=s,j=E;try{j()}catch(Q){fe(h,x,Q)}}}l=l.next}while(l!==f)}}catch(Q){fe(n,n.return,Q)}}function iy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Kp(n,s)}catch(l){fe(e,e.return,l)}}}function sy(e,n,s){s.props=ta(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){fe(e,n,l)}}function lo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){fe(e,n,h)}}function Pi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){fe(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){fe(e,n,h)}else s.current=null}function ry(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){fe(e,e.return,h)}}function qf(e,n,s){try{var l=e.stateNode;Qb(l,e.type,s,n),l[nn]=n}catch(h){fe(e,e.return,h)}}function ay(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&er(e.type)||e.tag===4}function Gf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&er(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ff(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=hi));else if(l!==4&&(l===27&&er(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Ff(e,n,s),e=e.sibling;e!==null;)Ff(e,n,s),e=e.sibling}function tc(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&er(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(tc(e,n,s),e=e.sibling;e!==null;)tc(e,n,s),e=e.sibling}function ly(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);fn(n,l,s),n[qe]=e,n[nn]=s}catch(f){fe(e,e.return,f)}}var hs=!1,Xe=!1,Qf=!1,oy=typeof WeakSet=="function"?WeakSet:Set,rn=null;function wb(e,n){if(e=e.containerInfo,dd=Tc,e=Ep(e),Ph(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,x=-1,j=0,Q=0,Z=e,B=null;e:for(;;){for(var q;Z!==s||h!==0&&Z.nodeType!==3||(E=p+h),Z!==f||l!==0&&Z.nodeType!==3||(x=p+l),Z.nodeType===3&&(p+=Z.nodeValue.length),(q=Z.firstChild)!==null;)B=Z,Z=q;for(;;){if(Z===e)break e;if(B===s&&++j===h&&(E=p),B===f&&++Q===l&&(x=p),(q=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=q}s=E===-1||x===-1?null:{start:E,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(md={focusedElem:e,selectionRange:s},Tc=!1,rn=n;rn!==null;)if(n=rn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,rn=e;else for(;rn!==null;){switch(n=rn,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ht=ta(s.type,h);e=l.getSnapshotBeforeUpdate(ht,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(bt){fe(s,s.return,bt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)yd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,rn=e;break}rn=n.return}}function uy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ds(e,s),l&4&&ao(5,s);break;case 1:if(ds(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){fe(s,s.return,p)}else{var h=ta(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){fe(s,s.return,p)}}l&64&&iy(s),l&512&&lo(s,s.return);break;case 3:if(ds(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Kp(e,n)}catch(p){fe(s,s.return,p)}}break;case 27:n===null&&l&4&&ly(s);case 26:case 5:ds(e,s),n===null&&l&4&&ry(s),l&512&&lo(s,s.return);break;case 12:ds(e,s);break;case 31:ds(e,s),l&4&&fy(e,s);break;case 13:ds(e,s),l&4&&dy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Vb.bind(null,s),t1(e,s))));break;case 22:if(l=s.memoizedState!==null||hs,!l){n=n!==null&&n.memoizedState!==null||Xe,h=hs;var f=Xe;hs=l,(Xe=n)&&!f?ms(e,s,(s.subtreeFlags&8772)!==0):ds(e,s),hs=h,Xe=f}break;case 30:break;default:ds(e,s)}}function cy(e){var n=e.alternate;n!==null&&(e.alternate=null,cy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&da(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var De=null,In=!1;function fs(e,n,s){for(s=s.child;s!==null;)hy(e,n,s),s=s.sibling}function hy(e,n,s){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(It,s)}catch{}switch(s.tag){case 26:Xe||Pi(s,n),fs(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Xe||Pi(s,n);var l=De,h=In;er(s.type)&&(De=s.stateNode,In=!1),fs(e,n,s),yo(s.stateNode),De=l,In=h;break;case 5:Xe||Pi(s,n);case 6:if(l=De,h=In,De=null,fs(e,n,s),De=l,In=h,De!==null)if(In)try{(De.nodeType===9?De.body:De.nodeName==="HTML"?De.ownerDocument.body:De).removeChild(s.stateNode)}catch(f){fe(s,n,f)}else try{De.removeChild(s.stateNode)}catch(f){fe(s,n,f)}break;case 18:De!==null&&(In?(e=De,i_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Za(e)):i_(De,s.stateNode));break;case 4:l=De,h=In,De=s.stateNode.containerInfo,In=!0,fs(e,n,s),De=l,In=h;break;case 0:case 11:case 14:case 15:Ys(2,s,n),Xe||Ys(4,s,n),fs(e,n,s);break;case 1:Xe||(Pi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&sy(s,n,l)),fs(e,n,s);break;case 21:fs(e,n,s);break;case 22:Xe=(l=Xe)||s.memoizedState!==null,fs(e,n,s),Xe=l;break;default:fs(e,n,s)}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Za(e)}catch(s){fe(n,n.return,s)}}}function dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Za(e)}catch(s){fe(n,n.return,s)}}function Rb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new oy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new oy),n;default:throw Error(a(435,e.tag))}}function ec(e,n){var s=Rb(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=kb.bind(null,e,l);l.then(h,h)}})}function xn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(er(E.type)){De=E.stateNode,In=!1;break t}break;case 5:De=E.stateNode,In=!1;break t;case 3:case 4:De=E.stateNode.containerInfo,In=!0;break t}E=E.return}if(De===null)throw Error(a(160));hy(f,p,h),De=null,In=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)my(n,e),n=n.sibling}var yi=null;function my(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xn(n,e),Nn(e),l&4&&(Ys(3,e,e.return),ao(3,e),Ys(5,e,e.return));break;case 1:xn(n,e),Nn(e),l&512&&(Xe||s===null||Pi(s,s.return)),l&64&&hs&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=yi;if(xn(n,e),Nn(e),l&512&&(Xe||s===null||Pi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Si]||f[qe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),fn(f,l,s),f[qe]=e,Ge(f),l=f;break t;case"link":var p=m_("link","href",h).get(l+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(l),fn(f,l,s),h.head.appendChild(f);break;case"meta":if(p=m_("meta","content",h).get(l+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(l),fn(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[qe]=e,Ge(f),l=f}e.stateNode=l}else p_(h,e.type,e.stateNode);else e.stateNode=d_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?p_(h,e.type,e.stateNode):d_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&qf(e,e.memoizedProps,s.memoizedProps)}break;case 27:xn(n,e),Nn(e),l&512&&(Xe||s===null||Pi(s,s.return)),s!==null&&l&4&&qf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(xn(n,e),Nn(e),l&512&&(Xe||s===null||Pi(s,s.return)),e.flags&32){h=e.stateNode;try{Cn(h,"")}catch(ht){fe(e,e.return,ht)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,qf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Qf=!0);break;case 6:if(xn(n,e),Nn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ht){fe(e,e.return,ht)}}break;case 3:if(yc=null,h=yi,yi=pc(n.containerInfo),xn(n,e),yi=h,Nn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Za(n.containerInfo)}catch(ht){fe(e,e.return,ht)}Qf&&(Qf=!1,py(e));break;case 4:l=yi,yi=pc(e.stateNode.containerInfo),xn(n,e),Nn(e),yi=l;break;case 12:xn(n,e),Nn(e);break;case 31:xn(n,e),Nn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ec(e,l)));break;case 13:xn(n,e),Nn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ic=nt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ec(e,l)));break;case 22:h=e.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,j=hs,Q=Xe;if(hs=j||h,Xe=Q||x,xn(n,e),Xe=Q,hs=j,Nn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||x||hs||Xe||ea(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){x=s=n;try{if(f=x.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=x.stateNode;var Z=x.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ht){fe(x,x.return,ht)}}}else if(n.tag===6){if(s===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(ht){fe(x,x.return,ht)}}}else if(n.tag===18){if(s===null){x=n;try{var q=x.stateNode;h?s_(q,!0):s_(x.stateNode,!1)}catch(ht){fe(x,x.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,ec(e,s))));break;case 19:xn(n,e),Nn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ec(e,l)));break;case 30:break;case 21:break;default:xn(n,e),Nn(e)}}function Nn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(ay(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Gf(e);tc(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(Cn(p,""),s.flags&=-33);var E=Gf(e);tc(e,E,p);break;case 3:case 4:var x=s.stateNode.containerInfo,j=Gf(e);Ff(e,j,x);break;default:throw Error(a(161))}}catch(Q){fe(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;py(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ds(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)uy(e,n.alternate,n),n=n.sibling}function ea(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ys(4,n,n.return),ea(n);break;case 1:Pi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&sy(n,n.return,s),ea(n);break;case 27:yo(n.stateNode);case 26:case 5:Pi(n,n.return),ea(n);break;case 22:n.memoizedState===null&&ea(n);break;case 30:ea(n);break;default:ea(n)}e=e.sibling}}function ms(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ms(h,f,s),ao(4,f);break;case 1:if(ms(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){fe(l,l.return,j)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Qp(x[h],E)}catch(j){fe(l,l.return,j)}}s&&p&64&&iy(f),lo(f,f.return);break;case 27:ly(f);case 26:case 5:ms(h,f,s),s&&l===null&&p&4&&ry(f),lo(f,f.return);break;case 12:ms(h,f,s);break;case 31:ms(h,f,s),s&&p&4&&fy(h,f);break;case 13:ms(h,f,s),s&&p&4&&dy(h,f);break;case 22:f.memoizedState===null&&ms(h,f,s),lo(f,f.return);break;case 30:break;default:ms(h,f,s)}n=n.sibling}}function Kf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Kl(s))}function Yf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Kl(e))}function _i(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gy(e,n,s,l),n=n.sibling}function gy(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:_i(e,n,s,l),h&2048&&ao(9,n);break;case 1:_i(e,n,s,l);break;case 3:_i(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Kl(e)));break;case 12:if(h&2048){_i(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){fe(n,n.return,x)}}else _i(e,n,s,l);break;case 31:_i(e,n,s,l);break;case 13:_i(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?_i(e,n,s,l):oo(e,n):f._visibility&2?_i(e,n,s,l):(f._visibility|=2,ja(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(p,n);break;case 24:_i(e,n,s,l),h&2048&&Yf(n.alternate,n);break;default:_i(e,n,s,l)}}function ja(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,x=l,j=p.flags;switch(p.tag){case 0:case 11:case 15:ja(f,p,E,x,h),ao(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?ja(f,p,E,x,h):oo(f,p):(Q._visibility|=2,ja(f,p,E,x,h)),h&&j&2048&&Kf(p.alternate,p);break;case 24:ja(f,p,E,x,h),h&&j&2048&&Yf(p.alternate,p);break;default:ja(f,p,E,x,h)}n=n.sibling}}function oo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:oo(s,l),h&2048&&Kf(l.alternate,l);break;case 24:oo(s,l),h&2048&&Yf(l.alternate,l);break;default:oo(s,l)}n=n.sibling}}var uo=8192;function Ba(e,n,s){if(e.subtreeFlags&uo)for(e=e.child;e!==null;)yy(e,n,s),e=e.sibling}function yy(e,n,s){switch(e.tag){case 26:Ba(e,n,s),e.flags&uo&&e.memoizedState!==null&&f1(s,yi,e.memoizedState,e.memoizedProps);break;case 5:Ba(e,n,s);break;case 3:case 4:var l=yi;yi=pc(e.stateNode.containerInfo),Ba(e,n,s),yi=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=uo,uo=16777216,Ba(e,n,s),uo=l):Ba(e,n,s));break;default:Ba(e,n,s)}}function _y(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function co(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];rn=l,Ey(l,e)}_y(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vy(e),e=e.sibling}function vy(e){switch(e.tag){case 0:case 11:case 15:co(e),e.flags&2048&&Ys(9,e,e.return);break;case 3:co(e);break;case 12:co(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,nc(e)):co(e);break;default:co(e)}}function nc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];rn=l,Ey(l,e)}_y(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ys(8,n,n.return),nc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,nc(n));break;default:nc(n)}e=e.sibling}}function Ey(e,n){for(;rn!==null;){var s=rn;switch(s.tag){case 0:case 11:case 15:Ys(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Kl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,rn=l;else t:for(s=e;rn!==null;){l=rn;var h=l.sibling,f=l.return;if(cy(l),l===s){rn=null;break t}if(h!==null){h.return=f,rn=h;break t}rn=f}}}var Cb={getCacheForType:function(e){var n=cn(Qe),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return cn(Qe).controller.signal}},Ib=typeof WeakMap=="function"?WeakMap:Map,le=0,_e=null,Pt=null,Bt=0,he=0,Bn=null,Xs=!1,Ha=!1,Xf=!1,ps=0,Le=0,$s=0,na=0,$f=0,Hn=0,qa=0,ho=null,Dn=null,Zf=!1,ic=0,Ty=0,sc=1/0,rc=null,Zs=null,We=0,Js=null,Ga=null,gs=0,Jf=0,Wf=null,by=null,fo=0,td=null;function qn(){return(le&2)!==0&&Bt!==0?Bt&-Bt:F.T!==null?ad():au()}function Ay(){if(Hn===0)if((Bt&536870912)===0||Xt){var e=xr;xr<<=1,(xr&3932160)===0&&(xr=262144),Hn=e}else Hn=536870912;return e=zn.current,e!==null&&(e.flags|=32),Hn}function On(e,n,s){(e===_e&&(he===2||he===9)||e.cancelPendingCommit!==null)&&(Fa(e,0),Ws(e,Bt,Hn,!1)),Nr(e,s),((le&2)===0||e!==_e)&&(e===_e&&((le&2)===0&&(na|=s),Le===4&&Ws(e,Bt,Hn,!1)),zi(e))}function Sy(e,n,s){if((le&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||oi(e,n),h=l?Db(e,n):nd(e,n,!0),f=l;do{if(h===0){Ha&&!l&&Ws(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!xb(s)){h=nd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=ho;var x=E.current.memoizedState.isDehydrated;if(x&&(Fa(E,p).flags|=256),p=nd(E,p,!1),p!==2){if(Xf&&!x){E.errorRecoveryDisabledLanes|=f,na|=f,h=4;break t}f=Dn,Dn=h,f!==null&&(Dn===null?Dn=f:Dn.push.apply(Dn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Fa(e,0),Ws(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ws(l,n,Hn,!Xs);break t;case 2:Dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-nt(),10<h)){if(Ws(l,n,Hn,!Xs),Ti(l,0,!0)!==0)break t;gs=n,l.timeoutHandle=e_(wy.bind(null,l,s,Dn,rc,Zf,n,Hn,na,qa,Xs,f,"Throttled",-0,0),h);break t}wy(l,s,Dn,rc,Zf,n,Hn,na,qa,Xs,f,null,-0,0)}}break}while(!0);zi(e)}function wy(e,n,s,l,h,f,p,E,x,j,Q,Z,B,q){if(e.timeoutHandle=-1,Z=n.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},yy(n,f,Z);var ht=(f&62914560)===f?ic-nt():(f&4194048)===f?Ty-nt():0;if(ht=d1(Z,ht),ht!==null){gs=f,e.cancelPendingCommit=ht(My.bind(null,e,n,f,s,l,h,p,E,x,Q,Z,null,B,q)),Ws(e,f,p,!j);return}}My(e,n,f,s,l,h,p,E,x)}function xb(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!Un(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ws(e,n,s,l){n&=~$f,n&=~na,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-Yt(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&Dr(e,s,n)}function ac(){return(le&6)===0?(mo(0),!1):!0}function ed(){if(Pt!==null){if(he===0)var e=Pt.return;else e=Pt,rs=Kr=null,yf(e),ka=null,Xl=0,e=Pt;for(;e!==null;)ny(e.alternate,e),e=e.return;Pt=null}}function Fa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Xb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),gs=0,ed(),_e=e,Pt=s=is(e.current,null),Bt=n,he=0,Bn=null,Xs=!1,Ha=oi(e,n),Xf=!1,qa=Hn=$f=na=$s=Le=0,Dn=ho=null,Zf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-Yt(l),f=1<<h;n|=e[h],l&=~f}return ps=n,Cu(),s}function Ry(e,n){kt=null,F.H=io,n===Va||n===ku?(n=Hp(),he=3):n===rf?(n=Hp(),he=4):he=n===Mf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Bn=n,Pt===null&&(Le=1,Xu(e,Wn(n,e.current)))}function Cy(){var e=zn.current;return e===null?!0:(Bt&4194048)===Bt?ii===null:(Bt&62914560)===Bt||(Bt&536870912)!==0?e===ii:!1}function Iy(){var e=F.H;return F.H=io,e===null?io:e}function xy(){var e=F.A;return F.A=Cb,e}function lc(){Le=4,Xs||(Bt&4194048)!==Bt&&zn.current!==null||(Ha=!0),($s&134217727)===0&&(na&134217727)===0||_e===null||Ws(_e,Bt,Hn,!1)}function nd(e,n,s){var l=le;le|=2;var h=Iy(),f=xy();(_e!==e||Bt!==n)&&(rc=null,Fa(e,n)),n=!1;var p=Le;t:do try{if(he!==0&&Pt!==null){var E=Pt,x=Bn;switch(he){case 8:ed(),p=6;break t;case 3:case 2:case 9:case 6:zn.current===null&&(n=!0);var j=he;if(he=0,Bn=null,Qa(e,E,x,j),s&&Ha){p=0;break t}break;default:j=he,he=0,Bn=null,Qa(e,E,x,j)}}Nb(),p=Le;break}catch(Q){Ry(e,Q)}while(!0);return n&&e.shellSuspendCounter++,rs=Kr=null,le=l,F.H=h,F.A=f,Pt===null&&(_e=null,Bt=0,Cu()),p}function Nb(){for(;Pt!==null;)Ny(Pt)}function Db(e,n){var s=le;le|=2;var l=Iy(),h=xy();_e!==e||Bt!==n?(rc=null,sc=nt()+500,Fa(e,n)):Ha=oi(e,n);t:do try{if(he!==0&&Pt!==null){n=Pt;var f=Bn;e:switch(he){case 1:he=0,Bn=null,Qa(e,n,f,1);break;case 2:case 9:if(jp(f)){he=0,Bn=null,Dy(n);break}n=function(){he!==2&&he!==9||_e!==e||(he=7),zi(e)},f.then(n,n);break t;case 3:he=7;break t;case 4:he=5;break t;case 7:jp(f)?(he=0,Bn=null,Dy(n)):(he=0,Bn=null,Qa(e,n,f,7));break;case 5:var p=null;switch(Pt.tag){case 26:p=Pt.memoizedState;case 5:case 27:var E=Pt;if(p?g_(p):E.stateNode.complete){he=0,Bn=null;var x=E.sibling;if(x!==null)Pt=x;else{var j=E.return;j!==null?(Pt=j,oc(j)):Pt=null}break e}}he=0,Bn=null,Qa(e,n,f,5);break;case 6:he=0,Bn=null,Qa(e,n,f,6);break;case 8:ed(),Le=6;break t;default:throw Error(a(462))}}Ob();break}catch(Q){Ry(e,Q)}while(!0);return rs=Kr=null,F.H=l,F.A=h,le=s,Pt!==null?0:(_e=null,Bt=0,Cu(),Le)}function Ob(){for(;Pt!==null&&!ft();)Ny(Pt)}function Ny(e){var n=ty(e.alternate,e,ps);e.memoizedProps=e.pendingProps,n===null?oc(e):Pt=n}function Dy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Yg(s,n,n.pendingProps,n.type,void 0,Bt);break;case 11:n=Yg(s,n,n.pendingProps,n.type.render,n.ref,Bt);break;case 5:yf(n);default:ny(s,n),n=Pt=xp(n,ps),n=ty(s,n,ps)}e.memoizedProps=e.pendingProps,n===null?oc(e):Pt=n}function Qa(e,n,s,l){rs=Kr=null,yf(n),ka=null,Xl=0;var h=n.return;try{if(Eb(e,h,n,s,Bt)){Le=1,Xu(e,Wn(s,e.current)),Pt=null;return}}catch(f){if(h!==null)throw Pt=h,f;Le=1,Xu(e,Wn(s,e.current)),Pt=null;return}n.flags&32768?(Xt||l===1?e=!0:Ha||(Bt&536870912)!==0?e=!1:(Xs=e=!0,(l===2||l===9||l===3||l===6)&&(l=zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Oy(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){Oy(n,Xs);return}e=n.return;var s=Ab(n.alternate,n,ps);if(s!==null){Pt=s;return}if(n=n.sibling,n!==null){Pt=n;return}Pt=n=e}while(n!==null);Le===0&&(Le=5)}function Oy(e,n){do{var s=Sb(e.alternate,e);if(s!==null){s.flags&=32767,Pt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Pt=e;return}Pt=e=s}while(e!==null);Le=6,Pt=null}function My(e,n,s,l,h,f,p,E,x){e.cancelPendingCommit=null;do uc();while(We!==0);if((le&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=qh,Vh(e,s,f,p,E,x),e===_e&&(Pt=_e=null,Bt=0),Ga=n,Js=e,gs=s,Jf=f,Wf=h,by=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Lb(Ae,function(){return Py(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=lt.p,lt.p=2,p=le,le|=4;try{wb(e,n,s)}finally{le=p,lt.p=h,F.T=l}}We=1,Vy(),ky(),Ly()}}function Vy(){if(We===1){We=0;var e=Js,n=Ga,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=F.T,F.T=null;var l=lt.p;lt.p=2;var h=le;le|=4;try{my(n,e);var f=md,p=Ep(e.containerInfo),E=f.focusedElem,x=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&vp(E.ownerDocument.documentElement,E)){if(x!==null&&Ph(E)){var j=x.start,Q=x.end;if(Q===void 0&&(Q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Q,E.value.length);else{var Z=E.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var q=B.getSelection(),ht=E.textContent.length,bt=Math.min(x.start,ht),ye=x.end===void 0?bt:Math.min(x.end,ht);!q.extend&&bt>ye&&(p=ye,ye=bt,bt=p);var L=_p(E,bt),O=_p(E,ye);if(L&&O&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var z=Z.createRange();z.setStart(L.node,L.offset),q.removeAllRanges(),bt>ye?(q.addRange(z),q.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),q.addRange(z))}}}}for(Z=[],q=E;q=q.parentNode;)q.nodeType===1&&Z.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var Y=Z[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Tc=!!dd,md=dd=null}finally{le=h,lt.p=l,F.T=s}}e.current=n,We=2}}function ky(){if(We===2){We=0;var e=Js,n=Ga,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=F.T,F.T=null;var l=lt.p;lt.p=2;var h=le;le|=4;try{uy(e,n.alternate,n)}finally{le=h,lt.p=l,F.T=s}}We=3}}function Ly(){if(We===4||We===3){We=0,vt();var e=Js,n=Ga,s=gs,l=by;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?We=5:(We=0,Ga=Js=null,Uy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Zs=null),Wi(s),n=n.stateNode,Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(It,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=F.T,h=lt.p,lt.p=2,F.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var E=l[p];f(E.value,{componentStack:E.stack})}}finally{F.T=n,lt.p=h}}(gs&3)!==0&&uc(),zi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===td?fo++:(fo=0,td=e):fo=0,mo(0)}}function Uy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Kl(n)))}function uc(){return Vy(),ky(),Ly(),Py()}function Py(){if(We!==5)return!1;var e=Js,n=Jf;Jf=0;var s=Wi(gs),l=F.T,h=lt.p;try{lt.p=32>s?32:s,F.T=null,s=Wf,Wf=null;var f=Js,p=gs;if(We=0,Ga=Js=null,gs=0,(le&6)!==0)throw Error(a(331));var E=le;if(le|=4,vy(f.current),gy(f,f.current,p,s),le=E,mo(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(It,f)}catch{}return!0}finally{lt.p=h,F.T=l,Uy(e,n)}}function zy(e,n,s){n=Wn(s,n),n=Of(e.stateNode,n,2),e=Fs(e,n,2),e!==null&&(Nr(e,2),zi(e))}function fe(e,n,s){if(e.tag===3)zy(e,e,s);else for(;n!==null;){if(n.tag===3){zy(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zs===null||!Zs.has(l))){e=Wn(s,e),s=jg(2),l=Fs(n,s,2),l!==null&&(Bg(s,l,n,e),Nr(l,2),zi(l));break}}n=n.return}}function id(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new Ib;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Xf=!0,h.add(s),e=Mb.bind(null,e,n,s),n.then(e,e))}function Mb(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,_e===e&&(Bt&s)===s&&(Le===4||Le===3&&(Bt&62914560)===Bt&&300>nt()-ic?(le&2)===0&&Fa(e,0):$f|=s,qa===Bt&&(qa=0)),zi(e)}function jy(e,n){n===0&&(n=ru()),e=Gr(e,n),e!==null&&(Nr(e,n),zi(e))}function Vb(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),jy(e,s)}function kb(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),jy(e,s)}function Lb(e,n){return it(e,n)}var cc=null,Ka=null,sd=!1,hc=!1,rd=!1,tr=0;function zi(e){e!==Ka&&e.next===null&&(Ka===null?cc=Ka=e:Ka=Ka.next=e),hc=!0,sd||(sd=!0,Pb())}function mo(e,n){if(!rd&&hc){rd=!0;do for(var s=!1,l=cc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Yt(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Gy(l,f))}else f=Bt,f=Ti(l,l===_e?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||oi(l,f)||(s=!0,Gy(l,f));l=l.next}while(s);rd=!1}}function Ub(){By()}function By(){hc=sd=!1;var e=0;tr!==0&&Yb()&&(e=tr);for(var n=nt(),s=null,l=cc;l!==null;){var h=l.next,f=Hy(l,n);f===0?(l.next=null,s===null?cc=h:s.next=h,h===null&&(Ka=s)):(s=l,(e!==0||(f&3)!==0)&&(hc=!0)),l=h}We!==0&&We!==5||mo(e),tr!==0&&(tr=0)}function Hy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-Yt(f),E=1<<p,x=h[p];x===-1?((E&s)===0||(E&l)!==0)&&(h[p]=Mh(E,n)):x<=n&&(e.expiredLanes|=E),f&=~E}if(n=_e,s=Bt,s=Ti(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(he===2||he===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Et(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||oi(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&Et(l),Wi(s)){case 2:case 8:s=be;break;case 32:s=Ae;break;case 268435456:s=re;break;default:s=Ae}return l=qy.bind(null,e),s=it(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&Et(l),e.callbackPriority=2,e.callbackNode=null,2}function qy(e,n){if(We!==0&&We!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(uc()&&e.callbackNode!==s)return null;var l=Bt;return l=Ti(e,e===_e?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Sy(e,l,n),Hy(e,nt()),e.callbackNode!=null&&e.callbackNode===s?qy.bind(null,e):null)}function Gy(e,n){if(uc())return null;Sy(e,n,!0)}function Pb(){$b(function(){(le&6)!==0?it(de,Ub):By()})}function ad(){if(tr===0){var e=Oa;e===0&&(e=gn,gn<<=1,(gn&261888)===0&&(gn=256)),tr=e}return tr}function Fy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ya(""+e)}function Qy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function zb(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Fy((h[nn]||null).action),p=l.submitter;p&&(n=(n=p[nn]||null)?Fy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new Oi("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(tr!==0){var x=p?Qy(h,p):new FormData(h);Rf(s,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=p?Qy(h,p):new FormData(h),Rf(s,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var ld=0;ld<Hh.length;ld++){var od=Hh[ld],jb=od.toLowerCase(),Bb=od[0].toUpperCase()+od.slice(1);gi(jb,"on"+Bb)}gi(Ap,"onAnimationEnd"),gi(Sp,"onAnimationIteration"),gi(wp,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(ib,"onTransitionRun"),gi(sb,"onTransitionStart"),gi(rb,"onTransitionCancel"),gi(Rp,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),Ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(po));function Ky(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],x=E.instance,j=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Q){Ru(Q)}h.currentTarget=null,f=x}else for(p=0;p<l.length;p++){if(E=l[p],x=E.instance,j=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Q){Ru(Q)}h.currentTarget=null,f=x}}}}function zt(e,n){var s=n[fa];s===void 0&&(s=n[fa]=new Set);var l=e+"__bubble";s.has(l)||(Yy(n,e,2,!1),s.add(l))}function ud(e,n,s){var l=0;n&&(l|=4),Yy(s,e,l,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[fc]){e[fc]=!0,Rl.forEach(function(s){s!=="selectionchange"&&(Hb.has(s)||ud(s,!1,e),ud(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fc]||(n[fc]=!0,ud("selectionchange",!1,n))}}function Yy(e,n,s,l){switch(A_(n)){case 2:var h=g1;break;case 8:h=y1;break;default:h=wd}s=h.bind(null,n,s,e),h=void 0,!Lr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function hd(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=l.return;p!==null;){var x=p.tag;if((x===3||x===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=wi(E),p===null)return;if(x=p.tag,x===5||x===6||x===26||x===27){l=f=p;continue t}E=E.parentNode}}l=l.return}ks(function(){var j=f,Q=Xn(s),Z=[];t:{var B=Cp.get(e);if(B!==void 0){var q=Oi,ht=e;switch(e){case"keypress":if(Pr(s)===0)break t;case"keydown":case"keyup":q=Au;break;case"focusin":ht="focus",q=jr;break;case"focusout":ht="blur",q=jr;break;case"beforeblur":case"afterblur":q=jr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Ap:case Sp:case wp:q=gu;break;case Rp:q=T;break;case"scroll":case"scrollend":q=Pl;break;case"wheel":q=H;break;case"copy":case"cut":case"paste":q=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ns;break;case"toggle":case"beforetoggle":q=Vt}var bt=(n&4)!==0,ye=!bt&&(e==="scroll"||e==="scrollend"),L=bt?B!==null?B+"Capture":null:B;bt=[];for(var O=j,z;O!==null;){var Y=O;if(z=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||z===null||L===null||(Y=fi(O,L),Y!=null&&bt.push(go(O,Y,z))),ye)break;O=O.return}0<bt.length&&(B=new q(B,ht,null,s,Q),Z.push({event:B,listeners:bt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",B&&s!==kl&&(ht=s.relatedTarget||s.fromElement)&&(wi(ht)||ht[Ai]))break t;if((q||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,q?(ht=s.relatedTarget||s.toElement,q=j,ht=ht?wi(ht):null,ht!==null&&(ye=c(ht),bt=ht.tag,ht!==ye||bt!==5&&bt!==27&&bt!==6)&&(ht=null)):(q=null,ht=j),q!==ht)){if(bt=zl,Y="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(bt=ns,Y="onPointerLeave",L="onPointerEnter",O="pointer"),ye=q==null?B:kn(q),z=ht==null?B:kn(ht),B=new bt(Y,O+"leave",q,s,Q),B.target=ye,B.relatedTarget=z,Y=null,wi(Q)===j&&(bt=new bt(L,O+"enter",ht,s,Q),bt.target=z,bt.relatedTarget=ye,Y=bt),ye=Y,q&&ht)e:{for(bt=qb,L=q,O=ht,z=0,Y=L;Y;Y=bt(Y))z++;Y=0;for(var _t=O;_t;_t=bt(_t))Y++;for(;0<z-Y;)L=bt(L),z--;for(;0<Y-z;)O=bt(O),Y--;for(;z--;){if(L===O||O!==null&&L===O.alternate){bt=L;break e}L=bt(L),O=bt(O)}bt=null}else bt=null;q!==null&&Xy(Z,B,q,bt,!1),ht!==null&&ye!==null&&Xy(Z,ye,ht,bt,!0)}}t:{if(B=j?kn(j):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var Jt=fp;else if(cp(B))if(dp)Jt=tb;else{Jt=JT;var dt=ZT}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&ga(j.elementType)&&(Jt=fp):Jt=WT;if(Jt&&(Jt=Jt(e,j))){hp(Z,Jt,s,Q);break t}dt&&dt(e,B,j),e==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Ol(B,"number",B.value)}switch(dt=j?kn(j):window,e){case"focusin":(cp(dt)||dt.contentEditable==="true")&&(Sa=dt,zh=j,Gl=null);break;case"focusout":Gl=zh=Sa=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Tp(Z,s,Q);break;case"selectionchange":if(nb)break;case"keydown":case"keyup":Tp(Z,s,Q)}var Lt;if(ae)t:{switch(e){case"compositionstart":var Ht="onCompositionStart";break t;case"compositionend":Ht="onCompositionEnd";break t;case"compositionupdate":Ht="onCompositionUpdate";break t}Ht=void 0}else Aa?Br(e,s)&&(Ht="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ht="onCompositionStart");Ht&&(ki&&s.locale!=="ko"&&(Aa||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&Aa&&(Lt=Ul()):(Di=Q,Ll="value"in Di?Di.value:Di.textContent,Aa=!0)),dt=dc(j,Ht),0<dt.length&&(Ht=new Vi(Ht,e,null,s,Q),Z.push({event:Ht,listeners:dt}),Lt?Ht.data=Lt:(Lt=ba(s),Lt!==null&&(Ht.data=Lt)))),(Lt=Zn?KT(e,s):YT(e,s))&&(Ht=dc(j,"onBeforeInput"),0<Ht.length&&(dt=new Vi("onBeforeInput","beforeinput",null,s,Q),Z.push({event:dt,listeners:Ht}),dt.data=Lt)),zb(Z,e,j,s,Q)}Ky(Z,n)})}function go(e,n,s){return{instance:e,listener:n,currentTarget:s}}function dc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=fi(e,s),h!=null&&l.unshift(go(e,h,f)),h=fi(e,n),h!=null&&l.push(go(e,h,f))),e.tag===3)return l;e=e.return}return[]}function qb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xy(e,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var E=s,x=E.alternate,j=E.stateNode;if(E=E.tag,x!==null&&x===l)break;E!==5&&E!==26&&E!==27||j===null||(x=j,h?(j=fi(s,f),j!=null&&p.unshift(go(s,j,x))):h||(j=fi(s,f),j!=null&&p.push(go(s,j,x)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var Gb=/\r\n?/g,Fb=/\u0000|\uFFFD/g;function $y(e){return(typeof e=="string"?e:""+e).replace(Gb,`
`).replace(Fb,"")}function Zy(e,n){return n=$y(n),$y(e)===n}function ge(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Cn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Cn(e,""+l);break;case"className":Ln(e,"class",l);break;case"tabIndex":Ln(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(e,s,l);break;case"style":Vl(e,l,f);break;case"data":if(n!=="object"){Ln(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ya(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ge(e,n,"name",h.name,h,null),ge(e,n,"formEncType",h.formEncType,h,null),ge(e,n,"formMethod",h.formMethod,h,null),ge(e,n,"formTarget",h.formTarget,h,null)):(ge(e,n,"encType",h.encType,h,null),ge(e,n,"method",h.method,h,null),ge(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=ya(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=hi);break;case"onScroll":l!=null&&zt("scroll",e);break;case"onScrollEnd":l!=null&&zt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=ya(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":zt("beforetoggle",e),zt("toggle",e),ma(e,"popover",l);break;case"xlinkActuate":Fe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Fe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Fe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Fe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Fe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Fe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Fe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Fe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Fe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ma(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=du.get(s)||s,ma(e,s,l))}}function fd(e,n,s,l,h,f){switch(s){case"style":Vl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?Cn(e,l):(typeof l=="number"||typeof l=="bigint")&&Cn(e,""+l);break;case"onScroll":l!=null&&zt("scroll",e);break;case"onScrollEnd":l!=null&&zt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[nn]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):ma(e,s,l)}}}function fn(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",e),zt("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ge(e,n,f,p,s,null)}}h&&ge(e,n,"srcSet",s.srcSet,s,null),l&&ge(e,n,"src",s.src,s,null);return;case"input":zt("invalid",e);var E=f=p=h=null,x=null,j=null;for(l in s)if(s.hasOwnProperty(l)){var Q=s[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":p=Q;break;case"checked":x=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:ge(e,n,l,Q,s,null)}}cu(e,f,E,x,j,p,h,!1);return;case"select":zt("invalid",e),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:ge(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!l,n!=null?Ds(e,!!l,n,!1):s!=null&&Ds(e,!!l,s,!0);return;case"textarea":zt("invalid",e),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ge(e,n,p,E,s,null)}Os(e,l,h,f);return;case"option":for(x in s)if(s.hasOwnProperty(x)&&(l=s[x],l!=null))switch(x){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ge(e,n,x,l,s,null)}return;case"dialog":zt("beforetoggle",e),zt("toggle",e),zt("cancel",e),zt("close",e);break;case"iframe":case"object":zt("load",e);break;case"video":case"audio":for(l=0;l<po.length;l++)zt(po[l],e);break;case"image":zt("error",e),zt("load",e);break;case"details":zt("toggle",e);break;case"embed":case"source":case"link":zt("error",e),zt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ge(e,n,j,l,s,null)}return;default:if(ga(n)){for(Q in s)s.hasOwnProperty(Q)&&(l=s[Q],l!==void 0&&fd(e,n,Q,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&ge(e,n,E,l,s,null))}function Qb(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,x=null,j=null,Q=null;for(q in s){var Z=s[q];if(s.hasOwnProperty(q)&&Z!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=Z;default:l.hasOwnProperty(q)||ge(e,n,q,null,l,Z)}}for(var B in l){var q=l[B];if(Z=s[B],l.hasOwnProperty(B)&&(q!=null||Z!=null))switch(B){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":Q=q;break;case"value":p=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Z&&ge(e,n,B,q,l,Z)}}pa(e,p,E,x,j,Q,f,h);return;case"select":q=p=E=B=null;for(f in s)if(x=s[f],s.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":q=x;default:l.hasOwnProperty(f)||ge(e,n,f,null,l,x)}for(h in l)if(f=l[h],x=s[h],l.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==x&&ge(e,n,h,f,l,x)}n=E,s=p,l=q,B!=null?Ds(e,!!s,B,!1):!!l!=!!s&&(n!=null?Ds(e,!!s,n,!0):Ds(e,!!s,s?[]:"",!1));return;case"textarea":q=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ge(e,n,E,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ge(e,n,p,h,l,f)}hu(e,B,q);return;case"option":for(var ht in s)if(B=s[ht],s.hasOwnProperty(ht)&&B!=null&&!l.hasOwnProperty(ht))switch(ht){case"selected":e.selected=!1;break;default:ge(e,n,ht,null,l,B)}for(x in l)if(B=l[x],q=s[x],l.hasOwnProperty(x)&&B!==q&&(B!=null||q!=null))switch(x){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ge(e,n,x,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in s)B=s[bt],s.hasOwnProperty(bt)&&B!=null&&!l.hasOwnProperty(bt)&&ge(e,n,bt,null,l,B);for(j in l)if(B=l[j],q=s[j],l.hasOwnProperty(j)&&B!==q&&(B!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:ge(e,n,j,B,l,q)}return;default:if(ga(n)){for(var ye in s)B=s[ye],s.hasOwnProperty(ye)&&B!==void 0&&!l.hasOwnProperty(ye)&&fd(e,n,ye,void 0,l,B);for(Q in l)B=l[Q],q=s[Q],!l.hasOwnProperty(Q)||B===q||B===void 0&&q===void 0||fd(e,n,Q,B,l,q);return}}for(var L in s)B=s[L],s.hasOwnProperty(L)&&B!=null&&!l.hasOwnProperty(L)&&ge(e,n,L,null,l,B);for(Z in l)B=l[Z],q=s[Z],!l.hasOwnProperty(Z)||B===q||B==null&&q==null||ge(e,n,Z,B,l,q)}function Jy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&Jy(p)){for(p=0,E=h.responseEnd,l+=1;l<s.length;l++){var x=s[l],j=x.startTime;if(j>E)break;var Q=x.transferSize,Z=x.initiatorType;Q&&Jy(Z)&&(x=x.responseEnd,p+=Q*(x<E?1:(E-j)/(x-j)))}if(--l,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dd=null,md=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function Wy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function Yb(){var e=window.event;return e&&e.type==="popstate"?e===gd?!1:(gd=e,!0):(gd=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,Xb=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,$b=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(e){return n_.resolve(null).then(e).catch(Zb)}:e_;function Zb(e){setTimeout(function(){throw e})}function er(e){return e==="head"}function i_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Za(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")yo(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,yo(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[Si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&yo(e.ownerDocument.body);s=h}while(s);Za(n)}function s_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function yd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yd(s),da(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Jb(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=si(e.nextSibling),e===null)break}return null}function Wb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=si(e.nextSibling),e===null))return null;return e}function r_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=si(e.nextSibling),e===null))return null;return e}function _d(e){return e.data==="$?"||e.data==="$~"}function vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function t1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function si(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function a_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return si(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function l_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function o_(e,n,s){switch(n=mc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function yo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);da(e)}var ri=new Map,u_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ys=lt.d;lt.d={f:e1,r:n1,D:i1,C:s1,L:r1,m:a1,X:o1,S:l1,M:u1};function e1(){var e=ys.f(),n=ac();return e||n}function n1(e){var n=Yn(e);n!==null&&n.tag===5&&n.type==="form"?Rg(n):ys.r(e)}var Ya=typeof document>"u"?null:document;function c_(e,n,s){var l=Ya;if(l&&typeof n=="string"&&n){var h=Rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),u_.has(h)||(u_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),fn(n,"link",e),Ge(n),l.head.appendChild(n)))}}function i1(e){ys.D(e),c_("dns-prefetch",e,null)}function s1(e,n){ys.C(e,n),c_("preconnect",e,n)}function r1(e,n,s){ys.L(e,n,s);var l=Ya;if(l&&e&&n){var h='link[rel="preload"][as="'+Rn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Rn(s.imageSizes)+'"]')):h+='[href="'+Rn(e)+'"]';var f=h;switch(n){case"style":f=Xa(e);break;case"script":f=$a(e)}ri.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),ri.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(_o(f))||n==="script"&&l.querySelector(vo(f))||(n=l.createElement("link"),fn(n,"link",e),Ge(n),l.head.appendChild(n)))}}function a1(e,n){ys.m(e,n);var s=Ya;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Rn(l)+'"][href="'+Rn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=$a(e)}if(!ri.has(f)&&(e=w({rel:"modulepreload",href:e},n),ri.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(vo(f)))return}l=s.createElement("link"),fn(l,"link",e),Ge(l),s.head.appendChild(l)}}}function l1(e,n,s){ys.S(e,n,s);var l=Ya;if(l&&e){var h=Ri(l).hoistableStyles,f=Xa(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(_o(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=ri.get(f))&&Td(e,s);var x=p=l.createElement("link");Ge(x),fn(x,"link",e),x._p=new Promise(function(j,Q){x.onload=j,x.onerror=Q}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gc(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function o1(e,n){ys.X(e,n);var s=Ya;if(s&&e){var l=Ri(s).hoistableScripts,h=$a(e),f=l.get(h);f||(f=s.querySelector(vo(h)),f||(e=w({src:e,async:!0},n),(n=ri.get(h))&&bd(e,n),f=s.createElement("script"),Ge(f),fn(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function u1(e,n){ys.M(e,n);var s=Ya;if(s&&e){var l=Ri(s).hoistableScripts,h=$a(e),f=l.get(h);f||(f=s.querySelector(vo(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=ri.get(h))&&bd(e,n),f=s.createElement("script"),Ge(f),fn(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function h_(e,n,s,l){var h=(h=St.current)?pc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Xa(s.href),s=Ri(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Xa(s.href);var f=Ri(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(_o(e)))&&!f._p&&(p.instance=f,p.state.loading=5),ri.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ri.set(e,s),f||c1(h,e,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$a(s),s=Ri(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Xa(e){return'href="'+Rn(e)+'"'}function _o(e){return'link[rel="stylesheet"]['+e+"]"}function f_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function c1(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),fn(n,"link",s),Ge(n),e.head.appendChild(n))}function $a(e){return'[src="'+Rn(e)+'"]'}function vo(e){return"script[async]"+e}function d_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Rn(s.href)+'"]');if(l)return n.instance=l,Ge(l),l;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ge(l),fn(l,"style",h),gc(l,s.precedence,e),n.instance=l;case"stylesheet":h=Xa(s.href);var f=e.querySelector(_o(h));if(f)return n.state.loading|=4,n.instance=f,Ge(f),f;l=f_(s),(h=ri.get(h))&&Td(l,h),f=(e.ownerDocument||e).createElement("link"),Ge(f);var p=f;return p._p=new Promise(function(E,x){p.onload=E,p.onerror=x}),fn(f,"link",l),n.state.loading|=4,gc(f,s.precedence,e),n.instance=f;case"script":return f=$a(s.src),(h=e.querySelector(vo(f)))?(n.instance=h,Ge(h),h):(l=s,(h=ri.get(f))&&(l=w({},s),bd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ge(h),fn(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,gc(l,s.precedence,e));return n.instance}function gc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yc=null;function m_(e,n,s){if(yc===null){var l=new Map,h=yc=new Map;h.set(s,l)}else h=yc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[Si]||f[qe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=l.get(p);E?E.push(f):l.set(p,[f])}}return l}function p_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function h1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function g_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function f1(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Xa(l.href),f=n.querySelector(_o(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_c.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ge(f);return}f=n.ownerDocument||n,l=f_(l),(h=ri.get(h))&&Td(l,h),f=f.createElement("link"),Ge(f);var p=f;p._p=new Promise(function(E,x){p.onload=E,p.onerror=x}),fn(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=_c.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ad=0;function d1(e,n){return e.stylesheets&&e.count===0&&Ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ad===0&&(Ad=62500*Kb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ad?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function Ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,n.forEach(m1,e),vc=null,_c.call(e))}function m1(e,n){if(!(n.state.loading&4)){var s=vc.get(e);if(s)var l=s.get(null);else{s=new Map,vc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=_c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Eo={$$typeof:wt,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function p1(e,n,s,l,h,f,p,E,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function y_(e,n,s,l,h,f,p,E,x,j,Q,Z){return e=new p1(e,n,s,p,x,j,Q,Z,E),n=1,f===!0&&(n|=24),f=Pn(3,null,null,n),e.current=f,f.stateNode=e,n=ef(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},af(f),e}function __(e){return e?(e=Ca,e):Ca}function v_(e,n,s,l,h,f){h=__(h),l.context===null?l.context=h:l.pendingContext=h,l=Gs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Fs(e,l,n),s!==null&&(On(s,e,n),Zl(s,e,n))}function E_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Sd(e,n){E_(e,n),(e=e.alternate)&&E_(e,n)}function T_(e){if(e.tag===13||e.tag===31){var n=Gr(e,67108864);n!==null&&On(n,e,67108864),Sd(e,67108864)}}function b_(e){if(e.tag===13||e.tag===31){var n=qn();n=Or(n);var s=Gr(e,n);s!==null&&On(s,e,n),Sd(e,n)}}var Tc=!0;function g1(e,n,s,l){var h=F.T;F.T=null;var f=lt.p;try{lt.p=2,wd(e,n,s,l)}finally{lt.p=f,F.T=h}}function y1(e,n,s,l){var h=F.T;F.T=null;var f=lt.p;try{lt.p=8,wd(e,n,s,l)}finally{lt.p=f,F.T=h}}function wd(e,n,s,l){if(Tc){var h=Rd(l);if(h===null)hd(e,n,l,bc,s),S_(e,l);else if(v1(h,e,n,s,l))l.stopPropagation();else if(S_(e,l),n&4&&-1<_1.indexOf(e)){for(;h!==null;){var f=Yn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Ei(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var x=1<<31-Yt(p);E.entanglements[1]|=x,p&=~x}zi(f),(le&6)===0&&(sc=nt()+500,mo(0))}}break;case 31:case 13:E=Gr(f,2),E!==null&&On(E,f,2),ac(),Sd(f,2)}if(f=Rd(l),f===null&&hd(e,n,l,bc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else hd(e,n,l,null,s)}}function Rd(e){return e=Xn(e),Cd(e)}var bc=null;function Cd(e){if(bc=null,e=wi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return bc=e,null}function A_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pt()){case de:return 2;case be:return 8;case Ae:case Kn:return 32;case re:return 268435456;default:return 32}default:return 32}}var Id=!1,nr=null,ir=null,sr=null,To=new Map,bo=new Map,rr=[],_1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(e,n){switch(e){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":To.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bo.delete(n.pointerId)}}function Ao(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Yn(n),n!==null&&T_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function v1(e,n,s,l,h){switch(n){case"focusin":return nr=Ao(nr,e,n,s,l,h),!0;case"dragenter":return ir=Ao(ir,e,n,s,l,h),!0;case"mouseover":return sr=Ao(sr,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return To.set(f,Ao(To.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,bo.set(f,Ao(bo.get(f)||null,e,n,s,l,h)),!0}return!1}function w_(e){var n=wi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,ui(e.priority,function(){b_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,ui(e.priority,function(){b_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Rd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);kl=l,s.target.dispatchEvent(l),kl=null}else return n=Yn(s),n!==null&&T_(n),e.blockedOn=s,!1;n.shift()}return!0}function R_(e,n,s){Ac(e)&&s.delete(n)}function E1(){Id=!1,nr!==null&&Ac(nr)&&(nr=null),ir!==null&&Ac(ir)&&(ir=null),sr!==null&&Ac(sr)&&(sr=null),To.forEach(R_),bo.forEach(R_)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,Id||(Id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,E1)))}var wc=null;function C_(e){wc!==e&&(wc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Cd(l||s)===null)continue;break}var f=Yn(s);f!==null&&(e.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Za(e){function n(x){return Sc(x,e)}nr!==null&&Sc(nr,e),ir!==null&&Sc(ir,e),sr!==null&&Sc(sr,e),To.forEach(n),bo.forEach(n);for(var s=0;s<rr.length;s++){var l=rr[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<rr.length&&(s=rr[0],s.blockedOn===null);)w_(s),s.blockedOn===null&&rr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[nn]||null;if(typeof f=="function")p||C_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[nn]||null)E=p.formAction;else if(Cd(h)!==null)continue}else E=p.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),C_(s)}}}function I_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(e){this._internalRoot=e}Rc.prototype.render=xd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=qn();v_(s,l,e,n,null,null)},Rc.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;v_(e.current,2,null,e,null,null),ac(),n[Ai]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=au();e={blockedOn:null,target:e,priority:n};for(var s=0;s<rr.length&&n!==0&&n<rr[s].priority;s++);rr.splice(s,0,e),s===0&&w_(e)}};var x_=t.version;if(x_!=="19.2.0")throw Error(a(527,x_,"19.2.0"));lt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var T1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{It=Cc.inject(T1),Kt=Cc}catch{}}return wo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=Lg,f=Ug,p=Pg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=y_(e,1,!1,null,null,s,l,null,h,f,p,I_),e[Ai]=n.current,cd(e),new xd(n)},wo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=Lg,p=Ug,E=Pg,x=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(x=s.formState)),n=y_(e,1,!0,n,s??null,l,h,x,f,p,E,I_),n.context=__(null),s=n.current,l=qn(),l=Or(l),h=Gs(l),h.callback=null,Fs(s,h,l),s=l,n.current.lanes=s,Nr(n,s),zi(n),e[Ai]=n.current,cd(e),new Rc(n)},wo.version="19.2.0",wo}var z_;function D1(){if(z_)return Od.exports;z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=N1(),Od.exports}var O1=D1();const M1=()=>{};var j_={};const g0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},V1=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,v=o+2<r.length,y=v?r[o+2]:0,b=c>>2,w=(c&3)<<4|g>>4;let V=(g&15)<<2|y>>6,K=y&63;v||(K=64,d||(V=64)),a.push(i[b],i[w],i[V],i[K])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(g0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):V1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const w=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||w==null)throw new k1;const V=c<<2|g>>4;if(a.push(V),y!==64){const K=g<<4&240|y>>2;if(a.push(K),w!==64){const et=y<<6&192|w;a.push(et)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class k1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L1=function(r){const t=g0(r);return y0.encodeByteArray(t,!0)},Qc=function(r){return L1(r).replace(/\./g,"")},_0=function(r){try{return y0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function U1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const P1=()=>U1().__FIREBASE_DEFAULTS__,z1=()=>{if(typeof process>"u"||typeof j_>"u")return;const r=j_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},j1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&_0(r[1]);return t&&JSON.parse(t)},fh=()=>{try{return M1()||P1()||z1()||j1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},v0=r=>fh()?.emulatorHosts?.[r],B1=r=>{const t=v0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},E0=()=>fh()?.config,T0=r=>fh()?.[`_${r}`];class H1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function yl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function b0(r){return(await fetch(r,{credentials:"include"})).ok}function q1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Qc(JSON.stringify(i)),Qc(JSON.stringify(d)),""].join(".")}const Oo={};function G1(){const r={prod:[],emulator:[]};for(const t of Object.keys(Oo))Oo[t]?r.emulator.push(t):r.prod.push(t);return r}function F1(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let B_=!1;function A0(r,t){if(typeof window>"u"||typeof document>"u"||!yl(window.location.host)||Oo[r]===t||Oo[r]||B_)return;Oo[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=G1().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,K){V.setAttribute("width","24"),V.setAttribute("id",K),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function y(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{B_=!0,d()},V}function b(V,K){V.setAttribute("id",K),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function w(){const V=F1(a),K=i("text"),et=document.getElementById(K)||document.createElement("span"),ot=i("learnmore"),X=document.getElementById(ot)||document.createElement("a"),yt=i("preprendIcon"),C=document.getElementById(yt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const wt=V.element;g(wt),b(X,ot);const ie=y();v(C,yt),wt.append(C,et,X,ie),document.body.appendChild(wt)}c?(et.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}function K1(){const r=fh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Y1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function X1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function $1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z1(){const r=Tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function J1(){return!K1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W1(){try{return typeof indexedDB=="object"}catch{return!1}}function tA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const eA="FirebaseError";class Cs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=eA,Object.setPrototypeOf(this,Cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qo.prototype.create)}}class Qo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?nA(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Cs(o,g,a)}}function nA(r,t){return r.replace(iA,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const iA=/\{\$([^}]+)}/g;function sA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function _r(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(H_(c)&&H_(d)){if(!_r(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function H_(r){return r!==null&&typeof r=="object"}function Ko(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function rA(r,t){const i=new aA(r,t);return i.subscribe.bind(i)}class aA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");lA(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Ld),o.error===void 0&&(o.error=Ld),o.complete===void 0&&(o.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Ld(){}function wn(r){return r&&r._delegate?r._delegate:r}class aa{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ia="[DEFAULT]";class oA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new H1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cA(t))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=ia){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ia){return this.instances.has(t)}getOptions(t=ia){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:uA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=ia){return this.component?this.component.multipleInstances?t:ia:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uA(r){return r===ia?void 0:r}function cA(r){return r.instantiationMode==="EAGER"}class hA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new oA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qt||(qt={}));const fA={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},dA=qt.INFO,mA={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},pA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=mA[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bm{constructor(t){this.name=t,this._logLevel=dA,this._logHandler=pA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const gA=(r,t)=>t.some(i=>r instanceof i);let q_,G_;function yA(){return q_||(q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _A(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S0=new WeakMap,Xd=new WeakMap,w0=new WeakMap,Ud=new WeakMap,Am=new WeakMap;function vA(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(dr(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&S0.set(i,r)}).catch(()=>{}),Am.set(t,r),t}function EA(r){if(Xd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Xd.set(r,t)}let $d={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Xd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||w0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return dr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function TA(r){$d=r($d)}function bA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Pd(this),t,...i);return w0.set(a,t.sort?t.sort():[t]),dr(a)}:_A().includes(r)?function(...t){return r.apply(Pd(this),t),dr(S0.get(this))}:function(...t){return dr(r.apply(Pd(this),t))}}function AA(r){return typeof r=="function"?bA(r):(r instanceof IDBTransaction&&EA(r),gA(r,yA())?new Proxy(r,$d):r)}function dr(r){if(r instanceof IDBRequest)return vA(r);if(Ud.has(r))return Ud.get(r);const t=AA(r);return t!==r&&(Ud.set(r,t),Am.set(t,r)),t}const Pd=r=>Am.get(r);function SA(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),g=dr(d);return a&&d.addEventListener("upgradeneeded",v=>{a(dr(d.result),v.oldVersion,v.newVersion,dr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const wA=["get","getKey","getAll","getAllKeys","count"],RA=["put","add","delete","clear"],zd=new Map;function F_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(zd.get(t))return zd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=RA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||wA.includes(i)))return;const c=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&v.done]))[0]};return zd.set(t,c),c}TA(r=>({...r,get:(t,i,a)=>F_(t,i)||r.get(t,i,a),has:(t,i)=>!!F_(t,i)||r.has(t,i)}));class CA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(IA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function IA(r){return r.getComponent()?.type==="VERSION"}const Zd="@firebase/app",Q_="0.14.6";const Ts=new bm("@firebase/app"),xA="@firebase/app-compat",NA="@firebase/analytics-compat",DA="@firebase/analytics",OA="@firebase/app-check-compat",MA="@firebase/app-check",VA="@firebase/auth",kA="@firebase/auth-compat",LA="@firebase/database",UA="@firebase/data-connect",PA="@firebase/database-compat",zA="@firebase/functions",jA="@firebase/functions-compat",BA="@firebase/installations",HA="@firebase/installations-compat",qA="@firebase/messaging",GA="@firebase/messaging-compat",FA="@firebase/performance",QA="@firebase/performance-compat",KA="@firebase/remote-config",YA="@firebase/remote-config-compat",XA="@firebase/storage",$A="@firebase/storage-compat",ZA="@firebase/firestore",JA="@firebase/ai",WA="@firebase/firestore-compat",tS="firebase",eS="12.6.0";const Jd="[DEFAULT]",nS={[Zd]:"fire-core",[xA]:"fire-core-compat",[DA]:"fire-analytics",[NA]:"fire-analytics-compat",[MA]:"fire-app-check",[OA]:"fire-app-check-compat",[VA]:"fire-auth",[kA]:"fire-auth-compat",[LA]:"fire-rtdb",[UA]:"fire-data-connect",[PA]:"fire-rtdb-compat",[zA]:"fire-fn",[jA]:"fire-fn-compat",[BA]:"fire-iid",[HA]:"fire-iid-compat",[qA]:"fire-fcm",[GA]:"fire-fcm-compat",[FA]:"fire-perf",[QA]:"fire-perf-compat",[KA]:"fire-rc",[YA]:"fire-rc-compat",[XA]:"fire-gcs",[$A]:"fire-gcs-compat",[ZA]:"fire-fst",[WA]:"fire-fst-compat",[JA]:"fire-vertex","fire-js":"fire-js",[tS]:"fire-js-all"};const Kc=new Map,iS=new Map,Wd=new Map;function K_(r,t){try{r.container.addComponent(t)}catch(i){Ts.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function ol(r){const t=r.name;if(Wd.has(t))return Ts.debug(`There were multiple attempts to register component ${t}.`),!1;Wd.set(t,r);for(const i of Kc.values())K_(i,r);for(const i of iS.values())K_(i,r);return!0}function Sm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ai(r){return r==null?!1:r.settings!==void 0}const sS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mr=new Qo("app","Firebase",sS);class rS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const _l=eS;function R0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Jd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw mr.create("bad-app-name",{appName:String(o)});if(i||(i=E0()),!i)throw mr.create("no-options");const c=Kc.get(o);if(c){if(_r(i,c.options)&&_r(a,c.config))return c;throw mr.create("duplicate-app",{appName:o})}const d=new hA(o);for(const v of Wd.values())d.addComponent(v);const g=new rS(i,a,d);return Kc.set(o,g),g}function C0(r=Jd){const t=Kc.get(r);if(!t&&r===Jd&&E0())return R0();if(!t)throw mr.create("no-app",{appName:r});return t}function pr(r,t,i){let a=nS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ts.warn(d.join(" "));return}ol(new aa(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const aS="firebase-heartbeat-database",lS=1,Po="firebase-heartbeat-store";let jd=null;function I0(){return jd||(jd=SA(aS,lS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Po)}catch(i){console.warn(i)}}}}).catch(r=>{throw mr.create("idb-open",{originalErrorMessage:r.message})})),jd}async function oS(r){try{const i=(await I0()).transaction(Po),a=await i.objectStore(Po).get(x0(r));return await i.done,a}catch(t){if(t instanceof Cs)Ts.warn(t.message);else{const i=mr.create("idb-get",{originalErrorMessage:t?.message});Ts.warn(i.message)}}}async function Y_(r,t){try{const a=(await I0()).transaction(Po,"readwrite");await a.objectStore(Po).put(t,x0(r)),await a.done}catch(i){if(i instanceof Cs)Ts.warn(i.message);else{const a=mr.create("idb-set",{originalErrorMessage:i?.message});Ts.warn(a.message)}}}function x0(r){return`${r.name}!${r.options.appId}`}const uS=1024,cS=30;class hS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new dS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=X_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>cS){const o=mS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ts.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=X_(),{heartbeatsToSend:i,unsentEntries:a}=fS(this._heartbeatsCache.heartbeats),o=Qc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ts.warn(t),""}}}function X_(){return new Date().toISOString().substring(0,10)}function fS(r,t=uS){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),$_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),$_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class dS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W1()?tA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await oS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function $_(r){return Qc(JSON.stringify({version:2,heartbeats:r})).length}function mS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function pS(r){ol(new aa("platform-logger",t=>new CA(t),"PRIVATE")),ol(new aa("heartbeat",t=>new hS(t),"PRIVATE")),pr(Zd,Q_,r),pr(Zd,Q_,"esm2020"),pr("fire-js","")}pS("");var gS="firebase",yS="12.6.0";pr(gS,yS,"app");function N0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _S=N0,D0=new Qo("auth","Firebase",N0());const Yc=new bm("@firebase/auth");function vS(r,...t){Yc.logLevel<=qt.WARN&&Yc.warn(`Auth (${_l}): ${r}`,...t)}function kc(r,...t){Yc.logLevel<=qt.ERROR&&Yc.error(`Auth (${_l}): ${r}`,...t)}function bs(r,...t){throw wm(r,...t)}function Bi(r,...t){return wm(r,...t)}function O0(r,t,i){const a={..._S(),[t]:i};return new Qo("auth","Firebase",a).create(t,{appName:r.name})}function Es(r){return O0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wm(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return D0.create(r,...t)}function Ct(r,t,...i){if(!r)throw wm(t,...i)}function _s(r){const t="INTERNAL ASSERTION FAILED: "+r;throw kc(t),new Error(t)}function As(r,t){r||_s(t)}function tm(){return typeof self<"u"&&self.location?.href||""}function ES(){return Z_()==="http:"||Z_()==="https:"}function Z_(){return typeof self<"u"&&self.location?.protocol||null}function TS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ES()||X1()||"connection"in navigator)?navigator.onLine:!0}function bS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Yo{constructor(t,i){this.shortDelay=t,this.longDelay=i,As(i>t,"Short delay should be less than long delay!"),this.isMobile=Q1()||$1()}get(){return TS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rm(r,t){As(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class M0{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const AS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const SS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],wS=new Yo(3e4,6e4);function Xo(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function vl(r,t,i,a,o={}){return V0(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Ko({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return Y1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&yl(r.emulatorConfig.host)&&(y.credentials="include"),M0.fetch()(await k0(r,r.config.apiHost,i,g),y)})}async function V0(r,t,i){r._canInitEmulator=!1;const a={...AS,...t};try{const o=new RS(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ic(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[v,y]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw Ic(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw Ic(r,"user-disabled",d);const b=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw O0(r,b,y);bs(r,b)}}catch(o){if(o instanceof Cs)throw o;bs(r,"network-request-failed",{message:String(o)})}}async function Cm(r,t,i,a,o={}){const c=await vl(r,t,i,a,o);return"mfaPendingCredential"in c&&bs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function k0(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?Rm(r.config,o):`${r.config.apiScheme}://${o}`;return SS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class RS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Bi(this.auth,"network-request-failed")),wS.get())})}}function Ic(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Bi(r,t,a);return o.customData._tokenResponse=i,o}async function CS(r,t){return vl(r,"POST","/v1/accounts:delete",t)}async function Xc(r,t){return vl(r,"POST","/v1/accounts:lookup",t)}function Mo(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function IS(r,t=!1){const i=wn(r),a=await i.getIdToken(t),o=Im(a);Ct(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Mo(Bd(o.auth_time)),issuedAtTime:Mo(Bd(o.iat)),expirationTime:Mo(Bd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(r){return Number(r)*1e3}function Im(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=_0(i);return o?JSON.parse(o):(kc("Failed to decode base64 JWT payload"),null)}catch(o){return kc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function J_(r){const t=Im(r);return Ct(t,"internal-error"),Ct(typeof t.exp<"u","internal-error"),Ct(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function zo(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Cs&&xS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function xS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class NS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class em{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mo(this.lastLoginAt),this.creationTime=Mo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $c(r){const t=r.auth,i=await r.getIdToken(),a=await zo(r,Xc(t,{idToken:i}));Ct(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?L0(o.providerUserInfo):[],d=OS(r.providerData,c),g=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!d?.length,y=g?v:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new em(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function DS(r){const t=wn(r);await $c(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function OS(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function L0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function MS(r,t){const i=await V0(r,{},async()=>{const a=Ko({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await k0(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:a};return r.emulatorConfig&&yl(r.emulatorConfig.host)&&(v.credentials="include"),M0.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function VS(r,t){return vl(r,"POST","/v2/accounts:revokeToken",Xo(r,t))}class il{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ct(t.idToken,"internal-error"),Ct(typeof t.idToken<"u","internal-error"),Ct(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):J_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Ct(t.length!==0,"internal-error");const i=J_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await MS(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new il;return a&&(Ct(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(Ct(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(Ct(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new il,this.toJSON())}_performRefresh(){return _s("not implemented")}}function lr(r,t){Ct(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class vi{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new NS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new em(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await zo(this,this.stsTokenManager.getToken(this.auth,t));return Ct(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return IS(this,t)}reload(){return DS(this)}_assign(t){this!==t&&(Ct(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new vi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await $c(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(Es(this.auth));const t=await this.getIdToken();return await zo(this,CS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:w,emailVerified:V,isAnonymous:K,providerData:et,stsTokenManager:ot}=i;Ct(w&&ot,t,"internal-error");const X=il.fromJSON(this.name,ot);Ct(typeof w=="string",t,"internal-error"),lr(a,t.name),lr(o,t.name),Ct(typeof V=="boolean",t,"internal-error"),Ct(typeof K=="boolean",t,"internal-error"),lr(c,t.name),lr(d,t.name),lr(g,t.name),lr(v,t.name),lr(y,t.name),lr(b,t.name);const yt=new vi({uid:w,auth:t,email:o,emailVerified:V,displayName:a,isAnonymous:K,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:X,createdAt:y,lastLoginAt:b});return et&&Array.isArray(et)&&(yt.providerData=et.map(C=>({...C}))),v&&(yt._redirectEventId=v),yt}static async _fromIdTokenResponse(t,i,a=!1){const o=new il;o.updateFromServerResponse(i);const c=new vi({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await $c(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];Ct(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?L0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new il;g.updateFromIdToken(a);const v=new vi({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new em(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const W_=new Map;function vs(r){As(r instanceof Function,"Expected a class definition");let t=W_.get(r);return t?(As(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,W_.set(r,t),t)}class U0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}U0.type="NONE";const tv=U0;function Lc(r,t,i){return`firebase:${r}:${t}:${i}`}class sl{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Lc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Lc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Xc(this.auth,{idToken:t}).catch(()=>{});return i?vi._fromGetAccountInfoResponse(this.auth,i,t):null}return vi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new sl(vs(tv),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||vs(tv);const d=Lc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const b=await y._get(d);if(b){let w;if(typeof b=="string"){const V=await Xc(t,{idToken:b}).catch(()=>{});if(!V)break;w=await vi._fromGetAccountInfoResponse(t,V,b)}else w=vi._fromJSON(t,b);y!==c&&(g=w),c=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new sl(c,t,a):(c=v[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new sl(c,t,a))}}function ev(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(B0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(P0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(q0(t))return"Blackberry";if(G0(t))return"Webos";if(z0(t))return"Safari";if((t.includes("chrome/")||j0(t))&&!t.includes("edge/"))return"Chrome";if(H0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function P0(r=Tn()){return/firefox\//i.test(r)}function z0(r=Tn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function j0(r=Tn()){return/crios\//i.test(r)}function B0(r=Tn()){return/iemobile/i.test(r)}function H0(r=Tn()){return/android/i.test(r)}function q0(r=Tn()){return/blackberry/i.test(r)}function G0(r=Tn()){return/webos/i.test(r)}function xm(r=Tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function kS(r=Tn()){return xm(r)&&!!window.navigator?.standalone}function LS(){return Z1()&&document.documentMode===10}function F0(r=Tn()){return xm(r)||H0(r)||G0(r)||q0(r)||/windows phone/i.test(r)||B0(r)}function Q0(r,t=[]){let i;switch(r){case"Browser":i=ev(Tn());break;case"Worker":i=`${ev(Tn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${_l}/${a}`}class US{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const v=t(c);d(v)}catch(v){g(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function PS(r,t={}){return vl(r,"GET","/v2/passwordPolicy",Xo(r,t))}const zS=6;class jS{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??zS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class BS{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nv(this),this.idTokenSubscription=new nv(this),this.beforeStateQueue=new US(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=vs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await sl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Xc(this,{idToken:t}),a=await vi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ai(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await $c(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=bS()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ai(this.app))return Promise.reject(Es(this));const i=t?wn(t):null;return i&&Ct(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Ct(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ai(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await PS(this),i=new jS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Qo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await VS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&vs(t)||this._popupRedirectResolver;Ct(i,this,"argument-error"),this.redirectPersistenceManager=await sl.create(this,[vs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Q0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&vS(`Error while retrieving App Check token: ${t.error}`),t?.token}}function $o(r){return wn(r)}class nv{constructor(t){this.auth=t,this.observer=null,this.addObserver=rA(i=>this.observer=i)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HS(r){Nm=r}function qS(r){return Nm.loadJS(r)}function GS(){return Nm.gapiScript}function FS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function QS(r,t){const i=Sm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(_r(c,t??{}))return o;bs(o,"already-initialized")}return i.initialize({options:t})}function KS(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(vs);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function YS(r,t,i){const a=$o(r);Ct(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=K0(t),{host:d,port:g}=XS(t),v=g===null?"":`:${g}`,y={url:`${c}//${d}${v}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ct(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ct(_r(y,a.config.emulator)&&_r(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,yl(d)?(b0(`${c}//${d}${v}`),A0("Auth",!0)):$S()}function K0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function XS(r){const t=K0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:iv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:iv(d)}}}function iv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function $S(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Y0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return _s("not implemented")}_getIdTokenResponse(t){return _s("not implemented")}_linkToIdToken(t,i){return _s("not implemented")}_getReauthenticationResolver(t){return _s("not implemented")}}async function rl(r,t){return Cm(r,"POST","/v1/accounts:signInWithIdp",Xo(r,t))}const ZS="http://localhost";class la extends Y0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new la(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):bs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new la(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return rl(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,rl(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,rl(t,i)}buildRequest(){const t={requestUri:ZS,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ko(i)}return t}}class X0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Zo extends X0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class or extends Zo{constructor(){super("facebook.com")}static credential(t){return la._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return or.credential(t.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";class ur extends Zo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return la._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return ur.credential(i,a)}catch{return null}}}ur.GOOGLE_SIGN_IN_METHOD="google.com";ur.PROVIDER_ID="google.com";class cr extends Zo{constructor(){super("github.com")}static credential(t){return la._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return cr.credential(t.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";class hr extends Zo{constructor(){super("twitter.com")}static credential(t,i){return la._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return hr.credentialFromTaggedObject(t)}static credentialFromError(t){return hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return hr.credential(i,a)}catch{return null}}}hr.TWITTER_SIGN_IN_METHOD="twitter.com";hr.PROVIDER_ID="twitter.com";async function JS(r,t){return Cm(r,"POST","/v1/accounts:signUp",Xo(r,t))}class Ss{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await vi._fromIdTokenResponse(t,a,o),d=sv(a);return new Ss({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=sv(a);return new Ss({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function sv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function WS(r){if(ai(r.app))return Promise.reject(Es(r));const t=$o(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Ss({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await JS(t,{returnSecureToken:!0}),a=await Ss._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Zc extends Cs{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Zc(t,i,a,o)}}function $0(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Zc._fromErrorAndOperation(r,c,t,a):c})}async function tw(r,t,i=!1){const a=await zo(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Ss._forOperation(r,"link",a)}async function ew(r,t,i=!1){const{auth:a}=r;if(ai(a.app))return Promise.reject(Es(a));const o="reauthenticate";try{const c=await zo(r,$0(a,o,t,r),i);Ct(c.idToken,a,"internal-error");const d=Im(c.idToken);Ct(d,a,"internal-error");const{sub:g}=d;return Ct(r.uid===g,a,"user-mismatch"),Ss._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&bs(a,"user-mismatch"),c}}async function nw(r,t,i=!1){if(ai(r.app))return Promise.reject(Es(r));const a="signIn",o=await $0(r,a,t),c=await Ss._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}async function iw(r,t){return Cm(r,"POST","/v1/accounts:signInWithCustomToken",Xo(r,t))}async function sw(r,t){if(ai(r.app))return Promise.reject(Es(r));const i=$o(r),a=await iw(i,{token:t,returnSecureToken:!0}),o=await Ss._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function rw(r,t,i,a){return wn(r).onIdTokenChanged(t,i,a)}function aw(r,t,i){return wn(r).beforeAuthStateChanged(t,i)}function lw(r,t,i,a){return wn(r).onAuthStateChanged(t,i,a)}const Jc="__sak";class Z0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Jc,"1"),this.storage.removeItem(Jc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const ow=1e3,uw=10;class J0 extends Z0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);LS()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,uw):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},ow)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}J0.type="LOCAL";const cw=J0;class W0 extends Z0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}W0.type="SESSION";const tE=W0;function hw(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class dh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new dh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async y=>y(i.origin,c)),v=await hw(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];function Dm(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class fw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,v)=>{const y=Dm("",20);o.port1.start();const b=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(w){const V=w;if(V.data.eventId===y)switch(V.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(b),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Hi(){return window}function dw(r){Hi().location.href=r}function eE(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function mw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pw(){return navigator?.serviceWorker?.controller||null}function gw(){return eE()?self:null}const nE="firebaseLocalStorageDb",yw=1,Wc="firebaseLocalStorage",iE="fbase_key";class Jo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function mh(r,t){return r.transaction([Wc],t?"readwrite":"readonly").objectStore(Wc)}function _w(){const r=indexedDB.deleteDatabase(nE);return new Jo(r).toPromise()}function nm(){const r=indexedDB.open(nE,yw);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Wc,{keyPath:iE})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Wc)?t(a):(a.close(),await _w(),t(await nm()))})})}async function rv(r,t,i){const a=mh(r,!0).put({[iE]:t,value:i});return new Jo(a).toPromise()}async function vw(r,t){const i=mh(r,!1).get(t),a=await new Jo(i).toPromise();return a===void 0?null:a.value}function av(r,t){const i=mh(r,!0).delete(t);return new Jo(i).toPromise()}const Ew=800,Tw=3;class sE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Tw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(gw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await mw(),!this.activeServiceWorker)return;this.sender=new fw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||pw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await nm();return await rv(t,Jc,"1"),await av(t,Jc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>rv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>vw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>av(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=mh(o,!1).getAll();return new Jo(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ew)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sE.type="LOCAL";const bw=sE;new Yo(3e4,6e4);function Aw(r,t){return t?vs(t):(Ct(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Om extends Y0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return rl(t,this._buildIdpRequest())}_linkToIdToken(t,i){return rl(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return rl(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Sw(r){return nw(r.auth,new Om(r),r.bypassAuthState)}function ww(r){const{auth:t,user:i}=r;return Ct(i,t,"internal-error"),ew(i,new Om(r),r.bypassAuthState)}async function Rw(r){const{auth:t,user:i}=r;return Ct(i,t,"internal-error"),tw(i,new Om(r),r.bypassAuthState)}class rE{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Sw;case"linkViaPopup":case"linkViaRedirect":return Rw;case"reauthViaPopup":case"reauthViaRedirect":return ww;default:bs(this.auth,"internal-error")}}resolve(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cw=new Yo(2e3,1e4);class nl extends rE{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,nl.currentPopupAction&&nl.currentPopupAction.cancel(),nl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ct(t,this.auth,"internal-error"),t}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const t=Dm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Cw.get())};t()}}nl.currentPopupAction=null;const Iw="pendingRedirect",Uc=new Map;class xw extends rE{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const a=await Nw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Nw(r,t){const i=Mw(t),a=Ow(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function Dw(r,t){Uc.set(r._key(),t)}function Ow(r){return vs(r._redirectPersistence)}function Mw(r){return Lc(Iw,r.config.apiKey,r.name)}async function Vw(r,t,i=!1){if(ai(r.app))return Promise.reject(Es(r));const a=$o(r),o=Aw(a,t),d=await new xw(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const kw=600*1e3;class Lw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Uw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!aE(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Bi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=kw&&this.cachedEventUids.clear(),this.cachedEventUids.has(lv(t))}saveEventToCache(t){this.cachedEventUids.add(lv(t)),this.lastProcessedEventTime=Date.now()}}function lv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function aE({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function Uw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aE(r);default:return!1}}async function Pw(r,t={}){return vl(r,"GET","/v1/projects",t)}const zw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jw=/^https?/;async function Bw(r){if(r.config.emulator)return;const{authorizedDomains:t}=await Pw(r);for(const i of t)try{if(Hw(i))return}catch{}bs(r,"unauthorized-domain")}function Hw(r){const t=tm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!jw.test(i))return!1;if(zw.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const qw=new Yo(3e4,6e4);function ov(){const r=Hi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Gw(r){return new Promise((t,i)=>{function a(){ov(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ov(),i(Bi(r,"network-request-failed"))},timeout:qw.get()})}if(Hi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Hi().gapi?.load)a();else{const o=FS("iframefcb");return Hi()[o]=()=>{gapi.load?a():i(Bi(r,"network-request-failed"))},qS(`${GS()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Pc=null,t})}let Pc=null;function Fw(r){return Pc=Pc||Gw(r),Pc}const Qw=new Yo(5e3,15e3),Kw="__/auth/iframe",Yw="emulator/auth/iframe",Xw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$w=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zw(r){const t=r.config;Ct(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Rm(t,Yw):`https://${r.config.authDomain}/${Kw}`,a={apiKey:t.apiKey,appName:r.name,v:_l},o=$w.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ko(a).slice(1)}`}async function Jw(r){const t=await Fw(r),i=Hi().gapi;return Ct(i,r,"internal-error"),t.open({where:document.body,url:Zw(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xw,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Bi(r,"network-request-failed"),g=Hi().setTimeout(()=>{c(d)},Qw.get());function v(){Hi().clearTimeout(g),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const Ww={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t2=500,e2=600,n2="_blank",i2="http://localhost";class uv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s2(r,t,i,a=t2,o=e2){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const v={...Ww,width:a.toString(),height:o.toString(),top:c,left:d},y=Tn().toLowerCase();i&&(g=j0(y)?n2:i),P0(y)&&(t=t||i2,v.scrollbars="yes");const b=Object.entries(v).reduce((V,[K,et])=>`${V}${K}=${et},`,"");if(kS(y)&&g!=="_self")return r2(t||"",g),new uv(null);const w=window.open(t||"",g,b);Ct(w,r,"popup-blocked");try{w.focus()}catch{}return new uv(w)}function r2(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const a2="__/auth/handler",l2="emulator/auth/handler",o2=encodeURIComponent("fac");async function cv(r,t,i,a,o,c){Ct(r.config.authDomain,r,"auth-domain-config-required"),Ct(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:_l,eventId:o};if(t instanceof X0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",sA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,w]of Object.entries({}))d[b]=w}if(t instanceof Zo){const b=t.getScopes().filter(w=>w!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const v=await r._getAppCheckToken(),y=v?`#${o2}=${encodeURIComponent(v)}`:"";return`${u2(r)}?${Ko(g).slice(1)}${y}`}function u2({config:r}){return r.emulator?Rm(r,l2):`https://${r.authDomain}/${a2}`}const Hd="webStorageSupport";class c2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tE,this._completeRedirectFn=Vw,this._overrideRedirectResult=Dw}async _openPopup(t,i,a,o){As(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await cv(t,i,a,tm(),o);return s2(t,c,Dm())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await cv(t,i,a,tm(),o);return dw(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(As(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Jw(t),a=new Lw(t);return i.register("authEvent",o=>(Ct(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Hd,{type:Hd},o=>{const c=o?.[0]?.[Hd];c!==void 0&&i(!!c),bs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Bw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return F0()||z0()||xm()}}const h2=c2;var hv="@firebase/auth",fv="1.11.1";class f2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function d2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m2(r){ol(new aa("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;Ct(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q0(r)},y=new BS(a,o,c,v);return KS(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),ol(new aa("auth-internal",t=>{const i=$o(t.getProvider("auth").getImmediate());return(a=>new f2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),pr(hv,fv,d2(r)),pr(hv,fv,"esm2020")}const p2=300,g2=T0("authIdTokenMaxAge")||p2;let dv=null;const y2=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>g2)return;const o=i?.token;dv!==o&&(dv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _2(r=C0()){const t=Sm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=QS(r,{popupRedirectResolver:h2,persistence:[bw,cw,tE]}),a=T0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=y2(c.toString());aw(i,d,()=>d(i.currentUser)),rw(i,g=>d(g))}}const o=v0("auth");return o&&YS(i,`http://${o}`),i}function v2(){return document.getElementsByTagName("head")?.[0]??document}HS({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=Bi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",v2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m2("Browser");var mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gr,lE;(function(){var r;function t(N,S){function I(){}I.prototype=S.prototype,N.F=S.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(k,D,U){for(var R=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)R[ve-2]=arguments[ve];return S.prototype[D].apply(k,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,I){I||(I=0);const k=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)k[D]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(D=0;D<16;++D)k[D]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=N.g[0],I=N.g[1],D=N.g[2];let U=N.g[3],R;R=S+(U^I&(D^U))+k[0]+3614090360&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(D^S&(I^D))+k[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(I^U&(S^I))+k[2]+606105819&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(S^D&(U^S))+k[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(U^I&(D^U))+k[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(D^S&(I^D))+k[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(I^U&(S^I))+k[6]+2821735955&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(S^D&(U^S))+k[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(U^I&(D^U))+k[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(D^S&(I^D))+k[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(I^U&(S^I))+k[10]+4294925233&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(S^D&(U^S))+k[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(U^I&(D^U))+k[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=U+(D^S&(I^D))+k[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=D+(I^U&(S^I))+k[14]+2792965006&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(S^D&(U^S))+k[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=S+(D^U&(I^D))+k[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(S^I))+k[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(U^S))+k[11]+643717713&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(D^U))+k[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(I^D))+k[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(S^I))+k[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(U^S))+k[15]+3634488961&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(D^U))+k[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(I^D))+k[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(S^I))+k[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(U^S))+k[3]+4107603335&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(D^U))+k[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(D^U&(I^D))+k[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(S^I))+k[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=D+(S^I&(U^S))+k[7]+1735328473&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^S&(D^U))+k[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=S+(I^D^U)+k[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^D)+k[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^I)+k[11]+1839030562&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^S)+k[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(I^D^U)+k[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^D)+k[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^I)+k[7]+4139469664&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^S)+k[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(I^D^U)+k[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^D)+k[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^I)+k[3]+3572445317&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^S)+k[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(I^D^U)+k[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=U+(S^I^D)+k[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=D+(U^S^I)+k[15]+530742520&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^S)+k[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=S+(D^(I|~U))+k[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~D))+k[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~I))+k[14]+2878612391&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~S))+k[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=S+(D^(I|~U))+k[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~D))+k[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~I))+k[10]+4293915773&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~S))+k[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=S+(D^(I|~U))+k[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~D))+k[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~I))+k[6]+2734768916&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~S))+k[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=S+(D^(I|~U))+k[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=U+(I^(S|~D))+k[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=D+(S^(U|~I))+k[2]+718787259&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~S))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,S){S===void 0&&(S=N.length);const I=S-this.blockSize,k=this.C;let D=this.h,U=0;for(;U<S;){if(D==0)for(;U<=I;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<S;)if(k[D++]=N.charCodeAt(U++),D==this.blockSize){o(this,k),D=0;break}}else for(;U<S;)if(k[D++]=N[U++],D==this.blockSize){o(this,k),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;S=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=S&255,S/=256;for(this.v(N),N=Array(16),S=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)N[S++]=this.g[I]>>>k&255;return N};function c(N,S){var I=g;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=S(N)}function d(N,S){this.h=S;const I=[];let k=!0;for(let D=N.length-1;D>=0;D--){const U=N[D]|0;k&&U==S||(I[D]=U,k=!1)}this.g=I}var g={};function v(N){return-128<=N&&N<128?c(N,function(S){return new d([S|0],S<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return X(y(-N));const S=[];let I=1;for(let k=0;N>=I;k++)S[k]=N/I|0,I*=4294967296;return new d(S,0)}function b(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return X(b(N.substring(1),S));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(S,8));let k=w;for(let U=0;U<N.length;U+=8){var D=Math.min(8,N.length-U);const R=parseInt(N.substring(U,U+D),S);D<8?(D=y(Math.pow(S,D)),k=k.j(D).add(y(R))):(k=k.j(I),k=k.add(y(R)))}return k}var w=v(0),V=v(1),K=v(16777216);r=d.prototype,r.m=function(){if(ot(this))return-X(this).m();let N=0,S=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);N+=(k>=0?k:4294967296+k)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(et(this))return"0";if(ot(this))return"-"+X(this).toString(N);const S=y(Math.pow(N,6));var I=this;let k="";for(;;){const D=ie(I,S).g;I=yt(I,D.j(S));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=D,et(I))return U+k;for(;U.length<6;)U="0"+U;k=U+k}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function et(N){if(N.h!=0)return!1;for(let S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function ot(N){return N.h==-1}r.l=function(N){return N=yt(this,N),ot(N)?-1:et(N)?0:1};function X(N){const S=N.g.length,I=[];for(let k=0;k<S;k++)I[k]=~N.g[k];return new d(I,~N.h).add(V)}r.abs=function(){return ot(this)?X(this):this},r.add=function(N){const S=Math.max(this.g.length,N.g.length),I=[];let k=0;for(let D=0;D<=S;D++){let U=k+(this.i(D)&65535)+(N.i(D)&65535),R=(U>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);k=R>>>16,U&=65535,R&=65535,I[D]=R<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function yt(N,S){return N.add(X(S))}r.j=function(N){if(et(this)||et(N))return w;if(ot(this))return ot(N)?X(this).j(X(N)):X(X(this).j(N));if(ot(N))return X(this.j(X(N)));if(this.l(K)<0&&N.l(K)<0)return y(this.m()*N.m());const S=this.g.length+N.g.length,I=[];for(var k=0;k<2*S;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<N.g.length;D++){const U=this.i(k)>>>16,R=this.i(k)&65535,ve=N.i(D)>>>16,Ve=N.i(D)&65535;I[2*k+2*D]+=R*Ve,C(I,2*k+2*D),I[2*k+2*D+1]+=U*Ve,C(I,2*k+2*D+1),I[2*k+2*D+1]+=R*ve,C(I,2*k+2*D+1),I[2*k+2*D+2]+=U*ve,C(I,2*k+2*D+2)}for(N=0;N<S;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=S;N<2*S;N++)I[N]=0;return new d(I,0)};function C(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function wt(N,S){this.g=N,this.h=S}function ie(N,S){if(et(S))throw Error("division by zero");if(et(N))return new wt(w,w);if(ot(N))return S=ie(X(N),S),new wt(X(S.g),X(S.h));if(ot(S))return S=ie(N,X(S)),new wt(X(S.g),S.h);if(N.g.length>30){if(ot(N)||ot(S))throw Error("slowDivide_ only works with positive integers.");for(var I=V,k=S;k.l(N)<=0;)I=Zt(I),k=Zt(k);var D=jt(I,1),U=jt(k,1);for(k=jt(k,2),I=jt(I,2);!et(k);){var R=U.add(k);R.l(N)<=0&&(D=D.add(I),U=R),k=jt(k,1),I=jt(I,1)}return S=yt(N,D.j(S)),new wt(D,S)}for(D=w;N.l(S)>=0;){for(I=Math.max(1,Math.floor(N.m()/S.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),U=y(I),R=U.j(S);ot(R)||R.l(N)>0;)I-=k,U=y(I),R=U.j(S);et(U)&&(U=V),D=D.add(U),N=yt(N,R)}return new wt(D,N)}r.B=function(N){return ie(this,N).h},r.and=function(N){const S=Math.max(this.g.length,N.g.length),I=[];for(let k=0;k<S;k++)I[k]=this.i(k)&N.i(k);return new d(I,this.h&N.h)},r.or=function(N){const S=Math.max(this.g.length,N.g.length),I=[];for(let k=0;k<S;k++)I[k]=this.i(k)|N.i(k);return new d(I,this.h|N.h)},r.xor=function(N){const S=Math.max(this.g.length,N.g.length),I=[];for(let k=0;k<S;k++)I[k]=this.i(k)^N.i(k);return new d(I,this.h^N.h)};function Zt(N){const S=N.g.length+1,I=[];for(let k=0;k<S;k++)I[k]=N.i(k)<<1|N.i(k-1)>>>31;return new d(I,N.h)}function jt(N,S){const I=S>>5;S%=32;const k=N.g.length-I,D=[];for(let U=0;U<k;U++)D[U]=S>0?N.i(U+I)>>>S|N.i(U+I+1)<<32-S:N.i(U+I);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,lE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,gr=d}).apply(typeof mv<"u"?mv:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var oE,Io,uE,zc,im,cE,hE,fE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in _))break t;_=_[P]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,P,H){for(var rt=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)rt[Vt-2]=arguments[Vt];return m.prototype[P].apply(T,rt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function K(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function et(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var _=typeof P;if(_=_!="object"?_:P?Array.isArray(P)?"array":_:"null",_=="array"||_=="object"&&typeof P.length=="number"){_=u.length||0;const H=P.length||0;u.length=_+H;for(let rt=0;rt<H;rt++)u[_+rt]=P[rt]}else u.push(P)}}class ot{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function X(u){d.setTimeout(()=>{throw u},0)}function yt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class C{constructor(){this.h=this.g=null}add(m,_){const T=wt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var wt=new ot(()=>new ie,u=>u.reset());class ie{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Zt,jt=!1,N=new C,S=()=>{const u=Promise.resolve(void 0);Zt=()=>{u.then(I)}};function I(){for(var u;u=yt();){try{u.h.call(u.g)}catch(_){X(_)}var m=wt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}jt=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ve(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(ve,D),ve.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ve.Z.h.call(this)},ve.prototype.h=function(){ve.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),F=0;function lt(u,m,_,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=P,this.key=++F,this.da=this.fa=!1}function gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Qt(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function se(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function M(u){const m={};for(const _ in u)m[_]=u[_];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(u,m){let _,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(_ in T)u[_]=T[_];for(let H=0;H<$.length;H++)_=$[H],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function ut(u){this.src=u,this.g={},this.h=0}ut.prototype.add=function(u,m,_,T,P){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const rt=St(u,m,T,P);return rt>-1?(m=u[rt],_||(m.fa=!1)):(m=new lt(m,this.src,H,!!T,P),m.fa=_,u.push(m)),m};function At(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],P=Array.prototype.indexOf.call(T,m,void 0),H;(H=P>=0)&&Array.prototype.splice.call(T,P,1),H&&(gt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function St(u,m,_,T){for(let P=0;P<u.length;++P){const H=u[P];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==T)return P}return-1}var Ot="closure_lm_"+(Math.random()*1e6|0),Ue={};function Ee(u,m,_,T,P){if(Array.isArray(m)){for(let H=0;H<m.length;H++)Ee(u,m[H],_,T,P);return null}return _=G(_),u&&u[Ve]?u.J(m,_,g(T)?!!T.capture:!1,P):Fn(u,m,_,!1,T,P)}function Fn(u,m,_,T,P,H){if(!m)throw Error("Invalid event type");const rt=g(P)?!!P.capture:!!P;let Vt=Ji(u);if(Vt||(u[Ot]=Vt=new ut(u)),_=Vt.add(m,_,T,rt,H),_.proxy)return _;if(T=Is(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)U||(P=rt),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(Qn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Is(){function u(_){return m.call(u.src,u.listener,_)}const m=Cr;return u}function Zi(u,m,_,T,P){if(Array.isArray(m))for(var H=0;H<m.length;H++)Zi(u,m[H],_,T,P);else T=g(T)?!!T.capture:!!T,_=G(_),u&&u[Ve]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],_=St(m,_,T,P),_>-1&&(gt(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Ji(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,_,T,P)),(_=u>-1?m[u]:null)&&xs(_))}function xs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ve])At(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Qn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=Ji(m))?(At(_,u),_.h==0&&(_.src=null,m[Ot]=null)):gt(u)}}}function Qn(u){return u in Ue?Ue[u]:Ue[u]="on"+u}function Cr(u,m){if(u.da)u=!0;else{m=new ve(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&xs(u),u=_.call(T,m)}return u}function Ji(u){return u=u[Ot],u instanceof ut?u:null}var Ir="__closure_events_fn_"+(Math.random()*1e9>>>0);function G(u){return typeof u=="function"?u:(u[Ir]||(u[Ir]=function(m){return u.handleEvent(m)}),u[Ir])}function tt(){k.call(this),this.i=new ut(this),this.M=this,this.G=null}w(tt,k),tt.prototype[Ve]=!0,tt.prototype.removeEventListener=function(u,m,_,T){Zi(this,u,m,_,T)};function it(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(T,u),at(m,P)}P=!0;let H,rt;if(_)for(rt=_.length-1;rt>=0;rt--)H=m.g=_[rt],P=Et(H,T,!0,m)&&P;if(H=m.g=u,P=Et(H,T,!0,m)&&P,P=Et(H,T,!1,m)&&P,_)for(rt=0;rt<_.length;rt++)H=m.g=_[rt],P=Et(H,T,!1,m)&&P}tt.prototype.N=function(){if(tt.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)gt(_[T]);delete u.g[m],u.h--}}this.G=null},tt.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},tt.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function Et(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let H=0;H<m.length;++H){const rt=m[H];if(rt&&!rt.da&&rt.capture==_){const Vt=rt.listener,Pe=rt.ha||rt.src;rt.fa&&At(u.i,rt),P=Vt.call(Pe,T)!==!1&&P}}return P&&!T.defaultPrevented}function ft(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function vt(u){u.g=ft(()=>{u.g=null,u.i&&(u.i=!1,vt(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class nt extends k{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:vt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pt(u){k.call(this),this.h=u,this.g={}}w(pt,k);var de=[];function be(u){Qt(u.g,function(m,_){this.g.hasOwnProperty(_)&&xs(m)},u),u.g={}}pt.prototype.N=function(){pt.Z.N.call(this),be(this)},pt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ae=d.JSON.stringify,Kn=d.JSON.parse,re=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Te(){}function Ut(){}var It={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Kt(){D.call(this,"d")}w(Kt,D);function Se(){D.call(this,"c")}w(Se,D);var Yt={},st=null;function Mt(){return st=st||new tt}Yt.Ia="serverreachability";function xe(u){D.call(this,Yt.Ia,u)}w(xe,D);function gn(u){const m=Mt();it(m,new xe(m))}Yt.STAT_EVENT="statevent";function xr(u,m){D.call(this,Yt.STAT_EVENT,u),this.stat=m}w(xr,D);function He(u){const m=Mt();it(m,new xr(m,u))}Yt.Ja="timingevent";function Ei(u,m){D.call(this,Yt.Ja,u),this.size=m}w(Ei,D);function Ti(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function oi(){this.g=!0}oi.prototype.ua=function(){this.g=!1};function Mh(u,m,_,T,P,H){u.info(function(){if(u.g)if(H){var rt="",Vt=H.split("&");for(let ae=0;ae<Vt.length;ae++){var Pe=Vt[ae].split("=");if(Pe.length>1){const Ne=Pe[0];Pe=Pe[1];const Zn=Ne.split("_");rt=Zn.length>=2&&Zn[1]=="type"?rt+(Ne+"="+Pe+"&"):rt+(Ne+"=redacted&")}}}else rt=null;else rt=H;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+_+`
`+rt})}function ru(u,m,_,T,P,H,rt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+_+`
`+H+" "+rt})}function bi(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,_)+(T?" "+T:"")})}function Nr(u,m){u.info(function(){return"TIMEOUT: "+m})}oi.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var _=H[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let rt=1;rt<T.length;rt++)T[rt]=""}}}}return Ae(H)}catch{return m}}var Dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Sl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wl;function Or(){}w(Or,Te),Or.prototype.g=function(){return new XMLHttpRequest},wl=new Or;function Wi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function ui(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new pt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ci}function ci(){this.i=null,this.g="",this.h=!1}var qe={},nn={};function Ai(u,m,_){u.M=1,u.A=Mr(Fe(m)),u.u=_,u.R=!0,fa(u,null)}function fa(u,m){u.F=Date.now(),Si(u),u.B=Fe(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ga(_.i,"t",T),u.C=0,_=u.j.L,u.h=new ci,u.g=Tu(u.j,_?m:null,!u.u),u.P>0&&(u.O=new nt(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(de[0]=P.toString()),P=de);for(let H=0;H<P.length;H++){const rt=Ee(_,P[H],T||m.handleEvent,!1,m.h||m);if(!rt)break;m.g[rt.key]=rt}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),gn(),Mh(u.i,u.v,u.B,u.l,u.S,u.u)}ui.prototype.ba=function(u){u=u.target;const m=this.O;m&&di(u)==3?m.j():this.Y(u)},ui.prototype.Y=function(u){try{if(u==this.g)t:{const Vt=di(this.g),Pe=this.g.ya(),ae=this.g.ca();if(!(Vt<3)&&(Vt!=3||this.g&&(this.h.h||this.g.la()||on(this.g)))){this.K||Vt!=4||Pe==7||(Pe==8||ae<=0?gn(3):gn(2)),wi(this);var m=this.g.ca();this.X=m;var _=kh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,Vt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var H=T;break e}}H=null}if(u=H)bi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ri(this,u);else{this.o=!1,this.m=3,He(12),kn(this),Yn(this);break t}}if(this.R){u=!0;let Ne;for(;!this.K&&this.C<_.length;)if(Ne=ou(this,_),Ne==nn){Vt==4&&(this.m=4,He(14),u=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ne==qe){this.m=4,He(15),bi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else bi(this.i,this.l,Ne,null),Ri(this,Ne);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||_.length!=0||this.h.h||(this.m=1,He(16),u=!1),this.o=this.o&&u,!u)bi(this.i,this.l,_,"[Invalid Chunked Response]"),kn(this),Yn(this);else if(_.length>0&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.aa&&!rt.P&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),jl(rt),rt.P=!0,He(11))}}else bi(this.i,this.l,_,null),Ri(this,_);Vt==4&&kn(this),this.o&&!this.K&&(Vt==4?yu(this.j,this):(this.o=!1,Si(this)))}else es(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,He(12)):(this.m=0,He(13)),kn(this),Yn(this)}}}catch{}finally{}};function kh(u){if(!lu(u))return u.g.la();const m=on(u.g);if(m==="")return"";let _="";const T=m.length,P=di(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return kn(u),Yn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,_+=u.h.i.decode(m[H],{stream:!(P&&H==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?nn:(_=Number(m.substring(_,T)),isNaN(_)?qe:(T+=1,T+_>m.length?nn:(m=m.slice(T,T+_),u.C=T+_,m)))}ui.prototype.cancel=function(){this.K=!0,kn(this)};function Si(u){u.T=Date.now()+u.H,da(u,u.H)}function da(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ti(y(u.aa,u),m)}function wi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ui.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Nr(this.i,this.B),this.M!=2&&(gn(),He(17)),kn(this),this.m=2,Yn(this)):da(this,this.T-u)};function Yn(u){u.j.I==0||u.K||yu(u.j,u)}function kn(u){wi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,be(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ri(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||Ii(_.h,u))){if(!u.L&&Ii(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Ta(_),Us(_);else break t;jr(_),He(18)}}else _.xa=P[1],0<_.xa-_.K&&P[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Ti(y(_.Va,_),6e3));Ci(_.h)<=1&&_.ta&&(_.ta=void 0)}else Vi(_,11)}else if((u.L||_.g==u)&&Ta(_),!R(m))for(P=_.Ba.g.parse(m),m=0;m<P.length;m++){let ae=P[m];const Ne=ae[0];if(!(Ne<=_.K))if(_.K=Ne,ae=ae[1],_.I==2)if(ae[0]=="c"){_.M=ae[1],_.ba=ae[2];const Zn=ae[3];Zn!=null&&(_.ka=Zn,_.j.info("VER="+_.ka));const ki=ae[4];ki!=null&&(_.za=ki,_.j.info("SVER="+_.za));const mi=ae[5];mi!=null&&typeof mi=="number"&&mi>0&&(T=1.5*mi,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const pi=u.g;if(pi){const Br=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var H=T.h;H.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Il(H,H.h),H.h=null))}if(T.G){const ba=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(T.wa=ba,ce(T.J,T.G,ba))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var rt=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),rt.L){xl(T.h,rt);var Vt=rt,Pe=T.O;Pe&&(Vt.H=Pe),Vt.D&&(wi(Vt),Si(Vt)),T.g=rt}else pu(T);_.i.length>0&&Mi(_)}else ae[0]!="stop"&&ae[0]!="close"||Vi(_,7);else _.I==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?Vi(_,7):Pl(_):ae[0]!="noop"&&_.l&&_.l.qa(ae),_.A=0)}}gn(4)}catch{}}var Ge=class{constructor(u,m){this.g=u,this.map=m}};function Rl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ci(u){return u.h?1:u.g?u.g.size:0}function Ii(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Il(u,m){u.g?u.g.add(m):u.h=m}function xl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Rl.prototype.cancel=function(){if(this.i=Nl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Nl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return K(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ma(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let P,H=null;T>=0?(P=u[_].substring(0,T),H=u[_].substring(T+1)):P=u[_],m(P,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Ln(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Ln?(this.l=u.l,sn(this,u.j),this.o=u.o,this.g=u.g,Ns(this,u.u),this.h=u.h,Dl(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,sn(this,m[1]||"",!0),this.o=xi(m[2]||""),this.g=xi(m[3]||"",!0),Ns(this,m[4]),this.h=xi(m[5]||"",!0),Dl(this,m[6]||"",!0),this.m=xi(m[7]||"")):(this.l=!1,this.i=new Os(null,this.l))}Ln.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Vr(m,pa,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Vr(m,pa,!0),"@"),u.push(Wi(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Vr(_,_.charAt(0)=="/"?Ol:cu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Vr(_,hu)),u.join("")},Ln.prototype.resolve=function(u){const m=Fe(this);let _=!!u.j;_?sn(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)Ns(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const H=[];for(let rt=0;rt<P.length;){const Vt=P[rt++];Vt=="."?T&&rt==P.length&&H.push(""):Vt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&rt==P.length&&H.push("")):(H.push(Vt),T=!0)}T=H.join("/")}else T=P}return _?m.h=T:_=u.i.toString()!=="",_?Dl(m,du(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Fe(u){return new Ln(u)}function sn(u,m,_){u.j=_?xi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ns(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Dl(u,m,_){m instanceof Os?(u.i=m,ya(u.i,u.l)):(_||(m=Vr(m,Ds)),u.i=new Os(m,u.l))}function ce(u,m,_){u.i.set(m,_)}function Mr(u){return ce(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function xi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Vr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Rn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var pa=/[#\/\?@]/g,cu=/[#\?:]/g,Ol=/[#\?]/g,Ds=/[#\?@]/g,hu=/#/g;function Os(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Cn(u){u.g||(u.g=new Map,u.h=0,u.i&&ma(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Os.prototype,r.add=function(u,m){Cn(this),this.i=null,u=Ms(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function fu(u,m){Cn(u),m=Ms(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ml(u,m){return Cn(u),m=Ms(u,m),u.g.has(m)}r.forEach=function(u,m){Cn(this),this.g.forEach(function(_,T){_.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Vl(u,m){Cn(u);let _=[];if(typeof m=="string")Ml(u,m)&&(_=_.concat(u.g.get(Ms(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return Cn(this),this.i=null,u=Ms(this,u),Ml(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Vl(this,u),u.length>0?String(u[0]):m):m};function ga(u,m,_){fu(u,m),_.length>0&&(u.i=null,u.g.set(Ms(u,m),K(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const P=Wi(_);_=Vl(this,_);for(let H=0;H<_.length;H++){let rt=P;_[H]!==""&&(rt+="="+Wi(_[H])),u.push(rt)}}return this.i=u.join("&")};function du(u){const m=new Os;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ms(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ya(u,m){m&&!u.j&&(Cn(u),u.i=null,u.g.forEach(function(_,T){const P=T.toLowerCase();T!=P&&(fu(this,T),ga(this,P,_))},u)),u.j=m}function hi(u,m){const _=new oi;if(d.Image){const T=new Image;T.onload=b(Xn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Xn,_,"TestLoadImage: error",!1,m,T),T.onabort=b(Xn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Xn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function kl(u,m){const _=new oi,T=new AbortController,P=setTimeout(()=>{T.abort(),Xn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(P),H.ok?Xn(_,"TestPingServer: ok",!0,m):Xn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Xn(_,"TestPingServer: error",!1,m)})}function Xn(u,m,_,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(_)}catch{}}function Vs(){this.g=new re}function Ni(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ni,Te),Ni.prototype.g=function(){return new kr(this.i,this.h)};function kr(u,m){tt.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(kr,tt),r=kr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,fi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ks(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_a(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function _a(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ks(this):fi(this),this.readyState==3&&_a(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ks(this))},r.Na=function(u){this.g&&(this.response=u,ks(this))},r.ga=function(){this.g&&ks(this)};function ks(u){u.readyState=4,u.l=null,u.j=null,u.B=null,fi(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function fi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $n(u){let m="";return Qt(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function Lr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=$n(_),typeof u=="string"?_!=null&&Wi(_):ce(u,m,_))}function me(u){tt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(me,tt);var Di=/^https?$/i,Ll=["POST","PUT"];r=me.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wl.g(),this.g.onreadystatechange=V(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Ur(this,H);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)_.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())_.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ll,m,void 0)>=0)||T||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,rt]of _)this.g.setRequestHeader(H,rt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Ur(this,H)}};function Ur(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ul(u),ts(u)}function Ul(u){u.A||(u.A=!0,it(u,"complete"),it(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,it(this,"complete"),it(this,"abort"),ts(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),me.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Pr(this):this.Xa())},r.Xa=function(){Pr(this)};function Pr(u){if(u.h&&typeof c<"u"){if(u.v&&di(u)==4)setTimeout(u.Ca.bind(u),0);else if(it(u,"readystatechange"),di(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=H===0){let rt=String(u.D).match(uu)[1]||null;!rt&&d.self&&d.self.location&&(rt=d.self.location.protocol.slice(0,-1)),T=!Di.test(rt?rt.toLowerCase():"")}_=T}if(_)it(u,"complete"),it(u,"success");else{u.o=6;try{var P=di(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Ul(u)}}finally{ts(u)}}}}function ts(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||it(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function di(u){return u.g?u.g.readyState:0}r.ca=function(){try{return di(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Kn(m)}};function on(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function es(u){const m={};u=(u.g&&di(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var _=au(u[T]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[P]||[];m[P]=H,H.push(_)}se(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ls(u){this.za=0,this.i=[],this.j=new oi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,u),this.Za=Oi("retryDelaySeedMs",1e4,u),this.Ta=Oi("forwardChannelMaxRetries",2,u),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Rl(u&&u.concurrentRequestLimit),this.Ba=new Vs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ls.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){He(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),Mi(this)};function Pl(u){if(va(u),u.I==3){var m=u.V++,_=Fe(u.J);if(ce(_,"SID",u.M),ce(_,"RID",m),ce(_,"TYPE","terminate"),zr(u,_),m=new ui(u,u.j,m),m.M=2,m.A=Mr(Fe(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Si(m)}vu(u)}function Us(u){u.g&&(jl(u),u.g.cancel(),u.g=null)}function va(u){Us(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ta(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Mi(u){if(!Cl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Zt||S(),jt||(Zt(),jt=!0),N.add(m,u),u.D=0}}function Ea(u,m){return Ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ti(y(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new ui(this,this.j,u);let H=this.o;if(this.U&&(H?(H=M(H),at(H,this.U)):H=this.U),this.u!==null||this.R||(P.J=H,H=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=mu(this,P,m),_=Fe(this.J),ce(_,"RID",u),ce(_,"CVER",22),this.G&&ce(_,"X-HTTP-Session-Id",this.G),zr(this,_),H&&(this.R?m="headers="+Wi($n(H))+"&"+m:this.u&&Lr(_,this.u,H)),Il(this.h,P),this.Ra&&ce(_,"TYPE","init"),this.S?(ce(_,"$req",m),ce(_,"SID","null"),P.U=!0,Ai(P,_,null)):Ai(P,_,m),this.I=2}}else this.I==3&&(u?zl(this,u):this.i.length==0||Cl(this.h)||zl(this))};function zl(u,m){var _;m?_=m.l:_=u.V++;const T=Fe(u.J);ce(T,"SID",u.M),ce(T,"RID",_),ce(T,"AID",u.K),zr(u,T),u.u&&u.o&&Lr(T,u.u,u.o),_=new ui(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Il(u.h,_),Ai(_,T,m)}function zr(u,m){u.H&&Qt(u.H,function(_,T){ce(m,T,_)}),u.l&&Qt({},function(_,T){ce(m,T,_)})}function mu(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let Vt=-1;for(;;){const Pe=["count="+_];Vt==-1?_>0?(Vt=P[0].g,Pe.push("ofs="+Vt)):Vt=0:Pe.push("ofs="+Vt);let ae=!0;for(let Ne=0;Ne<_;Ne++){var H=P[Ne].g;const Zn=P[Ne].map;if(H-=Vt,H<0)Vt=Math.max(0,P[Ne].g-100),ae=!1;else try{H="req"+H+"_"||"";try{var rt=Zn instanceof Map?Zn:Object.entries(Zn);for(const[ki,mi]of rt){let pi=mi;g(mi)&&(pi=Ae(mi)),Pe.push(H+ki+"="+encodeURIComponent(pi))}}catch(ki){throw Pe.push(H+"type="+encodeURIComponent("_badmap")),ki}}catch{T&&T(Zn)}}if(ae){rt=Pe.join("&");break t}}rt=void 0}return u=u.i.splice(0,_),m.G=u,rt}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Zt||S(),jt||(Zt(),jt=!0),N.add(m,u),u.A=0}}function jr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ti(y(u.Da,u),_u(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ti(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,He(10),Us(this),gu(this))};function jl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new ui(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Fe(u.na);ce(m,"RID","rpc"),ce(m,"SID",u.M),ce(m,"AID",u.K),ce(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ce(m,"TO",u.ia),ce(m,"TYPE","xmlhttp"),zr(u,m),u.u&&u.o&&Lr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Mr(Fe(m)),_.u=null,_.R=!0,fa(_,u)}r.Va=function(){this.C!=null&&(this.C=null,Us(this),jr(this),He(19))};function Ta(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var _=null;if(u.g==m){Ta(u),jl(u),u.g=null;var T=2}else if(Ii(u.h,m))_=m.G,xl(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=Mt(),it(T,new Ei(T,_)),Mi(u)}else pu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&Ea(u,m)||T==2&&jr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),P){case 1:Vi(u,5);break;case 4:Vi(u,10);break;case 3:Vi(u,6);break;default:Vi(u,2)}}}function _u(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Vi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const P=!T;T=new Ln(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||sn(T,"https"),Mr(T),P?hi(T.toString(),_):kl(T.toString(),_)}else He(2);u.I=0,u.l&&u.l.pa(m),vu(u),va(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=Nl(u.h);(m.length!=0||u.i.length!=0)&&(et(u.ja,m),et(u.ja,u.i),u.h.i.length=0,K(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,_){var T=_ instanceof Ln?Fe(_):new Ln(_);if(T.g!="")m&&(T.g=m+"."+T.g),Ns(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const H=new Ln(null);T&&sn(H,T),m&&(H.g=m),P&&Ns(H,P),_&&(H.h=_),T=H}return _=u.G,m=u.wa,_&&m&&ce(T,_,m),ce(T,"VER",u.ka),zr(u,T),T}function Tu(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new me(new Ni({ab:_})):new me(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}r=bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ps(){}Ps.prototype.g=function(u,m){return new An(u,m)};function An(u,m){tt.call(this),this.g=new Ls(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ns(this)}w(An,tt),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){Pl(this.g)},An.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Ae(u),u=_);m.i.push(new Ge(m.Ya++,u)),m.I==3&&Mi(m)},An.prototype.N=function(){this.g.l=null,delete this.j,Pl(this.g),delete this.g,An.Z.N.call(this)};function Au(u){Kt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Au,Kt);function Su(){Se.call(this),this.status=1}w(Su,Se);function ns(u){this.g=u}w(ns,bu),ns.prototype.ra=function(){it(this.g,"a")},ns.prototype.qa=function(u){it(this.g,new Au(u))},ns.prototype.pa=function(u){it(this.g,new Su)},ns.prototype.oa=function(){it(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,fE=function(){return new Ps},hE=function(){return Mt()},cE=Yt,im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Dr.NO_ERROR=0,Dr.TIMEOUT=8,Dr.HTTP_ERROR=6,zc=Dr,Sl.COMPLETE="complete",uE=Sl,Ut.EventType=It,It.OPEN="a",It.CLOSE="b",It.ERROR="c",It.MESSAGE="d",tt.prototype.listen=tt.prototype.J,Io=Ut,me.prototype.listenOnce=me.prototype.K,me.prototype.getLastError=me.prototype.Ha,me.prototype.getLastErrorCode=me.prototype.ya,me.prototype.getStatus=me.prototype.ca,me.prototype.getResponseJson=me.prototype.La,me.prototype.getResponseText=me.prototype.la,me.prototype.send=me.prototype.ea,me.prototype.setWithCredentials=me.prototype.Fa,oE=me}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const pv="@firebase/firestore",gv="4.9.2";class vn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");let El="12.3.0";const oa=new bm("@firebase/firestore");function Ja(){return oa.logLevel}function ct(r,...t){if(oa.logLevel<=qt.DEBUG){const i=t.map(Mm);oa.debug(`Firestore (${El}): ${r}`,...i)}}function ws(r,...t){if(oa.logLevel<=qt.ERROR){const i=t.map(Mm);oa.error(`Firestore (${El}): ${r}`,...i)}}function ul(r,...t){if(oa.logLevel<=qt.WARN){const i=t.map(Mm);oa.warn(`Firestore (${El}): ${r}`,...i)}}function Mm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Rt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,dE(r,a,i)}function dE(r,t,i){let a=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ws(a),new Error(a)}function ue(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||dE(t,o,a)}function Dt(r,t){return r}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Cs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class mE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class E2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(vn.UNAUTHENTICATED)))}shutdown(){}}class T2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class b2{constructor(t){this.t=t,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){ue(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new yr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},g=v=>{ct("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(ct("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new yr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ct("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ue(typeof a.accessToken=="string",31837,{l:a}),new mE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ue(t===null||typeof t=="string",2055,{h:t}),new vn(t)}}class A2{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class S2{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new A2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(vn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){ue(this.o===void 0,3512);const a=c=>{c.error!=null&&ct("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ct("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{ct("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ct("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(ue(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new yv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function R2(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=R2(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Gt(r,t){return r<t?-1:r>t?1:0}function sm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return qd(o)===qd(c)?Gt(o,c):qd(o)?1:-1}return Gt(r.length,t.length)}const C2=55296,I2=57343;function qd(r){const t=r.charCodeAt(0);return t>=C2&&t<=I2}function cl(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const _v="__name__";class ji{constructor(t,i,a){i===void 0?i=0:i>t.length&&Rt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&Rt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return ji.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ji?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=ji.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Gt(t.length,i.length)}static compareSegments(t,i){const a=ji.isNumericId(t),o=ji.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?ji.extractNumericId(t).compare(ji.extractNumericId(i)):sm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return gr.fromString(t.substring(4,t.length-2))}}class Oe extends ji{construct(t,i,a){return new Oe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new mt(W.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new Oe(i)}static emptyPath(){return new Oe([])}}const x2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends ji{construct(t,i,a){return new mn(t,i,a)}static isValidIdentifier(t){return x2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_v}static keyField(){return new mn([_v])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new mt(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new mt(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new mt(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new mt(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new mn(i)}static emptyPath(){return new mn([])}}class Tt{constructor(t){this.path=t}static fromPath(t){return new Tt(Oe.fromString(t))}static fromName(t){return new Tt(Oe.fromString(t).popFirst(5))}static empty(){return new Tt(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Oe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Tt(new Oe(t.slice()))}}function N2(r,t,i){if(!i)throw new mt(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function D2(r,t,i,a){if(t===!0&&a===!0)throw new mt(W.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function vv(r){if(!Tt.isDocumentKey(r))throw new mt(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function pE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function km(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Rt(12329,{type:typeof r})}function qi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new mt(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=km(r);throw new mt(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ze(r,t){const i={typeString:r};return t&&(i.value=t),i}function Wo(r,t){if(!pE(r))throw new mt(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new mt(W.INVALID_ARGUMENT,i);return!0}const Ev=-62135596800,Tv=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(t){return Ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Tv);return new Ie(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new mt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new mt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Ev)throw new mt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tv}_compareTo(t){return this.seconds===t.seconds?Gt(this.nanoseconds,t.nanoseconds):Gt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Wo(t,Ie._jsonSchema))return new Ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Ev;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ie._jsonSchemaVersion="firestore/timestamp/1.0",Ie._jsonSchema={type:Ze("string",Ie._jsonSchemaVersion),seconds:Ze("number"),nanoseconds:Ze("number")};class xt{static fromTimestamp(t){return new xt(t)}static min(){return new xt(new Ie(0,0))}static max(){return new xt(new Ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jo=-1;function O2(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=xt.fromTimestamp(a===1e9?new Ie(i+1,0):new Ie(i,a));return new vr(o,Tt.empty(),t)}function M2(r){return new vr(r.readTime,r.key,jo)}class vr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new vr(xt.min(),Tt.empty(),jo)}static max(){return new vr(xt.max(),Tt.empty(),jo)}}function V2(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=Tt.comparator(r.documentKey,t.documentKey),i!==0?i:Gt(r.largestBatchId,t.largestBatchId))}const k2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Tl(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==k2)throw r;ct("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,a)=>{i(t)}))}static reject(t){return new J(((i,a)=>{a(t)}))}static waitFor(t){return new J(((i,a)=>{let o=0,c=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(t){let i=J.resolve(!1);for(const a of t)i=i.next((o=>o?J.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new J(((a,o)=>{const c=t.length,d=new Array(c);let g=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((b=>{d[y]=b,++g,g===c&&a(d)}),(b=>o(b)))}}))}static doWhile(t,i){return new J(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function U2(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function bl(r){return r.name==="IndexedDbTransactionError"}class ph{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ph.ce=-1;const Lm=-1;function gh(r){return r==null}function th(r){return r===0&&1/r==-1/0}function P2(r){return typeof r=="number"&&Number.isInteger(r)&&!th(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const gE="";function z2(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=bv(t)),t=j2(r.get(i),t);return bv(t)}function j2(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case gE:i+="";break;default:i+=c}}return i}function bv(r){return r+gE+""}function Av(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function wr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function yE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class Me{constructor(t,i){this.comparator=t,this.root=i||dn.EMPTY}insert(t,i){return new Me(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(t){return new Me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,dn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class dn{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??dn.RED,this.left=o??dn.EMPTY,this.right=c??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new dn(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return dn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new dn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class en{constructor(t){this.comparator=t,this.data=new Me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Sv(this.data.getIterator())}getIteratorFrom(t){return new Sv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof en)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new en(this.comparator);return i.data=t,i}}class Sv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Gn{constructor(t){this.fields=t,t.sort(mn.comparator)}static empty(){return new Gn([])}unionWith(t){let i=new en(mn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Gn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return cl(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class _E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class pn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new _E("Invalid base64 string: "+c):c}})(t);return new pn(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new pn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Gt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const B2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(r){if(ue(!!r,39018),typeof r=="string"){let t=0;const i=B2.exec(r);if(ue(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Be(r.seconds),nanos:Be(r.nanos)}}function Be(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Tr(r){return typeof r=="string"?pn.fromBase64String(r):pn.fromUint8Array(r)}const vE="server_timestamp",EE="__type__",TE="__previous_value__",bE="__local_write_time__";function Um(r){return(r?.mapValue?.fields||{})[EE]?.stringValue===vE}function yh(r){const t=r.mapValue.fields[TE];return Um(t)?yh(t):t}function Bo(r){const t=Er(r.mapValue.fields[bE].timestampValue);return new Ie(t.seconds,t.nanos)}class H2{constructor(t,i,a,o,c,d,g,v,y,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=b}}const eh="(default)";class Ho{constructor(t,i){this.projectId=t,this.database=i||eh}static empty(){return new Ho("","")}get isDefaultDatabase(){return this.database===eh}isEqual(t){return t instanceof Ho&&t.projectId===this.projectId&&t.database===this.database}}const AE="__type__",q2="__max__",Dc={mapValue:{}},SE="__vector__",nh="value";function br(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Um(r)?4:F2(r)?9007199254740991:G2(r)?10:11:Rt(28295,{value:r})}function Xi(r,t){if(r===t)return!0;const i=br(r);if(i!==br(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Bo(r).isEqual(Bo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Er(o.timestampValue),g=Er(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return Tr(o.bytesValue).isEqual(Tr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return Be(o.geoPointValue.latitude)===Be(c.geoPointValue.latitude)&&Be(o.geoPointValue.longitude)===Be(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Be(o.integerValue)===Be(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Be(o.doubleValue),g=Be(c.doubleValue);return d===g?th(d)===th(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return cl(r.arrayValue.values||[],t.arrayValue.values||[],Xi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(Av(d)!==Av(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!Xi(d[v],g[v])))return!1;return!0})(r,t);default:return Rt(52216,{left:r})}}function qo(r,t){return(r.values||[]).find((i=>Xi(i,t)))!==void 0}function hl(r,t){if(r===t)return 0;const i=br(r),a=br(t);if(i!==a)return Gt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Gt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=Be(c.integerValue||c.doubleValue),v=Be(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(r,t);case 3:return wv(r.timestampValue,t.timestampValue);case 4:return wv(Bo(r),Bo(t));case 5:return sm(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=Tr(c),v=Tr(d);return g.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),v=d.split("/");for(let y=0;y<g.length&&y<v.length;y++){const b=Gt(g[y],v[y]);if(b!==0)return b}return Gt(g.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Gt(Be(c.latitude),Be(d.latitude));return g!==0?g:Gt(Be(c.longitude),Be(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Rv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},v=d.fields||{},y=g[nh]?.arrayValue,b=v[nh]?.arrayValue,w=Gt(y?.values?.length||0,b?.values?.length||0);return w!==0?w:Rv(y,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Dc.mapValue&&d===Dc.mapValue)return 0;if(c===Dc.mapValue)return 1;if(d===Dc.mapValue)return-1;const g=c.fields||{},v=Object.keys(g),y=d.fields||{},b=Object.keys(y);v.sort(),b.sort();for(let w=0;w<v.length&&w<b.length;++w){const V=sm(v[w],b[w]);if(V!==0)return V;const K=hl(g[v[w]],y[b[w]]);if(K!==0)return K}return Gt(v.length,b.length)})(r.mapValue,t.mapValue);default:throw Rt(23264,{he:i})}}function wv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Gt(r,t);const i=Er(r),a=Er(t),o=Gt(i.seconds,a.seconds);return o!==0?o:Gt(i.nanos,a.nanos)}function Rv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=hl(i[o],a[o]);if(c)return c}return Gt(i.length,a.length)}function fl(r){return rm(r)}function rm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Er(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Tr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return Tt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=rm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${rm(i.fields[d])}`;return o+"}"})(r.mapValue):Rt(61005,{value:r})}function jc(r){switch(br(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yh(r);return t?16+jc(t):16;case 5:return 2*r.stringValue.length;case 6:return Tr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+jc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return wr(a.fields,((c,d)=>{o+=c.length+jc(d)})),o})(r.mapValue);default:throw Rt(13486,{value:r})}}function am(r){return!!r&&"integerValue"in r}function Pm(r){return!!r&&"arrayValue"in r}function Cv(r){return!!r&&"nullValue"in r}function Iv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bc(r){return!!r&&"mapValue"in r}function G2(r){return(r?.mapValue?.fields||{})[AE]?.stringValue===SE}function Vo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return wr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Vo(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Vo(r.arrayValue.values[i]);return t}return{...r}}function F2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===q2}class Vn{constructor(t){this.value=t}static empty(){return new Vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Bc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vo(i)}setAll(t){let i=mn.emptyPath(),a={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Vo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Xi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Bc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){wr(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new Vn(Vo(this.value))}}function wE(r){const t=[];return wr(r.fields,((i,a)=>{const o=new mn([i]);if(Bc(a)){const c=wE(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new Gn(t)}class En{constructor(t,i,a,o,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new En(t,0,xt.min(),xt.min(),xt.min(),Vn.empty(),0)}static newFoundDocument(t,i,a,o){return new En(t,1,i,xt.min(),a,o,0)}static newNoDocument(t,i){return new En(t,2,i,xt.min(),xt.min(),Vn.empty(),0)}static newUnknownDocument(t,i){return new En(t,3,i,xt.min(),xt.min(),Vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof En&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ih{constructor(t,i){this.position=t,this.inclusive=i}}function xv(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=Tt.comparator(Tt.fromName(d.referenceValue),i.key):a=hl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Nv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Xi(r.position[i],t.position[i]))return!1;return!0}class sh{constructor(t,i="asc"){this.field=t,this.dir=i}}function Q2(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class RE{}class tn extends RE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Y2(t,i,a):i==="array-contains"?new Z2(t,a):i==="in"?new J2(t,a):i==="not-in"?new W2(t,a):i==="array-contains-any"?new tR(t,a):new tn(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new X2(t,a):new $2(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(hl(i,this.value)):i!==null&&br(this.value)===br(i)&&this.matchesComparison(hl(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $i extends RE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new $i(t,i)}matches(t){return CE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CE(r){return r.op==="and"}function IE(r){return K2(r)&&CE(r)}function K2(r){for(const t of r.filters)if(t instanceof $i)return!1;return!0}function lm(r){if(r instanceof tn)return r.field.canonicalString()+r.op.toString()+fl(r.value);if(IE(r))return r.filters.map((t=>lm(t))).join(",");{const t=r.filters.map((i=>lm(i))).join(",");return`${r.op}(${t})`}}function xE(r,t){return r instanceof tn?(function(a,o){return o instanceof tn&&a.op===o.op&&a.field.isEqual(o.field)&&Xi(a.value,o.value)})(r,t):r instanceof $i?(function(a,o){return o instanceof $i&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&xE(d,o.filters[g])),!0):!1})(r,t):void Rt(19439)}function NE(r){return r instanceof tn?(function(i){return`${i.field.canonicalString()} ${i.op} ${fl(i.value)}`})(r):r instanceof $i?(function(i){return i.op.toString()+" {"+i.getFilters().map(NE).join(" ,")+"}"})(r):"Filter"}class Y2 extends tn{constructor(t,i,a){super(t,i,a),this.key=Tt.fromName(a.referenceValue)}matches(t){const i=Tt.comparator(t.key,this.key);return this.matchesComparison(i)}}class X2 extends tn{constructor(t,i){super(t,"in",i),this.keys=DE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class $2 extends tn{constructor(t,i){super(t,"not-in",i),this.keys=DE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function DE(r,t){return(t.arrayValue?.values||[]).map((i=>Tt.fromName(i.referenceValue)))}class Z2 extends tn{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Pm(i)&&qo(i.arrayValue,this.value)}}class J2 extends tn{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&qo(this.value.arrayValue,i)}}class W2 extends tn{constructor(t,i){super(t,"not-in",i)}matches(t){if(qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!qo(this.value.arrayValue,i)}}class tR extends tn{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Pm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>qo(this.value.arrayValue,a)))}}class eR{constructor(t,i=null,a=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Dv(r,t=null,i=[],a=[],o=null,c=null,d=null){return new eR(r,t,i,a,o,c,d)}function zm(r){const t=Dt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>lm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),gh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>fl(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>fl(a))).join(",")),t.Te=i}return t.Te}function jm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Q2(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!xE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Nv(r.startAt,t.startAt)&&Nv(r.endAt,t.endAt)}function om(r){return Tt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class _h{constructor(t,i=null,a=[],o=[],c=null,d="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nR(r,t,i,a,o,c,d,g){return new _h(r,t,i,a,o,c,d,g)}function vh(r){return new _h(r)}function Ov(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function iR(r){return r.collectionGroup!==null}function ko(r){const t=Dt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new en(mn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new sh(c,a))})),i.has(mn.keyField().canonicalString())||t.Ie.push(new sh(mn.keyField(),a))}return t.Ie}function Gi(r){const t=Dt(r);return t.Ee||(t.Ee=sR(t,ko(r))),t.Ee}function sR(r,t){if(r.limitType==="F")return Dv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new sh(o.field,c)}));const i=r.endAt?new ih(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new ih(r.startAt.position,r.startAt.inclusive):null;return Dv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function um(r,t,i){return new _h(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Eh(r,t){return jm(Gi(r),Gi(t))&&r.limitType===t.limitType}function OE(r){return`${zm(Gi(r))}|lt:${r.limitType}`}function Wa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>NE(o))).join(", ")}]`),gh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>fl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>fl(o))).join(",")),`Target(${a})`})(Gi(r))}; limitType=${r.limitType})`}function Th(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Tt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of ko(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,g,v){const y=xv(d,g,v);return d.inclusive?y<=0:y<0})(a.startAt,ko(a),o)||a.endAt&&!(function(d,g,v){const y=xv(d,g,v);return d.inclusive?y>=0:y>0})(a.endAt,ko(a),o))})(r,t)}function rR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ME(r){return(t,i)=>{let a=!1;for(const o of ko(r)){const c=aR(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function aR(r,t,i){const a=r.field.isKeyField()?Tt.comparator(t.key,i.key):(function(c,d,g){const v=d.data.field(c),y=g.data.field(c);return v!==null&&y!==null?hl(v,y):Rt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Rt(19790,{direction:r.dir})}}class ca{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){wr(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return yE(this.inner)}size(){return this.innerSize}}const lR=new Me(Tt.comparator);function Rs(){return lR}const VE=new Me(Tt.comparator);function xo(...r){let t=VE;for(const i of r)t=t.insert(i.key,i);return t}function kE(r){let t=VE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function sa(){return Lo()}function LE(){return Lo()}function Lo(){return new ca((r=>r.toString()),((r,t)=>r.isEqual(t)))}const oR=new Me(Tt.comparator),uR=new en(Tt.comparator);function Ft(...r){let t=uR;for(const i of r)t=t.add(i);return t}const cR=new en(Gt);function hR(){return cR}function Bm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(t)?"-0":t}}function UE(r){return{integerValue:""+r}}function fR(r,t){return P2(t)?UE(t):Bm(r,t)}class bh{constructor(){this._=void 0}}function dR(r,t,i){return r instanceof rh?(function(o,c){const d={fields:{[EE]:{stringValue:vE},[bE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Um(c)&&(c=yh(c)),c&&(d.fields[TE]=c),{mapValue:d}})(i,t):r instanceof dl?zE(r,t):r instanceof Go?jE(r,t):(function(o,c){const d=PE(o,c),g=Mv(d)+Mv(o.Ae);return am(d)&&am(o.Ae)?UE(g):Bm(o.serializer,g)})(r,t)}function mR(r,t,i){return r instanceof dl?zE(r,t):r instanceof Go?jE(r,t):i}function PE(r,t){return r instanceof ah?(function(a){return am(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class rh extends bh{}class dl extends bh{constructor(t){super(),this.elements=t}}function zE(r,t){const i=BE(t);for(const a of r.elements)i.some((o=>Xi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Go extends bh{constructor(t){super(),this.elements=t}}function jE(r,t){let i=BE(t);for(const a of r.elements)i=i.filter((o=>!Xi(o,a)));return{arrayValue:{values:i}}}class ah extends bh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Mv(r){return Be(r.integerValue||r.doubleValue)}function BE(r){return Pm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class pR{constructor(t,i){this.field=t,this.transform=i}}function gR(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof dl&&o instanceof dl||a instanceof Go&&o instanceof Go?cl(a.elements,o.elements,Xi):a instanceof ah&&o instanceof ah?Xi(a.Ae,o.Ae):a instanceof rh&&o instanceof rh})(r.transform,t.transform)}class yR{constructor(t,i){this.version=t,this.transformResults=i}}class Fi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Fi}static exists(t){return new Fi(void 0,t)}static updateTime(t){return new Fi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Hc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ah{}function HE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new GE(r.key,Fi.none()):new tu(r.key,r.data,Fi.none());{const i=r.data,a=Vn.empty();let o=new en(mn.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Rr(r.key,a,new Gn(o.toArray()),Fi.none())}}function _R(r,t,i){r instanceof tu?(function(o,c,d){const g=o.value.clone(),v=kv(o.fieldTransforms,c,d.transformResults);g.setAll(v),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof Rr?(function(o,c,d){if(!Hc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=kv(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(qE(o)),v.setAll(g),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Uo(r,t,i,a){return r instanceof tu?(function(c,d,g,v){if(!Hc(c.precondition,d))return g;const y=c.value.clone(),b=Lv(c.fieldTransforms,v,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof Rr?(function(c,d,g,v){if(!Hc(c.precondition,d))return g;const y=Lv(c.fieldTransforms,v,d),b=d.data;return b.setAll(qE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,g){return Hc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function vR(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=PE(a.transform,o||null);c!=null&&(i===null&&(i=Vn.empty()),i.set(a.field,c))}return i||null}function Vv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&cl(a,o,((c,d)=>gR(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class tu extends Ah{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Rr extends Ah{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function qE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function kv(r,t,i){const a=new Map;ue(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);a.set(c.field,mR(d,g,i[o]))}return a}function Lv(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,dR(c,d,t))}return a}class GE extends Ah{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ER extends Ah{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TR{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&_R(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Uo(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Uo(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=LE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const v=HE(d,g);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(xt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ft())}isEqual(t){return this.batchId===t.batchId&&cl(this.mutations,t.mutations,((i,a)=>Vv(i,a)))&&cl(this.baseMutations,t.baseMutations,((i,a)=>Vv(i,a)))}}class Hm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){ue(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return oR})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Hm(t,i,a,o)}}class bR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class AR{constructor(t,i){this.count=t,this.unchangedNames=i}}var $e,$t;function SR(r){switch(r){case W.OK:return Rt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Rt(15467,{code:r})}}function FE(r){if(r===void 0)return ws("GRPC error has no .code"),W.UNKNOWN;switch(r){case $e.OK:return W.OK;case $e.CANCELLED:return W.CANCELLED;case $e.UNKNOWN:return W.UNKNOWN;case $e.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case $e.INTERNAL:return W.INTERNAL;case $e.UNAVAILABLE:return W.UNAVAILABLE;case $e.UNAUTHENTICATED:return W.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case $e.NOT_FOUND:return W.NOT_FOUND;case $e.ALREADY_EXISTS:return W.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return W.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case $e.ABORTED:return W.ABORTED;case $e.OUT_OF_RANGE:return W.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return W.UNIMPLEMENTED;case $e.DATA_LOSS:return W.DATA_LOSS;default:return Rt(39323,{code:r})}}($t=$e||($e={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";function wR(){return new TextEncoder}const RR=new gr([4294967295,4294967295],0);function Uv(r){const t=wR().encode(r),i=new lE;return i.update(t),new Uint8Array(i.digest())}function Pv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new gr([i,a],0),new gr([o,c],0)]}class qm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new No(`Invalid padding: ${i}`);if(a<0)throw new No(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new No(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new No(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=gr.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(gr.fromNumber(a)));return o.compare(RR)===1&&(o=new gr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Uv(t),[a,o]=Pv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new qm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Uv(t),[a,o]=Pv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class No extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,eu.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Sh(xt.min(),o,new Me(Gt),Rs(),Ft())}}class eu{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new eu(a,i,Ft(),Ft(),Ft())}}class qc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class QE{constructor(t,i){this.targetId=t,this.Ce=i}}class KE{constructor(t,i,a=pn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class zv{constructor(){this.ve=0,this.Fe=jv(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ft(),i=Ft(),a=Ft();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Rt(38017,{changeType:c})}})),new eu(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=jv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ue(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CR{constructor(t){this.Ge=t,this.ze=new Map,this.je=Rs(),this.Je=Oc(),this.He=Oc(),this.Ye=new Me(Gt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(om(c))if(a===0){const d=new Tt(c.path);this.et(i,d,En.newNoDocument(d,xt.min()))}else ue(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),v=g?this.ct(g,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Tr(a).toUint8Array()}catch(v){if(v instanceof _E)return ul("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new qm(d,o,c)}catch(v){return ul(v instanceof No?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&om(g.target)){const v=new Tt(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,En.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ft();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new Sh(t,i,this.Ye,this.je,a);return this.je=Rs(),this.Je=Oc(),this.He=Oc(),this.Ye=new Me(Gt),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new zv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new en(Gt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new en(Gt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ct("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new zv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Oc(){return new Me(Tt.comparator)}function jv(){return new Me(Tt.comparator)}const IR={asc:"ASCENDING",desc:"DESCENDING"},xR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NR={and:"AND",or:"OR"};class DR{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function cm(r,t){return r.useProto3Json||gh(t)?t:{value:t}}function lh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function YE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function OR(r,t){return lh(r,t.toTimestamp())}function Qi(r){return ue(!!r,49232),xt.fromTimestamp((function(i){const a=Er(i);return new Ie(a.seconds,a.nanos)})(r))}function Gm(r,t){return hm(r,t).canonicalString()}function hm(r,t){const i=(function(o){return new Oe(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function XE(r){const t=Oe.fromString(r);return ue(tT(t),10190,{key:t.toString()}),t}function fm(r,t){return Gm(r.databaseId,t.path)}function Gd(r,t){const i=XE(t);if(i.get(1)!==r.databaseId.projectId)throw new mt(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new mt(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new Tt(ZE(i))}function $E(r,t){return Gm(r.databaseId,t)}function MR(r){const t=XE(r);return t.length===4?Oe.emptyPath():ZE(t)}function dm(r){return new Oe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ZE(r){return ue(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Bv(r,t,i){return{name:fm(r,t),fields:i.value.mapValue.fields}}function VR(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Rt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(ue(b===void 0||typeof b=="string",58123),pn.fromBase64String(b||"")):(ue(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),pn.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?W.UNKNOWN:FE(y.code);return new mt(b,y.message||"")})(d);i=new KE(a,o,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Gd(r,a.document.name),c=Qi(a.document.updateTime),d=a.document.createTime?Qi(a.document.createTime):xt.min(),g=new Vn({mapValue:{fields:a.document.fields}}),v=En.newFoundDocument(o,c,d,g),y=a.targetIds||[],b=a.removedTargetIds||[];i=new qc(y,b,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Gd(r,a.document),c=a.readTime?Qi(a.readTime):xt.min(),d=En.newNoDocument(o,c),g=a.removedTargetIds||[];i=new qc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Gd(r,a.document),c=a.removedTargetIds||[];i=new qc([],c,o,null)}else{if(!("filter"in t))return Rt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new AR(o,c),g=a.targetId;i=new QE(g,d)}}return i}function kR(r,t){let i;if(t instanceof tu)i={update:Bv(r,t.key,t.value)};else if(t instanceof GE)i={delete:fm(r,t.key)};else if(t instanceof Rr)i={update:Bv(r,t.key,t.data),updateMask:GR(t.fieldMask)};else{if(!(t instanceof ER))return Rt(16599,{Vt:t.type});i={verify:fm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof rh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof dl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Go)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ah)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Rt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:OR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Rt(27497)})(r,t.precondition)),i}function LR(r,t){return r&&r.length>0?(ue(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Qi(o.updateTime):Qi(c);return d.isEqual(xt.min())&&(d=Qi(c)),new yR(d,o.transformResults||[])})(i,t)))):[]}function UR(r,t){return{documents:[$E(r,t.path)]}}function PR(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=$E(r,o);const c=(function(y){if(y.length!==0)return WE($i.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(V){return{field:tl(V.field),direction:BR(V.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=cm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function zR(r){let t=MR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){ue(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(w){const V=JE(w);return V instanceof $i&&IE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((V=>(function(et){return new sh(el(et.field),(function(X){switch(X){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let V;return V=typeof w=="object"?w.value:w,gh(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(w){const V=!!w.before,K=w.values||[];return new ih(K,V)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const V=!w.before,K=w.values||[];return new ih(K,V)})(i.endAt)),nR(t,o,d,c,g,"F",v,y)}function jR(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function JE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=el(i.unaryFilter.field);return tn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=el(i.unaryFilter.field);return tn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=el(i.unaryFilter.field);return tn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=el(i.unaryFilter.field);return tn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return tn.create(el(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return $i.create(i.compositeFilter.filters.map((a=>JE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(i.compositeFilter.op))})(r):Rt(30097,{filter:r})}function BR(r){return IR[r]}function HR(r){return xR[r]}function qR(r){return NR[r]}function tl(r){return{fieldPath:r.canonicalString()}}function el(r){return mn.fromServerFormat(r.fieldPath)}function WE(r){return r instanceof tn?(function(i){if(i.op==="=="){if(Iv(i.value))return{unaryFilter:{field:tl(i.field),op:"IS_NAN"}};if(Cv(i.value))return{unaryFilter:{field:tl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Iv(i.value))return{unaryFilter:{field:tl(i.field),op:"IS_NOT_NAN"}};if(Cv(i.value))return{unaryFilter:{field:tl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tl(i.field),op:HR(i.op),value:i.value}}})(r):r instanceof $i?(function(i){const a=i.getFilters().map((o=>WE(o)));return a.length===1?a[0]:{compositeFilter:{op:qR(i.op),filters:a}}})(r):Rt(54877,{filter:r})}function GR(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function tT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class fr{constructor(t,i,a,o,c=xt.min(),d=xt.min(),g=pn.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new fr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new fr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class FR{constructor(t){this.yt=t}}function QR(r){const t=zR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?um(t,t.limit,"L"):t}class KR{constructor(){this.Cn=new YR}addToCollectionParentIndex(t,i){return this.Cn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(vr.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(vr.min())}updateCollectionGroup(t,i,a){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class YR{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new en(Oe.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new en(Oe.comparator)).toArray()}}const Hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eT=41943040;class Mn{static withCacheSize(t){return new Mn(t,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(eT,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);class ml{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ml(0)}static cr(){return new ml(-1)}}const qv="LruGarbageCollector",XR=1048576;function Gv([r,t],[i,a]){const o=Gt(r,i);return o===0?Gt(t,a):o}class $R{constructor(t){this.Ir=t,this.buffer=new en(Gv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Gv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ZR{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ct(qv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){bl(i)?ct(qv,"Ignoring IndexedDB error during garbage collection: ",i):await Tl(i)}await this.Vr(3e5)}))}}class JR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(ph.ce);const a=new $R(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ct("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Hv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ct("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,g,v,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ct("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(t,o)))).next((w=>(a=w,g=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(y=Date.now(),Ja()<=qt.DEBUG&&ct("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(v-g)+`ms
	Removed ${w} documents in `+(y-v)+`ms
Total Duration: ${y-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function WR(r,t){return new JR(r,t)}class tC{constructor(){this.changes=new ca((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,En.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class nC{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Uo(a.mutation,o,Gn.empty(),Ie.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ft()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ft()){const o=sa();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=xo();return c.forEach(((g,v)=>{d=d.insert(g,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=sa();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ft())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,o){let c=Rs();const d=Lo(),g=(function(){return Lo()})();return i.forEach(((v,y)=>{const b=a.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof Rr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Uo(b.mutation,y,b.mutation.getFieldMask(),Ie.now())):d.set(y.key,Gn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new eC(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Lo();let o=new Me(((d,g)=>d-g)),c=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let b=a.get(v)||Gn.empty();b=g.applyToLocalView(y,b),a.set(v,b);const w=(o.get(g.batchId)||Ft()).add(v);o=o.insert(g.batchId,w)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),y=v.key,b=v.value,w=LE();b.forEach((V=>{if(!c.has(V)){const K=HE(i.get(V),a.get(V));K!==null&&w.set(V,K),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,w))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return Tt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):iR(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):J.resolve(sa());let g=jo,v=c;return d.next((y=>J.forEach(y,((b,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(b)?J.resolve():this.remoteDocumentCache.getEntry(t,b).next((V=>{v=v.insert(b,V)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Ft()))).next((b=>({batchId:g,changes:kE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Tt(i)).next((a=>{let o=xo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=xo();return this.indexManager.getCollectionParents(t,c).next((g=>J.forEach(g,(v=>{const y=(function(w,V){return new _h(V,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((b=>{b.forEach(((w,V)=>{d=d.insert(w,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((v,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,En.newInvalidDocument(b)))}));let g=xo();return d.forEach(((v,y)=>{const b=c.get(v);b!==void 0&&Uo(b.mutation,y,Gn.empty(),Ie.now()),Th(i,y)&&(g=g.insert(v,y))})),g}))}}class iC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Qi(o.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:QR(o.bundledQuery),readTime:Qi(o.readTime)}})(i)),J.resolve()}}class sC{constructor(){this.overlays=new Me(Tt.comparator),this.qr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const a=sa();return J.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),J.resolve()}getOverlaysForCollection(t,i,a){const o=sa(),c=i.length+1,d=new Tt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return J.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new Me(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=sa(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=sa(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=o)););return J.resolve(g)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new bR(i,a));let c=this.qr.get(i);c===void 0&&(c=Ft(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class rC{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class Fm{constructor(){this.Qr=new en(ln.$r),this.Ur=new en(ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new ln(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new ln(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new Tt(new Oe([])),a=new ln(i,t),o=new ln(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new Tt(new Oe([])),a=new ln(i,t),o=new ln(i,t+1);let c=Ft();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new ln(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class ln{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return Tt.comparator(t.key,i.key)||Gt(t.Yr,i.Yr)}static Kr(t,i){return Gt(t.Yr,i.Yr)||Tt.comparator(t.key,i.key)}}class aC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new en(ln.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new TR(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new ln(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Lm:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new ln(i,0),o=new ln(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new en(Gt);return i.forEach((o=>{const c=new ln(o,0),d=new ln(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),J.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;Tt.isDocumentKey(c)||(c=c.child(""));const d=new ln(new Tt(c),0);let g=new en(Gt);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(g=g.add(v.Yr)),!0)}),d),J.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){ue(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return J.forEach(i.mutations,(o=>{const c=new ln(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new ln(i,0),o=this.Zr.firstAfterOrEqual(a);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class lC{constructor(t){this.ri=t,this.docs=(function(){return new Me(Tt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():En.newInvalidDocument(i))}getEntries(t,i){let a=Rs();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():En.newInvalidDocument(o))})),J.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=Rs();const d=i.path,g=new Tt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:y,value:{document:b}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||V2(M2(b),a)<=0||(o.has(b.key)||Th(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,a,o){Rt(9500)}ii(t,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new oC(this)}getSize(t){return J.resolve(this.size)}}class oC extends tC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),J.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class uC{constructor(t){this.persistence=t,this.si=new ca((i=>zm(i)),jm),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.oi=0,this._i=new Fm,this.targetCount=0,this.ai=ml.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),J.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new ml(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.Pr(i),J.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return J.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),J.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return J.resolve(a)}containsKey(t,i){return J.resolve(this._i.containsKey(i))}}class nT{constructor(t,i){this.ui={},this.overlays={},this.ci=new ph(0),this.li=!1,this.li=!0,this.hi=new rC,this.referenceDelegate=t(this),this.Pi=new uC(this),this.indexManager=new KR,this.remoteDocumentCache=(function(o){return new lC(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new FR(i),this.Ii=new iC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new sC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new aC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ct("MemoryPersistence","Starting transaction:",t);const o=new cC(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return J.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class cC extends L2{constructor(t){super(),this.currentSequenceNumber=t}}class Qm{constructor(t){this.persistence=t,this.Ri=new Fm,this.Vi=null}static mi(t){return new Qm(t)}get fi(){if(this.Vi)return this.Vi;throw Rt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),J.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(a=>{const o=Tt.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,xt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class oh{constructor(t,i){this.persistence=t,this.pi=new ca((a=>z2(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=WR(this,i)}static mi(t,i){return new oh(t,i)}Ei(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return J.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?J.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,xt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),J.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=jc(t.data.value)),i}br(t,i,a){return J.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Km{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Ft(),o=Ft();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Km(t,i.fromCache,a,o)}}class hC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class fC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return J1()?8:U2(Tn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new hC;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(Ja()<=qt.DEBUG&&ct("QueryEngine","SDK will not create cache indexes for query:",Wa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ja()<=qt.DEBUG&&ct("QueryEngine","Query:",Wa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ja()<=qt.DEBUG&&ct("QueryEngine","The SDK decides to create cache indexes for query:",Wa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Gi(i))):J.resolve())}ys(t,i){if(Ov(i))return J.resolve(null);let a=Gi(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=um(i,null,"F"),a=Gi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ft(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.Ds(i,g);return this.Cs(i,y,d,v.readTime)?this.ys(t,um(i,null,"F")):this.vs(t,y,i,v)}))))})))))}ws(t,i,a,o){return Ov(i)||o.isEqual(xt.min())?J.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?J.resolve(null):(Ja()<=qt.DEBUG&&ct("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wa(i)),this.vs(t,d,i,O2(o,jo)).next((g=>g)))}))}Ds(t,i){let a=new en(ME(t));return i.forEach(((o,c)=>{Th(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return Ja()<=qt.DEBUG&&ct("QueryEngine","Using full collection scan to execute query:",Wa(i)),this.ps.getDocumentsMatchingQuery(t,i,vr.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Ym="LocalStore",dC=3e8;class mC{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new Me(Gt),this.xs=new ca((c=>zm(c)),jm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function pC(r,t,i,a){return new mC(r,t,i,a)}async function iT(r,t){const i=Dt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let v=Ft();for(const y of o){d.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function gC(r,t){const i=Dt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,y,b){const w=y.batch,V=w.keys();let K=J.resolve();return V.forEach((et=>{K=K.next((()=>b.getEntry(v,et))).next((ot=>{const X=y.docVersions.get(et);ue(X!==null,48541),ot.version.compareTo(X)<0&&(w.applyToRemoteDocument(ot,y),ot.isValidDocument()&&(ot.setReadTime(y.commitVersion),b.addEntry(ot)))}))})),K.next((()=>g.mutationQueue.removeMutationBatch(v,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let v=Ft();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(v=v.add(g.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function sT(r){const t=Dt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function yC(r,t){const i=Dt(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];t.targetChanges.forEach(((b,w)=>{const V=o.get(w);if(!V)return;g.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,w))));let K=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?K=K.withResumeToken(pn.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):b.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(b.resumeToken,a)),o=o.insert(w,K),(function(ot,X,yt){return ot.resumeToken.approximateByteSize()===0||X.snapshotVersion.toMicroseconds()-ot.snapshotVersion.toMicroseconds()>=dC?!0:yt.addedDocuments.size+yt.modifiedDocuments.size+yt.removedDocuments.size>0})(V,K,b)&&g.push(i.Pi.updateTargetData(c,K))}));let v=Rs(),y=Ft();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(_C(c,d,t.documentUpdates).next((b=>{v=b.ks,y=b.qs}))),!a.isEqual(xt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.Ms=o,c)))}function _C(r,t,i){let a=Ft(),o=Ft();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=Rs();return i.forEach(((g,v)=>{const y=c.get(g);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(xt.min())?(t.removeEntry(g,v.readTime),d=d.insert(g,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(g,v)):ct(Ym,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function vC(r,t){const i=Dt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Lm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function EC(r,t){const i=Dt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,J.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new fr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function mm(r,t,i){const a=Dt(r),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!bl(d))throw d;ct(Ym,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function Fv(r,t,i){const a=Dt(r);let o=xt.min(),c=Ft();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,b){const w=Dt(v),V=w.xs.get(b);return V!==void 0?J.resolve(w.Ms.get(V)):w.Pi.getTargetData(y,b)})(a,d,Gi(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((v=>{c=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:xt.min(),i?c:Ft()))).next((g=>(TC(a,rR(t),g),{documents:g,Qs:c})))))}function TC(r,t,i){let a=r.Os.get(t)||xt.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Qv{constructor(){this.activeTargetIds=hR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bC{constructor(){this.Mo=new Qv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Qv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class AC{Oo(t){}shutdown(){}}const Kv="ConnectivityMonitor";class Yv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ct(Kv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ct(Kv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mc=null;function pm(){return Mc===null?Mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mc++,"0x"+Mc.toString(16)}const Fd="RestConnection",SC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===eh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=pm(),g=this.zo(t,i.toUriEncodedString());ct(Fd,`Sending RPC '${t}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:y}=new URL(g),b=yl(y);return this.Jo(t,g,v,a,b).then((w=>(ct(Fd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw ul(Fd,`RPC '${t}' ${d} failed with error: `,w,"url: ",g,"request:",a),w}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+El})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=SC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class RC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const _n="WebChannelConnection";class CC extends wC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=pm();return new Promise(((g,v)=>{const y=new oE;y.setWithCredentials(!0),y.listenOnce(uE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case zc.NO_ERROR:const w=y.getResponseJson();ct(_n,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),g(w);break;case zc.TIMEOUT:ct(_n,`RPC '${t}' ${d} timed out`),v(new mt(W.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const V=y.getStatus();if(ct(_n,`RPC '${t}' ${d} failed with status:`,V,"response text:",y.getResponseText()),V>0){let K=y.getResponseJson();Array.isArray(K)&&(K=K[0]);const et=K?.error;if(et&&et.status&&et.message){const ot=(function(yt){const C=yt.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(C)>=0?C:W.UNKNOWN})(et.status);v(new mt(ot,et.message))}else v(new mt(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new mt(W.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ct(_n,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(o);ct(_n,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const o=pm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=fE(),g=hE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const b=c.join("");ct(_n,`Creating RPC '${t}' stream ${o}: ${b}`,v);const w=d.createWebChannel(b,v);this.I_(w);let V=!1,K=!1;const et=new RC({Yo:X=>{K?ct(_n,`Not sending because RPC '${t}' stream ${o} is closed:`,X):(V||(ct(_n,`Opening RPC '${t}' stream ${o} transport.`),w.open(),V=!0),ct(_n,`RPC '${t}' stream ${o} sending:`,X),w.send(X))},Zo:()=>w.close()}),ot=(X,yt,C)=>{X.listen(yt,(wt=>{try{C(wt)}catch(ie){setTimeout((()=>{throw ie}),0)}}))};return ot(w,Io.EventType.OPEN,(()=>{K||(ct(_n,`RPC '${t}' stream ${o} transport opened.`),et.o_())})),ot(w,Io.EventType.CLOSE,(()=>{K||(K=!0,ct(_n,`RPC '${t}' stream ${o} transport closed`),et.a_(),this.E_(w))})),ot(w,Io.EventType.ERROR,(X=>{K||(K=!0,ul(_n,`RPC '${t}' stream ${o} transport errored. Name:`,X.name,"Message:",X.message),et.a_(new mt(W.UNAVAILABLE,"The operation could not be completed")))})),ot(w,Io.EventType.MESSAGE,(X=>{if(!K){const yt=X.data[0];ue(!!yt,16349);const C=yt,wt=C?.error||C[0]?.error;if(wt){ct(_n,`RPC '${t}' stream ${o} received error:`,wt);const ie=wt.status;let Zt=(function(S){const I=$e[S];if(I!==void 0)return FE(I)})(ie),jt=wt.message;Zt===void 0&&(Zt=W.INTERNAL,jt="Unknown error status: "+ie+" with message "+wt.message),K=!0,et.a_(new mt(Zt,jt)),w.close()}else ct(_n,`RPC '${t}' stream ${o} received:`,yt),et.u_(yt)}})),ot(g,cE.STAT_EVENT,(X=>{X.stat===im.PROXY?ct(_n,`RPC '${t}' stream ${o} detected buffering proxy`):X.stat===im.NOPROXY&&ct(_n,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{et.__()}),0),et}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Qd(){return typeof document<"u"?document:null}function wh(r){return new DR(r,!0)}class rT{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ct("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Xv="PersistentStream";class aT{constructor(t,i,a,o,c,d,g,v){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new rT(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(ws(i.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new mt(W.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ct(Xv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ct(Xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IC extends aT{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=VR(this.serializer,t),a=(function(c){if(!("targetChange"in c))return xt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?xt.min():d.readTime?Qi(d.readTime):xt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=dm(this.serializer),i.addTarget=(function(c,d){let g;const v=d.target;if(g=om(v)?{documents:UR(c,v)}:{query:PR(c,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=YE(c,d.resumeToken);const y=cm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(xt.min())>0){g.readTime=lh(c,d.snapshotVersion.toTimestamp());const y=cm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=jR(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=dm(this.serializer),i.removeTarget=t,this.q_(i)}}class xC extends aT{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return ue(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ue(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ue(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=LR(t.writeResults,t.commitTime),a=Qi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=dm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>kR(this.serializer,a)))};this.q_(i)}}class NC{}class DC extends NC{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new mt(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,hm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(W.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,hm(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new mt(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ws(i),this.aa=!1):ct("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class MC{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ha(this)&&(ct(ua,"Restarting streams for network reachability change."),await(async function(v){const y=Dt(v);y.Ea.add(4),await nu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Rh(y)})(this))}))})),this.Ra=new OC(a,o)}}async function Rh(r){if(ha(r))for(const t of r.da)await t(!0)}async function nu(r){for(const t of r.da)await t(!1)}function lT(r,t){const i=Dt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Jm(i)?Zm(i):Al(i).O_()&&$m(i,t))}function Xm(r,t){const i=Dt(r),a=Al(i);i.Ia.delete(t),a.O_()&&oT(i,t),i.Ia.size===0&&(a.O_()?a.L_():ha(i)&&i.Ra.set("Unknown"))}function $m(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Al(r).Y_(t)}function oT(r,t){r.Va.Ue(t),Al(r).Z_(t)}function Zm(r){r.Va=new CR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Al(r).start(),r.Ra.ua()}function Jm(r){return ha(r)&&!Al(r).x_()&&r.Ia.size>0}function ha(r){return Dt(r).Ea.size===0}function uT(r){r.Va=void 0}async function VC(r){r.Ra.set("Online")}async function kC(r){r.Ia.forEach(((t,i)=>{$m(r,t)}))}async function LC(r,t){uT(r),Jm(r)?(r.Ra.ha(t),Zm(r)):r.Ra.set("Unknown")}async function UC(r,t,i){if(r.Ra.set("Online"),t instanceof KE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,t)}catch(a){ct(ua,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await uh(r,a)}else if(t instanceof qc?r.Va.Ze(t):t instanceof QE?r.Va.st(t):r.Va.tt(t),!i.isEqual(xt.min()))try{const a=await sT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(v.resumeToken,d))}})),g.targetMismatches.forEach(((v,y)=>{const b=c.Ia.get(v);if(!b)return;c.Ia.set(v,b.withResumeToken(pn.EMPTY_BYTE_STRING,b.snapshotVersion)),oT(c,v);const w=new fr(b.target,v,y,b.sequenceNumber);$m(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){ct(ua,"Failed to raise snapshot:",a),await uh(r,a)}}async function uh(r,t,i){if(!bl(t))throw t;r.Ea.add(1),await nu(r),r.Ra.set("Offline"),i||(i=()=>sT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ct(ua,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Rh(r)}))}function cT(r,t){return t().catch((i=>uh(r,i,t)))}async function Ch(r){const t=Dt(r),i=Ar(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lm;for(;PC(t);)try{const o=await vC(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,zC(t,o)}catch(o){await uh(t,o)}hT(t)&&fT(t)}function PC(r){return ha(r)&&r.Ta.length<10}function zC(r,t){r.Ta.push(t);const i=Ar(r);i.O_()&&i.X_&&i.ea(t.mutations)}function hT(r){return ha(r)&&!Ar(r).x_()&&r.Ta.length>0}function fT(r){Ar(r).start()}async function jC(r){Ar(r).ra()}async function BC(r){const t=Ar(r);for(const i of r.Ta)t.ea(i.mutations)}async function HC(r,t,i){const a=r.Ta.shift(),o=Hm.from(a,t,i);await cT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Ch(r)}async function qC(r,t){t&&Ar(r).X_&&await(async function(a,o){if((function(d){return SR(d)&&d!==W.ABORTED})(o.code)){const c=a.Ta.shift();Ar(a).B_(),await cT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Ch(a)}})(r,t),hT(r)&&fT(r)}async function $v(r,t){const i=Dt(r);i.asyncQueue.verifyOperationInProgress(),ct(ua,"RemoteStore received new credentials");const a=ha(i);i.Ea.add(3),await nu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Rh(i)}async function GC(r,t){const i=Dt(r);t?(i.Ea.delete(2),await Rh(i)):t||(i.Ea.add(2),await nu(i),i.Ra.set("Unknown"))}function Al(r){return r.ma||(r.ma=(function(i,a,o){const c=Dt(i);return c.sa(),new IC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:VC.bind(null,r),t_:kC.bind(null,r),r_:LC.bind(null,r),H_:UC.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Jm(r)?Zm(r):r.Ra.set("Unknown")):(await r.ma.stop(),uT(r))}))),r.ma}function Ar(r){return r.fa||(r.fa=(function(i,a,o){const c=Dt(i);return c.sa(),new xC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:jC.bind(null,r),r_:qC.bind(null,r),ta:BC.bind(null,r),na:HC.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Ch(r)):(await r.fa.stop(),r.Ta.length>0&&(ct(ua,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Wm{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,g=new Wm(t,i,d,o,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tp(r,t){if(ws("AsyncQueue",`${t}: ${r}`),bl(r))return new mt(W.UNAVAILABLE,`${t}: ${r}`);throw r}class al{static emptySet(t){return new al(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||Tt.comparator(i.key,a.key):(i,a)=>Tt.comparator(i.key,a.key),this.keyedMap=xo(),this.sortedSet=new Me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof al)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new al;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Zv{constructor(){this.ga=new Me(Tt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Rt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class pl{constructor(t,i,a,o,c,d,g,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new pl(t,i,al.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class FC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class QC{constructor(){this.queries=Jv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Dt(i),c=o.queries;o.queries=Jv(),c.forEach(((d,g)=>{for(const v of g.Sa)v.onError(a)}))})(this,new mt(W.ABORTED,"Firestore shutting down"))}}function Jv(){return new ca((r=>OE(r)),Eh)}async function dT(r,t){const i=Dt(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new FC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=tp(d,`Initialization of query '${Wa(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&ep(i)}async function mT(r,t){const i=Dt(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function KC(r,t){const i=Dt(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&ep(i)}function YC(r,t,i){const a=Dt(r),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function ep(r){r.Ca.forEach((t=>{t.next()}))}var gm,Wv;(Wv=gm||(gm={})).Ma="default",Wv.Cache="cache";class pT{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new pl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=pl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==gm.Cache}}class gT{constructor(t){this.key=t}}class yT{constructor(t){this.key=t}}class XC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ft(),this.mutatedKeys=Ft(),this.eu=ME(t),this.tu=new al(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Zv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,w)=>{const V=o.get(b),K=Th(this.query,w)?w:null,et=!!V&&this.mutatedKeys.has(V.key),ot=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let X=!1;V&&K?V.data.isEqual(K.data)?et!==ot&&(a.track({type:3,doc:K}),X=!0):this.su(V,K)||(a.track({type:2,doc:K}),X=!0,(v&&this.eu(K,v)>0||y&&this.eu(K,y)<0)&&(g=!0)):!V&&K?(a.track({type:0,doc:K}),X=!0):V&&!K&&(a.track({type:1,doc:V}),X=!0,(v||y)&&(g=!0)),X&&(K?(d=d.add(K),c=ot?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,w)=>(function(K,et){const ot=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Rt:X})}};return ot(K)-ot(et)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,y=v!==this.Za;return this.Za=v,d.length!==0||y?{snapshot:new pl(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Zv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ft(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new yT(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new gT(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ft();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return pl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const np="SyncEngine";class $C{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class ZC{constructor(t){this.key=t,this.hu=!1}}class JC{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ca((g=>OE(g)),Eh),this.Iu=new Map,this.Eu=new Set,this.du=new Me(Tt.comparator),this.Au=new Map,this.Ru=new Fm,this.Vu={},this.mu=new Map,this.fu=ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WC(r,t,i=!0){const a=AT(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await _T(a,t,i,!0),o}async function tI(r,t){const i=AT(r);await _T(i,t,!0,!1)}async function _T(r,t,i,a){const o=await EC(r.localStore,Gi(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await eI(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&lT(r.remoteStore,o),g}async function eI(r,t,i,a,o){r.pu=(w,V,K)=>(async function(ot,X,yt,C){let wt=X.view.ru(yt);wt.Cs&&(wt=await Fv(ot.localStore,X.query,!1).then((({documents:N})=>X.view.ru(N,wt))));const ie=C&&C.targetChanges.get(X.targetId),Zt=C&&C.targetMismatches.get(X.targetId)!=null,jt=X.view.applyChanges(wt,ot.isPrimaryClient,ie,Zt);return e0(ot,X.targetId,jt.au),jt.snapshot})(r,w,V,K);const c=await Fv(r.localStore,t,!0),d=new XC(t,c.Qs),g=d.ru(c.documents),v=eu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,v);e0(r,i,y.au);const b=new $C(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function nI(r,t,i){const a=Dt(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Eh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await mm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Xm(a.remoteStore,o.targetId),ym(a,o.targetId)})).catch(Tl)):(ym(a,o.targetId),await mm(a.localStore,o.targetId,!0))}async function iI(r,t){const i=Dt(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Xm(i.remoteStore,a.targetId))}async function sI(r,t,i){const a=hI(r);try{const o=await(function(d,g){const v=Dt(d),y=Ie.now(),b=g.reduce(((K,et)=>K.add(et.key)),Ft());let w,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let et=Rs(),ot=Ft();return v.Ns.getEntries(K,b).next((X=>{et=X,et.forEach(((yt,C)=>{C.isValidDocument()||(ot=ot.add(yt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(K,et))).next((X=>{w=X;const yt=[];for(const C of g){const wt=vR(C,w.get(C.key).overlayedDocument);wt!=null&&yt.push(new Rr(C.key,wt,wE(wt.value.mapValue),Fi.exists(!0)))}return v.mutationQueue.addMutationBatch(K,y,yt,g)})).next((X=>{V=X;const yt=X.applyToLocalDocumentSet(w,ot);return v.documentOverlayCache.saveOverlays(K,X.batchId,yt)}))})).then((()=>({batchId:V.batchId,changes:kE(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,v){let y=d.Vu[d.currentUser.toKey()];y||(y=new Me(Gt)),y=y.insert(g,v),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await iu(a,o.changes),await Ch(a.remoteStore)}catch(o){const c=tp(o,"Failed to persist write");i.reject(c)}}async function vT(r,t){const i=Dt(r);try{const a=await yC(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?ue(d.hu,14607):o.removedDocuments.size>0&&(ue(d.hu,42227),d.hu=!1))})),await iu(i,a,t)}catch(a){await Tl(a)}}function t0(r,t,i){const a=Dt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const v=Dt(d);v.onlineState=g;let y=!1;v.queries.forEach(((b,w)=>{for(const V of w.Sa)V.va(g)&&(y=!0)})),y&&ep(v)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function rI(r,t,i){const a=Dt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new Me(Tt.comparator);d=d.insert(c,En.newNoDocument(c,xt.min()));const g=Ft().add(c),v=new Sh(xt.min(),new Map,new Me(Gt),d,g);await vT(a,v),a.du=a.du.remove(c),a.Au.delete(t),ip(a)}else await mm(a.localStore,t,!1).then((()=>ym(a,t,i))).catch(Tl)}async function aI(r,t){const i=Dt(r),a=t.batch.batchId;try{const o=await gC(i.localStore,t);TT(i,a,null),ET(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await iu(i,o)}catch(o){await Tl(o)}}async function lI(r,t,i){const a=Dt(r);try{const o=await(function(d,g){const v=Dt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return v.mutationQueue.lookupMutationBatch(y,g).next((w=>(ue(w!==null,37113),b=w.keys(),v.mutationQueue.removeMutationBatch(y,w)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>v.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);TT(a,t,i),ET(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await iu(a,o)}catch(o){await Tl(o)}}function ET(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function TT(r,t,i){const a=Dt(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function ym(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||bT(r,a)}))}function bT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Xm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ip(r))}function e0(r,t,i){for(const a of i)a instanceof gT?(r.Ru.addReference(a.key,t),oI(r,a)):a instanceof yT?(ct(np,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||bT(r,a.key)):Rt(19791,{wu:a})}function oI(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ct(np,"New document in limbo: "+i),r.Eu.add(a),ip(r))}function ip(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new Tt(Oe.fromString(t)),a=r.fu.next();r.Au.set(a,new ZC(i)),r.du=r.du.insert(i,a),lT(r.remoteStore,new fr(Gi(vh(i.path)),a,"TargetPurposeLimboResolution",ph.ce))}}async function iu(r,t,i){const a=Dt(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Km.As(v.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,y){const b=Dt(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(y,(V=>J.forEach(V.Es,(K=>b.persistence.referenceDelegate.addReference(w,V.targetId,K))).next((()=>J.forEach(V.ds,(K=>b.persistence.referenceDelegate.removeReference(w,V.targetId,K)))))))))}catch(w){if(!bl(w))throw w;ct(Ym,"Failed to update sequence numbers: "+w)}for(const w of y){const V=w.targetId;if(!w.fromCache){const K=b.Ms.get(V),et=K.snapshotVersion,ot=K.withLastLimboFreeSnapshotVersion(et);b.Ms=b.Ms.insert(V,ot)}}})(a.localStore,c))}async function uI(r,t){const i=Dt(r);if(!i.currentUser.isEqual(t)){ct(np,"User change. New user:",t.toKey());const a=await iT(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((v=>{v.reject(new mt(W.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await iu(i,a.Ls)}}function cI(r,t){const i=Dt(r),a=i.Au.get(t);if(a&&a.hu)return Ft().add(a.key);{let o=Ft();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function AT(r){const t=Dt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=vT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=rI.bind(null,t),t.Pu.H_=KC.bind(null,t.eventManager),t.Pu.yu=YC.bind(null,t.eventManager),t}function hI(r){const t=Dt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lI.bind(null,t),t}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return pC(this.persistence,new fC,t.initialUser,this.serializer)}Cu(t){return new nT(Qm.mi,this.serializer)}Du(t){return new bC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class fI extends ch{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){ue(this.persistence.referenceDelegate instanceof oh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new ZR(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new nT((a=>oh.mi(a,i)),this.serializer)}}class _m{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>t0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=uI.bind(null,this.syncEngine),await GC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new QC})()}createDatastore(t){const i=wh(t.databaseInfo.databaseId),a=(function(c){return new CC(c)})(t.databaseInfo);return(function(c,d,g,v){return new DC(c,d,g,v)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,g){return new MC(a,o,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>t0(this.syncEngine,i,0)),(function(){return Yv.v()?new Yv:new AC})())}createSyncEngine(t,i){return(function(o,c,d,g,v,y,b){const w=new JC(o,c,d,g,v,y);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Dt(i);ct(ua,"RemoteStore shutting down."),a.Ea.add(5),await nu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_m.provider={build:()=>new _m};class ST{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ws("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Sr="FirestoreClient";class dI{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=vn.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ct(Sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ct(Sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=tp(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Kd(r,t){r.asyncQueue.verifyOperationInProgress(),ct(Sr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await iT(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function n0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await mI(r);ct(Sr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>$v(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>$v(t.remoteStore,o))),r._onlineComponents=t}async function mI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ct(Sr,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;ul("Error using user provided cache. Falling back to memory cache: "+i),await Kd(r,new ch)}}else ct(Sr,"Using default OfflineComponentProvider"),await Kd(r,new fI(void 0));return r._offlineComponents}async function wT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ct(Sr,"Using user provided OnlineComponentProvider"),await n0(r,r._uninitializedComponentsProvider._online)):(ct(Sr,"Using default OnlineComponentProvider"),await n0(r,new _m))),r._onlineComponents}function pI(r){return wT(r).then((t=>t.syncEngine))}async function vm(r){const t=await wT(r),i=t.eventManager;return i.onListen=WC.bind(null,t.syncEngine),i.onUnlisten=nI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=tI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=iI.bind(null,t.syncEngine),i}function gI(r,t,i={}){const a=new yr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,v,y){const b=new ST({next:V=>{b.Nu(),d.enqueueAndForget((()=>mT(c,w)));const K=V.docs.has(g);!K&&V.fromCache?y.reject(new mt(W.UNAVAILABLE,"Failed to get document because the client is offline.")):K&&V.fromCache&&v&&v.source==="server"?y.reject(new mt(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(V)},error:V=>y.reject(V)}),w=new pT(vh(g.path),b,{includeMetadataChanges:!0,qa:!0});return dT(c,w)})(await vm(r),r.asyncQueue,t,i,a))),a.promise}function RT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const i0=new Map;const CT="firestore.googleapis.com",s0=!0;class r0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CT,this.ssl=s0}else this.host=t.host,this.ssl=t.ssl??s0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=eT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<XR)throw new mt(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}D2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new mt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new mt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new mt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class sp{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new E2;switch(a.type){case"firstParty":return new S2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new mt(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=i0.get(i);a&&(ct("ComponentProvider","Removing Datastore"),i0.delete(i),a.terminate())})(this),Promise.resolve()}}function yI(r,t,i,a={}){r=qi(r,sp);const o=yl(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;o&&(b0(`https://${g}`),A0("Firestore",!0)),c.host!==CT&&c.host!==g&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:g,ssl:o,emulatorOptions:a};if(!_r(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=vn.MOCK_USER;else{y=q1(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new mt(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new vn(w)}r._authCredentials=new T2(new mE(y,b))}}class Ih{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ih(this.firestore,t,this._query)}}class Je{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Je(this.firestore,t,this._key)}toJSON(){return{type:Je._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Wo(i,Je._jsonSchema))return new Je(t,a||null,new Tt(Oe.fromString(i.referencePath)))}}Je._jsonSchemaVersion="firestore/documentReference/1.0",Je._jsonSchema={type:Ze("string",Je._jsonSchemaVersion),referencePath:Ze("string")};class Fo extends Ih{constructor(t,i,a){super(t,i,vh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Je(this.firestore,null,new Tt(t))}withConverter(t){return new Fo(this.firestore,t,this._path)}}function te(r,t,...i){if(r=wn(r),arguments.length===1&&(t=Vm.newId()),N2("doc","path",t),r instanceof sp){const a=Oe.fromString(t,...i);return vv(a),new Je(r,null,new Tt(a))}{if(!(r instanceof Je||r instanceof Fo))throw new mt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Oe.fromString(t,...i));return vv(a),new Je(r.firestore,r instanceof Fo?r.converter:null,new Tt(a))}}const a0="AsyncQueue";class l0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new rT(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&ct(a0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new yr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!bl(t))throw t;ct(a0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ws("INTERNAL UNHANDLED ERROR: ",o0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Wm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Rt(47125,{Pc:o0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function o0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function u0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class gl extends sp{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new l0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new l0(t),this._firestoreClient=void 0,await t}}}function _I(r,t){const i=typeof r=="object"?r:C0(),a=typeof r=="string"?r:eh,o=Sm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=B1("firestore");c&&yI(o,...c)}return o}function rp(r){if(r._terminated)throw new mt(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||vI(r),r._firestoreClient}function vI(r){const t=r._freezeSettings(),i=(function(o,c,d,g){return new H2(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,RT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new dI(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class li{constructor(t){this._byteString=t}static fromBase64String(t){try{return new li(pn.fromBase64String(t))}catch(i){throw new mt(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new li(pn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:li._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Wo(t,li._jsonSchema))return li.fromBase64String(t.bytes)}}li._jsonSchemaVersion="firestore/bytes/1.0",li._jsonSchema={type:Ze("string",li._jsonSchemaVersion),bytes:Ze("string")};class xh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new mt(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Nh{constructor(t){this._methodName=t}}class Ki{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new mt(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new mt(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Gt(this._lat,t._lat)||Gt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ki._jsonSchemaVersion}}static fromJSON(t){if(Wo(t,Ki._jsonSchema))return new Ki(t.latitude,t.longitude)}}Ki._jsonSchemaVersion="firestore/geoPoint/1.0",Ki._jsonSchema={type:Ze("string",Ki._jsonSchemaVersion),latitude:Ze("number"),longitude:Ze("number")};class Yi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Yi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Wo(t,Yi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Yi(t.vectorValues);throw new mt(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yi._jsonSchemaVersion="firestore/vectorValue/1.0",Yi._jsonSchema={type:Ze("string",Yi._jsonSchemaVersion),vectorValues:Ze("object")};const EI=/^__.*__$/;class TI{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Rr(t,this.data,this.fieldMask,i,this.fieldTransforms):new tu(t,this.data,i,this.fieldTransforms)}}class IT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Rr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function xT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{Ac:r})}}class Dh{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Dh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return hh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(xT(this.Ac)&&EI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class bI{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||wh(t)}Cc(t,i,a,o=!1){return new Dh({Ac:t,methodName:i,Dc:a,path:mn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NT(r){const t=r._freezeSettings(),i=wh(r._databaseId);return new bI(r._databaseId,!!t.ignoreUndefinedProperties,i)}function AI(r,t,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);lp("Data must be an object, but it was:",d,a);const g=DT(a,d);let v,y;if(c.merge)v=new Gn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const w of c.mergeFields){const V=Em(t,w,i);if(!d.contains(V))throw new mt(W.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);MT(b,V)||b.push(V)}v=new Gn(b),y=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,y=d.fieldTransforms;return new TI(new Vn(g),v,y)}class Oh extends Nh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Oh}}function SI(r,t,i){return new Dh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ap extends Nh{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=SI(this,t,!0),a=this.vc.map((c=>su(c,i))),o=new dl(a);return new pR(t.path,o)}isEqual(t){return t instanceof ap&&_r(this.vc,t.vc)}}function wI(r,t,i,a){const o=r.Cc(1,t,i);lp("Data must be an object, but it was:",o,a);const c=[],d=Vn.empty();wr(a,((v,y)=>{const b=op(t,v,i);y=wn(y);const w=o.yc(b);if(y instanceof Oh)c.push(b);else{const V=su(y,w);V!=null&&(c.push(b),d.set(b,V))}}));const g=new Gn(c);return new IT(d,g,o.fieldTransforms)}function RI(r,t,i,a,o,c){const d=r.Cc(1,t,i),g=[Em(t,a,i)],v=[o];if(c.length%2!=0)throw new mt(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)g.push(Em(t,c[V])),v.push(c[V+1]);const y=[],b=Vn.empty();for(let V=g.length-1;V>=0;--V)if(!MT(y,g[V])){const K=g[V];let et=v[V];et=wn(et);const ot=d.yc(K);if(et instanceof Oh)y.push(K);else{const X=su(et,ot);X!=null&&(y.push(K),b.set(K,X))}}const w=new Gn(y);return new IT(b,w,d.fieldTransforms)}function su(r,t){if(OT(r=wn(r)))return lp("Unsupported field value:",t,r),DT(r,t);if(r instanceof Nh)return(function(a,o){if(!xT(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let v=su(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=wn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return fR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Ie.fromDate(a);return{timestampValue:lh(o.serializer,c)}}if(a instanceof Ie){const c=new Ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:lh(o.serializer,c)}}if(a instanceof Ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof li)return{bytesValue:YE(o.serializer,a._byteString)};if(a instanceof Je){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Yi)return(function(d,g){return{mapValue:{fields:{[AE]:{stringValue:SE},[nh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Bm(g.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${km(a)}`)})(r,t)}function DT(r,t){const i={};return yE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wr(r,((a,o)=>{const c=su(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function OT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ie||r instanceof Ki||r instanceof li||r instanceof Je||r instanceof Nh||r instanceof Yi)}function lp(r,t,i){if(!OT(i)||!pE(i)){const a=km(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Em(r,t,i){if((t=wn(t))instanceof xh)return t._internalPath;if(typeof t=="string")return op(r,t);throw hh("Field path arguments must be of type string or ",r,!1,void 0,i)}const CI=new RegExp("[~\\*/\\[\\]]");function op(r,t,i){if(t.search(CI)>=0)throw hh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new xh(...t.split("."))._internalPath}catch{throw hh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function hh(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new mt(W.INVALID_ARGUMENT,g+r+v)}function MT(r,t){return r.some((i=>i.isEqual(t)))}class VT{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new II(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(kT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class II extends VT{data(){return super.data()}}function kT(r,t){return typeof t=="string"?op(r,t):t instanceof xh?t._internalPath:t._delegate._internalPath}function xI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new mt(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NI{convertValue(t,i="none"){switch(br(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Tr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return wr(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[nh].arrayValue?.values?.map((a=>Be(a.doubleValue)));return new Yi(i)}convertGeoPoint(t){return new Ki(Be(t.latitude),Be(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=yh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Bo(t));default:return null}}convertTimestamp(t){const i=Er(t);return new Ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=Oe.fromString(t);ue(tT(a),9688,{name:t});const o=new Ho(a.get(1),a.get(3)),c=new Tt(a.popFirst(5));return o.isEqual(i)||ws(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function DI(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Do{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ra extends VT{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(kT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ra._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:Ze("string",ra._jsonSchemaVersion),bundleSource:Ze("string","DocumentSnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class Gc extends ra{data(t={}){return super.data(t)}}class ll{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Do(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Gc(this._firestore,this._userDataWriter,a.key,a,new Do(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new mt(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const v=new Gc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Do(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const v=new Gc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Do(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:OI(g.type),doc:v,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ll._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function OI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:r})}}function MI(r){r=qi(r,Je);const t=qi(r.firestore,gl);return gI(rp(t),r._key).then((i=>PT(t,r,i)))}ll._jsonSchemaVersion="firestore/querySnapshot/1.0",ll._jsonSchema={type:Ze("string",ll._jsonSchemaVersion),bundleSource:Ze("string","QuerySnapshot"),bundleName:Ze("string"),bundle:Ze("string")};class LT extends NI{constructor(t){super(),this.firestore=t}convertBytes(t){return new li(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Je(this.firestore,null,i)}}function VI(r,t,i){r=qi(r,Je);const a=qi(r.firestore,gl),o=DI(r.converter,t);return UT(a,[AI(NT(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Fi.none())])}function oe(r,t,i,...a){r=qi(r,Je);const o=qi(r.firestore,gl),c=NT(o);let d;return d=typeof(t=wn(t))=="string"||t instanceof xh?RI(c,"updateDoc",r._key,t,i,a):wI(c,"updateDoc",r._key,t),UT(o,[d.toMutation(r._key,Fi.exists(!0))])}function kI(r,...t){r=wn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||u0(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(u0(t[a])){const v=t[a];t[a]=v.next?.bind(v),t[a+1]=v.error?.bind(v),t[a+2]=v.complete?.bind(v)}let c,d,g;if(r instanceof Je)d=qi(r.firestore,gl),g=vh(r._key.path),c={next:v=>{t[a]&&t[a](PT(d,r,v))},error:t[a+1],complete:t[a+2]};else{const v=qi(r,Ih);d=qi(v.firestore,gl),g=v._query;const y=new LT(d);c={next:b=>{t[a]&&t[a](new ll(d,y,v,b))},error:t[a+1],complete:t[a+2]},xI(r._query)}return(function(y,b,w,V){const K=new ST(V),et=new pT(b,K,w);return y.asyncQueue.enqueueAndForget((async()=>dT(await vm(y),et))),()=>{K.Nu(),y.asyncQueue.enqueueAndForget((async()=>mT(await vm(y),et)))}})(rp(d),g,o,c)}function UT(r,t){return(function(a,o){const c=new yr;return a.asyncQueue.enqueueAndForget((async()=>sI(await pI(a),o,c))),c.promise})(rp(r),t)}function PT(r,t,i){const a=i.docs.get(t._key),o=new LT(r);return new ra(r,o,t._key,a,new Do(i.hasPendingWrites,i.fromCache),t.converter)}function an(...r){return new ap("arrayUnion",r)}(function(t,i=!0){(function(o){El=o})(_l),ol(new aa("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new gl(new b2(a.getProvider("auth-internal")),new w2(d,a.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new mt(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ho(y.options.projectId,b)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),pr(pv,gv,t),pr(pv,gv,"esm2020")})();const LI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),c0=r=>{const t=UI(r);return t.charAt(0).toUpperCase()+t.slice(1)},zT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),PI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var zI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jI=Ce.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},v)=>Ce.createElement("svg",{ref:v,...zI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:zT("lucide",o),...!c&&!PI(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>Ce.createElement(y,b)),...Array.isArray(c)?c:[c]]));const bn=(r,t)=>{const i=Ce.forwardRef(({className:a,...o},c)=>Ce.createElement(jI,{ref:c,iconNode:t,className:zT(`lucide-${LI(c0(r))}`,`lucide-${r}`,a),...o}));return i.displayName=c0(r),i};const BI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],jT=bn("book-open",BI);const HI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],h0=bn("circle-check-big",HI);const qI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],BT=bn("circle-x",qI);const GI=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Fc=bn("coins",GI);const FI=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],up=bn("crown",FI);const QI=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],KI=bn("door-open",QI);const YI=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],XI=bn("hand",YI);const $I=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],f0=bn("info",$I);const ZI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],JI=bn("log-out",ZI);const WI=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],HT=bn("refresh-ccw",WI);const tx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ex=bn("rotate-ccw",tx);const nx=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ix=bn("shield",nx);const sx=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],d0=bn("skull",sx);const rx=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],qT=bn("sword",rx);const ax=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],lx=bn("trophy",ax);const ox=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],GT=bn("x",ox),ux={apiKey:"AIzaSyDf86JHBvY9Y1B1x8QDbJkASmlANouEvX0",authDomain:"card-games-28729.firebaseapp.com",projectId:"card-games-28729",storageBucket:"card-games-28729.firebasestorage.app",messagingSenderId:"466779458834",appId:"1:466779458834:web:a5f4c09c44fb15176d37cb"},FT=R0(ux),Yd=_2(FT),ee=_I(FT),ne=typeof __app_id<"u"?__app_id:"conspiracy-game-v8-final",QT={HERO:{name:"Hero",color:"bg-purple-600",icon:up,desc:"Grabs 3 coins. Blocks Export."},ROBBER:{name:"Robber",color:"bg-blue-600",icon:XI,desc:"Steal 2 coins. Blocks Stealing."},GENIE:{name:"Genie",color:"bg-pink-600",icon:ix,desc:"Blocks Stab."},MONSTER:{name:"Monster",color:"bg-red-700",icon:qT,desc:"Stab (Pay 3 to kill)."},RIDDLER:{name:"Riddler",color:"bg-emerald-600",icon:HT,desc:"Exchange cards. Blocks Stealing."}},Ro=[...Array(3).fill("HERO"),...Array(3).fill("ROBBER"),...Array(3).fill("GENIE"),...Array(3).fill("MONSTER"),...Array(3).fill("RIDDLER")],Co={EARN:{name:"Earn",cost:0,income:1,blockable:!1,challengeable:!1},EXPORT:{name:"Export",cost:0,income:2,blockable:!0,challengeable:!1,blockedBy:["HERO"]},TAX:{name:"Hero Bonus",cost:0,income:3,blockable:!1,challengeable:!0,claim:"HERO"},STEAL:{name:"Steal",cost:0,income:0,blockable:!0,challengeable:!0,claim:"ROBBER",blockedBy:["ROBBER","RIDDLER"]},STAB:{name:"Stab",cost:3,income:0,blockable:!0,challengeable:!0,claim:"MONSTER",blockedBy:["GENIE"]},EXCHANGE:{name:"Exchange",cost:0,income:0,blockable:!1,challengeable:!0,claim:"RIDDLER"},KILL:{name:"Kill",cost:7,income:0,blockable:!1,challengeable:!1}},Vc=r=>{let t=r.length,i;for(;t!==0;)i=Math.floor(Math.random()*t),t--,[r[t],r[i]]=[r[i],r[t]];return r},cx=({onClose:r})=>{const[t,i]=Ce.useState("basics"),a=({id:o,label:c,icon:d})=>A.jsxs("button",{onClick:()=>i(o),className:`flex items-center gap-2 px-4 py-3 text-sm font-bold rounded-lg transition-all ${t===o?"bg-purple-600 text-white shadow-lg":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:[d&&A.jsx(d,{size:16})," ",c]});return A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-gray-900 rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden border border-gray-700 shadow-2xl flex flex-col",children:[A.jsxs("div",{className:"p-6 border-b border-gray-700 flex justify-between items-center bg-gray-800",children:[A.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[A.jsx(jT,{className:"text-purple-400"})," How to Play"]}),A.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-700 rounded-full text-gray-400 hover:text-white",children:A.jsx(GT,{})})]}),A.jsxs("div",{className:"flex gap-2 p-4 bg-gray-900 border-b border-gray-800 overflow-x-auto",children:[A.jsx(a,{id:"basics",label:"The Basics",icon:Fc}),A.jsx(a,{id:"cards",label:"Characters",icon:up}),A.jsx(a,{id:"actions",label:"Actions",icon:qT}),A.jsx(a,{id:"challenges",label:"Bluffing",icon:BT})]}),A.jsxs("div",{className:"p-6 overflow-y-auto flex-1 text-gray-300 space-y-6",children:[t==="basics"&&A.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[A.jsx("h3",{className:"text-xl font-bold text-yellow-400",children:"Goal: Be the Last One Standing"}),A.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[A.jsxs("li",{children:["Each player starts with ",A.jsx("strong",{children:"2/3 Cards"})," and"," ",A.jsx("strong",{children:"2 Coins"}),"."]}),A.jsx("li",{children:"Your cards are kept face-down. No one sees them but you."}),A.jsx("li",{children:"If you lose a life, you must flip one card face-up."}),A.jsxs("li",{children:["If all cards are face-up, you are ",A.jsx("strong",{children:"Eliminated"}),"."]})]})]}),t==="cards"&&A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in",children:Object.entries(QT).map(([o,c])=>A.jsxs("div",{className:"p-4 rounded-lg border border-gray-700 bg-gray-800 flex items-start gap-3",children:[A.jsx("div",{className:`p-3 rounded-lg ${c.color} text-white`,children:A.jsx(c.icon,{size:24})}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-white",children:c.name}),A.jsx("p",{className:"text-sm text-gray-400",children:c.desc})]})]},o))}),t==="actions"&&A.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[A.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg border-l-4 border-green-500",children:[A.jsx("h4",{className:"font-bold text-white",children:"General Actions (Safe)"}),A.jsxs("p",{className:"text-sm",children:[A.jsx("strong",{children:"Earn:"})," Take 1 coin."]}),A.jsxs("p",{className:"text-sm",children:[A.jsx("strong",{children:"Export:"})," Take 2 coin."]}),A.jsxs("p",{className:"text-sm",children:[A.jsx("strong",{children:"Kill (Coup):"})," Pay 7 coins to kill someone immediately."]})]}),A.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg border-l-4 border-yellow-500",children:[A.jsx("h4",{className:"font-bold text-white",children:"Character Actions (Blockable/Challengeable)"}),A.jsxs("ul",{className:"list-disc pl-5 text-sm space-y-1",children:[A.jsxs("li",{children:[A.jsx("strong",{children:"Hero Bonus (Hero):"})," Take 3 coins."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Steal (Robber):"})," Take 2 coins from another player."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Stab (Monster):"})," Pay 3 coins to make someone lose a life."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Exchange (Riddler):"})," Draw 2 cards, return any 2 cards."]})]})]})]}),t==="challenges"&&A.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-xl font-bold text-red-400 mb-2",children:"The Art of Lying"}),A.jsx("p",{children:`You can claim any character! If you don't have a Hero, you can still use "Hero Bonus" to get 3 coins. But beware...`})]}),A.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"bg-red-900/20 p-4 rounded-lg border border-red-500/50",children:[A.jsx("h4",{className:"font-bold text-white mb-2",children:"Challenging"}),A.jsx("p",{className:"text-sm",children:"If someone challenges you:"}),A.jsxs("ul",{className:"list-disc pl-5 text-sm mt-2 space-y-1",children:[A.jsxs("li",{children:[A.jsx("strong",{children:"Have it?"})," Show it. They lose a life. You get a new card."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Don't have it?"})," You lose a life."]})]})]}),A.jsxs("div",{className:"bg-blue-900/20 p-4 rounded-lg border border-blue-500/50",children:[A.jsx("h4",{className:"font-bold text-white mb-2",children:"Blocking"}),A.jsx("p",{className:"text-sm",children:"You can claim a character to block attacks (e.g., Genie blocks Stab)."})]})]})]})]})]})})},m0=({onConfirm:r,onCancel:t})=>A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[A.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Leave Game?"}),A.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:"Do you really want to leave? You will be removed from the current game."}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsx("button",{onClick:t,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold",children:"No, Stay"}),A.jsx("button",{onClick:r,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold",children:"Yes, Leave"})]})]})}),p0=()=>A.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-60 mt-auto pb-2 pt-2",children:[A.jsx("span",{className:"text-[10px] font-black tracking-widest text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600 uppercase",children:"CONSPIRACY"}),A.jsx("span",{className:"text-[8px] text-gray-500",children:""})]});function hx(){const[r,t]=Ce.useState(null),[i,a]=Ce.useState("menu"),[o,c]=Ce.useState(""),[d,g]=Ce.useState(""),[v,y]=Ce.useState(""),[b,w]=Ce.useState(""),[V,K]=Ce.useState(4),[et,ot]=Ce.useState(2),[X,yt]=Ce.useState(null),[C,wt]=Ce.useState(null),[ie,Zt]=Ce.useState(""),[jt,N]=Ce.useState(!1),[S,I]=Ce.useState([]),[k,D]=Ce.useState(!1),[U,R]=Ce.useState(!1),[ve,Ve]=Ce.useState(!1);Ce.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await sw(Yd,__initial_auth_token):await WS(Yd)})();const tt=lw(Yd,it=>t(it));return()=>tt()},[]),Ce.useEffect(()=>{if(!X||!r)return;const G=te(ee,"artifacts",ne,"public","data","rooms",X),tt=kI(G,it=>{if(it.exists()){const Et=it.data();wt({id:it.id,...Et}),Et.status==="playing"||Et.status==="finished"?a("game"):a("lobby")}else yt(null),a("menu"),Zt("Room closed or does not exist.")},it=>console.error(it));return()=>tt()},[X,r]);const F=async()=>{if(!r||!o.trim())return Zt("Enter a nickname first.");N(!0);const G=Math.random().toString(36).substring(2,8).toUpperCase(),tt={hostId:r.uid,password:b,maxPlayers:parseInt(V),startingCards:parseInt(et),players:[{id:r.uid,name:o,coins:2,cards:[],isEliminated:!1,ready:!0}],status:"lobby",turnIndex:0,deck:[],logs:[],turnState:"IDLE",currentAction:null};try{await VI(te(ee,"artifacts",ne,"public","data","rooms",G),tt),yt(G)}catch{Zt("Failed to create room.")}N(!1)},lt=async()=>{if(!r||!d||!o.trim())return Zt("Enter nickname & room code.");N(!0);try{const G=te(ee,"artifacts",ne,"public","data","rooms",d),tt=await MI(G);if(!tt.exists())throw new Error("Room not found.");const it=tt.data();if(it.password&&it.password!==v)throw new Error("Wrong password.");if(it.players.length>=it.maxPlayers)throw new Error("Room full.");if(it.status!=="lobby")throw new Error("Game started.");it.players.find(ft=>ft.id===r.uid)||await oe(G,{players:an({id:r.uid,name:o,coins:2,cards:[],isEliminated:!1,ready:!0})}),yt(d)}catch(G){Zt(G.message)}N(!1)},gt=async()=>{if(!X||!r||!C)return;const G=C.players.filter(nt=>nt.id!==r.uid);let tt=C.status;tt==="playing"&&G.length<2&&(tt="finished");const it=C.players.findIndex(nt=>nt.id===r.uid);let Et=C.turnIndex;it<C.turnIndex&&(Et=Math.max(0,Et-1)),Et>=G.length&&(Et=0);const ft=[...C.logs||[]],vt=C.players.find(nt=>nt.id===r.uid);vt&&ft.push({text:`${vt.name} left the game.`,type:"danger"}),tt==="finished"&&C.status==="playing"&&ft.push({text:"Not enough players. Game Over.",type:"neutral"});try{await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{players:G,status:tt,turnIndex:Et,logs:ft})}catch(nt){console.error("Error leaving room",nt)}yt(null),a("menu"),R(!1)},Qt=async()=>{if(!C||C.hostId!==r.uid)return;if(C.players.length<2)return Zt("Need 2+ players.");const G=Vc([...Ro,...Ro]),tt=C.startingCards||2,it=C.players.map(Et=>{const ft=[];for(let vt=0;vt<tt;vt++)ft.push({type:G.pop(),flipped:!1});return{...Et,coins:2,cards:ft,isEliminated:!1}});await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{status:"playing",deck:G,players:it,turnIndex:0,turnState:"IDLE",logs:an({text:"Game Started!",type:"info"})})},se=async()=>{!C||C.hostId!==r.uid||await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{status:"lobby",turnState:"IDLE",currentAction:null,logs:[],players:C.players.map(G=>({...G,cards:[],coins:2,isEliminated:!1}))})},M=async()=>{if(!C||C.hostId!==r.uid)return;const G=Vc([...Ro,...Ro]),tt=C.startingCards||2,it=C.players.map(Et=>{const ft=[];for(let vt=0;vt<tt;vt++)ft.push({type:G.pop(),flipped:!1});return{...Et,coins:2,cards:ft,isEliminated:!1}});await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{status:"playing",deck:G,players:it,turnIndex:0,turnState:"IDLE",logs:[{text:"Game Restarted!",type:"info"}],currentAction:null})},$=()=>C?.players.filter(G=>!G.isEliminated)||[],at=()=>C?.players[C.turnIndex],ut=()=>at()?.id===r.uid,At=G=>G.filter(it=>!it.isEliminated).length<=1,St=async G=>{let tt=(G.turnIndex+1)%G.players.length,it=0;for(;G.players[tt].isEliminated&&it<10;)tt=(tt+1)%G.players.length,it++;it>=10&&(tt=G.players.findIndex(Et=>!Et.isEliminated)),await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{turnIndex:tt,turnState:"IDLE",currentAction:null,players:G.players,loseReason:null})},Ot=async(G,tt=null)=>{if(!ut())return;const it=at(),Et=Co[G];if(it.coins<Et.cost)return;if(it.coins>=10&&G!=="KILL")return alert("Must use Kill!");const ft={type:G,actorId:r.uid,targetId:tt,status:"PENDING",votes:[],actionPending:!1};if(G==="EARN"){const vt=[...C.players];vt[C.turnIndex].coins+=1,await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{players:vt,logs:an({text:`${it.name} takes Income (+1 coin).`,type:"neutral"})}),await St({...C,players:vt});return}if(G==="KILL"){const vt=[...C.players];vt[C.turnIndex].coins-=7;const nt=C.players.find(pt=>pt.id===tt).name;await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{players:vt,turnState:"LOSE_CARD",currentAction:ft,loserId:tt,loseReason:"kill",logs:an({text:`${it.name} killed ${nt} (-7 coins).`,type:"danger"})});return}if(G==="STAB"){const vt=[...C.players];vt[C.turnIndex].coins-=3,await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{players:vt,turnState:"ACTION_PENDING",currentAction:ft});return}await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{turnState:"ACTION_PENDING",currentAction:ft})},Ue=async()=>{if(C.turnState!=="ACTION_PENDING"||!C.currentAction||C.currentAction.votes.includes(r.uid))return;const G=[...C.currentAction.votes,r.uid],tt=$().length;G.length>=tt-1?await Ee():await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{"currentAction.votes":G})},Ee=async()=>{if(C.turnState!=="ACTION_PENDING")return;Co[C.currentAction.type];const G=C.players.find(ft=>ft.id===C.currentAction.actorId),tt=[...C.players];let it="";const Et=tt.findIndex(ft=>ft.id===G.id);if(C.currentAction.type==="EXPORT")tt[Et].coins+=2,it=`${G.name} completes Export and gains 2 coins.`;else if(C.currentAction.type==="TAX")tt[Et].coins+=3,it=`${G.name} collects Hero Bonus and gains 3 coins.`;else if(C.currentAction.type==="STEAL"){const ft=tt.findIndex(pt=>pt.id===C.currentAction.targetId),vt=tt[ft].name,nt=Math.min(tt[ft].coins,2);tt[ft].coins-=nt,tt[Et].coins+=nt,it=`${G.name} steals ${nt} coins from ${vt}.`}else if(C.currentAction.type==="STAB"){const ft=C.players.find(vt=>vt.id===C.currentAction.targetId).name;await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{players:tt,turnState:"LOSE_CARD",loserId:C.currentAction.targetId,loseReason:"stab",logs:an({text:`${G.name} Assassinated ${ft}!`,type:"danger"})});return}else if(C.currentAction.type==="EXCHANGE"){const ft=[...C.deck];ft.length<2&&ft.push(...Ro);const vt=[ft.pop(),ft.pop()];await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{turnState:"EXCHANGE_SELECT",deck:ft,tempCards:vt,logs:an({text:`${G.name} examines the deck (Exchange).`,type:"neutral"})});return}await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{players:tt,logs:an({text:it,type:"success"})}),await St({...C,players:tt})},Fn=async(G,tt)=>{const it=C.players.find(vt=>vt.id===G).name,Et=C.players.find(vt=>vt.id===C.currentAction.actorId).name,ft=Co[C.currentAction.type].name;await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{turnState:"BLOCK_PENDING",currentAction:{...C.currentAction,blockerId:G,blockClaim:tt,votes:[]},logs:an({text:`${it} blocks ${Et}'s ${ft} claiming ${tt}!`,type:"warning"})})},Is=async()=>{if(C.turnState!=="BLOCK_PENDING"||C.currentAction.votes.includes(r.uid))return;const G=[...C.currentAction.votes,r.uid],tt=$().length;G.length>=tt-1?(await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{logs:an({text:"Block Accepted. Action Failed (Coins lost).",type:"info"})}),await St({...C})):await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{"currentAction.votes":G})},Zi=async G=>{const tt=C.turnState==="BLOCK_PENDING",it=tt?C.currentAction.blockerId:C.currentAction.actorId,Et=tt?C.currentAction.blockClaim:Co[C.currentAction.type].claim,ft=C.players.find(nt=>nt.id===G).name,vt=C.players.find(nt=>nt.id===it).name;await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{turnState:"CHALLENGE_RESOLVE",challengerId:G,accusedId:it,challengedCard:Et,logs:an({text:`${ft} challenges ${vt}'s claim of ${Et}!`,type:"danger"})})},xs=async()=>{const G=[...C.players],tt=G.find(Ut=>Ut.id===r.uid),it=G.findIndex(Ut=>Ut.id===r.uid),Et=tt.cards.map((Ut,It)=>({...Ut,index:It})).filter(Ut=>!Ut.flipped),ft=C.players.find(Ut=>Ut.id===C.currentAction.actorId);let vt="";if(C.currentAction.targetId){const Ut=C.players.find(It=>It.id===C.currentAction.targetId);vt=Ut?Ut.name:"Target"}let nt=[],pt=!1,de="IDLE",be=null,Ae=null;if(C.currentAction.blockerId===r.uid){nt.push({text:`Blocker ${tt.name} admits to lying! Block removed.`,type:"danger"});const Ut=C.currentAction,It=G.findIndex(Kt=>Kt.id===Ut.actorId);if(Ut.type==="STEAL"){const Kt=G.findIndex(Yt=>Yt.id===Ut.targetId),Se=Math.min(G[Kt].coins,2);G[Kt].coins-=Se,G[It].coins+=Se,nt.push({text:`Block Failed: ${ft.name} steals ${Se} from ${vt}.`,type:"success"})}else Ut.type==="EXPORT"?(G[It].coins+=2,nt.push({text:`Block Failed: ${ft.name} gains 2 coins (Export).`,type:"success"})):Ut.type==="TAX"?(G[It].coins+=3,nt.push({text:`Block Failed: ${ft.name} gains 3 coins (Hero Bonus).`,type:"success"})):Ut.type==="STAB"?(pt=!0,nt.push({text:`Block Failed: ${ft.name}'s Assassination proceeds!`,type:"danger"})):Ut.type==="EXCHANGE"&&(pt=!0,nt.push({text:`Block Failed: ${ft.name} proceeds with Exchange.`,type:"info"}))}else nt.push({text:`Actor ${tt.name} admits to lying! Action cancelled.`,type:"danger"});Et.length===1?(G[it].cards[Et[0].index].flipped=!0,G[it].isEliminated=!0,nt.push({text:`${tt.name} is ELIMINATED!`,type:"danger"})):(de="LOSE_CARD",be=r.uid,Ae="challenge");const re=At(G);let Te={players:G,logs:an(...nt),"currentAction.actionPending":pt};if(re?Te.status="finished":de==="LOSE_CARD"&&(Te.turnState="LOSE_CARD",Te.loserId=be,Ae&&(Te.loseReason=Ae)),await oe(te(ee,"artifacts",ne,"public","data","rooms",X),Te),!re&&de!=="LOSE_CARD"){if(pt){if(C.currentAction.type==="STAB"){const Ut=C.currentAction,It=G.find(Kt=>Kt.id===Ut.targetId);if(It&&!It.isEliminated){await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{turnState:"LOSE_CARD",loserId:Ut.targetId,loseReason:"stab","currentAction.actionPending":!1,logs:an({text:"Assassination continues... Target must lose a life.",type:"danger"})});return}else{await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{logs:an({text:"Target eliminated. Assassination complete.",type:"neutral"})}),await St({...C,players:G});return}}else if(C.currentAction.type==="EXCHANGE"){const Ut=[...C.deck],It=[Ut.pop(),Ut.pop()];await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{turnState:"EXCHANGE_SELECT",deck:Ut,tempCards:It,"currentAction.actionPending":!1});return}}await St({...C,players:G})}},Qn=async G=>{const tt=C.players.find(st=>st.id===r.uid),it=tt.cards[G],Et=C.challengedCard,ft=it.type===Et,vt=C.players.find(st=>st.id===C.currentAction.actorId),nt=C.players.find(st=>st.id===C.challengerId);C.currentAction.targetId&&C.players.find(st=>st.id===C.currentAction.targetId).name;let pt=[...C.players],de=[...C.deck],be=[],Ae="IDLE",Kn=null,re=null,Te=!1;const Ut=C.currentAction.blockerId&&C.currentAction.blockerId===C.accusedId;if(ft){be.push({text:`Challenge Failed: ${tt.name} shows ${Et}! ${nt.name} loses a life.`,type:"success"}),de.push(it.type),de=Vc(de);const st=pt.findIndex(Mt=>Mt.id===r.uid);pt[st].cards[G]={type:de.pop(),flipped:!1},Ae="LOSE_CARD",Kn=C.challengerId,re="challenge"}else be.push({text:`Challenge Won: ${tt.name} caught lying! Choose a card to lose.`,type:"danger"}),Ae="LOSE_CARD",Kn=r.uid,re="challenge";const It=C.currentAction,Kt=pt.findIndex(st=>st.id===It.actorId);if(Ut)if(ft)be.push({text:`Block Upheld. ${vt.name}'s action blocked.`,type:"warning"});else{if(It.type==="TAX"&&(pt[Kt].coins+=3,be.push({text:"Block Invalid: Hero Bonus succeeds (+3).",type:"success"})),It.type==="EXPORT"&&(pt[Kt].coins+=2,be.push({text:"Block Invalid: Export succeeds (+2).",type:"success"})),It.type==="STEAL"){const st=pt.findIndex(xe=>xe.id===It.targetId),Mt=Math.min(pt[st].coins,2);pt[st].coins-=Mt,pt[Kt].coins+=Mt,be.push({text:`Block Invalid: Steal succeeds (+${Mt}).`,type:"success"})}It.type==="STAB"&&(Te=!0,be.push({text:"Block Invalid: Stab proceeds! (Double Kill pending)",type:"danger"})),It.type==="EXCHANGE"&&(Te=!0)}else if(ft){if(It.type==="TAX"&&(pt[Kt].coins+=3),It.type==="EXPORT"&&(pt[Kt].coins+=2),It.type==="STEAL"){const st=pt.findIndex(xe=>xe.id===It.targetId),Mt=Math.min(pt[st].coins,2);pt[st].coins-=Mt,pt[Kt].coins+=Mt}It.type==="STAB"&&(Te=!0),It.type==="EXCHANGE"&&(Te=!0),Te||be.push({text:"Action Upheld: Success.",type:"success"})}else be.push({text:"Action Failed: Bluff called.",type:"warning"});const Se=At(pt);let Yt={players:pt,deck:de,logs:an(...be),"currentAction.actionPending":Te};if(Se?Yt.status="finished":Ae==="LOSE_CARD"&&(Yt.turnState="LOSE_CARD",Yt.loserId=Kn,re&&(Yt.loseReason=re)),await oe(te(ee,"artifacts",ne,"public","data","rooms",X),Yt),!(Se||Ae==="LOSE_CARD"))if(Te&&C.currentAction.type==="EXCHANGE"){const st=[...de],Mt=[st.pop(),st.pop()];await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{turnState:"EXCHANGE_SELECT",deck:st,tempCards:Mt,"currentAction.actionPending":!1})}else await St({...C,players:pt})},Cr=async G=>{if(C.loserId!==r.uid)return;const tt=[...C.players],it=tt.findIndex(pt=>pt.id===r.uid);if(tt[it].cards[G].flipped)return;tt[it].cards[G].flipped=!0;const Et=tt[it].cards.every(pt=>pt.flipped);Et&&(tt[it].isEliminated=!0);const ft=[{text:`${tt[it].name} lost a life (${C.loseReason}).`,type:"danger"}];Et&&ft.push({text:`${tt[it].name} is ELIMINATED!`,type:"danger"});const vt=At(tt);let nt={players:tt,logs:an(...ft)};if(vt){const pt=tt.filter(de=>!de.isEliminated);nt.status="finished",nt.logs=an({text:`Game Over! ${pt[0]?.name} Wins!`,type:"success"}),await oe(te(ee,"artifacts",ne,"public","data","rooms",X),nt);return}if(C.currentAction?.actionPending){if(C.currentAction.type==="EXCHANGE"){await oe(te(ee,"artifacts",ne,"public","data","rooms",X),nt);const pt=[...C.deck],de=[pt.pop(),pt.pop()];await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{turnState:"EXCHANGE_SELECT",deck:pt,tempCards:de,"currentAction.actionPending":!1});return}if(C.currentAction.type==="STAB"){const pt=C.currentAction.targetId,de=tt.find(be=>be.id===pt);if(de&&!de.isEliminated){nt.logs=an(...ft,{text:"Challenge penalty paid. Assassination continues... (Lose 2nd Life)",type:"danger"}),nt.turnState="LOSE_CARD",nt.loserId=pt,nt.loseReason="stab",nt["currentAction.actionPending"]=!1,await oe(te(ee,"artifacts",ne,"public","data","rooms",X),nt);return}else ft.push({text:"Target eliminated. Assassination complete.",type:"neutral"}),nt.logs=an(...ft)}}await oe(te(ee,"artifacts",ne,"public","data","rooms",X),nt),await St({...C,players:tt})},Ji=async()=>{const G=C.players.find(re=>re.id===r.uid),tt=G.cards.filter(re=>!re.flipped).length;if(S.length!==tt){alert(`You must select exactly ${tt} cards.`);return}const it=[...C.players],Et=it.findIndex(re=>re.id===r.uid),vt=[...G.cards.filter(re=>!re.flipped).map(re=>re.type),...C.tempCards],nt=S.map(re=>vt[re]),pt=vt.filter((re,Te)=>!S.includes(Te)),de=G.cards.filter(re=>re.flipped),Ae=[...nt.map(re=>({type:re,flipped:!1})),...de],Kn=[...C.deck,...pt];it[Et].cards=Ae,await oe(te(ee,"artifacts",ne,"public","data","rooms",X),{players:it,deck:Vc(Kn),turnState:"IDLE",tempCards:null,currentAction:null}),await St({...C,players:it}),I([])},Ir=({type:G,flipped:tt,onClick:it,selectable:Et,size:ft="md"})=>{const vt=QT[G];if(!vt&&!tt)return null;const nt=`rounded-lg shadow-md border-2 transition-all duration-200 relative ${Et?"cursor-pointer hover:scale-105 ring-2 ring-offset-2 ring-yellow-400":""}`,pt=ft==="sm"?"w-14 h-20 text-[10px]":"w-24 h-36 text-sm";return tt?A.jsx("div",{className:`${nt} ${pt} bg-gray-800 border-gray-700 flex items-center justify-center opacity-60`,children:A.jsx(d0,{className:"text-gray-500"})}):A.jsxs("div",{onClick:it,className:`${nt} ${pt} ${vt.color} border-white/20 flex flex-col items-center justify-between p-2 text-white`,children:[A.jsx("div",{className:"font-bold uppercase tracking-wider truncate w-full text-center",children:vt.name}),A.jsx(vt.icon,{size:ft==="sm"?16:32}),ft!=="sm"&&A.jsx("div",{className:"text-[10px] leading-tight text-center opacity-90",children:vt.desc})]})};if(!r)return A.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white",children:"Loading..."});if(i==="menu")return A.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-4 relative",children:[k&&A.jsx(cx,{onClose:()=>D(!1)}),A.jsx("h1",{className:"text-5xl font-bold mb-8 text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600",children:"CONSPIRACY"}),A.jsxs("div",{className:"bg-gray-800 p-8 rounded-2xl shadow-2xl w-full max-w-md border border-gray-700",children:[ie&&A.jsx("div",{className:"bg-red-900/50 text-red-200 p-3 rounded mb-4 text-sm",children:ie}),A.jsxs("div",{className:"mb-6",children:[A.jsx("label",{className:"text-xs text-gray-400 uppercase font-bold block mb-1",children:"Nickname"}),A.jsx("input",{type:"text",className:"w-full bg-gray-700 p-3 rounded border border-gray-600 text-white",placeholder:"Enter your name",value:o,onChange:G=>c(G.target.value)})]}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"border-b border-gray-700 pb-6",children:[A.jsx("h3",{className:"text-xl font-semibold mb-4 text-purple-300",children:"Join Room"}),A.jsx("input",{type:"text",placeholder:"Room Code",className:"w-full bg-gray-700 p-3 rounded mb-2 border border-gray-600",value:d,onChange:G=>g(G.target.value.toUpperCase())}),A.jsx("input",{type:"password",placeholder:"Room Password",className:"w-full bg-gray-700 p-3 rounded mb-4 border border-gray-600",value:v,onChange:G=>y(G.target.value)}),A.jsx("button",{onClick:lt,disabled:jt,className:"w-full bg-purple-600 hover:bg-purple-500 py-3 rounded font-bold",children:"Join Game"})]}),A.jsxs("div",{children:[A.jsx("h3",{className:"text-xl font-semibold mb-4 text-pink-300",children:"Create Room"}),A.jsx("input",{type:"password",placeholder:"Set Room Password",className:"w-full bg-gray-700 p-3 rounded mb-4 border border-gray-600",value:b,onChange:G=>w(G.target.value)}),A.jsxs("div",{className:"flex justify-between mb-4 text-sm text-gray-400",children:[A.jsxs("span",{children:["Players: ",V]}),A.jsx("input",{type:"range",min:"2",max:"6",value:V,onChange:G=>K(G.target.value),className:"accent-pink-500"})]}),A.jsxs("div",{className:"flex justify-between mb-4 text-sm text-gray-400",children:[A.jsxs("span",{children:["Starting Cards: ",et]}),A.jsxs("div",{className:"flex gap-4 items-center",children:[A.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[A.jsx("input",{type:"radio",name:"cards",value:"2",checked:parseInt(et)===2,onChange:G=>ot(G.target.value),className:"accent-purple-500"}),"2 Cards"]}),A.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[A.jsx("input",{type:"radio",name:"cards",value:"3",checked:parseInt(et)===3,onChange:G=>ot(G.target.value),className:"accent-purple-500"}),"3 Cards"]})]})]}),A.jsx("button",{onClick:F,disabled:jt,className:"w-full bg-gray-700 hover:bg-gray-600 py-3 rounded font-bold border border-gray-600",children:"Create Lobby"})]})]}),A.jsxs("button",{onClick:()=>D(!0),className:"w-full mt-6 flex items-center justify-center gap-2 text-gray-400 hover:text-white transition-colors",children:[A.jsx(jT,{size:18})," How to Play"]})]})]});if(i==="lobby"&&C)return A.jsxs("div",{className:"min-h-screen bg-gray-900 text-white p-4 flex flex-col items-center",children:[A.jsxs("div",{className:"w-full max-w-2xl flex-1 flex flex-col",children:[A.jsxs("div",{className:"flex justify-between items-center mb-8",children:[A.jsxs("h2",{className:"text-2xl font-bold text-purple-400",children:["Lobby: ",C.id]}),A.jsx("button",{onClick:()=>R(!0),className:"text-sm text-gray-400 hover:text-white",children:"Leave"})]}),A.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-6 border border-gray-700",children:[A.jsxs("h3",{className:"text-gray-400 text-sm uppercase tracking-wider mb-4",children:["Players (",C.players.length,"/",C.maxPlayers,")",A.jsxs("span",{className:"ml-2 text-purple-400 normal-case",children:[" ",C.startingCards||2," Cards Mode"]})]}),C.players.map(G=>A.jsxs("div",{className:"flex items-center justify-between bg-gray-700 p-3 rounded mb-2",children:[A.jsxs("span",{className:G.id===r.uid?"text-purple-300 font-bold":"text-white",children:[G.name," ",G.id===r.uid&&"(You)"," ",G.id===C.hostId&&""]}),A.jsx("span",{className:"text-green-400 text-sm",children:"Ready"})]},G.id))]}),C.hostId===r.uid?A.jsxs("div",{className:"space-y-2",children:[A.jsx("button",{onClick:Qt,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg ${C.players.length>=2?"bg-green-600 hover:bg-green-500":"bg-gray-700 cursor-not-allowed"}`,children:"Start Game"}),A.jsx("button",{onClick:se,className:"w-full py-2 text-xs text-gray-500 hover:text-red-400",children:"Reset Lobby (Debug)"})]}):A.jsx("div",{className:"text-center text-gray-400 animate-pulse",children:"Waiting for host..."})]}),A.jsx(p0,{}),U&&A.jsx(m0,{onConfirm:gt,onCancel:()=>R(!1)})]});if(i==="game"&&C){const G=C.players.find(st=>st.id===r.uid);if(!G)return A.jsxs("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center text-white flex-col",children:[A.jsx("div",{className:"text-xl font-bold mb-4",children:"You have left the game or were removed."}),A.jsx("button",{onClick:()=>{yt(null),a("menu")},className:"bg-purple-600 px-4 py-2 rounded",children:"Back to Menu"})]});const tt=ut(),it=C.currentAction?Co[C.currentAction.type].name:"",Et=C.turnState==="ACTION_PENDING"?C.currentAction.votes.length:0,ft=$().length-1,vt=C.currentAction?.votes.includes(r.uid),nt=C.currentAction,pt=nt&&(nt.type==="STEAL"||nt.type==="STAB"),de=pt&&nt.votes.includes(nt.targetId),be=pt&&nt.targetId===r.uid;let Ae=!1;C.turnState==="ACTION_PENDING"&&nt.actorId!==r.uid&&!G.isEliminated&&(pt?de?be||(Ae=!0):be&&(Ae=!0):Ae=!0);const Kn=C.turnState==="BLOCK_PENDING"&&C.currentAction.blockerId!==r.uid&&!G.isEliminated,re=C.players.filter(st=>!st.isEliminated);let Te=!1;nt&&(nt.type==="EXPORT"||(nt.type==="STEAL"||nt.type==="STAB")&&nt.targetId===r.uid)&&(Te=!0);const Ut=C.turnState==="EXCHANGE_SELECT"&&G.id===at().id;let It=null,Kt=null;if(nt){const st=C.players.find(xe=>xe.id===nt.targetId),Mt=C.players.find(xe=>xe.id===nt.actorId);st&&(It=st.name),Mt&&(Kt=Mt.name)}let Se="",Yt="";if(C.turnState==="LOSE_CARD"){const st=C.players.find(xe=>xe.id===C.loserId),Mt=st?st.name:"Player";C.loseReason==="challenge"?(Se="Challenge Lost",Yt=`${Mt} is discarding a card...`):nt&&nt.type==="KILL"?(Se=`${Kt} performs`,Yt=`Kill on ${It}`):nt&&nt.type==="STAB"?(Se=`${Kt} performs`,Yt=`Stab on ${It}`):(Se=`${Mt} lost a life`,Yt="Choosing card to lose...")}return A.jsxs("div",{className:"min-h-screen bg-gray-900 text-white overflow-hidden flex flex-col relative",children:[A.jsxs("div",{className:"p-2 bg-gray-800 flex justify-between items-center border-b border-gray-700 z-50 relative",children:[A.jsxs("div",{className:"text-sm font-bold text-purple-400",children:["Room: ",C.id]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("button",{onClick:()=>Ve(!0),className:"text-gray-400 hover:text-white",children:A.jsx(f0,{size:18})}),A.jsxs("button",{onClick:()=>R(!0),className:"text-xs text-gray-400 hover:text-white flex items-center gap-1",children:[A.jsx(JI,{size:14})," Leave"]})]})]}),A.jsxs("div",{className:"flex-1 relative p-4 flex flex-col",children:[C.turnState==="IDLE"&&!C.status.includes("finished")&&A.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-0 pointer-events-none",children:A.jsxs("div",{className:"text-2xl font-black text-white/10 uppercase tracking-widest text-center whitespace-nowrap scale-150",children:[at()?.name,"'s Turn"]})}),A.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-4 z-10",children:C.players.map((st,Mt)=>st.id===r.uid?null:A.jsxs("div",{className:`bg-gray-800 p-2 rounded border ${C.turnIndex===Mt?"border-yellow-500":"border-gray-700"} ${st.isEliminated?"opacity-50":""} relative`,children:[st.isEliminated&&A.jsx("div",{className:"absolute inset-x-0 top-8 bg-red-900/80 text-red-500 text-[10px] font-black uppercase tracking-widest text-center py-1 z-20 border-y border-red-700",children:"ELIMINATED"}),A.jsxs("div",{className:"flex justify-between items-start mb-2",children:[A.jsx("span",{className:"font-bold text-xs truncate w-20",children:st.name}),A.jsxs("div",{className:"flex items-center space-x-1 bg-black/30 px-1 rounded",children:[A.jsx(Fc,{size:10,className:"text-yellow-400"}),A.jsx("span",{className:"text-xs",children:st.coins})]})]}),A.jsx("div",{className:"flex justify-center space-x-1",children:st.cards.map((xe,gn)=>A.jsx("div",{className:`w-6 h-8 rounded border ${xe.flipped?"bg-gray-900 border-gray-600":"bg-blue-900 border-blue-500"} flex items-center justify-center`,children:xe.flipped&&A.jsx(d0,{size:10,className:"text-gray-600"})},gn))}),tt&&C.turnState==="IDLE"&&!st.isEliminated&&A.jsxs("div",{className:"mt-2 grid grid-cols-3 gap-1",children:[A.jsx("button",{disabled:st.coins<2,onClick:()=>Ot("STEAL",st.id),className:"disabled:opacity-30 bg-blue-900/50 border border-blue-700 hover:bg-blue-800 py-1 rounded text-[9px] font-bold",children:"Steal"}),A.jsx("button",{disabled:G.coins<3,onClick:()=>Ot("STAB",st.id),className:"disabled:opacity-30 bg-red-900/50 border border-red-700 hover:bg-red-800 py-1 rounded text-[9px] font-bold",children:"Stab(3)"}),A.jsx("button",{disabled:G.coins<7,onClick:()=>Ot("KILL",st.id),className:"disabled:opacity-30 bg-red-950 border border-red-900 hover:bg-red-900 py-1 rounded text-[9px] font-bold text-red-500",children:"Kill(7)"})]}),C.currentAction?.votes.includes(st.id)&&(C.turnState==="ACTION_PENDING"||C.turnState==="BLOCK_PENDING")&&A.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 z-20 text-green-400 bg-black rounded-full p-1 border border-green-500 shadow-lg",children:A.jsx(h0,{size:16,className:"fill-current"})})]},st.id))}),A.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center my-2 space-y-4 z-10",children:[C.status==="finished"&&A.jsxs("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center z-50",children:[A.jsx(lx,{size:64,className:"text-yellow-400 mb-4 animate-bounce"}),A.jsx("div",{className:"text-4xl font-bold text-white mb-2",children:"Game Over"}),A.jsxs("div",{className:"text-2xl text-purple-400 mb-8",children:[re[0]?.name," Wins!"]}),C.hostId===r.uid?A.jsxs("button",{onClick:M,className:"bg-green-600 hover:bg-green-500 px-8 py-4 rounded-xl font-bold text-lg flex items-center gap-2 shadow-lg",children:[A.jsx(ex,{})," Play Again"]}):A.jsx("div",{className:"text-gray-400 animate-pulse",children:"Waiting for host to restart..."})]}),(C.turnState==="ACTION_PENDING"||C.turnState==="LOSE_CARD")&&A.jsxs("div",{className:"w-full max-w-md bg-gray-800 p-4 rounded border border-yellow-500/50 relative shadow-2xl",children:[A.jsx("div",{className:"text-center mb-3",children:C.turnState==="LOSE_CARD"?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"text-sm text-gray-400 mt-1",children:Se}),A.jsx("div",{className:`text-xl font-bold ${C.loseReason==="challenge"?"text-red-500":"text-yellow-400"}`,children:Yt})]}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"text-sm text-gray-400",children:[at().name," attempts"]}),A.jsxs("div",{className:"text-xl font-bold text-yellow-400",children:[it," ",It?` on ${It}`:""]}),A.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Votes: ",Et," / ",ft]}),A.jsx("div",{className:"w-full bg-gray-700 h-1 mt-1 rounded overflow-hidden",children:A.jsx("div",{className:"bg-green-500 h-full transition-all duration-300",style:{width:`${Et/ft*100}%`}})})]})}),C.turnState==="ACTION_PENDING"&&Ae&&!G.isEliminated&&A.jsx("div",{className:"grid grid-cols-2 gap-2",children:vt?A.jsx("div",{className:"col-span-2 bg-gray-700 py-2 text-center text-gray-400 text-sm rounded",children:"Waiting for others..."}):A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:Ue,className:"col-span-2 bg-green-600 hover:bg-green-500 py-3 rounded font-bold",children:"Pass (Accept)"}),nt.type!=="EXPORT"&&A.jsxs("button",{onClick:()=>Zi(r.uid),className:"bg-red-600 hover:bg-red-500 py-2 rounded text-xs font-bold flex items-center justify-center gap-1",children:[A.jsx(BT,{size:14})," Challenge"]}),Te&&nt.type==="EXPORT"&&A.jsx("button",{onClick:()=>Fn(r.uid,"HERO"),className:"bg-purple-600 py-2 rounded text-xs font-bold",children:"Block (Hero)"}),Te&&nt.type==="STEAL"&&A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>Fn(r.uid,"ROBBER"),className:"bg-blue-600 py-2 rounded text-xs font-bold",children:"Block (Robber)"}),A.jsx("button",{onClick:()=>Fn(r.uid,"RIDDLER"),className:"bg-emerald-600 py-2 rounded text-xs font-bold",children:"Block (Riddler)"})]}),Te&&nt.type==="STAB"&&A.jsx("button",{onClick:()=>Fn(r.uid,"GENIE"),className:"bg-pink-600 py-2 rounded text-xs font-bold",children:"Block (Genie)"})]})}),C.turnState==="ACTION_PENDING"&&!Ae&&A.jsx("div",{className:"text-center text-xs text-gray-500 animate-pulse",children:pt&&!de?A.jsxs("span",{children:["Waiting for ",It," to decide..."]}):A.jsx("span",{children:"Waiting for consensus..."})})]}),C.turnState==="BLOCK_PENDING"&&A.jsxs("div",{className:"bg-gray-800 p-4 rounded border border-purple-500 w-full max-w-md text-center shadow-2xl",children:[A.jsxs("div",{className:"mb-2",children:[A.jsx("span",{className:"font-bold",children:C.players.find(st=>st.id===C.currentAction.blockerId).name})," ","blocks with"," ",A.jsx("span",{className:"font-bold text-purple-400",children:C.currentAction.blockClaim})]}),Kn&&A.jsx("div",{className:"grid grid-cols-2 gap-2",children:C.currentAction.votes.includes(r.uid)?A.jsx("div",{className:"col-span-2 text-gray-500 text-xs",children:"You passed. Waiting..."}):A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:Is,className:"bg-gray-600 hover:bg-gray-500 py-2 rounded text-sm",children:"Accept Block"}),A.jsx("button",{onClick:()=>Zi(r.uid),className:"bg-red-600 hover:bg-red-500 py-2 rounded text-sm font-bold",children:"Challenge Block"})]})})]}),C.turnState==="CHALLENGE_RESOLVE"&&A.jsxs("div",{className:"text-center w-full max-w-md",children:[A.jsx("div",{className:"text-red-400 font-bold mb-2 bg-red-900/20 p-2 rounded border border-red-900",children:"CHALLENGE IN PROGRESS"}),C.accusedId===r.uid?A.jsxs("div",{className:"bg-gray-800 p-6 rounded-xl border border-gray-700 shadow-2xl",children:[A.jsxs("div",{className:"text-lg mb-6 font-medium text-gray-300",children:["You are accused of not having: ",A.jsx("br",{}),A.jsx("span",{className:"text-2xl font-black text-yellow-400 uppercase tracking-wider",children:C.challengedCard})]}),A.jsx("div",{className:"flex justify-center gap-3 flex-wrap",children:G.cards.map((st,Mt)=>st.flipped||st.type!==C.challengedCard?null:A.jsxs("button",{onClick:()=>Qn(Mt),className:"bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-lg font-bold shadow-lg border-b-4 border-green-800 active:border-b-0 active:translate-y-1 transition-all flex items-center gap-2",children:[A.jsx(h0,{size:20})," Show ",st.type]},Mt))}),A.jsx("button",{onClick:xs,className:`mt-6 text-sm underline transition-colors ${G.cards.some(st=>!st.flipped&&st.type===C.challengedCard)?"text-gray-500 hover:text-gray-300":"text-red-400 hover:text-red-300 font-bold scale-110"}`,children:"I don't have it (Surrender)"})]}):A.jsxs("div",{className:"text-sm animate-pulse text-gray-400 bg-gray-800/50 p-4 rounded",children:["Waiting for"," ",C.players.find(st=>st.id===C.accusedId)?.name," ","to respond..."]})]}),Ut&&A.jsxs("div",{className:"fixed inset-0 bg-black/95 z-50 flex flex-col items-center justify-center p-4 pb-32",children:[A.jsx("h3",{className:"text-xl font-bold mb-2 text-emerald-400",children:"Riddler Exchange"}),A.jsxs("p",{className:"text-sm text-gray-400 mb-6",children:["Keep exactly ",G.cards.filter(st=>!st.flipped).length," ","cards."]}),A.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6 max-w-md w-full",children:[...G.cards.filter(st=>!st.flipped).map(st=>st.type),...C.tempCards].map((st,Mt)=>A.jsx("div",{onClick:()=>{const xe=[...S];if(xe.includes(Mt)){const gn=xe.indexOf(Mt);xe.splice(gn,1),I(xe)}else xe.length<G.cards.filter(gn=>!gn.flipped).length&&I([...xe,Mt])},className:`p-4 rounded border-2 text-center font-bold cursor-pointer transition-colors ${S.includes(Mt)?"border-emerald-500 bg-emerald-900/50":"border-gray-600 bg-gray-800"}`,children:st},Mt))}),A.jsx("button",{onClick:Ji,className:"bg-emerald-600 px-12 py-3 rounded font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed",disabled:S.length!==G.cards.filter(st=>!st.flipped).length,children:"Confirm"})]})]}),!Ut&&C.status!=="finished"&&A.jsx("div",{className:"w-full max-w-md mx-auto mb-2 flex flex-col items-center space-y-1 pointer-events-none z-20",children:C.logs?.slice(-3).reverse().map((st,Mt)=>A.jsx("div",{className:"text-xs px-3 py-1 rounded-full bg-black/60 backdrop-blur-sm text-white shadow-sm transition-opacity duration-500",style:{opacity:Math.max(.2,.6-Mt*.2)},children:st.text},Mt))}),G.isEliminated?A.jsx("div",{className:"bg-red-900/20 p-4 text-center border-t border-red-900 text-red-500 font-bold",children:"ELIMINATED"}):A.jsxs("div",{className:`mt-auto bg-gray-800 p-3 rounded-t-xl border-t border-gray-700 shadow-2xl ${C.turnState==="LOSE_CARD"&&C.loserId===r.uid?"ring-2 ring-red-500":""}`,children:[A.jsxs("div",{className:"flex justify-between items-center mb-3",children:[A.jsxs("div",{className:"flex items-center space-x-2",children:[A.jsxs("div",{className:"bg-yellow-500 text-black px-2 py-1 rounded font-bold text-sm flex items-center",children:[A.jsx(Fc,{size:14,className:"mr-1"})," ",G.coins]}),A.jsx("span",{className:"text-xs text-gray-400",children:G.name})]}),C.turnState==="LOSE_CARD"&&C.loserId===r.uid&&A.jsx("div",{className:"text-red-400 font-bold text-sm animate-pulse",children:"CLICK A CARD TO LOSE IT!"})]}),A.jsx("div",{className:"flex justify-center space-x-2 mb-4",children:G.cards.map((st,Mt)=>A.jsx(Ir,{type:st.type,flipped:st.flipped,selectable:C.turnState==="LOSE_CARD"&&C.loserId===r.uid&&!st.flipped,onClick:()=>{C.turnState==="LOSE_CARD"&&C.loserId===r.uid&&!st.flipped&&Cr(Mt)}},Mt))}),tt&&C.turnState==="IDLE"&&A.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[A.jsxs("button",{onClick:()=>Ot("EARN"),className:"bg-gray-700 p-2 rounded flex flex-col items-center",children:[A.jsx(Fc,{size:16,className:"text-yellow-200"}),A.jsx("span",{className:"text-[10px]",children:"Earn (1 coin)"})]}),A.jsxs("button",{onClick:()=>Ot("EXPORT"),className:"bg-gray-700 p-2 rounded flex flex-col items-center",children:[A.jsx(KI,{size:16,className:"text-blue-200"}),A.jsx("span",{className:"text-[10px]",children:"Export (2 coins)"})]}),A.jsxs("button",{onClick:()=>Ot("TAX"),className:"bg-purple-900/50 border border-purple-700 p-2 rounded flex flex-col items-center",children:[A.jsx(up,{size:16,className:"text-purple-300"}),A.jsx("span",{className:"text-[10px]",children:"Hero Bonus (3 coins)"})]}),A.jsxs("button",{onClick:()=>Ot("EXCHANGE"),className:"bg-emerald-900/50 border border-emerald-700 p-2 rounded flex flex-col items-center",children:[A.jsx(HT,{size:16,className:"text-emerald-300"}),A.jsx("span",{className:"text-[10px]",children:"Riddler (exchange)"})]})]})]})]}),A.jsx("div",{className:"bg-gray-800 pb-1 pt-1",children:A.jsx(p0,{})}),U&&A.jsx(m0,{onConfirm:gt,onCancel:()=>R(!1)}),ve&&A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-gray-800 rounded-2xl w-full max-w-md h-[80vh] flex flex-col border border-gray-700 shadow-2xl",children:[A.jsxs("div",{className:"p-4 border-b border-gray-700 flex justify-between items-center bg-gray-800 rounded-t-2xl",children:[A.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[A.jsx(f0,{size:18})," Game Logs"]}),A.jsx("button",{onClick:()=>Ve(!1),children:A.jsx(GT,{className:"text-gray-400 hover:text-white"})})]}),A.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[...C.logs||[]].reverse().map((st,Mt)=>A.jsx("div",{className:`text-xs p-2 rounded border-l-2 ${st.type==="danger"?"bg-red-900/20 border-red-500 text-red-200":st.type==="success"?"bg-green-900/20 border-green-500 text-green-200":st.type==="warning"?"bg-yellow-900/20 border-yellow-500 text-yellow-200":"bg-gray-700/50 border-gray-500 text-gray-300"}`,children:st.text},Mt))})]})})]})}return null}O1.createRoot(document.getElementById("root")).render(A.jsx(Ce.StrictMode,{children:A.jsx(hx,{})}));
