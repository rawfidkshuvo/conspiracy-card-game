(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Od={exports:{}},bl={};var V_;function I1(){if(V_)return bl;V_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var y in l)y!=="key"&&(c[y]=l[y])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return bl.Fragment=e,bl.jsx=i,bl.jsxs=i,bl}var k_;function x1(){return k_||(k_=1,Od.exports=I1()),Od.exports}var A=x1(),Md={exports:{}},xe={};var L_;function N1(){if(L_)return xe;L_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var ee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ae=Object.assign,W={};function ve(O,Y,ne){this.props=O,this.context=Y,this.refs=W,this.updater=ne||ee}ve.prototype.isReactComponent={},ve.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},ve.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Ce(){}Ce.prototype=ve.prototype;function Ee(O,Y,ne){this.props=O,this.context=Y,this.refs=W,this.updater=ne||ee}var rt=Ee.prototype=new Ce;rt.constructor=Ee,ae(rt,ve.prototype),rt.isPureReactComponent=!0;var nt=Array.isArray;function Xe(){}var x={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function I(O,Y,ne){var le=ne.ref;return{$$typeof:r,type:O,key:Y,ref:le!==void 0?le:null,props:ne}}function V(O,Y){return I(O.type,Y,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function L(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ne){return Y[ne]})}var R=/\/+/g;function Tt(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):Y.toString(36)}function xt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Xe,Xe):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function q(O,Y,ne,le,Ae){var De=typeof O;(De==="undefined"||De==="boolean")&&(O=null);var qe=!1;if(O===null)qe=!0;else switch(De){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(O.$$typeof){case r:case e:qe=!0;break;case _:return qe=O._init,q(qe(O._payload),Y,ne,le,Ae)}}if(qe)return Ae=Ae(O),qe=le===""?"."+Tt(O,0):le,nt(Ae)?(ne="",qe!=null&&(ne=qe.replace(R,"$&/")+"/"),q(Ae,Y,ne,"",function(Ti){return Ti})):Ae!=null&&(N(Ae)&&(Ae=V(Ae,ne+(Ae.key==null||O&&O.key===Ae.key?"":(""+Ae.key).replace(R,"$&/")+"/")+qe)),Y.push(Ae)),1;qe=0;var Lt=le===""?".":le+":";if(nt(O))for(var bt=0;bt<O.length;bt++)le=O[bt],De=Lt+Tt(le,bt),qe+=q(le,Y,ne,De,Ae);else if(bt=G(O),typeof bt=="function")for(O=bt.call(O),bt=0;!(le=O.next()).done;)le=le.value,De=Lt+Tt(le,bt++),qe+=q(le,Y,ne,De,Ae);else if(De==="object"){if(typeof O.then=="function")return q(xt(O),Y,ne,le,Ae);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return qe}function re(O,Y,ne){if(O==null)return O;var le=[],Ae=0;return q(O,le,"","",function(De){return Y.call(ne,De,Ae++)}),le}function me(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(ne){(O._status===0||O._status===-1)&&(O._status=1,O._result=ne)},function(ne){(O._status===0||O._status===-1)&&(O._status=2,O._result=ne)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Oe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},je={map:re,forEach:function(O,Y,ne){re(O,function(){Y.apply(this,arguments)},ne)},count:function(O){var Y=0;return re(O,function(){Y++}),Y},toArray:function(O){return re(O,function(Y){return Y})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return xe.Activity=w,xe.Children=je,xe.Component=ve,xe.Fragment=i,xe.Profiler=l,xe.PureComponent=Ee,xe.StrictMode=a,xe.Suspense=g,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,xe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return x.H.useMemoCache(O)}},xe.cache=function(O){return function(){return O.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(O,Y,ne){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var le=ae({},O.props),Ae=O.key;if(Y!=null)for(De in Y.key!==void 0&&(Ae=""+Y.key),Y)!S.call(Y,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&Y.ref===void 0||(le[De]=Y[De]);var De=arguments.length-2;if(De===1)le.children=ne;else if(1<De){for(var qe=Array(De),Lt=0;Lt<De;Lt++)qe[Lt]=arguments[Lt+2];le.children=qe}return I(O.type,Ae,le)},xe.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},xe.createElement=function(O,Y,ne){var le,Ae={},De=null;if(Y!=null)for(le in Y.key!==void 0&&(De=""+Y.key),Y)S.call(Y,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(Ae[le]=Y[le]);var qe=arguments.length-2;if(qe===1)Ae.children=ne;else if(1<qe){for(var Lt=Array(qe),bt=0;bt<qe;bt++)Lt[bt]=arguments[bt+2];Ae.children=Lt}if(O&&O.defaultProps)for(le in qe=O.defaultProps,qe)Ae[le]===void 0&&(Ae[le]=qe[le]);return I(O,De,Ae)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(O){return{$$typeof:y,render:O}},xe.isValidElement=N,xe.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:me}},xe.memo=function(O,Y){return{$$typeof:v,type:O,compare:Y===void 0?null:Y}},xe.startTransition=function(O){var Y=x.T,ne={};x.T=ne;try{var le=O(),Ae=x.S;Ae!==null&&Ae(ne,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Xe,Oe)}catch(De){Oe(De)}finally{Y!==null&&ne.types!==null&&(Y.types=ne.types),x.T=Y}},xe.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},xe.use=function(O){return x.H.use(O)},xe.useActionState=function(O,Y,ne){return x.H.useActionState(O,Y,ne)},xe.useCallback=function(O,Y){return x.H.useCallback(O,Y)},xe.useContext=function(O){return x.H.useContext(O)},xe.useDebugValue=function(){},xe.useDeferredValue=function(O,Y){return x.H.useDeferredValue(O,Y)},xe.useEffect=function(O,Y){return x.H.useEffect(O,Y)},xe.useEffectEvent=function(O){return x.H.useEffectEvent(O)},xe.useId=function(){return x.H.useId()},xe.useImperativeHandle=function(O,Y,ne){return x.H.useImperativeHandle(O,Y,ne)},xe.useInsertionEffect=function(O,Y){return x.H.useInsertionEffect(O,Y)},xe.useLayoutEffect=function(O,Y){return x.H.useLayoutEffect(O,Y)},xe.useMemo=function(O,Y){return x.H.useMemo(O,Y)},xe.useOptimistic=function(O,Y){return x.H.useOptimistic(O,Y)},xe.useReducer=function(O,Y,ne){return x.H.useReducer(O,Y,ne)},xe.useRef=function(O){return x.H.useRef(O)},xe.useState=function(O){return x.H.useState(O)},xe.useSyncExternalStore=function(O,Y,ne){return x.H.useSyncExternalStore(O,Y,ne)},xe.useTransition=function(){return x.H.useTransition()},xe.version="19.2.0",xe}var U_;function Rm(){return U_||(U_=1,Md.exports=N1()),Md.exports}var Ht=Rm(),Vd={exports:{}},Al={},kd={exports:{}},Ld={};var P_;function D1(){return P_||(P_=1,(function(r){function e(q,re){var me=q.length;q.push(re);e:for(;0<me;){var Oe=me-1>>>1,je=q[Oe];if(0<l(je,re))q[Oe]=re,q[me]=je,me=Oe;else break e}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var re=q[0],me=q.pop();if(me!==re){q[0]=me;e:for(var Oe=0,je=q.length,O=je>>>1;Oe<O;){var Y=2*(Oe+1)-1,ne=q[Y],le=Y+1,Ae=q[le];if(0>l(ne,me))le<je&&0>l(Ae,ne)?(q[Oe]=Ae,q[le]=me,Oe=le):(q[Oe]=ne,q[Y]=me,Oe=Y);else if(le<je&&0>l(Ae,me))q[Oe]=Ae,q[le]=me,Oe=le;else break e}}return re}function l(q,re){var me=q.sortIndex-re.sortIndex;return me!==0?me:q.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var g=[],v=[],_=1,w=null,M=3,G=!1,ee=!1,ae=!1,W=!1,ve=typeof setTimeout=="function"?setTimeout:null,Ce=typeof clearTimeout=="function"?clearTimeout:null,Ee=typeof setImmediate<"u"?setImmediate:null;function rt(q){for(var re=i(v);re!==null;){if(re.callback===null)a(v);else if(re.startTime<=q)a(v),re.sortIndex=re.expirationTime,e(g,re);else break;re=i(v)}}function nt(q){if(ae=!1,rt(q),!ee)if(i(g)!==null)ee=!0,Xe||(Xe=!0,L());else{var re=i(v);re!==null&&xt(nt,re.startTime-q)}}var Xe=!1,x=-1,S=5,I=-1;function V(){return W?!0:!(r.unstable_now()-I<S)}function N(){if(W=!1,Xe){var q=r.unstable_now();I=q;var re=!0;try{e:{ee=!1,ae&&(ae=!1,Ce(x),x=-1),G=!0;var me=M;try{t:{for(rt(q),w=i(g);w!==null&&!(w.expirationTime>q&&V());){var Oe=w.callback;if(typeof Oe=="function"){w.callback=null,M=w.priorityLevel;var je=Oe(w.expirationTime<=q);if(q=r.unstable_now(),typeof je=="function"){w.callback=je,rt(q),re=!0;break t}w===i(g)&&a(g),rt(q)}else a(g);w=i(g)}if(w!==null)re=!0;else{var O=i(v);O!==null&&xt(nt,O.startTime-q),re=!1}}break e}finally{w=null,M=me,G=!1}re=void 0}}finally{re?L():Xe=!1}}}var L;if(typeof Ee=="function")L=function(){Ee(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Tt=R.port2;R.port1.onmessage=N,L=function(){Tt.postMessage(null)}}else L=function(){ve(N,0)};function xt(q,re){x=ve(function(){q(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(q){switch(M){case 1:case 2:case 3:var re=3;break;default:re=M}var me=M;M=re;try{return q()}finally{M=me}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(q,re){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var me=M;M=q;try{return re()}finally{M=me}},r.unstable_scheduleCallback=function(q,re,me){var Oe=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Oe+me:Oe):me=Oe,q){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=me+je,q={id:_++,callback:re,priorityLevel:q,startTime:me,expirationTime:je,sortIndex:-1},me>Oe?(q.sortIndex=me,e(v,q),i(g)===null&&q===i(v)&&(ae?(Ce(x),x=-1):ae=!0,xt(nt,me-Oe))):(q.sortIndex=je,e(g,q),ee||G||(ee=!0,Xe||(Xe=!0,L()))),q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(q){var re=M;return function(){var me=M;M=re;try{return q.apply(this,arguments)}finally{M=me}}}})(Ld)),Ld}var j_;function O1(){return j_||(j_=1,kd.exports=D1()),kd.exports}var Ud={exports:{}},En={};var z_;function M1(){if(z_)return En;z_=1;var r=Rm();function e(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)v+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,v,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:g,containerInfo:v,implementation:_}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return En.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,En.createPortal=function(g,v){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return c(g,v,null,_)},En.flushSync=function(g){var v=d.T,_=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=v,a.p=_,a.d.f()}},En.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(g,v))},En.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},En.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var _=v.as,w=y(_,v.crossOrigin),M=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;_==="style"?a.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:G}):_==="script"&&a.d.X(g,{crossOrigin:w,integrity:M,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},En.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var _=y(v.as,v.crossOrigin);a.d.M(g,{crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(g)},En.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var _=v.as,w=y(_,v.crossOrigin);a.d.L(g,_,{crossOrigin:w,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},En.preloadModule=function(g,v){if(typeof g=="string")if(v){var _=y(v.as,v.crossOrigin);a.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:_,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(g)},En.requestFormReset=function(g){a.d.r(g)},En.unstable_batchedUpdates=function(g,v){return g(v)},En.useFormState=function(g,v,_){return d.H.useFormState(g,v,_)},En.useFormStatus=function(){return d.H.useHostTransitionStatus()},En.version="19.2.0",En}var B_;function V1(){if(B_)return Ud.exports;B_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ud.exports=M1(),Ud.exports}var H_;function k1(){if(H_)return Al;H_=1;var r=O1(),e=Rm(),i=V1();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return g(h),t;if(f===o)return g(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,T=h.child;T;){if(T===s){p=!0,s=h,o=f;break}if(T===o){p=!0,o=h,s=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===s){p=!0,s=f,o=h;break}if(T===o){p=!0,o=f,s=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),ee=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),ve=Symbol.for("react.profiler"),Ce=Symbol.for("react.consumer"),Ee=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),Xe=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Tt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ae:return"Fragment";case ve:return"Profiler";case W:return"StrictMode";case nt:return"Suspense";case Xe:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ee:return"Portal";case Ee:return t.displayName||"Context";case Ce:return(t._context.displayName||"Context")+".Consumer";case rt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:Tt(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Tt(t(n))}catch{}}return null}var xt=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Oe=[],je=-1;function O(t){return{current:t}}function Y(t){0>je||(t.current=Oe[je],Oe[je]=null,je--)}function ne(t,n){je++,Oe[je]=t.current,t.current=n}var le=O(null),Ae=O(null),De=O(null),qe=O(null);function Lt(t,n){switch(ne(De,n),ne(Ae,t),ne(le,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?i_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=i_(n),t=s_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(le),ne(le,t)}function bt(){Y(le),Y(Ae),Y(De)}function Ti(t){t.memoizedState!==null&&ne(qe,t);var n=le.current,s=s_(n,t.type);n!==s&&(ne(Ae,t),ne(le,s))}function Q(t){Ae.current===t&&(Y(le),Y(Ae)),qe.current===t&&(Y(qe),_l._currentValue=me)}var J,ie;function ge(t){if(J===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);J=n&&n[1]||"",ie=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+J+t+ie}var ce=!1;function _e(t,n){if(!t||ce)return"";ce=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(t,[],X)}else{try{X.call()}catch(H){z=H}t.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var C=p.split(`
`),j=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===j.length)for(o=C.length-1,h=j.length-1;1<=o&&0<=h&&C[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==j[h]){var F=`
`+C[o].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=o&&0<=h);break}}}finally{ce=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?ge(s):""}function se(t,n){switch(t.tag){case 26:case 27:case 5:return ge(t.type);case 16:return ge("Lazy");case 13:return t.child!==n&&n!==null?ge("Suspense Fallback"):ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return _e(t.type,!1);case 11:return _e(t.type.render,!1);case 1:return _e(t.type,!0);case 31:return ge("Activity");default:return""}}function pe(t){try{var n="",s=null;do n+=se(t,s),s=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Re=Object.prototype.hasOwnProperty,Me=r.unstable_scheduleCallback,At=r.unstable_cancelCallback,Kn=r.unstable_shouldYield,at=r.unstable_requestPaint,ze=r.unstable_now,Le=r.unstable_getCurrentPriorityLevel,Pe=r.unstable_ImmediatePriority,Nt=r.unstable_UserBlockingPriority,Ut=r.unstable_NormalPriority,hn=r.unstable_LowPriority,mt=r.unstable_IdlePriority,oe=r.log,$e=r.unstable_setDisableYieldValue,vt=null,Dt=null;function Yn(t){if(typeof oe=="function"&&$e(t),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(vt,t)}catch{}}var Pt=Math.clz32?Math.clz32:ru,su=Math.log,ua=Math.LN2;function ru(t){return t>>>=0,t===0?32:31-(su(t)/ua|0)|0}var bi=256,Rr=262144,Gt=4194304;function Ai(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Si(t,n,s){var o=t.pendingLanes;if(o===0)return 0;var h=0,f=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=Ai(o):(p&=T,p!==0?h=Ai(p):s||(s=T&~t,s!==0&&(h=Ai(s))))):(T=o&~f,T!==0?h=Ai(T):p!==0?h=Ai(p):s||(s=o&~t,s!==0&&(h=Ai(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function ui(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function kh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var t=Gt;return Gt<<=1,(Gt&62914560)===0&&(Gt=4194304),t}function wi(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Cr(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lh(t,n,s,o,h,f){var p=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,C=t.expirationTimes,j=t.hiddenUpdates;for(s=p&~s;0<s;){var F=31-Pt(s),X=1<<F;T[F]=0,C[F]=-1;var z=j[F];if(z!==null)for(j[F]=null,F=0;F<z.length;F++){var H=z[F];H!==null&&(H.lane&=-536870913)}s&=~X}o!==0&&Ir(t,o,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(p&~n))}function Ir(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Pt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|s&261930}function Ao(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var o=31-Pt(s),h=1<<o;h&n|t[o]&n&&(t[o]|=n),s&=~h}}function So(t,n){var s=n&-n;return s=(s&42)!==0?1:xr(s),(s&(t.suspendedLanes|n))!==0?0:s}function xr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function es(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ou(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:C_(t.type))}function ci(t,n){var s=re.p;try{return re.p=t,n()}finally{re.p=s}}var hi=Math.random().toString(36).slice(2),Ft="__reactFiber$"+hi,rn="__reactProps$"+hi,Ri="__reactContainer$"+hi,ca="__reactEvents$"+hi,Uh="__reactListeners$"+hi,lu="__reactHandles$"+hi,uu="__reactResources$"+hi,Ci="__reactMarker$"+hi;function ha(t){delete t[Ft],delete t[rn],delete t[ca],delete t[Uh],delete t[lu]}function Ii(t){var n=t[Ft];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Ri]||s[Ft]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=h_(t);t!==null;){if(s=t[Ft])return s;t=h_(t)}return n}t=s,s=t.parentNode}return null}function Xn(t){if(t=t[Ft]||t[Ri]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Un(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function xi(t){var n=t[uu];return n||(n=t[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Qt(t){t[Ci]=!0}var wo=new Set,Ro={};function Ni(t,n){Di(t,n),Di(t+"Capture",n)}function Di(t,n){for(Ro[t]=n,t=0;t<n.length;t++)wo.add(n[t])}var Co=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},xo={};function cu(t){return Re.call(xo,t)?!0:Re.call(Io,t)?!1:Co.test(t)?xo[t]=!0:(Io[t]=!0,!1)}function fa(t,n,s){if(cu(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Pn(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Kt(t,n,s,o){if(o===null)t.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+o)}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function No(t,n,s){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ht(t){if(!t._valueTracker){var n=xs(t)?"checked":"value";t._valueTracker=No(t,n,""+t[n])}}function Nr(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return t&&(o=xs(t)?t.checked?"true":"false":t.value),t=o,t!==s?(n.setValue(t),!0):!1}function Oi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Dr=/[\n"\\]/g;function In(t){return t.replace(Dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function da(t,n,s,o,h,f,p,T){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+an(n)):t.value!==""+an(n)&&(t.value=""+an(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Do(t,p,an(n)):s!=null?Do(t,p,an(s)):o!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+an(T):t.removeAttribute("name")}function hu(t,n,s,o,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ht(t);return}s=s!=null?""+an(s):"",n=n!=null?""+an(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),ht(t)}function Do(t,n,s){n==="number"&&Oi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ns(t,n,s,o){if(t=t.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=n.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&o&&(t[s].defaultSelected=!0)}else{for(s=""+an(s),n=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function fu(t,n,s){if(n!=null&&(n=""+an(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+an(s):""}function Ds(t,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(xt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=an(n),t.defaultValue=s,o=t.textContent,o===s&&o!==""&&o!==null&&(t.value=o),ht(t)}function xn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var du=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(t,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,s):typeof s!="number"||s===0||du.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Mo(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Oo(t,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Oo(t,f,n[f])}function ma(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(t){return Os.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function fi(){}var Vo=null;function $n(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ms=null,Mi=null;function Or(t){var n=Xn(t);if(n&&(t=n.stateNode)){var s=t[rn]||null;e:switch(t=n.stateNode,n.type){case"input":if(da(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+In(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==t&&o.form===t.form){var h=o[rn]||null;if(!h)throw Error(a(90));da(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===t.form&&Nr(o)}break e;case"textarea":fu(t,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Ns(t,!!s.multiple,n,!1)}}}var ga=!1;function Vs(t,n,s){if(ga)return t(n,s);ga=!0;try{var o=t(n);return o}finally{if(ga=!1,(Ms!==null||Mi!==null)&&(oc(),Ms&&(n=Ms,t=Mi,Mi=Ms=null,Or(n),t)))for(n=0;n<t.length;n++)Or(t[n])}}function di(t,n){var s=t.stateNode;if(s===null)return null;var o=s[rn]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mr=!1;if(Zn)try{var pt={};Object.defineProperty(pt,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",pt,pt),window.removeEventListener("test",pt,pt)}catch{Mr=!1}var Vi=null,ko=null,Vr=null;function Lo(){if(Vr)return Vr;var t,n=ko,s=n.length,o,h="value"in Vi?Vi.value:Vi.textContent,f=h.length;for(t=0;t<s&&n[t]===h[t];t++);var p=s-t;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return Vr=h.slice(t,1<o?1-o:void 0)}function kr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ts(){return!0}function mi(){return!1}function fn(t){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ts:mi,this.isPropagationStopped=mi,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),n}var ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ki=fn(ns),ks=w({},ns,{view:0,detail:0}),Uo=fn(ks),Ls,ya,Li,_a=w({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Li&&(Li&&t.type==="mousemove"?(Ls=t.screenX-Li.screenX,ya=t.screenY-Li.screenY):ya=Ls=0,Li=t),Ls)},movementY:function(t){return"movementY"in t?t.movementY:ya}}),Po=fn(_a),Lr=w({},_a,{dataTransfer:0}),pu=fn(Lr),gu=w({},ks,{relatedTarget:0}),Ur=fn(gu),jo=w({},ns,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=fn(jo),va=w({},ns,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_u=fn(va),vu=w({},ns,{data:0}),Ui=fn(vu),Eu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=bu[t])?!!n[t]:!1}function Us(){return Au}var wn=w({},ks,{key:function(t){if(t.key){var n=Eu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(t){return t.type==="keypress"?kr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Su=fn(wn),wu=w({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),is=fn(wu),u=w({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),m=fn(u),E=w({},ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=fn(E),U=w({},_a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),B=fn(U),te=w({},ns,{newState:0,oldState:0}),Ve=fn(te),jt=[9,13,27,32],ot=Zn&&"CompositionEvent"in window,Ct=null;Zn&&"documentMode"in document&&(Ct=document.documentMode);var Jn=Zn&&"TextEvent"in window&&!Ct,Pi=Zn&&(!ot||Ct&&8<Ct&&11>=Ct),pi=" ",gi=!1;function Pr(t,n){switch(t){case"keyup":return jt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ta=!1;function JT(t,n){switch(t){case"compositionend":return Ea(n);case"keypress":return n.which!==32?null:(gi=!0,pi);case"textInput":return t=n.data,t===pi&&gi?null:t;default:return null}}function WT(t,n){if(Ta)return t==="compositionend"||!ot&&Pr(t,n)?(t=Lo(),Vr=ko=Vi=null,Ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Pi&&n.locale!=="ko"?null:n.data;default:return null}}var eb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!eb[t.type]:n==="textarea"}function pp(t,n,s,o){Ms?Mi?Mi.push(o):Mi=[o]:Ms=o,n=mc(n,"onChange"),0<n.length&&(s=new ki("onChange","change",null,s,o),t.push({event:s,listeners:n}))}var zo=null,Bo=null;function tb(t){Zy(t,0)}function Ru(t){var n=Un(t);if(Nr(n))return t}function gp(t,n){if(t==="change")return n}var yp=!1;if(Zn){var Ph;if(Zn){var jh="oninput"in document;if(!jh){var _p=document.createElement("div");_p.setAttribute("oninput","return;"),jh=typeof _p.oninput=="function"}Ph=jh}else Ph=!1;yp=Ph&&(!document.documentMode||9<document.documentMode)}function vp(){zo&&(zo.detachEvent("onpropertychange",Ep),Bo=zo=null)}function Ep(t){if(t.propertyName==="value"&&Ru(Bo)){var n=[];pp(n,Bo,t,$n(t)),Vs(tb,n)}}function nb(t,n,s){t==="focusin"?(vp(),zo=n,Bo=s,zo.attachEvent("onpropertychange",Ep)):t==="focusout"&&vp()}function ib(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(Bo)}function sb(t,n){if(t==="click")return Ru(n)}function rb(t,n){if(t==="input"||t==="change")return Ru(n)}function ab(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var jn=typeof Object.is=="function"?Object.is:ab;function Ho(t,n){if(jn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Re.call(n,h)||!jn(t[h],n[h]))return!1}return!0}function Tp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bp(t,n){var s=Tp(t);t=0;for(var o;s;){if(s.nodeType===3){if(o=t+s.textContent.length,t<=n&&o>=n)return{node:s,offset:n-t};t=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Tp(s)}}function Ap(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ap(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Sp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Oi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Oi(t.document)}return n}function zh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var ob=Zn&&"documentMode"in document&&11>=document.documentMode,ba=null,Bh=null,qo=null,Hh=!1;function wp(t,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Hh||ba==null||ba!==Oi(o)||(o=ba,"selectionStart"in o&&zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qo&&Ho(qo,o)||(qo=o,o=mc(Bh,"onSelect"),0<o.length&&(n=new ki("onSelect","select",null,n,s),t.push({event:n,listeners:o}),n.target=ba)))}function jr(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Aa={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},qh={},Rp={};Zn&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function zr(t){if(qh[t])return qh[t];if(!Aa[t])return t;var n=Aa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Rp)return qh[t]=n[s];return t}var Cp=zr("animationend"),Ip=zr("animationiteration"),xp=zr("animationstart"),lb=zr("transitionrun"),ub=zr("transitionstart"),cb=zr("transitioncancel"),Np=zr("transitionend"),Dp=new Map,Gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gh.push("scrollEnd");function yi(t,n){Dp.set(t,n),Ni(n,[t])}var Cu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Wn=[],Sa=0,Fh=0;function Iu(){for(var t=Sa,n=Fh=Sa=0;n<t;){var s=Wn[n];Wn[n++]=null;var o=Wn[n];Wn[n++]=null;var h=Wn[n];Wn[n++]=null;var f=Wn[n];if(Wn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Op(s,h,f)}}function xu(t,n,s,o){Wn[Sa++]=t,Wn[Sa++]=n,Wn[Sa++]=s,Wn[Sa++]=o,Fh|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Qh(t,n,s,o){return xu(t,n,s,o),Nu(t)}function Br(t,n){return xu(t,null,null,n),Nu(t)}function Op(t,n,s){t.lanes|=s;var o=t.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=t.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Pt(s),t=f.hiddenUpdates,o=t[h],o===null?t[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Nu(t){if(50<hl)throw hl=0,nd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var wa={};function hb(t,n,s,o){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,n,s,o){return new hb(t,n,s,o)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ss(t,n){var s=t.alternate;return s===null?(s=zn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Mp(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Du(t,n,s,o,h,f){var p=0;if(o=t,typeof t=="function")Kh(t)&&(p=1);else if(typeof t=="string")p=g1(t,s,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=zn(31,s,n,h),t.elementType=I,t.lanes=f,t;case ae:return Hr(s.children,h,f,n);case W:p=8,h|=24;break;case ve:return t=zn(12,s,n,h|2),t.elementType=ve,t.lanes=f,t;case nt:return t=zn(13,s,n,h),t.elementType=nt,t.lanes=f,t;case Xe:return t=zn(19,s,n,h),t.elementType=Xe,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ee:p=10;break e;case Ce:p=9;break e;case rt:p=11;break e;case x:p=14;break e;case S:p=16,o=null;break e}p=29,s=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=zn(p,s,n,h),n.elementType=t,n.type=o,n.lanes=f,n}function Hr(t,n,s,o){return t=zn(7,t,o,n),t.lanes=s,t}function Yh(t,n,s){return t=zn(6,t,null,n),t.lanes=s,t}function Vp(t){var n=zn(18,null,null,0);return n.stateNode=t,n}function Xh(t,n,s){return n=zn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var kp=new WeakMap;function ei(t,n){if(typeof t=="object"&&t!==null){var s=kp.get(t);return s!==void 0?s:(n={value:t,source:n,stack:pe(n)},kp.set(t,n),n)}return{value:t,source:n,stack:pe(n)}}var Ra=[],Ca=0,Ou=null,Go=0,ti=[],ni=0,Ps=null,ji=1,zi="";function rs(t,n){Ra[Ca++]=Go,Ra[Ca++]=Ou,Ou=t,Go=n}function Lp(t,n,s){ti[ni++]=ji,ti[ni++]=zi,ti[ni++]=Ps,Ps=t;var o=ji;t=zi;var h=32-Pt(o)-1;o&=~(1<<h),s+=1;var f=32-Pt(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,ji=1<<32-Pt(n)+h|s<<h|o,zi=f+t}else ji=1<<f|s<<h|o,zi=t}function $h(t){t.return!==null&&(rs(t,1),Lp(t,1,0))}function Zh(t){for(;t===Ou;)Ou=Ra[--Ca],Ra[Ca]=null,Go=Ra[--Ca],Ra[Ca]=null;for(;t===Ps;)Ps=ti[--ni],ti[ni]=null,zi=ti[--ni],ti[ni]=null,ji=ti[--ni],ti[ni]=null}function Up(t,n){ti[ni++]=ji,ti[ni++]=zi,ti[ni++]=Ps,ji=n.id,zi=n.overflow,Ps=t}var dn=null,St=null,Ze=!1,js=null,ii=!1,Jh=Error(a(519));function zs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(ei(n,t)),Jh}function Pp(t){var n=t.stateNode,s=t.type,o=t.memoizedProps;switch(n[Ft]=t,n[rn]=o,s){case"dialog":He("cancel",n),He("close",n);break;case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(s=0;s<dl.length;s++)He(dl[s],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"input":He("invalid",n),hu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":He("invalid",n);break;case"textarea":He("invalid",n),Ds(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||t_(n.textContent,s)?(o.popover!=null&&(He("beforetoggle",n),He("toggle",n)),o.onScroll!=null&&He("scroll",n),o.onScrollEnd!=null&&He("scrollend",n),o.onClick!=null&&(n.onclick=fi),n=!0):n=!1,n||zs(t,!0)}function jp(t){for(dn=t.return;dn;)switch(dn.tag){case 5:case 31:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:dn=dn.return}}function Ia(t){if(t!==dn)return!1;if(!Ze)return jp(t),Ze=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||yd(t.type,t.memoizedProps)),s=!s),s&&St&&zs(t),jp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));St=c_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));St=c_(t)}else n===27?(n=St,er(t.type)?(t=bd,bd=null,St=t):St=n):St=dn?ri(t.stateNode.nextSibling):null;return!0}function qr(){St=dn=null,Ze=!1}function Wh(){var t=js;return t!==null&&(Mn===null?Mn=t:Mn.push.apply(Mn,t),js=null),t}function Fo(t){js===null?js=[t]:js.push(t)}var ef=O(null),Gr=null,as=null;function Bs(t,n,s){ne(ef,n._currentValue),n._currentValue=s}function os(t){t._currentValue=ef.current,Y(ef)}function tf(t,n,s){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===s)break;t=t.return}}function nf(t,n,s,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),tf(f.return,s,t),o||(p=null);break e}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),tf(p,s,t),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function xa(t,n,s,o){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;jn(h.pendingProps.value,p.value)||(t!==null?t.push(T):t=[T])}}else if(h===qe.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(_l):t=[_l])}h=h.return}t!==null&&nf(n,t,s,o),n.flags|=262144}function Mu(t){for(t=t.firstContext;t!==null;){if(!jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fr(t){Gr=t,as=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function mn(t){return zp(Gr,t)}function Vu(t,n){return Gr===null&&Fr(t),zp(t,n)}function zp(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},as===null){if(t===null)throw Error(a(308));as=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else as=as.next=n;return s}var fb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},db=r.unstable_scheduleCallback,mb=r.unstable_NormalPriority,Yt={$$typeof:Ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new fb,data:new Map,refCount:0}}function Qo(t){t.refCount--,t.refCount===0&&db(mb,function(){t.controller.abort()})}var Ko=null,rf=0,Na=0,Da=null;function pb(t,n){if(Ko===null){var s=Ko=[];rf=0,Na=ld(),Da={status:"pending",value:void 0,then:function(o){s.push(o)}}}return rf++,n.then(Bp,Bp),n}function Bp(){if(--rf===0&&Ko!==null){Da!==null&&(Da.status="fulfilled");var t=Ko;Ko=null,Na=0,Da=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function gb(t,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Hp=q.S;q.S=function(t,n){wy=ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&pb(t,n),Hp!==null&&Hp(t,n)};var Qr=O(null);function af(){var t=Qr.current;return t!==null?t:Et.pooledCache}function ku(t,n){n===null?ne(Qr,Qr.current):ne(Qr,n.pool)}function qp(){var t=af();return t===null?null:{parent:Yt._currentValue,pool:t}}var Oa=Error(a(460)),of=Error(a(474)),Lu=Error(a(542)),Uu={then:function(){}};function Gp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fp(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(fi,fi),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Kp(t),t;default:if(typeof n.status=="string")n.then(fi,fi);else{if(t=Et,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Kp(t),t}throw Yr=n,Oa}}function Kr(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Yr=s,Oa):s}}var Yr=null;function Qp(){if(Yr===null)throw Error(a(459));var t=Yr;return Yr=null,t}function Kp(t){if(t===Oa||t===Lu)throw Error(a(483))}var Ma=null,Yo=0;function Pu(t){var n=Yo;return Yo+=1,Ma===null&&(Ma=[]),Fp(Ma,t,n)}function Xo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ju(t,n){throw n.$$typeof===M?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Yp(t){function n(k,D){if(t){var P=k.deletions;P===null?(k.deletions=[D],k.flags|=16):P.push(D)}}function s(k,D){if(!t)return null;for(;D!==null;)n(k,D),D=D.sibling;return null}function o(k){for(var D=new Map;k!==null;)k.key!==null?D.set(k.key,k):D.set(k.index,k),k=k.sibling;return D}function h(k,D){return k=ss(k,D),k.index=0,k.sibling=null,k}function f(k,D,P){return k.index=P,t?(P=k.alternate,P!==null?(P=P.index,P<D?(k.flags|=67108866,D):P):(k.flags|=67108866,D)):(k.flags|=1048576,D)}function p(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function T(k,D,P,K){return D===null||D.tag!==6?(D=Yh(P,k.mode,K),D.return=k,D):(D=h(D,P),D.return=k,D)}function C(k,D,P,K){var ye=P.type;return ye===ae?F(k,D,P.props.children,K,P.key):D!==null&&(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===S&&Kr(ye)===D.type)?(D=h(D,P.props),Xo(D,P),D.return=k,D):(D=Du(P.type,P.key,P.props,null,k.mode,K),Xo(D,P),D.return=k,D)}function j(k,D,P,K){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Xh(P,k.mode,K),D.return=k,D):(D=h(D,P.children||[]),D.return=k,D)}function F(k,D,P,K,ye){return D===null||D.tag!==7?(D=Hr(P,k.mode,K,ye),D.return=k,D):(D=h(D,P),D.return=k,D)}function X(k,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Yh(""+D,k.mode,P),D.return=k,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return P=Du(D.type,D.key,D.props,null,k.mode,P),Xo(P,D),P.return=k,P;case ee:return D=Xh(D,k.mode,P),D.return=k,D;case S:return D=Kr(D),X(k,D,P)}if(xt(D)||L(D))return D=Hr(D,k.mode,P,null),D.return=k,D;if(typeof D.then=="function")return X(k,Pu(D),P);if(D.$$typeof===Ee)return X(k,Vu(k,D),P);ju(k,D)}return null}function z(k,D,P,K){var ye=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ye!==null?null:T(k,D,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ye?C(k,D,P,K):null;case ee:return P.key===ye?j(k,D,P,K):null;case S:return P=Kr(P),z(k,D,P,K)}if(xt(P)||L(P))return ye!==null?null:F(k,D,P,K,null);if(typeof P.then=="function")return z(k,D,Pu(P),K);if(P.$$typeof===Ee)return z(k,D,Vu(k,P),K);ju(k,P)}return null}function H(k,D,P,K,ye){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,T(D,k,""+K,ye);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case G:return k=k.get(K.key===null?P:K.key)||null,C(D,k,K,ye);case ee:return k=k.get(K.key===null?P:K.key)||null,j(D,k,K,ye);case S:return K=Kr(K),H(k,D,P,K,ye)}if(xt(K)||L(K))return k=k.get(P)||null,F(D,k,K,ye,null);if(typeof K.then=="function")return H(k,D,P,Pu(K),ye);if(K.$$typeof===Ee)return H(k,D,P,Vu(D,K),ye);ju(D,K)}return null}function he(k,D,P,K){for(var ye=null,it=null,fe=D,Ue=D=0,Fe=null;fe!==null&&Ue<P.length;Ue++){fe.index>Ue?(Fe=fe,fe=null):Fe=fe.sibling;var st=z(k,fe,P[Ue],K);if(st===null){fe===null&&(fe=Fe);break}t&&fe&&st.alternate===null&&n(k,fe),D=f(st,D,Ue),it===null?ye=st:it.sibling=st,it=st,fe=Fe}if(Ue===P.length)return s(k,fe),Ze&&rs(k,Ue),ye;if(fe===null){for(;Ue<P.length;Ue++)fe=X(k,P[Ue],K),fe!==null&&(D=f(fe,D,Ue),it===null?ye=fe:it.sibling=fe,it=fe);return Ze&&rs(k,Ue),ye}for(fe=o(fe);Ue<P.length;Ue++)Fe=H(fe,k,Ue,P[Ue],K),Fe!==null&&(t&&Fe.alternate!==null&&fe.delete(Fe.key===null?Ue:Fe.key),D=f(Fe,D,Ue),it===null?ye=Fe:it.sibling=Fe,it=Fe);return t&&fe.forEach(function(rr){return n(k,rr)}),Ze&&rs(k,Ue),ye}function be(k,D,P,K){if(P==null)throw Error(a(151));for(var ye=null,it=null,fe=D,Ue=D=0,Fe=null,st=P.next();fe!==null&&!st.done;Ue++,st=P.next()){fe.index>Ue?(Fe=fe,fe=null):Fe=fe.sibling;var rr=z(k,fe,st.value,K);if(rr===null){fe===null&&(fe=Fe);break}t&&fe&&rr.alternate===null&&n(k,fe),D=f(rr,D,Ue),it===null?ye=rr:it.sibling=rr,it=rr,fe=Fe}if(st.done)return s(k,fe),Ze&&rs(k,Ue),ye;if(fe===null){for(;!st.done;Ue++,st=P.next())st=X(k,st.value,K),st!==null&&(D=f(st,D,Ue),it===null?ye=st:it.sibling=st,it=st);return Ze&&rs(k,Ue),ye}for(fe=o(fe);!st.done;Ue++,st=P.next())st=H(fe,k,Ue,st.value,K),st!==null&&(t&&st.alternate!==null&&fe.delete(st.key===null?Ue:st.key),D=f(st,D,Ue),it===null?ye=st:it.sibling=st,it=st);return t&&fe.forEach(function(C1){return n(k,C1)}),Ze&&rs(k,Ue),ye}function _t(k,D,P,K){if(typeof P=="object"&&P!==null&&P.type===ae&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:e:{for(var ye=P.key;D!==null;){if(D.key===ye){if(ye=P.type,ye===ae){if(D.tag===7){s(k,D.sibling),K=h(D,P.props.children),K.return=k,k=K;break e}}else if(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===S&&Kr(ye)===D.type){s(k,D.sibling),K=h(D,P.props),Xo(K,P),K.return=k,k=K;break e}s(k,D);break}else n(k,D);D=D.sibling}P.type===ae?(K=Hr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Du(P.type,P.key,P.props,null,k.mode,K),Xo(K,P),K.return=k,k=K)}return p(k);case ee:e:{for(ye=P.key;D!==null;){if(D.key===ye)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(k,D.sibling),K=h(D,P.children||[]),K.return=k,k=K;break e}else{s(k,D);break}else n(k,D);D=D.sibling}K=Xh(P,k.mode,K),K.return=k,k=K}return p(k);case S:return P=Kr(P),_t(k,D,P,K)}if(xt(P))return he(k,D,P,K);if(L(P)){if(ye=L(P),typeof ye!="function")throw Error(a(150));return P=ye.call(P),be(k,D,P,K)}if(typeof P.then=="function")return _t(k,D,Pu(P),K);if(P.$$typeof===Ee)return _t(k,D,Vu(k,P),K);ju(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(k,D.sibling),K=h(D,P),K.return=k,k=K):(s(k,D),K=Yh(P,k.mode,K),K.return=k,k=K),p(k)):s(k,D)}return function(k,D,P,K){try{Yo=0;var ye=_t(k,D,P,K);return Ma=null,ye}catch(fe){if(fe===Oa||fe===Lu)throw fe;var it=zn(29,fe,null,k.mode);return it.lanes=K,it.return=k,it}finally{}}}var Xr=Yp(!0),Xp=Yp(!1),Hs=!1;function lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(t,n,s){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(lt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Nu(t),Op(t,null,s),n}return xu(t,o,n,s),Nu(t)}function $o(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Ao(t,s)}}function cf(t,n){var s=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var hf=!1;function Zo(){if(hf){var t=Da;if(t!==null)throw t}}function Jo(t,n,s,o){hf=!1;var h=t.updateQueue;Hs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,j=C.next;C.next=null,p===null?f=j:p.next=j,p=C;var F=t.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==p&&(T===null?F.firstBaseUpdate=j:T.next=j,F.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;p=0,F=j=C=null,T=f;do{var z=T.lane&-536870913,H=z!==T.lane;if(H?(Ge&z)===z:(o&z)===z){z!==0&&z===Na&&(hf=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var he=t,be=T;z=n;var _t=s;switch(be.tag){case 1:if(he=be.payload,typeof he=="function"){X=he.call(_t,X,z);break e}X=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=be.payload,z=typeof he=="function"?he.call(_t,X,z):he,z==null)break e;X=w({},X,z);break e;case 2:Hs=!0}}z=T.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(j=F=H,C=X):F=F.next=H,p|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);F===null&&(C=X),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Xs|=p,t.lanes=p,t.memoizedState=X}}function $p(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Zp(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)$p(s[t],n)}var Va=O(null),zu=O(0);function Jp(t,n){t=gs,ne(zu,t),ne(Va,n),gs=t|n.baseLanes}function ff(){ne(zu,gs),ne(Va,Va.current)}function df(){gs=zu.current,Y(Va),Y(zu)}var Bn=O(null),si=null;function Fs(t){var n=t.alternate;ne(zt,zt.current&1),ne(Bn,t),si===null&&(n===null||Va.current!==null||n.memoizedState!==null)&&(si=t)}function mf(t){ne(zt,zt.current),ne(Bn,t),si===null&&(si=t)}function Wp(t){t.tag===22?(ne(zt,zt.current),ne(Bn,t),si===null&&(si=t)):Qs()}function Qs(){ne(zt,zt.current),ne(Bn,Bn.current)}function Hn(t){Y(Bn),si===t&&(si=null),Y(zt)}var zt=O(0);function Bu(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Ed(s)||Td(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ls=0,ke=null,gt=null,Xt=null,Hu=!1,ka=!1,$r=!1,qu=0,Wo=0,La=null,yb=0;function Vt(){throw Error(a(321))}function pf(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!jn(t[s],n[s]))return!1;return!0}function gf(t,n,s,o,h,f){return ls=f,ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Lg:Df,$r=!1,f=s(o,h),$r=!1,ka&&(f=tg(n,s,o,h)),eg(t),f}function eg(t){q.H=nl;var n=gt!==null&&gt.next!==null;if(ls=0,Xt=gt=ke=null,Hu=!1,Wo=0,La=null,n)throw Error(a(300));t===null||$t||(t=t.dependencies,t!==null&&Mu(t)&&($t=!0))}function tg(t,n,s,o){ke=t;var h=0;do{if(ka&&(La=null),Wo=0,ka=!1,25<=h)throw Error(a(301));if(h+=1,Xt=gt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Ug,f=n(s,o)}while(ka);return f}function _b(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?el(n):n,t=t.useState()[0],(gt!==null?gt.memoizedState:null)!==t&&(ke.flags|=1024),n}function yf(){var t=qu!==0;return qu=0,t}function _f(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function vf(t){if(Hu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Hu=!1}ls=0,Xt=gt=ke=null,ka=!1,Wo=qu=0,La=null}function Rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?ke.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function Bt(){if(gt===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var n=Xt===null?ke.memoizedState:Xt.next;if(n!==null)Xt=n,gt=t;else{if(t===null)throw ke.alternate===null?Error(a(467)):Error(a(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Xt===null?ke.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(t){var n=Wo;return Wo+=1,La===null&&(La=[]),t=Fp(La,t,n),n=ke,(Xt===null?n.memoizedState:Xt.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Lg:Df),t}function Fu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return el(t);if(t.$$typeof===Ee)return mn(t)}throw Error(a(438,String(t)))}function Ef(t){var n=null,s=ke.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=ke.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Gu(),ke.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),o=0;o<t;o++)s[o]=V;return n.index++,s}function us(t,n){return typeof n=="function"?n(t):n}function Qu(t){var n=Bt();return Tf(n,gt,t)}function Tf(t,n,s){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=t.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=p=null,C=null,j=n,F=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Ge&X)===X:(ls&X)===X){var z=j.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===Na&&(F=!0);else if((ls&z)===z){j=j.next,z===Na&&(F=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=X,p=f):C=C.next=X,ke.lanes|=z,Xs|=z;X=j.action,$r&&s(f,X),f=j.hasEagerState?j.eagerState:s(f,X)}else z={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(T=C=z,p=f):C=C.next=z,ke.lanes|=X,Xs|=X;j=j.next}while(j!==null&&j!==n);if(C===null?p=f:C.next=T,!jn(f,t.memoizedState)&&($t=!0,F&&(s=Da,s!==null)))throw s;t.memoizedState=f,t.baseState=p,t.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function bf(t){var n=Bt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=t(f,p.action),p=p.next;while(p!==h);jn(f,n.memoizedState)||($t=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function ng(t,n,s){var o=ke,h=Bt(),f=Ze;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!jn((gt||h).memoizedState,s);if(p&&(h.memoizedState=s,$t=!0),h=h.queue,wf(rg.bind(null,o,h,t),[t]),h.getSnapshot!==n||p||Xt!==null&&Xt.memoizedState.tag&1){if(o.flags|=2048,Ua(9,{destroy:void 0},sg.bind(null,o,h,s,n),null),Et===null)throw Error(a(349));f||(ls&127)!==0||ig(o,n,s)}return s}function ig(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=ke.updateQueue,n===null?(n=Gu(),ke.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function sg(t,n,s,o){n.value=s,n.getSnapshot=o,ag(n)&&og(t)}function rg(t,n,s){return s(function(){ag(n)&&og(t)})}function ag(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!jn(t,s)}catch{return!0}}function og(t){var n=Br(t,2);n!==null&&Vn(n,t,2)}function Af(t){var n=Rn();if(typeof t=="function"){var s=t;if(t=s(),$r){Yn(!0);try{s()}finally{Yn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:t},n}function lg(t,n,s,o){return t.baseState=s,Tf(t,gt,typeof o=="function"?o:us)}function vb(t,n,s,o,h){if(Xu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};q.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,ug(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ug(t,n){var s=n.action,o=n.payload,h=t.state;if(n.isTransition){var f=q.T,p={};q.T=p;try{var T=s(h,o),C=q.S;C!==null&&C(p,T),cg(t,n,T)}catch(j){Sf(t,n,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),q.T=f}}else try{f=s(h,o),cg(t,n,f)}catch(j){Sf(t,n,j)}}function cg(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){hg(t,n,o)},function(o){return Sf(t,n,o)}):hg(t,n,s)}function hg(t,n,s){n.status="fulfilled",n.value=s,fg(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,ug(t,s)))}function Sf(t,n,s){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,fg(n),n=n.next;while(n!==o)}t.action=null}function fg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function dg(t,n){return n}function mg(t,n){if(Ze){var s=Et.formState;if(s!==null){e:{var o=ke;if(Ze){if(St){t:{for(var h=St,f=ii;h.nodeType!==8;){if(!f){h=null;break t}if(h=ri(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){St=ri(h.nextSibling),o=h.data==="F!";break e}}zs(o)}o=!1}o&&(n=s[0])}}return s=Rn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dg,lastRenderedState:n},s.queue=o,s=Mg.bind(null,ke,o),o.dispatch=s,o=Af(!1),f=Nf.bind(null,ke,!1,o.queue),o=Rn(),h={state:n,dispatch:null,action:t,pending:null},o.queue=h,s=vb.bind(null,ke,h,f,s),h.dispatch=s,o.memoizedState=t,[n,s,!1]}function pg(t){var n=Bt();return gg(n,gt,t)}function gg(t,n,s){if(n=Tf(t,n,dg)[0],t=Qu(us)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=el(n)}catch(p){throw p===Oa?Lu:p}else o=n;n=Bt();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(ke.flags|=2048,Ua(9,{destroy:void 0},Eb.bind(null,h,s),null)),[o,f,t]}function Eb(t,n){t.action=n}function yg(t){var n=Bt(),s=gt;if(s!==null)return gg(n,s,t);Bt(),n=n.memoizedState,s=Bt();var o=s.queue.dispatch;return s.memoizedState=t,[n,o,!1]}function Ua(t,n,s,o){return t={tag:t,create:s,deps:o,inst:n,next:null},n=ke.updateQueue,n===null&&(n=Gu(),ke.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(o=s.next,s.next=t,t.next=o,n.lastEffect=t),t}function _g(){return Bt().memoizedState}function Ku(t,n,s,o){var h=Rn();ke.flags|=t,h.memoizedState=Ua(1|n,{destroy:void 0},s,o===void 0?null:o)}function Yu(t,n,s,o){var h=Bt();o=o===void 0?null:o;var f=h.memoizedState.inst;gt!==null&&o!==null&&pf(o,gt.memoizedState.deps)?h.memoizedState=Ua(n,f,s,o):(ke.flags|=t,h.memoizedState=Ua(1|n,f,s,o))}function vg(t,n){Ku(8390656,8,t,n)}function wf(t,n){Yu(2048,8,t,n)}function Tb(t){ke.flags|=4;var n=ke.updateQueue;if(n===null)n=Gu(),ke.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function Eg(t){var n=Bt().memoizedState;return Tb({ref:n,nextImpl:t}),function(){if((lt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Tg(t,n){return Yu(4,2,t,n)}function bg(t,n){return Yu(4,4,t,n)}function Ag(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Sg(t,n,s){s=s!=null?s.concat([t]):null,Yu(4,4,Ag.bind(null,n,t),s)}function Rf(){}function wg(t,n){var s=Bt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&pf(n,o[1])?o[0]:(s.memoizedState=[t,n],t)}function Rg(t,n){var s=Bt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&pf(n,o[1]))return o[0];if(o=t(),$r){Yn(!0);try{t()}finally{Yn(!1)}}return s.memoizedState=[o,n],o}function Cf(t,n,s){return s===void 0||(ls&1073741824)!==0&&(Ge&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=Cy(),ke.lanes|=t,Xs|=t,s)}function Cg(t,n,s,o){return jn(s,n)?s:Va.current!==null?(t=Cf(t,s,o),jn(t,n)||($t=!0),t):(ls&42)===0||(ls&1073741824)!==0&&(Ge&261930)===0?($t=!0,t.memoizedState=s):(t=Cy(),ke.lanes|=t,Xs|=t,n)}function Ig(t,n,s,o,h){var f=re.p;re.p=f!==0&&8>f?f:8;var p=q.T,T={};q.T=T,Nf(t,!1,n,s);try{var C=h(),j=q.S;if(j!==null&&j(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=gb(C,o);tl(t,n,F,Fn(t))}else tl(t,n,o,Fn(t))}catch(X){tl(t,n,{then:function(){},status:"rejected",reason:X},Fn())}finally{re.p=f,p!==null&&T.types!==null&&(p.types=T.types),q.T=p}}function bb(){}function If(t,n,s,o){if(t.tag!==5)throw Error(a(476));var h=xg(t).queue;Ig(t,h,n,me,s===null?bb:function(){return Ng(t),s(o)})}function xg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:me},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:us,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ng(t){var n=xg(t);n.next===null&&(n=t.alternate.memoizedState),tl(t,n.next.queue,{},Fn())}function xf(){return mn(_l)}function Dg(){return Bt().memoizedState}function Og(){return Bt().memoizedState}function Ab(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=Fn();t=qs(s);var o=Gs(n,t,s);o!==null&&(Vn(o,n,s),$o(o,n,s)),n={cache:sf()},t.payload=n;return}n=n.return}}function Sb(t,n,s){var o=Fn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Xu(t)?Vg(n,s):(s=Qh(t,n,s,o),s!==null&&(Vn(s,t,o),kg(s,n,o)))}function Mg(t,n,s){var o=Fn();tl(t,n,s,o)}function tl(t,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Xu(t))Vg(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,s);if(h.hasEagerState=!0,h.eagerState=T,jn(T,p))return xu(t,n,h,0),Et===null&&Iu(),!1}catch{}finally{}if(s=Qh(t,n,h,o),s!==null)return Vn(s,t,o),kg(s,n,o),!0}return!1}function Nf(t,n,s,o){if(o={lane:2,revertLane:ld(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Xu(t)){if(n)throw Error(a(479))}else n=Qh(t,s,o,2),n!==null&&Vn(n,t,2)}function Xu(t){var n=t.alternate;return t===ke||n!==null&&n===ke}function Vg(t,n){ka=Hu=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function kg(t,n,s){if((s&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,s|=o,n.lanes=s,Ao(t,s)}}var nl={readContext:mn,use:Fu,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt,useHostTransitionStatus:Vt,useFormState:Vt,useActionState:Vt,useOptimistic:Vt,useMemoCache:Vt,useCacheRefresh:Vt};nl.useEffectEvent=Vt;var Lg={readContext:mn,use:Fu,useCallback:function(t,n){return Rn().memoizedState=[t,n===void 0?null:n],t},useContext:mn,useEffect:vg,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,Ku(4194308,4,Ag.bind(null,n,t),s)},useLayoutEffect:function(t,n){return Ku(4194308,4,t,n)},useInsertionEffect:function(t,n){Ku(4,2,t,n)},useMemo:function(t,n){var s=Rn();n=n===void 0?null:n;var o=t();if($r){Yn(!0);try{t()}finally{Yn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(t,n,s){var o=Rn();if(s!==void 0){var h=s(n);if($r){Yn(!0);try{s(n)}finally{Yn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Sb.bind(null,ke,t),[o.memoizedState,t]},useRef:function(t){var n=Rn();return t={current:t},n.memoizedState=t},useState:function(t){t=Af(t);var n=t.queue,s=Mg.bind(null,ke,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Rf,useDeferredValue:function(t,n){var s=Rn();return Cf(s,t,n)},useTransition:function(){var t=Af(!1);return t=Ig.bind(null,ke,t.queue,!0,!1),Rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var o=ke,h=Rn();if(Ze){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Et===null)throw Error(a(349));(Ge&127)!==0||ig(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,vg(rg.bind(null,o,f,t),[t]),o.flags|=2048,Ua(9,{destroy:void 0},sg.bind(null,o,f,s,n),null),s},useId:function(){var t=Rn(),n=Et.identifierPrefix;if(Ze){var s=zi,o=ji;s=(o&~(1<<32-Pt(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=qu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=yb++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:xf,useFormState:mg,useActionState:mg,useOptimistic:function(t){var n=Rn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Nf.bind(null,ke,!0,s),s.dispatch=n,[t,n]},useMemoCache:Ef,useCacheRefresh:function(){return Rn().memoizedState=Ab.bind(null,ke)},useEffectEvent:function(t){var n=Rn(),s={impl:t};return n.memoizedState=s,function(){if((lt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Df={readContext:mn,use:Fu,useCallback:wg,useContext:mn,useEffect:wf,useImperativeHandle:Sg,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:Qu,useRef:_g,useState:function(){return Qu(us)},useDebugValue:Rf,useDeferredValue:function(t,n){var s=Bt();return Cg(s,gt.memoizedState,t,n)},useTransition:function(){var t=Qu(us)[0],n=Bt().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:ng,useId:Dg,useHostTransitionStatus:xf,useFormState:pg,useActionState:pg,useOptimistic:function(t,n){var s=Bt();return lg(s,gt,t,n)},useMemoCache:Ef,useCacheRefresh:Og};Df.useEffectEvent=Eg;var Ug={readContext:mn,use:Fu,useCallback:wg,useContext:mn,useEffect:wf,useImperativeHandle:Sg,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:bf,useRef:_g,useState:function(){return bf(us)},useDebugValue:Rf,useDeferredValue:function(t,n){var s=Bt();return gt===null?Cf(s,t,n):Cg(s,gt.memoizedState,t,n)},useTransition:function(){var t=bf(us)[0],n=Bt().memoizedState;return[typeof t=="boolean"?t:el(t),n]},useSyncExternalStore:ng,useId:Dg,useHostTransitionStatus:xf,useFormState:yg,useActionState:yg,useOptimistic:function(t,n){var s=Bt();return gt!==null?lg(s,gt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:Og};Ug.useEffectEvent=Eg;function Of(t,n,s,o){n=t.memoizedState,s=s(o,n),s=s==null?n:w({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Mf={enqueueSetState:function(t,n,s){t=t._reactInternals;var o=Fn(),h=qs(o);h.payload=n,s!=null&&(h.callback=s),n=Gs(t,h,o),n!==null&&(Vn(n,t,o),$o(n,t,o))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var o=Fn(),h=qs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Gs(t,h,o),n!==null&&(Vn(n,t,o),$o(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=Fn(),o=qs(s);o.tag=2,n!=null&&(o.callback=n),n=Gs(t,o,s),n!==null&&(Vn(n,t,s),$o(n,t,s))}};function Pg(t,n,s,o,h,f,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Ho(s,o)||!Ho(h,f):!0}function jg(t,n,s,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==t&&Mf.enqueueReplaceState(n,n.state,null)}function Zr(t,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(t=t.defaultProps){s===n&&(s=w({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function zg(t){Cu(t)}function Bg(t){console.error(t)}function Hg(t){Cu(t)}function $u(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function qg(t,n,s){try{var o=t.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vf(t,n,s){return s=qs(s),s.tag=3,s.payload={element:null},s.callback=function(){$u(t,n)},s}function Gg(t){return t=qs(t),t.tag=3,t}function Fg(t,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;t.payload=function(){return h(f)},t.callback=function(){qg(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){qg(n,s,o),typeof h!="function"&&($s===null?$s=new Set([this]):$s.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function wb(t,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&xa(n,s,h,!0),s=Bn.current,s!==null){switch(s.tag){case 31:case 13:return si===null?lc():s.alternate===null&&kt===0&&(kt=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),rd(t,o,h)),!1;case 22:return s.flags|=65536,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),rd(t,o,h)),!1}throw Error(a(435,s.tag))}return rd(t,o,h),lc(),!1}if(Ze)return n=Bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Jh&&(t=Error(a(422),{cause:o}),Fo(ei(t,s)))):(o!==Jh&&(n=Error(a(423),{cause:o}),Fo(ei(n,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=ei(o,s),h=Vf(t.stateNode,o,h),cf(t,h),kt!==4&&(kt=2)),!1;var f=Error(a(520),{cause:o});if(f=ei(f,s),cl===null?cl=[f]:cl.push(f),kt!==4&&(kt=2),n===null)return!0;o=ei(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Vf(s.stateNode,o,t),cf(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($s===null||!$s.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Gg(h),Fg(h,t,s,o),cf(s,h),!1}s=s.return}while(s!==null);return!1}var kf=Error(a(461)),$t=!1;function pn(t,n,s,o){n.child=t===null?Xp(n,null,s,o):Xr(n,t.child,s,o)}function Qg(t,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var T in o)T!=="ref"&&(p[T]=o[T])}else p=o;return Fr(n),o=gf(t,n,s,p,f,h),T=yf(),t!==null&&!$t?(_f(t,n,h),cs(t,n,h)):(Ze&&T&&$h(n),n.flags|=1,pn(t,n,o,h),n.child)}function Kg(t,n,s,o,h){if(t===null){var f=s.type;return typeof f=="function"&&!Kh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Yg(t,n,f,o,h)):(t=Du(s.type,null,o,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!qf(t,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ho,s(p,o)&&t.ref===n.ref)return cs(t,n,h)}return n.flags|=1,t=ss(f,o),t.ref=n.ref,t.return=n,n.child=t}function Yg(t,n,s,o,h){if(t!==null){var f=t.memoizedProps;if(Ho(f,o)&&t.ref===n.ref)if($t=!1,n.pendingProps=o=f,qf(t,h))(t.flags&131072)!==0&&($t=!0);else return n.lanes=t.lanes,cs(t,n,h)}return Lf(t,n,s,o,h)}function Xg(t,n,s,o){var h=o.children,f=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,t!==null){for(o=n.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return $g(t,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ku(n,f!==null?f.cachePool:null),f!==null?Jp(n,f):ff(),Wp(n);else return o=n.lanes=536870912,$g(t,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(ku(n,f.cachePool),Jp(n,f),Qs(),n.memoizedState=null):(t!==null&&ku(n,null),ff(),Qs());return pn(t,n,h,s),n.child}function il(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function $g(t,n,s,o,h){var f=af();return f=f===null?null:{parent:Yt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},t!==null&&ku(n,null),ff(),Wp(n),t!==null&&xa(t,n,o,!0),n.childLanes=h,null}function Zu(t,n){return n=Wu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Zg(t,n,s){return Xr(n,t.child,null,s),t=Zu(n,n.pendingProps),t.flags|=2,Hn(n),n.memoizedState=null,t}function Rb(t,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ze){if(o.mode==="hidden")return t=Zu(n,o),n.lanes=536870912,il(null,t);if(mf(n),(t=St)?(t=u_(t,ii),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ps!==null?{id:ji,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},s=Vp(t),s.return=n,n.child=s,dn=n,St=null)):t=null,t===null)throw zs(n);return n.lanes=536870912,null}return Zu(n,o)}var f=t.memoizedState;if(f!==null){var p=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=Zg(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if($t||xa(t,n,s,!1),h=(s&t.childLanes)!==0,$t||h){if(o=Et,o!==null&&(p=So(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Br(t,p),Vn(o,t,p),kf;lc(),n=Zg(t,n,s)}else t=f.treeContext,St=ri(p.nextSibling),dn=n,Ze=!0,js=null,ii=!1,t!==null&&Up(n,t),n=Zu(n,o),n.flags|=4096;return n}return t=ss(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Ju(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Lf(t,n,s,o,h){return Fr(n),s=gf(t,n,s,o,void 0,h),o=yf(),t!==null&&!$t?(_f(t,n,h),cs(t,n,h)):(Ze&&o&&$h(n),n.flags|=1,pn(t,n,s,h),n.child)}function Jg(t,n,s,o,h,f){return Fr(n),n.updateQueue=null,s=tg(n,o,s,h),eg(t),o=yf(),t!==null&&!$t?(_f(t,n,f),cs(t,n,f)):(Ze&&o&&$h(n),n.flags|=1,pn(t,n,s,f),n.child)}function Wg(t,n,s,o,h){if(Fr(n),n.stateNode===null){var f=wa,p=s.contextType;typeof p=="object"&&p!==null&&(f=mn(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},lf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?mn(p):wa,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Of(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Mf.enqueueReplaceState(f,f.state,null),Jo(n,o,f,h),Zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,C=Zr(s,T);f.props=C;var j=f.context,F=s.contextType;p=wa,typeof F=="object"&&F!==null&&(p=mn(F));var X=s.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||j!==p)&&jg(n,f,o,p),Hs=!1;var z=n.memoizedState;f.state=z,Jo(n,o,f,h),Zo(),j=n.memoizedState,T||z!==j||Hs?(typeof X=="function"&&(Of(n,s,X,o),j=n.memoizedState),(C=Hs||Pg(n,s,C,o,z,j,p))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=p,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,uf(t,n),p=n.memoizedProps,F=Zr(s,p),f.props=F,X=n.pendingProps,z=f.context,j=s.contextType,C=wa,typeof j=="object"&&j!==null&&(C=mn(j)),T=s.getDerivedStateFromProps,(j=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||z!==C)&&jg(n,f,o,C),Hs=!1,z=n.memoizedState,f.state=z,Jo(n,o,f,h),Zo();var H=n.memoizedState;p!==X||z!==H||Hs||t!==null&&t.dependencies!==null&&Mu(t.dependencies)?(typeof T=="function"&&(Of(n,s,T,o),H=n.memoizedState),(F=Hs||Pg(n,s,F,o,z,H,C)||t!==null&&t.dependencies!==null&&Mu(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=F):(typeof f.componentDidUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&z===t.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(t,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&o?(n.child=Xr(n,t.child,null,h),n.child=Xr(n,null,s,h)):pn(t,n,s,h),n.memoizedState=f.state,t=n.child):t=cs(t,n,h),t}function ey(t,n,s,o){return qr(),n.flags|=256,pn(t,n,s,o),n.child}var Uf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(t){return{baseLanes:t,cachePool:qp()}}function jf(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Gn),t}function ty(t,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=t!==null&&t.memoizedState===null?!1:(zt.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ze){if(h?Fs(n):Qs(),(t=St)?(t=u_(t,ii),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ps!==null?{id:ji,overflow:zi}:null,retryLane:536870912,hydrationErrors:null},s=Vp(t),s.return=n,n.child=s,dn=n,St=null)):t=null,t===null)throw zs(n);return Td(t)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Qs(),h=n.mode,T=Wu({mode:"hidden",children:T},h),o=Hr(o,h,s,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=Pf(s),o.childLanes=jf(t,p,s),n.memoizedState=Uf,il(null,o)):(Fs(n),zf(n,T))}var C=t.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Fs(n),n.flags&=-257,n=Bf(t,n,s)):n.memoizedState!==null?(Qs(),n.child=t.child,n.flags|=128,n=null):(Qs(),T=o.fallback,h=n.mode,o=Wu({mode:"visible",children:o.children},h),T=Hr(T,h,s,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Xr(n,t.child,null,s),o=n.child,o.memoizedState=Pf(s),o.childLanes=jf(t,p,s),n.memoizedState=Uf,n=il(null,o));else if(Fs(n),Td(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var j=p.dgst;p=j,o=Error(a(419)),o.stack="",o.digest=p,Fo({value:o,source:null,stack:null}),n=Bf(t,n,s)}else if($t||xa(t,n,s,!1),p=(s&t.childLanes)!==0,$t||p){if(p=Et,p!==null&&(o=So(p,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Br(t,o),Vn(p,t,o),kf;Ed(T)||lc(),n=Bf(t,n,s)}else Ed(T)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,St=ri(T.nextSibling),dn=n,Ze=!0,js=null,ii=!1,t!==null&&Up(n,t),n=zf(n,o.children),n.flags|=4096);return n}return h?(Qs(),T=o.fallback,h=n.mode,C=t.child,j=C.sibling,o=ss(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,j!==null?T=ss(j,T):(T=Hr(T,h,s,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,il(null,o),o=n.child,T=t.child.memoizedState,T===null?T=Pf(s):(h=T.cachePool,h!==null?(C=Yt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=qp(),T={baseLanes:T.baseLanes|s,cachePool:h}),o.memoizedState=T,o.childLanes=jf(t,p,s),n.memoizedState=Uf,il(t.child,o)):(Fs(n),s=t.child,t=s.sibling,s=ss(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=s,n.memoizedState=null,s)}function zf(t,n){return n=Wu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Wu(t,n){return t=zn(22,t,null,n),t.lanes=0,t}function Bf(t,n,s){return Xr(n,t.child,null,s),t=zf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ny(t,n,s){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),tf(t.return,n,s)}function Hf(t,n,s,o,h,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function iy(t,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=zt.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,ne(zt,p),pn(t,n,o,s),o=Ze?Go:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ny(t,s,n);else if(t.tag===19)ny(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)t=s.alternate,t!==null&&Bu(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Hf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&Bu(t)===null){n.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Hf(n,!0,s,null,f,o);break;case"together":Hf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function cs(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Xs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(xa(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=ss(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ss(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function qf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Mu(t)))}function Cb(t,n,s){switch(n.tag){case 3:Lt(n,n.stateNode.containerInfo),Bs(n,Yt,t.memoizedState.cache),qr();break;case 27:case 5:Ti(n);break;case 4:Lt(n,n.stateNode.containerInfo);break;case 10:Bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Fs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ty(t,n,s):(Fs(n),t=cs(t,n,s),t!==null?t.sibling:null);Fs(n);break;case 19:var h=(t.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(xa(t,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return iy(t,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ne(zt,zt.current),o)break;return null;case 22:return n.lanes=0,Xg(t,n,s,n.pendingProps);case 24:Bs(n,Yt,t.memoizedState.cache)}return cs(t,n,s)}function sy(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)$t=!0;else{if(!qf(t,s)&&(n.flags&128)===0)return $t=!1,Cb(t,n,s);$t=(t.flags&131072)!==0}else $t=!1,Ze&&(n.flags&1048576)!==0&&Lp(n,Go,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=Kr(n.elementType),n.type=t,typeof t=="function")Kh(t)?(o=Zr(t,o),n.tag=1,n=Wg(null,n,t,o,s)):(n.tag=0,n=Lf(null,n,t,o,s));else{if(t!=null){var h=t.$$typeof;if(h===rt){n.tag=11,n=Qg(null,n,t,o,s);break e}else if(h===x){n.tag=14,n=Kg(null,n,t,o,s);break e}}throw n=Tt(t)||t,Error(a(306,n,""))}}return n;case 0:return Lf(t,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Zr(o,n.pendingProps),Wg(t,n,o,h,s);case 3:e:{if(Lt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,uf(t,n),Jo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,Bs(n,Yt,o),o!==f.cache&&nf(n,[Yt],s,!0),Zo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ey(t,n,o,s);break e}else if(o!==h){h=ei(Error(a(424)),n),Fo(h),n=ey(t,n,o,s);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(St=ri(t.firstChild),dn=n,Ze=!0,js=null,ii=!0,s=Xp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(qr(),o===h){n=cs(t,n,s);break e}pn(t,n,o,s)}n=n.child}return n;case 26:return Ju(t,n),t===null?(s=p_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ze||(s=n.type,t=n.pendingProps,o=pc(De.current).createElement(s),o[Ft]=n,o[rn]=t,gn(o,s,t),Qt(o),n.stateNode=o):n.memoizedState=p_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ti(n),t===null&&Ze&&(o=n.stateNode=f_(n.type,n.pendingProps,De.current),dn=n,ii=!0,h=St,er(n.type)?(bd=h,St=ri(o.firstChild)):St=h),pn(t,n,n.pendingProps.children,s),Ju(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ze&&((h=o=St)&&(o=i1(o,n.type,n.pendingProps,ii),o!==null?(n.stateNode=o,dn=n,St=ri(o.firstChild),ii=!1,h=!0):h=!1),h||zs(n)),Ti(n),h=n.type,f=n.pendingProps,p=t!==null?t.memoizedProps:null,o=f.children,yd(h,f)?o=null:p!==null&&yd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(t,n,_b,null,null,s),_l._currentValue=h),Ju(t,n),pn(t,n,o,s),n.child;case 6:return t===null&&Ze&&((t=s=St)&&(s=s1(s,n.pendingProps,ii),s!==null?(n.stateNode=s,dn=n,St=null,t=!0):t=!1),t||zs(n)),null;case 13:return ty(t,n,s);case 4:return Lt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=Xr(n,null,o,s):pn(t,n,o,s),n.child;case 11:return Qg(t,n,n.type,n.pendingProps,s);case 7:return pn(t,n,n.pendingProps,s),n.child;case 8:return pn(t,n,n.pendingProps.children,s),n.child;case 12:return pn(t,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Bs(n,n.type,o.value),pn(t,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Fr(n),h=mn(h),o=o(h),n.flags|=1,pn(t,n,o,s),n.child;case 14:return Kg(t,n,n.type,n.pendingProps,s);case 15:return Yg(t,n,n.type,n.pendingProps,s);case 19:return iy(t,n,s);case 31:return Rb(t,n,s);case 22:return Xg(t,n,s,n.pendingProps);case 24:return Fr(n),o=mn(Yt),t===null?(h=af(),h===null&&(h=Et,f=sf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},lf(n),Bs(n,Yt,h)):((t.lanes&s)!==0&&(uf(t,n),Jo(n,null,null,s),Zo()),h=t.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Bs(n,Yt,o)):(o=f.cache,Bs(n,Yt,o),o!==h.cache&&nf(n,[Yt],s,!0))),pn(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function hs(t){t.flags|=4}function Gf(t,n,s,o,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Dy())t.flags|=8192;else throw Yr=Uu,of}else t.flags&=-16777217}function ry(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!E_(n))if(Dy())t.flags|=8192;else throw Yr=Uu,of}function ec(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?au():536870912,t.lanes|=n,Ba|=n)}function sl(t,n){if(!Ze)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function wt(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,o=0;if(n)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=s,n}function Ib(t,n,s){var o=n.pendingProps;switch(Zh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(n),null;case 1:return wt(n),null;case 3:return s=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),os(Yt),bt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ia(n)?hs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),wt(n),null;case 26:var h=n.type,f=n.memoizedState;return t===null?(hs(n),f!==null?(wt(n),ry(n,f)):(wt(n),Gf(n,h,null,o,s))):f?f!==t.memoizedState?(hs(n),wt(n),ry(n,f)):(wt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&hs(n),wt(n),Gf(n,h,t,o,s)),null;case 27:if(Q(n),s=De.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&hs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return wt(n),null}t=le.current,Ia(n)?Pp(n):(t=f_(h,o,s),n.stateNode=t,hs(n))}return wt(n),null;case 5:if(Q(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&hs(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return wt(n),null}if(f=le.current,Ia(n))Pp(n);else{var p=pc(De.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ft]=n,f[rn]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(gn(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&hs(n)}}return wt(n),Gf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&hs(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=De.current,Ia(n)){if(t=n.stateNode,s=n.memoizedProps,o=null,h=dn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Ft]=n,t=!!(t.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||t_(t.nodeValue,s)),t||zs(n,!0)}else t=pc(t).createTextNode(o),t[Ft]=n,n.stateNode=t}return wt(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(o=Ia(n),s!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Ft]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),t=!1}else s=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(Hn(n),n):(Hn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return wt(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ia(n),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ft]=n}else qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),h=!1}else h=Wh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Hn(n),n):(Hn(n),null)}return Hn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,t=t!==null&&t.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),ec(n,n.updateQueue),wt(n),null);case 4:return bt(),t===null&&fd(n.stateNode.containerInfo),wt(n),null;case 10:return os(n.type),wt(n),null;case 19:if(Y(zt),o=n.memoizedState,o===null)return wt(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)sl(o,!1);else{if(kt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Bu(t),f!==null){for(n.flags|=128,sl(o,!1),t=f.updateQueue,n.updateQueue=t,ec(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Mp(s,t),s=s.sibling;return ne(zt,zt.current&1|2),Ze&&rs(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&ze()>rc&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304)}else{if(!h)if(t=Bu(f),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,ec(n,t),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ze)return wt(n),null}else 2*ze()-o.renderingStartTime>rc&&s!==536870912&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(t=o.last,t!==null?t.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ze(),t.sibling=null,s=zt.current,ne(zt,h?s&1|2:s&1),Ze&&rs(n,o.treeForkCount),t):(wt(n),null);case 22:case 23:return Hn(n),df(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(wt(n),n.subtreeFlags&6&&(n.flags|=8192)):wt(n),s=n.updateQueue,s!==null&&ec(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),t!==null&&Y(Qr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),os(Yt),wt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function xb(t,n){switch(Zh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return os(Yt),bt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Q(n),null;case 31:if(n.memoizedState!==null){if(Hn(n),n.alternate===null)throw Error(a(340));qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Hn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));qr()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Y(zt),null;case 4:return bt(),null;case 10:return os(n.type),null;case 22:case 23:return Hn(n),df(),t!==null&&Y(Qr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return os(Yt),null;case 25:return null;default:return null}}function ay(t,n){switch(Zh(n),n.tag){case 3:os(Yt),bt();break;case 26:case 27:case 5:Q(n);break;case 4:bt();break;case 31:n.memoizedState!==null&&Hn(n);break;case 13:Hn(n);break;case 19:Y(zt);break;case 10:os(n.type);break;case 22:case 23:Hn(n),df(),t!==null&&Y(Qr);break;case 24:os(Yt)}}function rl(t,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&t)===t){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(T){dt(n,n.return,T)}}function Ks(t,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&t)===t){var p=o.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var C=s,j=T;try{j()}catch(F){dt(h,C,F)}}}o=o.next}while(o!==f)}}catch(F){dt(n,n.return,F)}}function oy(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Zp(n,s)}catch(o){dt(t,t.return,o)}}}function ly(t,n,s){s.props=Zr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(o){dt(t,n,o)}}function al(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof s=="function"?t.refCleanup=s(o):s.current=o}}catch(h){dt(t,n,h)}}function Bi(t,n){var s=t.ref,o=t.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){dt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){dt(t,n,h)}else s.current=null}function uy(t){var n=t.type,s=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){dt(t,t.return,h)}}function Ff(t,n,s){try{var o=t.stateNode;Zb(o,t.type,s,n),o[rn]=n}catch(h){dt(t,t.return,h)}}function cy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&er(t.type)||t.tag===4}function Qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&er(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=fi));else if(o!==4&&(o===27&&er(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Kf(t,n,s),t=t.sibling;t!==null;)Kf(t,n,s),t=t.sibling}function tc(t,n,s){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(o!==4&&(o===27&&er(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(tc(t,n,s),t=t.sibling;t!==null;)tc(t,n,s),t=t.sibling}function hy(t){var n=t.stateNode,s=t.memoizedProps;try{for(var o=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);gn(n,o,s),n[Ft]=t,n[rn]=s}catch(f){dt(t,t.return,f)}}var fs=!1,Zt=!1,Yf=!1,fy=typeof WeakSet=="function"?WeakSet:Set,on=null;function Nb(t,n){if(t=t.containerInfo,pd=bc,t=Sp(t),zh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var p=0,T=-1,C=-1,j=0,F=0,X=t,z=null;t:for(;;){for(var H;X!==s||h!==0&&X.nodeType!==3||(T=p+h),X!==f||o!==0&&X.nodeType!==3||(C=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===t)break t;if(z===s&&++j===h&&(T=p),z===f&&++F===o&&(C=p),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}s=T===-1||C===-1?null:{start:T,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(gd={focusedElem:t,selectionRange:s},bc=!1,on=n;on!==null;)if(n=on,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,on=t;else for(;on!==null;){switch(n=on,f=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var he=Zr(s.type,h);t=o.getSnapshotBeforeUpdate(he,f),o.__reactInternalSnapshotBeforeUpdate=t}catch(be){dt(s,s.return,be)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)vd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,on=t;break}on=n.return}}function dy(t,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ms(t,s),o&4&&rl(5,s);break;case 1:if(ms(t,s),o&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(p){dt(s,s.return,p)}else{var h=Zr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(p){dt(s,s.return,p)}}o&64&&oy(s),o&512&&al(s,s.return);break;case 3:if(ms(t,s),o&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Zp(t,n)}catch(p){dt(s,s.return,p)}}break;case 27:n===null&&o&4&&hy(s);case 26:case 5:ms(t,s),n===null&&o&4&&uy(s),o&512&&al(s,s.return);break;case 12:ms(t,s);break;case 31:ms(t,s),o&4&&gy(t,s);break;case 13:ms(t,s),o&4&&yy(t,s),o&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=jb.bind(null,s),r1(t,s))));break;case 22:if(o=s.memoizedState!==null||fs,!o){n=n!==null&&n.memoizedState!==null||Zt,h=fs;var f=Zt;fs=o,(Zt=n)&&!f?ps(t,s,(s.subtreeFlags&8772)!==0):ms(t,s),fs=h,Zt=f}break;case 30:break;default:ms(t,s)}}function my(t){var n=t.alternate;n!==null&&(t.alternate=null,my(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ha(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var It=null,Nn=!1;function ds(t,n,s){for(s=s.child;s!==null;)py(t,n,s),s=s.sibling}function py(t,n,s){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(vt,s)}catch{}switch(s.tag){case 26:Zt||Bi(s,n),ds(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Zt||Bi(s,n);var o=It,h=Nn;er(s.type)&&(It=s.stateNode,Nn=!1),ds(t,n,s),pl(s.stateNode),It=o,Nn=h;break;case 5:Zt||Bi(s,n);case 6:if(o=It,h=Nn,It=null,ds(t,n,s),It=o,Nn=h,It!==null)if(Nn)try{(It.nodeType===9?It.body:It.nodeName==="HTML"?It.ownerDocument.body:It).removeChild(s.stateNode)}catch(f){dt(s,n,f)}else try{It.removeChild(s.stateNode)}catch(f){dt(s,n,f)}break;case 18:It!==null&&(Nn?(t=It,o_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Xa(t)):o_(It,s.stateNode));break;case 4:o=It,h=Nn,It=s.stateNode.containerInfo,Nn=!0,ds(t,n,s),It=o,Nn=h;break;case 0:case 11:case 14:case 15:Ks(2,s,n),Zt||Ks(4,s,n),ds(t,n,s);break;case 1:Zt||(Bi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ly(s,n,o)),ds(t,n,s);break;case 21:ds(t,n,s);break;case 22:Zt=(o=Zt)||s.memoizedState!==null,ds(t,n,s),Zt=o;break;default:ds(t,n,s)}}function gy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xa(t)}catch(s){dt(n,n.return,s)}}}function yy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xa(t)}catch(s){dt(n,n.return,s)}}function Db(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new fy),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new fy),n;default:throw Error(a(435,t.tag))}}function nc(t,n){var s=Db(t);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=zb.bind(null,t,o);o.then(h,h)}})}function Dn(t,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=t,p=n,T=p;e:for(;T!==null;){switch(T.tag){case 27:if(er(T.type)){It=T.stateNode,Nn=!1;break e}break;case 5:It=T.stateNode,Nn=!1;break e;case 3:case 4:It=T.stateNode.containerInfo,Nn=!0;break e}T=T.return}if(It===null)throw Error(a(160));py(f,p,h),It=null,Nn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)_y(n,t),n=n.sibling}var _i=null;function _y(t,n){var s=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dn(n,t),On(t),o&4&&(Ks(3,t,t.return),rl(3,t),Ks(5,t,t.return));break;case 1:Dn(n,t),On(t),o&512&&(Zt||s===null||Bi(s,s.return)),o&64&&fs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=_i;if(Dn(n,t),On(t),o&512&&(Zt||s===null||Bi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=t.memoizedState,s===null)if(o===null)if(t.stateNode===null){e:{o=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ci]||f[Ft]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),gn(f,o,s),f[Ft]=t,Qt(f),o=f;break e;case"link":var p=__("link","href",h).get(o+(s.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(T,1);break t}}f=h.createElement(o),gn(f,o,s),h.head.appendChild(f);break;case"meta":if(p=__("meta","content",h).get(o+(s.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(T,1);break t}}f=h.createElement(o),gn(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ft]=t,Qt(f),o=f}t.stateNode=o}else v_(h,t.type,t.stateNode);else t.stateNode=y_(h,o,t.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?v_(h,t.type,t.stateNode):y_(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Ff(t,t.memoizedProps,s.memoizedProps)}break;case 27:Dn(n,t),On(t),o&512&&(Zt||s===null||Bi(s,s.return)),s!==null&&o&4&&Ff(t,t.memoizedProps,s.memoizedProps);break;case 5:if(Dn(n,t),On(t),o&512&&(Zt||s===null||Bi(s,s.return)),t.flags&32){h=t.stateNode;try{xn(h,"")}catch(he){dt(t,t.return,he)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,Ff(t,h,s!==null?s.memoizedProps:h)),o&1024&&(Yf=!0);break;case 6:if(Dn(n,t),On(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,s=t.stateNode;try{s.nodeValue=o}catch(he){dt(t,t.return,he)}}break;case 3:if(_c=null,h=_i,_i=gc(n.containerInfo),Dn(n,t),_i=h,On(t),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Xa(n.containerInfo)}catch(he){dt(t,t.return,he)}Yf&&(Yf=!1,vy(t));break;case 4:o=_i,_i=gc(t.stateNode.containerInfo),Dn(n,t),On(t),_i=o;break;case 12:Dn(n,t),On(t);break;case 31:Dn(n,t),On(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,nc(t,o)));break;case 13:Dn(n,t),On(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(sc=ze()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,nc(t,o)));break;case 22:h=t.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,j=fs,F=Zt;if(fs=j||h,Zt=F||C,Dn(n,t),Zt=F,fs=j,On(t),o&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||fs||Zt||Jr(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=C.stateNode;var X=C.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(he){dt(C,C.return,he)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(he){dt(C,C.return,he)}}}else if(n.tag===18){if(s===null){C=n;try{var H=C.stateNode;h?l_(H,!0):l_(C.stateNode,!1)}catch(he){dt(C,C.return,he)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,nc(t,s))));break;case 19:Dn(n,t),On(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,nc(t,o)));break;case 30:break;case 21:break;default:Dn(n,t),On(t)}}function On(t){var n=t.flags;if(n&2){try{for(var s,o=t.return;o!==null;){if(cy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Qf(t);tc(t,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(xn(p,""),s.flags&=-33);var T=Qf(t);tc(t,T,p);break;case 3:case 4:var C=s.stateNode.containerInfo,j=Qf(t);Kf(t,j,C);break;default:throw Error(a(161))}}catch(F){dt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function vy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;vy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ms(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)dy(t,n.alternate,n),n=n.sibling}function Jr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ks(4,n,n.return),Jr(n);break;case 1:Bi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ly(n,n.return,s),Jr(n);break;case 27:pl(n.stateNode);case 26:case 5:Bi(n,n.return),Jr(n);break;case 22:n.memoizedState===null&&Jr(n);break;case 30:Jr(n);break;default:Jr(n)}t=t.sibling}}function ps(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=t,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ps(h,f,s),rl(4,f);break;case 1:if(ps(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){dt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)$p(C[h],T)}catch(j){dt(o,o.return,j)}}s&&p&64&&oy(f),al(f,f.return);break;case 27:hy(f);case 26:case 5:ps(h,f,s),s&&o===null&&p&4&&uy(f),al(f,f.return);break;case 12:ps(h,f,s);break;case 31:ps(h,f,s),s&&p&4&&gy(h,f);break;case 13:ps(h,f,s),s&&p&4&&yy(h,f);break;case 22:f.memoizedState===null&&ps(h,f,s),al(f,f.return);break;case 30:break;default:ps(h,f,s)}n=n.sibling}}function Xf(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Qo(s))}function $f(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Qo(t))}function vi(t,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ey(t,n,s,o),n=n.sibling}function Ey(t,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:vi(t,n,s,o),h&2048&&rl(9,n);break;case 1:vi(t,n,s,o);break;case 3:vi(t,n,s,o),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Qo(t)));break;case 12:if(h&2048){vi(t,n,s,o),t=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){dt(n,n.return,C)}}else vi(t,n,s,o);break;case 31:vi(t,n,s,o);break;case 13:vi(t,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?vi(t,n,s,o):ol(t,n):f._visibility&2?vi(t,n,s,o):(f._visibility|=2,Pa(t,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(p,n);break;case 24:vi(t,n,s,o),h&2048&&$f(n.alternate,n);break;default:vi(t,n,s,o)}}function Pa(t,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=t,p=n,T=s,C=o,j=p.flags;switch(p.tag){case 0:case 11:case 15:Pa(f,p,T,C,h),rl(8,p);break;case 23:break;case 22:var F=p.stateNode;p.memoizedState!==null?F._visibility&2?Pa(f,p,T,C,h):ol(f,p):(F._visibility|=2,Pa(f,p,T,C,h)),h&&j&2048&&Xf(p.alternate,p);break;case 24:Pa(f,p,T,C,h),h&&j&2048&&$f(p.alternate,p);break;default:Pa(f,p,T,C,h)}n=n.sibling}}function ol(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,o=n,h=o.flags;switch(o.tag){case 22:ol(s,o),h&2048&&Xf(o.alternate,o);break;case 24:ol(s,o),h&2048&&$f(o.alternate,o);break;default:ol(s,o)}n=n.sibling}}var ll=8192;function ja(t,n,s){if(t.subtreeFlags&ll)for(t=t.child;t!==null;)Ty(t,n,s),t=t.sibling}function Ty(t,n,s){switch(t.tag){case 26:ja(t,n,s),t.flags&ll&&t.memoizedState!==null&&y1(s,_i,t.memoizedState,t.memoizedProps);break;case 5:ja(t,n,s);break;case 3:case 4:var o=_i;_i=gc(t.stateNode.containerInfo),ja(t,n,s),_i=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=ll,ll=16777216,ja(t,n,s),ll=o):ja(t,n,s));break;default:ja(t,n,s)}}function by(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ul(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];on=o,Sy(o,t)}by(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ay(t),t=t.sibling}function Ay(t){switch(t.tag){case 0:case 11:case 15:ul(t),t.flags&2048&&Ks(9,t,t.return);break;case 3:ul(t);break;case 12:ul(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,ic(t)):ul(t);break;default:ul(t)}}function ic(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];on=o,Sy(o,t)}by(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ks(8,n,n.return),ic(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ic(n));break;default:ic(n)}t=t.sibling}}function Sy(t,n){for(;on!==null;){var s=on;switch(s.tag){case 0:case 11:case 15:Ks(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Qo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,on=o;else e:for(s=t;on!==null;){o=on;var h=o.sibling,f=o.return;if(my(o),o===s){on=null;break e}if(h!==null){h.return=f,on=h;break e}on=f}}}var Ob={getCacheForType:function(t){var n=mn(Yt),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return mn(Yt).controller.signal}},Mb=typeof WeakMap=="function"?WeakMap:Map,lt=0,Et=null,Be=null,Ge=0,ft=0,qn=null,Ys=!1,za=!1,Zf=!1,gs=0,kt=0,Xs=0,Wr=0,Jf=0,Gn=0,Ba=0,cl=null,Mn=null,Wf=!1,sc=0,wy=0,rc=1/0,ac=null,$s=null,tn=0,Zs=null,Ha=null,ys=0,ed=0,td=null,Ry=null,hl=0,nd=null;function Fn(){return(lt&2)!==0&&Ge!==0?Ge&-Ge:q.T!==null?ld():ou()}function Cy(){if(Gn===0)if((Ge&536870912)===0||Ze){var t=Rr;Rr<<=1,(Rr&3932160)===0&&(Rr=262144),Gn=t}else Gn=536870912;return t=Bn.current,t!==null&&(t.flags|=32),Gn}function Vn(t,n,s){(t===Et&&(ft===2||ft===9)||t.cancelPendingCommit!==null)&&(qa(t,0),Js(t,Ge,Gn,!1)),Cr(t,s),((lt&2)===0||t!==Et)&&(t===Et&&((lt&2)===0&&(Wr|=s),kt===4&&Js(t,Ge,Gn,!1)),Hi(t))}function Iy(t,n,s){if((lt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&t.expiredLanes)===0||ui(t,n),h=o?Lb(t,n):sd(t,n,!0),f=o;do{if(h===0){za&&!o&&Js(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!Vb(s)){h=sd(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var T=t;h=cl;var C=T.current.memoizedState.isDehydrated;if(C&&(qa(T,p).flags|=256),p=sd(T,p,!1),p!==2){if(Zf&&!C){T.errorRecoveryDisabledLanes|=f,Wr|=f,h=4;break e}f=Mn,Mn=h,f!==null&&(Mn===null?Mn=f:Mn.push.apply(Mn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){qa(t,0),Js(t,n,0,!0);break}e:{switch(o=t,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Js(o,n,Gn,!Ys);break e;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=sc+300-ze(),10<h)){if(Js(o,n,Gn,!Ys),Si(o,0,!0)!==0)break e;ys=n,o.timeoutHandle=r_(xy.bind(null,o,s,Mn,ac,Wf,n,Gn,Wr,Ba,Ys,f,"Throttled",-0,0),h);break e}xy(o,s,Mn,ac,Wf,n,Gn,Wr,Ba,Ys,f,null,-0,0)}}break}while(!0);Hi(t)}function xy(t,n,s,o,h,f,p,T,C,j,F,X,z,H){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},Ty(n,f,X);var he=(f&62914560)===f?sc-ze():(f&4194048)===f?wy-ze():0;if(he=_1(X,he),he!==null){ys=f,t.cancelPendingCommit=he(Uy.bind(null,t,n,f,s,o,h,p,T,C,F,X,null,z,H)),Js(t,f,p,!j);return}}Uy(t,n,f,s,o,h,p,T,C)}function Vb(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!jn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Js(t,n,s,o){n&=~Jf,n&=~Wr,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var h=n;0<h;){var f=31-Pt(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&Ir(t,s,n)}function oc(){return(lt&6)===0?(fl(0),!1):!0}function id(){if(Be!==null){if(ft===0)var t=Be.return;else t=Be,as=Gr=null,vf(t),Ma=null,Yo=0,t=Be;for(;t!==null;)ay(t.alternate,t),t=t.return;Be=null}}function qa(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,e1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ys=0,id(),Et=t,Be=s=ss(t.current,null),Ge=n,ft=0,qn=null,Ys=!1,za=ui(t,n),Zf=!1,Ba=Gn=Jf=Wr=Xs=kt=0,Mn=cl=null,Wf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var h=31-Pt(o),f=1<<h;n|=t[h],o&=~f}return gs=n,Iu(),s}function Ny(t,n){ke=null,q.H=nl,n===Oa||n===Lu?(n=Qp(),ft=3):n===of?(n=Qp(),ft=4):ft=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,qn=n,Be===null&&(kt=1,$u(t,ei(n,t.current)))}function Dy(){var t=Bn.current;return t===null?!0:(Ge&4194048)===Ge?si===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?t===si:!1}function Oy(){var t=q.H;return q.H=nl,t===null?nl:t}function My(){var t=q.A;return q.A=Ob,t}function lc(){kt=4,Ys||(Ge&4194048)!==Ge&&Bn.current!==null||(za=!0),(Xs&134217727)===0&&(Wr&134217727)===0||Et===null||Js(Et,Ge,Gn,!1)}function sd(t,n,s){var o=lt;lt|=2;var h=Oy(),f=My();(Et!==t||Ge!==n)&&(ac=null,qa(t,n)),n=!1;var p=kt;e:do try{if(ft!==0&&Be!==null){var T=Be,C=qn;switch(ft){case 8:id(),p=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(n=!0);var j=ft;if(ft=0,qn=null,Ga(t,T,C,j),s&&za){p=0;break e}break;default:j=ft,ft=0,qn=null,Ga(t,T,C,j)}}kb(),p=kt;break}catch(F){Ny(t,F)}while(!0);return n&&t.shellSuspendCounter++,as=Gr=null,lt=o,q.H=h,q.A=f,Be===null&&(Et=null,Ge=0,Iu()),p}function kb(){for(;Be!==null;)Vy(Be)}function Lb(t,n){var s=lt;lt|=2;var o=Oy(),h=My();Et!==t||Ge!==n?(ac=null,rc=ze()+500,qa(t,n)):za=ui(t,n);e:do try{if(ft!==0&&Be!==null){n=Be;var f=qn;t:switch(ft){case 1:ft=0,qn=null,Ga(t,n,f,1);break;case 2:case 9:if(Gp(f)){ft=0,qn=null,ky(n);break}n=function(){ft!==2&&ft!==9||Et!==t||(ft=7),Hi(t)},f.then(n,n);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:Gp(f)?(ft=0,qn=null,ky(n)):(ft=0,qn=null,Ga(t,n,f,7));break;case 5:var p=null;switch(Be.tag){case 26:p=Be.memoizedState;case 5:case 27:var T=Be;if(p?E_(p):T.stateNode.complete){ft=0,qn=null;var C=T.sibling;if(C!==null)Be=C;else{var j=T.return;j!==null?(Be=j,uc(j)):Be=null}break t}}ft=0,qn=null,Ga(t,n,f,5);break;case 6:ft=0,qn=null,Ga(t,n,f,6);break;case 8:id(),kt=6;break e;default:throw Error(a(462))}}Ub();break}catch(F){Ny(t,F)}while(!0);return as=Gr=null,q.H=o,q.A=h,lt=s,Be!==null?0:(Et=null,Ge=0,Iu(),kt)}function Ub(){for(;Be!==null&&!Kn();)Vy(Be)}function Vy(t){var n=sy(t.alternate,t,gs);t.memoizedProps=t.pendingProps,n===null?uc(t):Be=n}function ky(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Jg(s,n,n.pendingProps,n.type,void 0,Ge);break;case 11:n=Jg(s,n,n.pendingProps,n.type.render,n.ref,Ge);break;case 5:vf(n);default:ay(s,n),n=Be=Mp(n,gs),n=sy(s,n,gs)}t.memoizedProps=t.pendingProps,n===null?uc(t):Be=n}function Ga(t,n,s,o){as=Gr=null,vf(n),Ma=null,Yo=0;var h=n.return;try{if(wb(t,h,n,s,Ge)){kt=1,$u(t,ei(s,t.current)),Be=null;return}}catch(f){if(h!==null)throw Be=h,f;kt=1,$u(t,ei(s,t.current)),Be=null;return}n.flags&32768?(Ze||o===1?t=!0:za||(Ge&536870912)!==0?t=!1:(Ys=t=!0,(o===2||o===9||o===3||o===6)&&(o=Bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ly(n,t)):uc(n)}function uc(t){var n=t;do{if((n.flags&32768)!==0){Ly(n,Ys);return}t=n.return;var s=Ib(n.alternate,n,gs);if(s!==null){Be=s;return}if(n=n.sibling,n!==null){Be=n;return}Be=n=t}while(n!==null);kt===0&&(kt=5)}function Ly(t,n){do{var s=xb(t.alternate,t);if(s!==null){s.flags&=32767,Be=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Be=t;return}Be=t=s}while(t!==null);kt=6,Be=null}function Uy(t,n,s,o,h,f,p,T,C){t.cancelPendingCommit=null;do cc();while(tn!==0);if((lt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Fh,Lh(t,s,f,p,T,C),t===Et&&(Be=Et=null,Ge=0),Ha=n,Zs=t,ys=s,ed=f,td=h,Ry=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Bb(Ut,function(){return Hy(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=re.p,re.p=2,p=lt,lt|=4;try{Nb(t,n,s)}finally{lt=p,re.p=h,q.T=o}}tn=1,Py(),jy(),zy()}}function Py(){if(tn===1){tn=0;var t=Zs,n=Ha,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var o=re.p;re.p=2;var h=lt;lt|=4;try{_y(n,t);var f=gd,p=Sp(t.containerInfo),T=f.focusedElem,C=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&Ap(T.ownerDocument.documentElement,T)){if(C!==null&&zh(T)){var j=C.start,F=C.end;if(F===void 0&&(F=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(F,T.value.length);else{var X=T.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),he=T.textContent.length,be=Math.min(C.start,he),_t=C.end===void 0?be:Math.min(C.end,he);!H.extend&&be>_t&&(p=_t,_t=be,be=p);var k=bp(T,be),D=bp(T,_t);if(k&&D&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var P=X.createRange();P.setStart(k.node,k.offset),H.removeAllRanges(),be>_t?(H.addRange(P),H.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),H.addRange(P))}}}}for(X=[],H=T;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}bc=!!pd,gd=pd=null}finally{lt=h,re.p=o,q.T=s}}t.current=n,tn=2}}function jy(){if(tn===2){tn=0;var t=Zs,n=Ha,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var o=re.p;re.p=2;var h=lt;lt|=4;try{dy(t,n.alternate,n)}finally{lt=h,re.p=o,q.T=s}}tn=3}}function zy(){if(tn===4||tn===3){tn=0,at();var t=Zs,n=Ha,s=ys,o=Ry;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?tn=5:(tn=0,Ha=Zs=null,By(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&($s=null),es(s),n=n.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(vt,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,h=re.p,re.p=2,q.T=null;try{for(var f=t.onRecoverableError,p=0;p<o.length;p++){var T=o[p];f(T.value,{componentStack:T.stack})}}finally{q.T=n,re.p=h}}(ys&3)!==0&&cc(),Hi(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===nd?hl++:(hl=0,nd=t):hl=0,fl(0)}}function By(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Qo(n)))}function cc(){return Py(),jy(),zy(),Hy()}function Hy(){if(tn!==5)return!1;var t=Zs,n=ed;ed=0;var s=es(ys),o=q.T,h=re.p;try{re.p=32>s?32:s,q.T=null,s=td,td=null;var f=Zs,p=ys;if(tn=0,Ha=Zs=null,ys=0,(lt&6)!==0)throw Error(a(331));var T=lt;if(lt|=4,Ay(f.current),Ey(f,f.current,p,s),lt=T,fl(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(vt,f)}catch{}return!0}finally{re.p=h,q.T=o,By(t,n)}}function qy(t,n,s){n=ei(s,n),n=Vf(t.stateNode,n,2),t=Gs(t,n,2),t!==null&&(Cr(t,2),Hi(t))}function dt(t,n,s){if(t.tag===3)qy(t,t,s);else for(;n!==null;){if(n.tag===3){qy(n,t,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&($s===null||!$s.has(o))){t=ei(s,t),s=Gg(2),o=Gs(n,s,2),o!==null&&(Fg(s,o,n,t),Cr(o,2),Hi(o));break}}n=n.return}}function rd(t,n,s){var o=t.pingCache;if(o===null){o=t.pingCache=new Mb;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Zf=!0,h.add(s),t=Pb.bind(null,t,n,s),n.then(t,t))}function Pb(t,n,s){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Et===t&&(Ge&s)===s&&(kt===4||kt===3&&(Ge&62914560)===Ge&&300>ze()-sc?(lt&2)===0&&qa(t,0):Jf|=s,Ba===Ge&&(Ba=0)),Hi(t)}function Gy(t,n){n===0&&(n=au()),t=Br(t,n),t!==null&&(Cr(t,n),Hi(t))}function jb(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Gy(t,s)}function zb(t,n){var s=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Gy(t,s)}function Bb(t,n){return Me(t,n)}var hc=null,Fa=null,ad=!1,fc=!1,od=!1,Ws=0;function Hi(t){t!==Fa&&t.next===null&&(Fa===null?hc=Fa=t:Fa=Fa.next=t),fc=!0,ad||(ad=!0,qb())}function fl(t,n){if(!od&&fc){od=!0;do for(var s=!1,o=hc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-Pt(42|t)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Yy(o,f))}else f=Ge,f=Si(o,o===Et?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||ui(o,f)||(s=!0,Yy(o,f));o=o.next}while(s);od=!1}}function Hb(){Fy()}function Fy(){fc=ad=!1;var t=0;Ws!==0&&Wb()&&(t=Ws);for(var n=ze(),s=null,o=hc;o!==null;){var h=o.next,f=Qy(o,n);f===0?(o.next=null,s===null?hc=h:s.next=h,h===null&&(Fa=s)):(s=o,(t!==0||(f&3)!==0)&&(fc=!0)),o=h}tn!==0&&tn!==5||fl(t),Ws!==0&&(Ws=0)}function Qy(t,n){for(var s=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var p=31-Pt(f),T=1<<p,C=h[p];C===-1?((T&s)===0||(T&o)!==0)&&(h[p]=kh(T,n)):C<=n&&(t.expiredLanes|=T),f&=~T}if(n=Et,s=Ge,s=Si(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,s===0||t===n&&(ft===2||ft===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&At(o),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||ui(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(o!==null&&At(o),es(s)){case 2:case 8:s=Nt;break;case 32:s=Ut;break;case 268435456:s=mt;break;default:s=Ut}return o=Ky.bind(null,t),s=Me(s,o),t.callbackPriority=n,t.callbackNode=s,n}return o!==null&&o!==null&&At(o),t.callbackPriority=2,t.callbackNode=null,2}function Ky(t,n){if(tn!==0&&tn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(cc()&&t.callbackNode!==s)return null;var o=Ge;return o=Si(t,t===Et?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Iy(t,o,n),Qy(t,ze()),t.callbackNode!=null&&t.callbackNode===s?Ky.bind(null,t):null)}function Yy(t,n){if(cc())return null;Iy(t,n,!0)}function qb(){t1(function(){(lt&6)!==0?Me(Pe,Hb):Fy()})}function ld(){if(Ws===0){var t=Na;t===0&&(t=bi,bi<<=1,(bi&261888)===0&&(bi=256)),Ws=t}return Ws}function Xy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pa(""+t)}function $y(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function Gb(t,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Xy((h[rn]||null).action),p=o.submitter;p&&(n=(n=p[rn]||null)?Xy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new ki("action","action",null,o,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ws!==0){var C=p?$y(h,p):new FormData(h);If(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=p?$y(h,p):new FormData(h),If(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var ud=0;ud<Gh.length;ud++){var cd=Gh[ud],Fb=cd.toLowerCase(),Qb=cd[0].toUpperCase()+cd.slice(1);yi(Fb,"on"+Qb)}yi(Cp,"onAnimationEnd"),yi(Ip,"onAnimationIteration"),yi(xp,"onAnimationStart"),yi("dblclick","onDoubleClick"),yi("focusin","onFocus"),yi("focusout","onBlur"),yi(lb,"onTransitionRun"),yi(ub,"onTransitionStart"),yi(cb,"onTransitionCancel"),yi(Np,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function Zy(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var o=t[s],h=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var T=o[p],C=T.instance,j=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=j;try{f(h)}catch(F){Cu(F)}h.currentTarget=null,f=C}else for(p=0;p<o.length;p++){if(T=o[p],C=T.instance,j=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=j;try{f(h)}catch(F){Cu(F)}h.currentTarget=null,f=C}}}}function He(t,n){var s=n[ca];s===void 0&&(s=n[ca]=new Set);var o=t+"__bubble";s.has(o)||(Jy(n,t,2,!1),s.add(o))}function hd(t,n,s){var o=0;n&&(o|=4),Jy(s,t,o,n)}var dc="_reactListening"+Math.random().toString(36).slice(2);function fd(t){if(!t[dc]){t[dc]=!0,wo.forEach(function(s){s!=="selectionchange"&&(Kb.has(s)||hd(s,!1,t),hd(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[dc]||(n[dc]=!0,hd("selectionchange",!1,n))}}function Jy(t,n,s,o){switch(C_(n)){case 2:var h=T1;break;case 8:h=b1;break;default:h=Cd}s=h.bind(null,n,s,t),h=void 0,!Mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(n,s,{capture:!0,passive:h}):t.addEventListener(n,s,!0):h!==void 0?t.addEventListener(n,s,{passive:h}):t.addEventListener(n,s,!1)}function dd(t,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var T=o.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=o.return;p!==null;){var C=p.tag;if((C===3||C===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=Ii(T),p===null)return;if(C=p.tag,C===5||C===6||C===26||C===27){o=f=p;continue e}T=T.parentNode}}o=o.return}Vs(function(){var j=f,F=$n(s),X=[];e:{var z=Dp.get(t);if(z!==void 0){var H=ki,he=t;switch(t){case"keypress":if(kr(s)===0)break e;case"keydown":case"keyup":H=Su;break;case"focusin":he="focus",H=Ur;break;case"focusout":he="blur",H=Ur;break;case"beforeblur":case"afterblur":H=Ur;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Cp:case Ip:case xp:H=yu;break;case Np:H=b;break;case"scroll":case"scrollend":H=Uo;break;case"wheel":H=B;break;case"copy":case"cut":case"paste":H=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=is;break;case"toggle":case"beforetoggle":H=Ve}var be=(n&4)!==0,_t=!be&&(t==="scroll"||t==="scrollend"),k=be?z!==null?z+"Capture":null:z;be=[];for(var D=j,P;D!==null;){var K=D;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=di(D,k),K!=null&&be.push(ml(D,K,P))),_t)break;D=D.return}0<be.length&&(z=new H(z,he,null,s,F),X.push({event:z,listeners:be}))}}if((n&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&s!==Vo&&(he=s.relatedTarget||s.fromElement)&&(Ii(he)||he[Ri]))break e;if((H||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,H?(he=s.relatedTarget||s.toElement,H=j,he=he?Ii(he):null,he!==null&&(_t=c(he),be=he.tag,he!==_t||be!==5&&be!==27&&be!==6)&&(he=null)):(H=null,he=j),H!==he)){if(be=Po,K="onMouseLeave",k="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(be=is,K="onPointerLeave",k="onPointerEnter",D="pointer"),_t=H==null?z:Un(H),P=he==null?z:Un(he),z=new be(K,D+"leave",H,s,F),z.target=_t,z.relatedTarget=P,K=null,Ii(F)===j&&(be=new be(k,D+"enter",he,s,F),be.target=P,be.relatedTarget=_t,K=be),_t=K,H&&he)t:{for(be=Yb,k=H,D=he,P=0,K=k;K;K=be(K))P++;K=0;for(var ye=D;ye;ye=be(ye))K++;for(;0<P-K;)k=be(k),P--;for(;0<K-P;)D=be(D),K--;for(;P--;){if(k===D||D!==null&&k===D.alternate){be=k;break t}k=be(k),D=be(D)}be=null}else be=null;H!==null&&Wy(X,z,H,be,!1),he!==null&&_t!==null&&Wy(X,_t,he,be,!0)}}e:{if(z=j?Un(j):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var it=gp;else if(mp(z))if(yp)it=rb;else{it=ib;var fe=nb}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ma(j.elementType)&&(it=gp):it=sb;if(it&&(it=it(t,j))){pp(X,it,s,F);break e}fe&&fe(t,z,j),t==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Do(z,"number",z.value)}switch(fe=j?Un(j):window,t){case"focusin":(mp(fe)||fe.contentEditable==="true")&&(ba=fe,Bh=j,qo=null);break;case"focusout":qo=Bh=ba=null;break;case"mousedown":Hh=!0;break;case"contextmenu":case"mouseup":case"dragend":Hh=!1,wp(X,s,F);break;case"selectionchange":if(ob)break;case"keydown":case"keyup":wp(X,s,F)}var Ue;if(ot)e:{switch(t){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Ta?Pr(t,s)&&(Fe="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Fe="onCompositionStart");Fe&&(Pi&&s.locale!=="ko"&&(Ta||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Ta&&(Ue=Lo()):(Vi=F,ko="value"in Vi?Vi.value:Vi.textContent,Ta=!0)),fe=mc(j,Fe),0<fe.length&&(Fe=new Ui(Fe,t,null,s,F),X.push({event:Fe,listeners:fe}),Ue?Fe.data=Ue:(Ue=Ea(s),Ue!==null&&(Fe.data=Ue)))),(Ue=Jn?JT(t,s):WT(t,s))&&(Fe=mc(j,"onBeforeInput"),0<Fe.length&&(fe=new Ui("onBeforeInput","beforeinput",null,s,F),X.push({event:fe,listeners:Fe}),fe.data=Ue)),Gb(X,t,j,s,F)}Zy(X,n)})}function ml(t,n,s){return{instance:t,listener:n,currentTarget:s}}function mc(t,n){for(var s=n+"Capture",o=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=di(t,s),h!=null&&o.unshift(ml(t,h,f)),h=di(t,n),h!=null&&o.push(ml(t,h,f))),t.tag===3)return o;t=t.return}return[]}function Yb(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wy(t,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var T=s,C=T.alternate,j=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||j===null||(C=j,h?(j=di(s,f),j!=null&&p.unshift(ml(s,j,C))):h||(j=di(s,f),j!=null&&p.push(ml(s,j,C)))),s=s.return}p.length!==0&&t.push({event:n,listeners:p})}var Xb=/\r\n?/g,$b=/\u0000|\uFFFD/g;function e_(t){return(typeof t=="string"?t:""+t).replace(Xb,`
`).replace($b,"")}function t_(t,n){return n=e_(n),e_(t)===n}function yt(t,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||xn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&xn(t,""+o);break;case"className":Pn(t,"class",o);break;case"tabIndex":Pn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,s,o);break;case"style":Mo(t,o,f);break;case"data":if(n!=="object"){Pn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=pa(""+o),t.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&yt(t,n,"name",h.name,h,null),yt(t,n,"formEncType",h.formEncType,h,null),yt(t,n,"formMethod",h.formMethod,h,null),yt(t,n,"formTarget",h.formTarget,h,null)):(yt(t,n,"encType",h.encType,h,null),yt(t,n,"method",h.method,h,null),yt(t,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(s);break}o=pa(""+o),t.setAttribute(s,o);break;case"onClick":o!=null&&(t.onclick=fi);break;case"onScroll":o!=null&&He("scroll",t);break;case"onScrollEnd":o!=null&&He("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}s=pa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""+o):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":o===!0?t.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(s,o):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(s,o):t.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(s):t.setAttribute(s,o);break;case"popover":He("beforetoggle",t),He("toggle",t),fa(t,"popover",o);break;case"xlinkActuate":Kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Kt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Kt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Kt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Kt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":fa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=mu.get(s)||s,fa(t,s,o))}}function md(t,n,s,o,h,f){switch(s){case"style":Mo(t,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof o=="string"?xn(t,o):(typeof o=="number"||typeof o=="bigint")&&xn(t,""+o);break;case"onScroll":o!=null&&He("scroll",t);break;case"onScrollEnd":o!=null&&He("scrollend",t);break;case"onClick":o!=null&&(t.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=t[rn]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,o,h);break e}s in t?t[s]=o:o===!0?t.setAttribute(s,""):fa(t,s,o)}}}function gn(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",t),He("load",t);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:yt(t,n,f,p,s,null)}}h&&yt(t,n,"srcSet",s.srcSet,s,null),o&&yt(t,n,"src",s.src,s,null);return;case"input":He("invalid",t);var T=f=p=h=null,C=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":p=F;break;case"checked":C=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:yt(t,n,o,F,s,null)}}hu(t,f,T,C,j,p,h,!1);return;case"select":He("invalid",t),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":o=T;default:yt(t,n,h,T,s,null)}n=f,s=p,t.multiple=!!o,n!=null?Ns(t,!!o,n,!1):s!=null&&Ns(t,!!o,s,!0);return;case"textarea":He("invalid",t),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(T=s[p],T!=null))switch(p){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:yt(t,n,p,T,s,null)}Ds(t,o,h,f);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:yt(t,n,C,o,s,null)}return;case"dialog":He("beforetoggle",t),He("toggle",t),He("cancel",t),He("close",t);break;case"iframe":case"object":He("load",t);break;case"video":case"audio":for(o=0;o<dl.length;o++)He(dl[o],t);break;case"image":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"embed":case"source":case"link":He("error",t),He("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:yt(t,n,j,o,s,null)}return;default:if(ma(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&md(t,n,F,o,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(o=s[T],o!=null&&yt(t,n,T,o,s,null))}function Zb(t,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,C=null,j=null,F=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||yt(t,n,H,null,o,X)}}for(var z in o){var H=o[z];if(X=s[z],o.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":j=H;break;case"defaultChecked":F=H;break;case"value":p=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&yt(t,n,z,H,o,X)}}da(t,p,T,C,j,F,f,h);return;case"select":H=p=T=z=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||yt(t,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==C&&yt(t,n,h,f,o,C)}n=T,s=p,o=H,z!=null?Ns(t,!!s,z,!1):!!o!=!!s&&(n!=null?Ns(t,!!s,n,!0):Ns(t,!!s,s?[]:"",!1));return;case"textarea":H=z=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:yt(t,n,T,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&yt(t,n,p,h,o,f)}fu(t,z,H);return;case"option":for(var he in s)if(z=s[he],s.hasOwnProperty(he)&&z!=null&&!o.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:yt(t,n,he,null,o,z)}for(C in o)if(z=o[C],H=s[C],o.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null))switch(C){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:yt(t,n,C,z,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in s)z=s[be],s.hasOwnProperty(be)&&z!=null&&!o.hasOwnProperty(be)&&yt(t,n,be,null,o,z);for(j in o)if(z=o[j],H=s[j],o.hasOwnProperty(j)&&z!==H&&(z!=null||H!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:yt(t,n,j,z,o,H)}return;default:if(ma(n)){for(var _t in s)z=s[_t],s.hasOwnProperty(_t)&&z!==void 0&&!o.hasOwnProperty(_t)&&md(t,n,_t,void 0,o,z);for(F in o)z=o[F],H=s[F],!o.hasOwnProperty(F)||z===H||z===void 0&&H===void 0||md(t,n,F,z,o,H);return}}for(var k in s)z=s[k],s.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&yt(t,n,k,null,o,z);for(X in o)z=o[X],H=s[X],!o.hasOwnProperty(X)||z===H||z==null&&H==null||yt(t,n,X,z,o,H)}function n_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Jb(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&n_(p)){for(p=0,T=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],j=C.startTime;if(j>T)break;var F=C.transferSize,X=C.initiatorType;F&&n_(X)&&(C=C.responseEnd,p+=F*(C<T?1:(T-j)/(C-j)))}if(--o,n+=8*(f+p)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pd=null,gd=null;function pc(t){return t.nodeType===9?t:t.ownerDocument}function i_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function yd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function Wb(){var t=window.event;return t&&t.type==="popstate"?t===_d?!1:(_d=t,!0):(_d=null,!1)}var r_=typeof setTimeout=="function"?setTimeout:void 0,e1=typeof clearTimeout=="function"?clearTimeout:void 0,a_=typeof Promise=="function"?Promise:void 0,t1=typeof queueMicrotask=="function"?queueMicrotask:typeof a_<"u"?function(t){return a_.resolve(null).then(t).catch(n1)}:r_;function n1(t){setTimeout(function(){throw t})}function er(t){return t==="head"}function o_(t,n){var s=n,o=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){t.removeChild(h),Xa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")pl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,pl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[Ci]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&pl(t.ownerDocument.body);s=h}while(s);Xa(n)}function l_(t,n){var s=t;t=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=o}while(s)}function vd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":vd(s),ha(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function i1(t,n,s,o){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ci])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=ri(t.nextSibling),t===null)break}return null}function s1(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=ri(t.nextSibling),t===null))return null;return t}function u_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ri(t.nextSibling),t===null))return null;return t}function Ed(t){return t.data==="$?"||t.data==="$~"}function Td(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function r1(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ri(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var bd=null;function c_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return ri(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function h_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function f_(t,n,s){switch(n=pc(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function pl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ha(t)}var ai=new Map,d_=new Set;function gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var _s=re.d;re.d={f:a1,r:o1,D:l1,C:u1,L:c1,m:h1,X:d1,S:f1,M:m1};function a1(){var t=_s.f(),n=oc();return t||n}function o1(t){var n=Xn(t);n!==null&&n.tag===5&&n.type==="form"?Ng(n):_s.r(t)}var Qa=typeof document>"u"?null:document;function m_(t,n,s){var o=Qa;if(o&&typeof n=="string"&&n){var h=In(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),d_.has(h)||(d_.add(h),t={rel:t,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),gn(n,"link",t),Qt(n),o.head.appendChild(n)))}}function l1(t){_s.D(t),m_("dns-prefetch",t,null)}function u1(t,n){_s.C(t,n),m_("preconnect",t,n)}function c1(t,n,s){_s.L(t,n,s);var o=Qa;if(o&&t&&n){var h='link[rel="preload"][as="'+In(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+In(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+In(s.imageSizes)+'"]')):h+='[href="'+In(t)+'"]';var f=h;switch(n){case"style":f=Ka(t);break;case"script":f=Ya(t)}ai.has(f)||(t=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),ai.set(f,t),o.querySelector(h)!==null||n==="style"&&o.querySelector(gl(f))||n==="script"&&o.querySelector(yl(f))||(n=o.createElement("link"),gn(n,"link",t),Qt(n),o.head.appendChild(n)))}}function h1(t,n){_s.m(t,n);var s=Qa;if(s&&t){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+In(o)+'"][href="'+In(t)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ya(t)}if(!ai.has(f)&&(t=w({rel:"modulepreload",href:t},n),ai.set(f,t),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(yl(f)))return}o=s.createElement("link"),gn(o,"link",t),Qt(o),s.head.appendChild(o)}}}function f1(t,n,s){_s.S(t,n,s);var o=Qa;if(o&&t){var h=xi(o).hoistableStyles,f=Ka(t);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=o.querySelector(gl(f)))T.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},s),(s=ai.get(f))&&Ad(t,s);var C=p=o.createElement("link");Qt(C),gn(C,"link",t),C._p=new Promise(function(j,F){C.onload=j,C.onerror=F}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function d1(t,n){_s.X(t,n);var s=Qa;if(s&&t){var o=xi(s).hoistableScripts,h=Ya(t),f=o.get(h);f||(f=s.querySelector(yl(h)),f||(t=w({src:t,async:!0},n),(n=ai.get(h))&&Sd(t,n),f=s.createElement("script"),Qt(f),gn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function m1(t,n){_s.M(t,n);var s=Qa;if(s&&t){var o=xi(s).hoistableScripts,h=Ya(t),f=o.get(h);f||(f=s.querySelector(yl(h)),f||(t=w({src:t,async:!0,type:"module"},n),(n=ai.get(h))&&Sd(t,n),f=s.createElement("script"),Qt(f),gn(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function p_(t,n,s,o){var h=(h=De.current)?gc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ka(s.href),s=xi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ka(s.href);var f=xi(h).hoistableStyles,p=f.get(t);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,p),(f=h.querySelector(gl(t)))&&!f._p&&(p.instance=f,p.state.loading=5),ai.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ai.set(t,s),f||p1(h,t,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ya(s),s=xi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ka(t){return'href="'+In(t)+'"'}function gl(t){return'link[rel="stylesheet"]['+t+"]"}function g_(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function p1(t,n,s,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),gn(n,"link",s),Qt(n),t.head.appendChild(n))}function Ya(t){return'[src="'+In(t)+'"]'}function yl(t){return"script[async]"+t}function y_(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+In(s.href)+'"]');if(o)return n.instance=o,Qt(o),o;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Qt(o),gn(o,"style",h),yc(o,s.precedence,t),n.instance=o;case"stylesheet":h=Ka(s.href);var f=t.querySelector(gl(h));if(f)return n.state.loading|=4,n.instance=f,Qt(f),f;o=g_(s),(h=ai.get(h))&&Ad(o,h),f=(t.ownerDocument||t).createElement("link"),Qt(f);var p=f;return p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),gn(f,"link",o),n.state.loading|=4,yc(f,s.precedence,t),n.instance=f;case"script":return f=Ya(s.src),(h=t.querySelector(yl(f)))?(n.instance=h,Qt(h),h):(o=s,(h=ai.get(f))&&(o=w({},s),Sd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Qt(h),gn(h,"link",o),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,yc(o,s.precedence,t));return n.instance}function yc(t,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var T=o[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Ad(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Sd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var _c=null;function __(t,n,s){if(_c===null){var o=new Map,h=_c=new Map;h.set(s,o)}else h=_c,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(t))return o;for(o.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var f=s[h];if(!(f[Ci]||f[Ft]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=t+p;var T=o.get(p);T?T.push(f):o.set(p,[f])}}return o}function v_(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function g1(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function E_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function y1(t,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ka(o.href),f=n.querySelector(gl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=vc.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=f,Qt(f);return}f=n.ownerDocument||n,o=g_(o),(h=ai.get(h))&&Ad(o,h),f=f.createElement("link"),Qt(f);var p=f;p._p=new Promise(function(T,C){p.onload=T,p.onerror=C}),gn(f,"link",o),s.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=vc.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var wd=0;function _1(t,n){return t.stylesheets&&t.count===0&&Tc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var o=setTimeout(function(){if(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+n);0<t.imgBytes&&wd===0&&(wd=62500*Jb());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Tc(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>wd?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function vc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ec=null;function Tc(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ec=new Map,n.forEach(v1,t),Ec=null,vc.call(t))}function v1(t,n){if(!(n.state.loading&4)){var s=Ec.get(t);if(s)var o=s.get(null);else{s=new Map,Ec.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=vc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var _l={$$typeof:Ee,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function E1(t,n,s,o,h,f,p,T,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function T_(t,n,s,o,h,f,p,T,C,j,F,X){return t=new E1(t,n,s,p,C,j,F,X,T),n=1,f===!0&&(n|=24),f=zn(3,null,null,n),t.current=f,f.stateNode=t,n=sf(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},lf(f),t}function b_(t){return t?(t=wa,t):wa}function A_(t,n,s,o,h,f){h=b_(h),o.context===null?o.context=h:o.pendingContext=h,o=qs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Gs(t,o,n),s!==null&&(Vn(s,t,n),$o(s,t,n))}function S_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Rd(t,n){S_(t,n),(t=t.alternate)&&S_(t,n)}function w_(t){if(t.tag===13||t.tag===31){var n=Br(t,67108864);n!==null&&Vn(n,t,67108864),Rd(t,67108864)}}function R_(t){if(t.tag===13||t.tag===31){var n=Fn();n=xr(n);var s=Br(t,n);s!==null&&Vn(s,t,n),Rd(t,n)}}var bc=!0;function T1(t,n,s,o){var h=q.T;q.T=null;var f=re.p;try{re.p=2,Cd(t,n,s,o)}finally{re.p=f,q.T=h}}function b1(t,n,s,o){var h=q.T;q.T=null;var f=re.p;try{re.p=8,Cd(t,n,s,o)}finally{re.p=f,q.T=h}}function Cd(t,n,s,o){if(bc){var h=Id(o);if(h===null)dd(t,n,o,Ac,s),I_(t,o);else if(S1(h,t,n,s,o))o.stopPropagation();else if(I_(t,o),n&4&&-1<A1.indexOf(t)){for(;h!==null;){var f=Xn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Ai(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var C=1<<31-Pt(p);T.entanglements[1]|=C,p&=~C}Hi(f),(lt&6)===0&&(rc=ze()+500,fl(0))}}break;case 31:case 13:T=Br(f,2),T!==null&&Vn(T,f,2),oc(),Rd(f,2)}if(f=Id(o),f===null&&dd(t,n,o,Ac,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else dd(t,n,o,null,s)}}function Id(t){return t=$n(t),xd(t)}var Ac=null;function xd(t){if(Ac=null,t=Ii(t),t!==null){var n=c(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===31){if(t=y(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ac=t,null}function C_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Le()){case Pe:return 2;case Nt:return 8;case Ut:case hn:return 32;case mt:return 268435456;default:return 32}default:return 32}}var Nd=!1,tr=null,nr=null,ir=null,vl=new Map,El=new Map,sr=[],A1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(t,n){switch(t){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(n.pointerId)}}function Tl(t,n,s,o,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Xn(n),n!==null&&w_(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function S1(t,n,s,o,h){switch(n){case"focusin":return tr=Tl(tr,t,n,s,o,h),!0;case"dragenter":return nr=Tl(nr,t,n,s,o,h),!0;case"mouseover":return ir=Tl(ir,t,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return vl.set(f,Tl(vl.get(f)||null,t,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,El.set(f,Tl(El.get(f)||null,t,n,s,o,h)),!0}return!1}function x_(t){var n=Ii(t.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,ci(t.priority,function(){R_(s)});return}}else if(n===31){if(n=y(s),n!==null){t.blockedOn=n,ci(t.priority,function(){R_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sc(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Id(t.nativeEvent);if(s===null){s=t.nativeEvent;var o=new s.constructor(s.type,s);Vo=o,s.target.dispatchEvent(o),Vo=null}else return n=Xn(s),n!==null&&w_(n),t.blockedOn=s,!1;n.shift()}return!0}function N_(t,n,s){Sc(t)&&s.delete(n)}function w1(){Nd=!1,tr!==null&&Sc(tr)&&(tr=null),nr!==null&&Sc(nr)&&(nr=null),ir!==null&&Sc(ir)&&(ir=null),vl.forEach(N_),El.forEach(N_)}function wc(t,n){t.blockedOn===n&&(t.blockedOn=null,Nd||(Nd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,w1)))}var Rc=null;function D_(t){Rc!==t&&(Rc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Rc===t&&(Rc=null);for(var n=0;n<t.length;n+=3){var s=t[n],o=t[n+1],h=t[n+2];if(typeof o!="function"){if(xd(o||s)===null)continue;break}var f=Xn(s);f!==null&&(t.splice(n,3),n-=3,If(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Xa(t){function n(C){return wc(C,t)}tr!==null&&wc(tr,t),nr!==null&&wc(nr,t),ir!==null&&wc(ir,t),vl.forEach(n),El.forEach(n);for(var s=0;s<sr.length;s++){var o=sr[s];o.blockedOn===t&&(o.blockedOn=null)}for(;0<sr.length&&(s=sr[0],s.blockedOn===null);)x_(s),s.blockedOn===null&&sr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[rn]||null;if(typeof f=="function")p||D_(s);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[rn]||null)T=p.formAction;else if(xd(h)!==null)continue}else T=p.action;typeof T=="function"?s[o+1]=T:(s.splice(o,3),o-=3),D_(s)}}}function O_(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(t){this._internalRoot=t}Cc.prototype.render=Dd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Fn();A_(s,o,t,n,null,null)},Cc.prototype.unmount=Dd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;A_(t.current,2,null,t,null,null),oc(),n[Ri]=null}};function Cc(t){this._internalRoot=t}Cc.prototype.unstable_scheduleHydration=function(t){if(t){var n=ou();t={blockedOn:null,target:t,priority:n};for(var s=0;s<sr.length&&n!==0&&n<sr[s].priority;s++);sr.splice(s,0,t),s===0&&x_(t)}};var M_=e.version;if(M_!=="19.2.0")throw Error(a(527,M_,"19.2.0"));re.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var R1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{vt=Ic.inject(R1),Dt=Ic}catch{}}return Al.createRoot=function(t,n){if(!l(t))throw Error(a(299));var s=!1,o="",h=zg,f=Bg,p=Hg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=T_(t,1,!1,null,null,s,o,null,h,f,p,O_),t[Ri]=n.current,fd(t),new Dd(n)},Al.hydrateRoot=function(t,n,s){if(!l(t))throw Error(a(299));var o=!1,h="",f=zg,p=Bg,T=Hg,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=T_(t,1,!0,n,s??null,o,h,C,f,p,T,O_),n.context=b_(null),s=n.current,o=Fn(),o=xr(o),h=qs(o),h.callback=null,Gs(s,h,o),s=o,n.current.lanes=s,Cr(n,s),Hi(n),t[Ri]=n.current,fd(t),new Cc(n)},Al.version="19.2.0",Al}var q_;function L1(){if(q_)return Vd.exports;q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vd.exports=k1(),Vd.exports}var U1=L1();const P1=()=>{};var G_={};const Tv=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},j1=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],y=r[i++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const c=r[i++],d=r[i++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},bv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,y=d?r[l+1]:0,g=l+2<r.length,v=g?r[l+2]:0,_=c>>2,w=(c&3)<<4|y>>4;let M=(y&15)<<2|v>>6,G=v&63;g||(G=64,d||(M=64)),a.push(i[_],i[w],i[M],i[G])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Tv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):j1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],y=l<r.length?i[r.charAt(l)]:0;++l;const v=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||y==null||v==null||w==null)throw new z1;const M=c<<2|y>>4;if(a.push(M),v!==64){const G=y<<4&240|v>>2;if(a.push(G),w!==64){const ee=v<<6&192|w;a.push(ee)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class z1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B1=function(r){const e=Tv(r);return bv.encodeByteArray(e,!0)},Yc=function(r){return B1(r).replace(/\./g,"")},Av=function(r){try{return bv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function H1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const q1=()=>H1().__FIREBASE_DEFAULTS__,G1=()=>{if(typeof process>"u"||typeof G_>"u")return;const r=G_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},F1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Av(r[1]);return e&&JSON.parse(e)},mh=()=>{try{return P1()||q1()||G1()||F1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Sv=r=>mh()?.emulatorHosts?.[r],Q1=r=>{const e=Sv(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},wv=()=>mh()?.config,Rv=r=>mh()?.[`_${r}`];class K1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function go(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cv(r){return(await fetch(r,{credentials:"include"})).ok}function Y1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Yc(JSON.stringify(i)),Yc(JSON.stringify(d)),""].join(".")}const Nl={};function X1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Nl))Nl[e]?r.emulator.push(e):r.prod.push(e);return r}function $1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let F_=!1;function Iv(r,e){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||Nl[r]===e||Nl[r]||F_)return;Nl[r]=e;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=X1().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function g(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function v(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{F_=!0,d()},M}function _(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=$1(a),G=i("text"),ee=document.getElementById(G)||document.createElement("span"),ae=i("learnmore"),W=document.getElementById(ae)||document.createElement("a"),ve=i("preprendIcon"),Ce=document.getElementById(ve)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const Ee=M.element;y(Ee),_(W,ae);const rt=v();g(Ce,ve),Ee.append(Ce,ee,W,rt),document.body.appendChild(Ee)}c?(ee.innerText="Preview backend disconnected.",Ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,ee.innerText="Preview backend running in this workspace."),ee.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function J1(){const r=mh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function tA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nA(){const r=Sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function iA(){return!J1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sA(){try{return typeof indexedDB=="object"}catch{return!1}}function rA(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const aA="FirebaseError";class Is extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=aA,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?oA(c,a):"Error",y=`${this.serviceName}: ${d} (${l}).`;return new Is(l,y,a)}}function oA(r,e){return r.replace(lA,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const lA=/\{\$([^}]+)}/g;function uA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function yr(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=e[l];if(Q_(c)&&Q_(d)){if(!yr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Q_(r){return r!==null&&typeof r=="object"}function Ql(r){const e=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function cA(r,e){const i=new hA(r,e);return i.subscribe.bind(i)}class hA{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");fA(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Pd),l.error===void 0&&(l.error=Pd),l.complete===void 0&&(l.complete=Pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fA(r,e){if(typeof r!="object"||r===null)return!1;for(const i of e)if(i in r&&typeof r[i]=="function")return!0;return!1}function Pd(){}function Cn(r){return r&&r._delegate?r._delegate:r}class ia{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ea="[DEFAULT]";class dA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new K1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pA(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:mA(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mA(r){return r===ea?void 0:r}function pA(r){return r.instantiationMode==="EAGER"}class gA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new dA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Qe||(Qe={}));const yA={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},_A=Qe.INFO,vA={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},EA=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),l=vA[e];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cm{constructor(e){this.name=e,this._logLevel=_A,this._logHandler=EA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const TA=(r,e)=>e.some(i=>r instanceof i);let K_,Y_;function bA(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AA(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xv=new WeakMap,Wd=new WeakMap,Nv=new WeakMap,jd=new WeakMap,Im=new WeakMap;function SA(r){const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(fr(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&xv.set(i,r)}).catch(()=>{}),Im.set(e,r),e}function wA(r){if(Wd.has(r))return;const e=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Wd.set(r,e)}let em={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Wd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Nv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return fr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function RA(r){em=r(em)}function CA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(zd(this),e,...i);return Nv.set(a,e.sort?e.sort():[e]),fr(a)}:AA().includes(r)?function(...e){return r.apply(zd(this),e),fr(xv.get(this))}:function(...e){return fr(r.apply(zd(this),e))}}function IA(r){return typeof r=="function"?CA(r):(r instanceof IDBTransaction&&wA(r),TA(r,bA())?new Proxy(r,em):r)}function fr(r){if(r instanceof IDBRequest)return SA(r);if(jd.has(r))return jd.get(r);const e=IA(r);return e!==r&&(jd.set(r,e),Im.set(e,r)),e}const zd=r=>Im.get(r);function xA(r,e,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),y=fr(d);return a&&d.addEventListener("upgradeneeded",g=>{a(fr(d.result),g.oldVersion,g.newVersion,fr(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),y.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),y}const NA=["get","getKey","getAll","getAllKeys","count"],DA=["put","add","delete","clear"],Bd=new Map;function X_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Bd.get(e))return Bd.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=DA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||NA.includes(i)))return;const c=async function(d,...y){const g=this.transaction(d,l?"readwrite":"readonly");let v=g.store;return a&&(v=v.index(y.shift())),(await Promise.all([v[i](...y),l&&g.done]))[0]};return Bd.set(e,c),c}RA(r=>({...r,get:(e,i,a)=>X_(e,i)||r.get(e,i,a),has:(e,i)=>!!X_(e,i)||r.has(e,i)}));class OA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(MA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function MA(r){return r.getComponent()?.type==="VERSION"}const tm="@firebase/app",$_="0.14.6";const bs=new Cm("@firebase/app"),VA="@firebase/app-compat",kA="@firebase/analytics-compat",LA="@firebase/analytics",UA="@firebase/app-check-compat",PA="@firebase/app-check",jA="@firebase/auth",zA="@firebase/auth-compat",BA="@firebase/database",HA="@firebase/data-connect",qA="@firebase/database-compat",GA="@firebase/functions",FA="@firebase/functions-compat",QA="@firebase/installations",KA="@firebase/installations-compat",YA="@firebase/messaging",XA="@firebase/messaging-compat",$A="@firebase/performance",ZA="@firebase/performance-compat",JA="@firebase/remote-config",WA="@firebase/remote-config-compat",eS="@firebase/storage",tS="@firebase/storage-compat",nS="@firebase/firestore",iS="@firebase/ai",sS="@firebase/firestore-compat",rS="firebase",aS="12.6.0";const nm="[DEFAULT]",oS={[tm]:"fire-core",[VA]:"fire-core-compat",[LA]:"fire-analytics",[kA]:"fire-analytics-compat",[PA]:"fire-app-check",[UA]:"fire-app-check-compat",[jA]:"fire-auth",[zA]:"fire-auth-compat",[BA]:"fire-rtdb",[HA]:"fire-data-connect",[qA]:"fire-rtdb-compat",[GA]:"fire-fn",[FA]:"fire-fn-compat",[QA]:"fire-iid",[KA]:"fire-iid-compat",[YA]:"fire-fcm",[XA]:"fire-fcm-compat",[$A]:"fire-perf",[ZA]:"fire-perf-compat",[JA]:"fire-rc",[WA]:"fire-rc-compat",[eS]:"fire-gcs",[tS]:"fire-gcs-compat",[nS]:"fire-fst",[sS]:"fire-fst-compat",[iS]:"fire-vertex","fire-js":"fire-js",[rS]:"fire-js-all"};const Xc=new Map,lS=new Map,im=new Map;function Z_(r,e){try{r.container.addComponent(e)}catch(i){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function ao(r){const e=r.name;if(im.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;im.set(e,r);for(const i of Xc.values())Z_(i,r);for(const i of lS.values())Z_(i,r);return!0}function xm(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function oi(r){return r==null?!1:r.settings!==void 0}const uS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new Fl("app","Firebase",uS);class cS{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const yo=aS;function Dv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:nm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw dr.create("bad-app-name",{appName:String(l)});if(i||(i=wv()),!i)throw dr.create("no-options");const c=Xc.get(l);if(c){if(yr(i,c.options)&&yr(a,c.config))return c;throw dr.create("duplicate-app",{appName:l})}const d=new gA(l);for(const g of im.values())d.addComponent(g);const y=new cS(i,a,d);return Xc.set(l,y),y}function Ov(r=nm){const e=Xc.get(r);if(!e&&r===nm&&wv())return Dv();if(!e)throw dr.create("no-app",{appName:r});return e}function mr(r,e,i){let a=oS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(d.join(" "));return}ao(new ia(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const hS="firebase-heartbeat-database",fS=1,Ul="firebase-heartbeat-store";let Hd=null;function Mv(){return Hd||(Hd=xA(hS,fS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ul)}catch(i){console.warn(i)}}}}).catch(r=>{throw dr.create("idb-open",{originalErrorMessage:r.message})})),Hd}async function dS(r){try{const i=(await Mv()).transaction(Ul),a=await i.objectStore(Ul).get(Vv(r));return await i.done,a}catch(e){if(e instanceof Is)bs.warn(e.message);else{const i=dr.create("idb-get",{originalErrorMessage:e?.message});bs.warn(i.message)}}}async function J_(r,e){try{const a=(await Mv()).transaction(Ul,"readwrite");await a.objectStore(Ul).put(e,Vv(r)),await a.done}catch(i){if(i instanceof Is)bs.warn(i.message);else{const a=dr.create("idb-set",{originalErrorMessage:i?.message});bs.warn(a.message)}}}function Vv(r){return`${r.name}!${r.options.appId}`}const mS=1024,pS=30;class gS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new _S(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=W_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>pS){const l=vS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=W_(),{heartbeatsToSend:i,unsentEntries:a}=yS(this._heartbeatsCache.heartbeats),l=Yc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return bs.warn(e),""}}}function W_(){return new Date().toISOString().substring(0,10)}function yS(r,e=mS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),e0(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),e0(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class _S{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sA()?rA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await dS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return J_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function e0(r){return Yc(JSON.stringify({version:2,heartbeats:r})).length}function vS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}function ES(r){ao(new ia("platform-logger",e=>new OA(e),"PRIVATE")),ao(new ia("heartbeat",e=>new gS(e),"PRIVATE")),mr(tm,$_,r),mr(tm,$_,"esm2020"),mr("fire-js","")}ES("");var TS="firebase",bS="12.6.0";mr(TS,bS,"app");function kv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AS=kv,Lv=new Fl("auth","Firebase",kv());const $c=new Cm("@firebase/auth");function SS(r,...e){$c.logLevel<=Qe.WARN&&$c.warn(`Auth (${yo}): ${r}`,...e)}function Uc(r,...e){$c.logLevel<=Qe.ERROR&&$c.error(`Auth (${yo}): ${r}`,...e)}function As(r,...e){throw Nm(r,...e)}function Gi(r,...e){return Nm(r,...e)}function Uv(r,e,i){const a={...AS(),[e]:i};return new Fl("auth","Firebase",a).create(e,{appName:r.name})}function Ts(r){return Uv(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nm(r,...e){if(typeof r!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return Lv.create(r,...e)}function we(r,e,...i){if(!r)throw Nm(e,...i)}function vs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Uc(e),new Error(e)}function Ss(r,e){r||vs(e)}function sm(){return typeof self<"u"&&self.location?.href||""}function wS(){return t0()==="http:"||t0()==="https:"}function t0(){return typeof self<"u"&&self.location?.protocol||null}function RS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wS()||eA()||"connection"in navigator)?navigator.onLine:!0}function CS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Kl{constructor(e,i){this.shortDelay=e,this.longDelay=i,Ss(i>e,"Short delay should be less than long delay!"),this.isMobile=Z1()||tA()}get(){return RS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dm(r,e){Ss(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class Pv{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const IS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const xS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NS=new Kl(3e4,6e4);function Yl(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function _o(r,e,i,a,l={}){return jv(r,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const y=Ql({key:r.config.apiKey,...d}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const v={method:e,headers:g,...c};return W1()||(v.referrerPolicy="no-referrer"),r.emulatorConfig&&go(r.emulatorConfig.host)&&(v.credentials="include"),Pv.fetch()(await zv(r,r.config.apiHost,i,y),v)})}async function jv(r,e,i){r._canInitEmulator=!1;const a={...IS,...e};try{const l=new DS(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw xc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[g,v]=y.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw xc(r,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw xc(r,"email-already-in-use",d);if(g==="USER_DISABLED")throw xc(r,"user-disabled",d);const _=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Uv(r,_,v);As(r,_)}}catch(l){if(l instanceof Is)throw l;As(r,"network-request-failed",{message:String(l)})}}async function Om(r,e,i,a,l={}){const c=await _o(r,e,i,a,l);return"mfaPendingCredential"in c&&As(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function zv(r,e,i,a){const l=`${e}${i}?${a}`,c=r,d=c.config.emulator?Dm(r.config,l):`${r.config.apiScheme}://${l}`;return xS.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class DS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Gi(this.auth,"network-request-failed")),NS.get())})}}function xc(r,e,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Gi(r,e,a);return l.customData._tokenResponse=i,l}async function OS(r,e){return _o(r,"POST","/v1/accounts:delete",e)}async function Zc(r,e){return _o(r,"POST","/v1/accounts:lookup",e)}function Dl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MS(r,e=!1){const i=Cn(r),a=await i.getIdToken(e),l=Mm(a);we(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Dl(qd(l.auth_time)),issuedAtTime:Dl(qd(l.iat)),expirationTime:Dl(qd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function qd(r){return Number(r)*1e3}function Mm(r){const[e,i,a]=r.split(".");if(e===void 0||i===void 0||a===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Av(i);return l?JSON.parse(l):(Uc("Failed to decode base64 JWT payload"),null)}catch(l){return Uc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function n0(r){const e=Mm(r);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Pl(r,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Is&&VS(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function VS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class kS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class rm{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jc(r){const e=r.auth,i=await r.getIdToken(),a=await Pl(r,Zc(e,{idToken:i}));we(a?.users.length,e,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?Bv(l.providerUserInfo):[],d=US(r.providerData,c),y=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!d?.length,v=y?g:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new rm(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(r,_)}async function LS(r){const e=Cn(r);await Jc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function US(r,e){return[...r.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Bv(r){return r.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function PS(r,e){const i=await jv(r,{},async()=>{const a=Ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await zv(r,l,"/v1/token",`key=${c}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:y,body:a};return r.emulatorConfig&&go(r.emulatorConfig.host)&&(g.credentials="include"),Pv.fetch()(d,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function jS(r,e){return _o(r,"POST","/v2/accounts:revokeToken",Yl(r,e))}class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):n0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){we(e.length!==0,"internal-error");const i=n0(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await PS(e,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new to;return a&&(we(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(we(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(we(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return vs("not implemented")}}function ar(r,e){we(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ei{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new kS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new rm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await Pl(this,this.stsTokenManager.getToken(this.auth,e));return we(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return MS(this,e)}reload(){return LS(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Ei({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Jc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(Ts(this.auth));const e=await this.getIdToken();return await Pl(this,OS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,g=i._redirectEventId??void 0,v=i.createdAt??void 0,_=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:G,providerData:ee,stsTokenManager:ae}=i;we(w&&ae,e,"internal-error");const W=to.fromJSON(this.name,ae);we(typeof w=="string",e,"internal-error"),ar(a,e.name),ar(l,e.name),we(typeof M=="boolean",e,"internal-error"),we(typeof G=="boolean",e,"internal-error"),ar(c,e.name),ar(d,e.name),ar(y,e.name),ar(g,e.name),ar(v,e.name),ar(_,e.name);const ve=new Ei({uid:w,auth:e,email:l,emailVerified:M,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:W,createdAt:v,lastLoginAt:_});return ee&&Array.isArray(ee)&&(ve.providerData=ee.map(Ce=>({...Ce}))),g&&(ve._redirectEventId=g),ve}static async _fromIdTokenResponse(e,i,a=!1){const l=new to;l.updateFromServerResponse(i);const c=new Ei({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Jc(c),c}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];we(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Bv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,y=new to;y.updateFromIdToken(a);const g=new Ei({uid:l.localId,auth:e,stsTokenManager:y,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new rm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,v),g}}const i0=new Map;function Es(r){Ss(r instanceof Function,"Expected a class definition");let e=i0.get(r);return e?(Ss(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,i0.set(r,e),e)}class Hv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}Hv.type="NONE";const s0=Hv;function Pc(r,e,i){return`firebase:${r}:${e}:${i}`}class no{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Pc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Pc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Zc(this.auth,{idToken:e}).catch(()=>{});return i?Ei._fromGetAccountInfoResponse(this.auth,i,e):null}return Ei._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new no(Es(s0),e,a);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let c=l[0]||Es(s0);const d=Pc(a,e.config.apiKey,e.name);let y=null;for(const v of i)try{const _=await v._get(d);if(_){let w;if(typeof _=="string"){const M=await Zc(e,{idToken:_}).catch(()=>{});if(!M)break;w=await Ei._fromGetAccountInfoResponse(e,M,_)}else w=Ei._fromJSON(e,_);v!==c&&(y=w),c=v;break}}catch{}const g=l.filter(v=>v._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new no(c,e,a):(c=g[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async v=>{if(v!==c)try{await v._remove(d)}catch{}})),new no(c,e,a))}}function r0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Qv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yv(e))return"Blackberry";if(Xv(e))return"Webos";if(Gv(e))return"Safari";if((e.includes("chrome/")||Fv(e))&&!e.includes("edge/"))return"Chrome";if(Kv(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function qv(r=Sn()){return/firefox\//i.test(r)}function Gv(r=Sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fv(r=Sn()){return/crios\//i.test(r)}function Qv(r=Sn()){return/iemobile/i.test(r)}function Kv(r=Sn()){return/android/i.test(r)}function Yv(r=Sn()){return/blackberry/i.test(r)}function Xv(r=Sn()){return/webos/i.test(r)}function Vm(r=Sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function zS(r=Sn()){return Vm(r)&&!!window.navigator?.standalone}function BS(){return nA()&&document.documentMode===10}function $v(r=Sn()){return Vm(r)||Kv(r)||Xv(r)||Yv(r)||/windows phone/i.test(r)||Qv(r)}function Zv(r,e=[]){let i;switch(r){case"Browser":i=r0(Sn());break;case"Worker":i=`${r0(Sn())}-${r}`;break;default:i=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${yo}/${a}`}class HS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=c=>new Promise((d,y)=>{try{const g=e(c);d(g)}catch(g){y(g)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function qS(r,e={}){return _o(r,"GET","/v2/passwordPolicy",Yl(r,e))}const GS=6;class FS{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??GS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class QS{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new HS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Lv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Es(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await no.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Zc(this,{idToken:e}),a=await Ei._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(oi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(e);(!c||c===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Jc(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(Ts(this));const i=e?Cn(e):null;return i&&we(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qS(this),i=new FS(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await jS(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Es(e)||this._popupRedirectResolver;we(i,this,"argument-error"),this.redirectPersistenceManager=await no.create(this,[Es(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,a,l);return()=>{d=!0,g()}}else{const g=e.addObserver(i);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&SS(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xl(r){return Cn(r)}class a0{constructor(e){this.auth=e,this.observer=null,this.addObserver=cA(i=>this.observer=i)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KS(r){km=r}function YS(r){return km.loadJS(r)}function XS(){return km.gapiScript}function $S(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function ZS(r,e){const i=xm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(yr(c,e??{}))return l;As(l,"already-initialized")}return i.initialize({options:e})}function JS(r,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Es);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function WS(r,e,i){const a=Xl(r);we(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=Jv(e),{host:d,port:y}=ew(e),g=y===null?"":`:${y}`,v={url:`${c}//${d}${g}/`},_=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){we(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),we(yr(v,a.config.emulator)&&yr(_,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=v,a.emulatorConfig=_,a.settings.appVerificationDisabledForTesting=!0,go(d)?(Cv(`${c}//${d}${g}`),Iv("Auth",!0)):tw()}function Jv(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function ew(r){const e=Jv(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:o0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:o0(d)}}}function o0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function tw(){function r(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Wv{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,i){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}async function io(r,e){return Om(r,"POST","/v1/accounts:signInWithIdp",Yl(r,e))}const nw="http://localhost";class sa extends Wv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):As("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new sa(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return io(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,io(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,io(e,i)}buildRequest(){const e={requestUri:nw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ql(i)}return e}}class eE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class $l extends eE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class or extends $l{constructor(){super("facebook.com")}static credential(e){return sa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";class lr extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return sa._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return lr.credential(i,a)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";class ur extends $l{constructor(){super("github.com")}static credential(e){return sa._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ur.credential(e.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";class cr extends $l{constructor(){super("twitter.com")}static credential(e,i){return sa._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return cr.credential(i,a)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";async function iw(r,e){return Om(r,"POST","/v1/accounts:signUp",Yl(r,e))}class ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const c=await Ei._fromIdTokenResponse(e,a,l),d=l0(a);return new ws({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=l0(a);return new ws({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function l0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function sw(r){if(oi(r.app))return Promise.reject(Ts(r));const e=Xl(r);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new ws({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await iw(e,{returnSecureToken:!0}),a=await ws._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Wc extends Is{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Wc(e,i,a,l)}}function tE(r,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(r,c,e,a):c})}async function rw(r,e,i=!1){const a=await Pl(r,e._linkToIdToken(r.auth,await r.getIdToken()),i);return ws._forOperation(r,"link",a)}async function aw(r,e,i=!1){const{auth:a}=r;if(oi(a.app))return Promise.reject(Ts(a));const l="reauthenticate";try{const c=await Pl(r,tE(a,l,e,r),i);we(c.idToken,a,"internal-error");const d=Mm(c.idToken);we(d,a,"internal-error");const{sub:y}=d;return we(r.uid===y,a,"user-mismatch"),ws._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&As(a,"user-mismatch"),c}}async function ow(r,e,i=!1){if(oi(r.app))return Promise.reject(Ts(r));const a="signIn",l=await tE(r,a,e),c=await ws._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}async function lw(r,e){return Om(r,"POST","/v1/accounts:signInWithCustomToken",Yl(r,e))}async function uw(r,e){if(oi(r.app))return Promise.reject(Ts(r));const i=Xl(r),a=await lw(i,{token:e,returnSecureToken:!0}),l=await ws._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function cw(r,e,i,a){return Cn(r).onIdTokenChanged(e,i,a)}function hw(r,e,i){return Cn(r).beforeAuthStateChanged(e,i)}function fw(r,e,i,a){return Cn(r).onAuthStateChanged(e,i,a)}const eh="__sak";class nE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const dw=1e3,mw=10;class iE extends nE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$v(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,y,g)=>{this.notifyListeners(d,g)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);BS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,mw):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},dw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}iE.type="LOCAL";const pw=iE;class sE extends nE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}sE.type="SESSION";const rE=sE;function gw(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class ph{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new ph(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async v=>v(i.origin,c)),g=await gw(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];function Lm(r="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return r+i}class yw{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((y,g)=>{const v=Lm("",20);l.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const M=w;if(M.data.eventId===v)switch(M.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(M.data.response);break;default:clearTimeout(_),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Fi(){return window}function _w(r){Fi().location.href=r}function aE(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function vw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ew(){return navigator?.serviceWorker?.controller||null}function Tw(){return aE()?self:null}const oE="firebaseLocalStorageDb",bw=1,th="firebaseLocalStorage",lE="fbase_key";class Zl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function gh(r,e){return r.transaction([th],e?"readwrite":"readonly").objectStore(th)}function Aw(){const r=indexedDB.deleteDatabase(oE);return new Zl(r).toPromise()}function am(){const r=indexedDB.open(oE,bw);return new Promise((e,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(th,{keyPath:lE})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(th)?e(a):(a.close(),await Aw(),e(await am()))})})}async function u0(r,e,i){const a=gh(r,!0).put({[lE]:e,value:i});return new Zl(a).toPromise()}async function Sw(r,e){const i=gh(r,!1).get(e),a=await new Zl(i).toPromise();return a===void 0?null:a.value}function c0(r,e){const i=gh(r,!0).delete(e);return new Zl(i).toPromise()}const ww=800,Rw=3;class uE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>Rw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(Tw()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vw(),!this.activeServiceWorker)return;this.sender=new yw(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ew()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await am();return await u0(e,eh,"1"),await c0(e,eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>u0(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>Sw(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>c0(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=gh(l,!1).getAll();return new Zl(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ww)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uE.type="LOCAL";const Cw=uE;new Kl(3e4,6e4);function Iw(r,e){return e?Es(e):(we(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Um extends Wv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return io(e,this._buildIdpRequest())}_linkToIdToken(e,i){return io(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return io(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function xw(r){return ow(r.auth,new Um(r),r.bypassAuthState)}function Nw(r){const{auth:e,user:i}=r;return we(i,e,"internal-error"),aw(i,new Um(r),r.bypassAuthState)}async function Dw(r){const{auth:e,user:i}=r;return we(i,e,"internal-error"),rw(i,new Um(r),r.bypassAuthState)}class cE{constructor(e,i,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:y}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(g))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xw;case"linkViaPopup":case"linkViaRedirect":return Dw;case"reauthViaPopup":case"reauthViaRedirect":return Nw;default:As(this.auth,"internal-error")}}resolve(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ow=new Kl(2e3,1e4);class eo extends cE{constructor(e,i,a,l,c){super(e,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ss(this.filter.length===1,"Popup operations only handle one event");const e=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ow.get())};e()}}eo.currentPopupAction=null;const Mw="pendingRedirect",jc=new Map;class Vw extends cE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const a=await kw(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kw(r,e){const i=Pw(e),a=Uw(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function Lw(r,e){jc.set(r._key(),e)}function Uw(r){return Es(r._redirectPersistence)}function Pw(r){return Pc(Mw,r.config.apiKey,r.name)}async function jw(r,e,i=!1){if(oi(r.app))return Promise.reject(Ts(r));const a=Xl(r),l=Iw(a,e),d=await new Vw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const zw=600*1e3;class Bw{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Hw(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!hE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Gi(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zw&&this.cachedEventUids.clear(),this.cachedEventUids.has(h0(e))}saveEventToCache(e){this.cachedEventUids.add(h0(e)),this.lastProcessedEventTime=Date.now()}}function h0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function hE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Hw(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hE(r);default:return!1}}async function qw(r,e={}){return _o(r,"GET","/v1/projects",e)}const Gw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Fw=/^https?/;async function Qw(r){if(r.config.emulator)return;const{authorizedDomains:e}=await qw(r);for(const i of e)try{if(Kw(i))return}catch{}As(r,"unauthorized-domain")}function Kw(r){const e=sm(),{protocol:i,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Fw.test(i))return!1;if(Gw.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Yw=new Kl(3e4,6e4);function f0(){const r=Fi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function Xw(r){return new Promise((e,i)=>{function a(){f0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{f0(),i(Gi(r,"network-request-failed"))},timeout:Yw.get()})}if(Fi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Fi().gapi?.load)a();else{const l=$S("iframefcb");return Fi()[l]=()=>{gapi.load?a():i(Gi(r,"network-request-failed"))},YS(`${XS()}?onload=${l}`).catch(c=>i(c))}}).catch(e=>{throw zc=null,e})}let zc=null;function $w(r){return zc=zc||Xw(r),zc}const Zw=new Kl(5e3,15e3),Jw="__/auth/iframe",Ww="emulator/auth/iframe",e2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},t2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function n2(r){const e=r.config;we(e.authDomain,r,"auth-domain-config-required");const i=e.emulator?Dm(e,Ww):`https://${r.config.authDomain}/${Jw}`,a={apiKey:e.apiKey,appName:r.name,v:yo},l=t2.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ql(a).slice(1)}`}async function i2(r){const e=await $w(r),i=Fi().gapi;return we(i,r,"internal-error"),e.open({where:document.body,url:n2(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e2,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Gi(r,"network-request-failed"),y=Fi().setTimeout(()=>{c(d)},Zw.get());function g(){Fi().clearTimeout(y),l(a)}a.ping(g).then(g,()=>{c(d)})}))}const s2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},r2=500,a2=600,o2="_blank",l2="http://localhost";class d0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function u2(r,e,i,a=r2,l=a2){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const g={...s2,width:a.toString(),height:l.toString(),top:c,left:d},v=Sn().toLowerCase();i&&(y=Fv(v)?o2:i),qv(v)&&(e=e||l2,g.scrollbars="yes");const _=Object.entries(g).reduce((M,[G,ee])=>`${M}${G}=${ee},`,"");if(zS(v)&&y!=="_self")return c2(e||"",y),new d0(null);const w=window.open(e||"",y,_);we(w,r,"popup-blocked");try{w.focus()}catch{}return new d0(w)}function c2(r,e){const i=document.createElement("a");i.href=r,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const h2="__/auth/handler",f2="emulator/auth/handler",d2=encodeURIComponent("fac");async function m0(r,e,i,a,l,c){we(r.config.authDomain,r,"auth-domain-config-required"),we(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:yo,eventId:l};if(e instanceof eE){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",uA(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,w]of Object.entries({}))d[_]=w}if(e instanceof $l){const _=e.getScopes().filter(w=>w!=="");_.length>0&&(d.scopes=_.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const _ of Object.keys(y))y[_]===void 0&&delete y[_];const g=await r._getAppCheckToken(),v=g?`#${d2}=${encodeURIComponent(g)}`:"";return`${m2(r)}?${Ql(y).slice(1)}${v}`}function m2({config:r}){return r.emulator?Dm(r,f2):`https://${r.authDomain}/${h2}`}const Gd="webStorageSupport";class p2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rE,this._completeRedirectFn=jw,this._overrideRedirectResult=Lw}async _openPopup(e,i,a,l){Ss(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await m0(e,i,a,sm(),l);return u2(e,c,Lm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const c=await m0(e,i,a,sm(),l);return _w(c),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ss(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await i2(e),a=new Bw(e);return i.register("authEvent",l=>(we(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Gd,{type:Gd},l=>{const c=l?.[0]?.[Gd];c!==void 0&&i(!!c),As(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Qw(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return $v()||Gv()||Vm()}}const g2=p2;var p0="@firebase/auth",g0="1.11.1";class y2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function v2(r){ao(new ia("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;we(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zv(r)},v=new QS(a,l,c,g);return JS(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),ao(new ia("auth-internal",e=>{const i=Xl(e.getProvider("auth").getImmediate());return(a=>new y2(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(p0,g0,_2(r)),mr(p0,g0,"esm2020")}const E2=300,T2=Rv("authIdTokenMaxAge")||E2;let y0=null;const b2=r=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>T2)return;const l=i?.token;y0!==l&&(y0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function A2(r=Ov()){const e=xm(r,"auth");if(e.isInitialized())return e.getImmediate();const i=ZS(r,{popupRedirectResolver:g2,persistence:[Cw,pw,rE]}),a=Rv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=b2(c.toString());hw(i,d,()=>d(i.currentUser)),cw(i,y=>d(y))}}const l=Sv("auth");return l&&WS(i,`http://${l}`),i}function S2(){return document.getElementsByTagName("head")?.[0]??document}KS({loadJS(r){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=l=>{const c=Gi("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",S2().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});v2("Browser");var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pr,fE;(function(){var r;function e(x,S){function I(){}I.prototype=S.prototype,x.F=S.prototype,x.prototype=new I,x.prototype.constructor=x,x.D=function(V,N,L){for(var R=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)R[Tt-2]=arguments[Tt];return S.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,S,I){I||(I=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(N=0;N<16;++N)V[N]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=x.g[0],I=x.g[1],N=x.g[2];let L=x.g[3],R;R=S+(L^I&(N^L))+V[0]+3614090360&4294967295,S=I+(R<<7&4294967295|R>>>25),R=L+(N^S&(I^N))+V[1]+3905402710&4294967295,L=S+(R<<12&4294967295|R>>>20),R=N+(I^L&(S^I))+V[2]+606105819&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(S^N&(L^S))+V[3]+3250441966&4294967295,I=N+(R<<22&4294967295|R>>>10),R=S+(L^I&(N^L))+V[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=L+(N^S&(I^N))+V[5]+1200080426&4294967295,L=S+(R<<12&4294967295|R>>>20),R=N+(I^L&(S^I))+V[6]+2821735955&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(S^N&(L^S))+V[7]+4249261313&4294967295,I=N+(R<<22&4294967295|R>>>10),R=S+(L^I&(N^L))+V[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=L+(N^S&(I^N))+V[9]+2336552879&4294967295,L=S+(R<<12&4294967295|R>>>20),R=N+(I^L&(S^I))+V[10]+4294925233&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(S^N&(L^S))+V[11]+2304563134&4294967295,I=N+(R<<22&4294967295|R>>>10),R=S+(L^I&(N^L))+V[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=L+(N^S&(I^N))+V[13]+4254626195&4294967295,L=S+(R<<12&4294967295|R>>>20),R=N+(I^L&(S^I))+V[14]+2792965006&4294967295,N=L+(R<<17&4294967295|R>>>15),R=I+(S^N&(L^S))+V[15]+1236535329&4294967295,I=N+(R<<22&4294967295|R>>>10),R=S+(N^L&(I^N))+V[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(S^I))+V[6]+3225465664&4294967295,L=S+(R<<9&4294967295|R>>>23),R=N+(S^I&(L^S))+V[11]+643717713&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^S&(N^L))+V[0]+3921069994&4294967295,I=N+(R<<20&4294967295|R>>>12),R=S+(N^L&(I^N))+V[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(S^I))+V[10]+38016083&4294967295,L=S+(R<<9&4294967295|R>>>23),R=N+(S^I&(L^S))+V[15]+3634488961&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^S&(N^L))+V[4]+3889429448&4294967295,I=N+(R<<20&4294967295|R>>>12),R=S+(N^L&(I^N))+V[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(S^I))+V[14]+3275163606&4294967295,L=S+(R<<9&4294967295|R>>>23),R=N+(S^I&(L^S))+V[3]+4107603335&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^S&(N^L))+V[8]+1163531501&4294967295,I=N+(R<<20&4294967295|R>>>12),R=S+(N^L&(I^N))+V[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=L+(I^N&(S^I))+V[2]+4243563512&4294967295,L=S+(R<<9&4294967295|R>>>23),R=N+(S^I&(L^S))+V[7]+1735328473&4294967295,N=L+(R<<14&4294967295|R>>>18),R=I+(L^S&(N^L))+V[12]+2368359562&4294967295,I=N+(R<<20&4294967295|R>>>12),R=S+(I^N^L)+V[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=L+(S^I^N)+V[8]+2272392833&4294967295,L=S+(R<<11&4294967295|R>>>21),R=N+(L^S^I)+V[11]+1839030562&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^S)+V[14]+4259657740&4294967295,I=N+(R<<23&4294967295|R>>>9),R=S+(I^N^L)+V[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=L+(S^I^N)+V[4]+1272893353&4294967295,L=S+(R<<11&4294967295|R>>>21),R=N+(L^S^I)+V[7]+4139469664&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^S)+V[10]+3200236656&4294967295,I=N+(R<<23&4294967295|R>>>9),R=S+(I^N^L)+V[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=L+(S^I^N)+V[0]+3936430074&4294967295,L=S+(R<<11&4294967295|R>>>21),R=N+(L^S^I)+V[3]+3572445317&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^S)+V[6]+76029189&4294967295,I=N+(R<<23&4294967295|R>>>9),R=S+(I^N^L)+V[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=L+(S^I^N)+V[12]+3873151461&4294967295,L=S+(R<<11&4294967295|R>>>21),R=N+(L^S^I)+V[15]+530742520&4294967295,N=L+(R<<16&4294967295|R>>>16),R=I+(N^L^S)+V[2]+3299628645&4294967295,I=N+(R<<23&4294967295|R>>>9),R=S+(N^(I|~L))+V[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=L+(I^(S|~N))+V[7]+1126891415&4294967295,L=S+(R<<10&4294967295|R>>>22),R=N+(S^(L|~I))+V[14]+2878612391&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~S))+V[5]+4237533241&4294967295,I=N+(R<<21&4294967295|R>>>11),R=S+(N^(I|~L))+V[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=L+(I^(S|~N))+V[3]+2399980690&4294967295,L=S+(R<<10&4294967295|R>>>22),R=N+(S^(L|~I))+V[10]+4293915773&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~S))+V[1]+2240044497&4294967295,I=N+(R<<21&4294967295|R>>>11),R=S+(N^(I|~L))+V[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=L+(I^(S|~N))+V[15]+4264355552&4294967295,L=S+(R<<10&4294967295|R>>>22),R=N+(S^(L|~I))+V[6]+2734768916&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~S))+V[13]+1309151649&4294967295,I=N+(R<<21&4294967295|R>>>11),R=S+(N^(I|~L))+V[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=L+(I^(S|~N))+V[11]+3174756917&4294967295,L=S+(R<<10&4294967295|R>>>22),R=N+(S^(L|~I))+V[2]+718787259&4294967295,N=L+(R<<15&4294967295|R>>>17),R=I+(L^(N|~S))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+L&4294967295}a.prototype.v=function(x,S){S===void 0&&(S=x.length);const I=S-this.blockSize,V=this.C;let N=this.h,L=0;for(;L<S;){if(N==0)for(;L<=I;)l(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<S;)if(V[N++]=x.charCodeAt(L++),N==this.blockSize){l(this,V),N=0;break}}else for(;L<S;)if(V[N++]=x[L++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;S=this.o*8;for(var I=x.length-8;I<x.length;++I)x[I]=S&255,S/=256;for(this.v(x),x=Array(16),S=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)x[S++]=this.g[I]>>>V&255;return x};function c(x,S){var I=y;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=S(x)}function d(x,S){this.h=S;const I=[];let V=!0;for(let N=x.length-1;N>=0;N--){const L=x[N]|0;V&&L==S||(I[N]=L,V=!1)}this.g=I}var y={};function g(x){return-128<=x&&x<128?c(x,function(S){return new d([S|0],S<0?-1:0)}):new d([x|0],x<0?-1:0)}function v(x){if(isNaN(x)||!isFinite(x))return w;if(x<0)return W(v(-x));const S=[];let I=1;for(let V=0;x>=I;V++)S[V]=x/I|0,I*=4294967296;return new d(S,0)}function _(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return W(_(x.substring(1),S));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=v(Math.pow(S,8));let V=w;for(let L=0;L<x.length;L+=8){var N=Math.min(8,x.length-L);const R=parseInt(x.substring(L,L+N),S);N<8?(N=v(Math.pow(S,N)),V=V.j(N).add(v(R))):(V=V.j(I),V=V.add(v(R)))}return V}var w=g(0),M=g(1),G=g(16777216);r=d.prototype,r.m=function(){if(ae(this))return-W(this).m();let x=0,S=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);x+=(V>=0?V:4294967296+V)*S,S*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(ee(this))return"0";if(ae(this))return"-"+W(this).toString(x);const S=v(Math.pow(x,6));var I=this;let V="";for(;;){const N=rt(I,S).g;I=ve(I,N.j(S));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(x);if(I=N,ee(I))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function ee(x){if(x.h!=0)return!1;for(let S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function ae(x){return x.h==-1}r.l=function(x){return x=ve(this,x),ae(x)?-1:ee(x)?0:1};function W(x){const S=x.g.length,I=[];for(let V=0;V<S;V++)I[V]=~x.g[V];return new d(I,~x.h).add(M)}r.abs=function(){return ae(this)?W(this):this},r.add=function(x){const S=Math.max(this.g.length,x.g.length),I=[];let V=0;for(let N=0;N<=S;N++){let L=V+(this.i(N)&65535)+(x.i(N)&65535),R=(L>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);V=R>>>16,L&=65535,R&=65535,I[N]=R<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ve(x,S){return x.add(W(S))}r.j=function(x){if(ee(this)||ee(x))return w;if(ae(this))return ae(x)?W(this).j(W(x)):W(W(this).j(x));if(ae(x))return W(this.j(W(x)));if(this.l(G)<0&&x.l(G)<0)return v(this.m()*x.m());const S=this.g.length+x.g.length,I=[];for(var V=0;V<2*S;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<x.g.length;N++){const L=this.i(V)>>>16,R=this.i(V)&65535,Tt=x.i(N)>>>16,xt=x.i(N)&65535;I[2*V+2*N]+=R*xt,Ce(I,2*V+2*N),I[2*V+2*N+1]+=L*xt,Ce(I,2*V+2*N+1),I[2*V+2*N+1]+=R*Tt,Ce(I,2*V+2*N+1),I[2*V+2*N+2]+=L*Tt,Ce(I,2*V+2*N+2)}for(x=0;x<S;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=S;x<2*S;x++)I[x]=0;return new d(I,0)};function Ce(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function Ee(x,S){this.g=x,this.h=S}function rt(x,S){if(ee(S))throw Error("division by zero");if(ee(x))return new Ee(w,w);if(ae(x))return S=rt(W(x),S),new Ee(W(S.g),W(S.h));if(ae(S))return S=rt(x,W(S)),new Ee(W(S.g),S.h);if(x.g.length>30){if(ae(x)||ae(S))throw Error("slowDivide_ only works with positive integers.");for(var I=M,V=S;V.l(x)<=0;)I=nt(I),V=nt(V);var N=Xe(I,1),L=Xe(V,1);for(V=Xe(V,2),I=Xe(I,2);!ee(V);){var R=L.add(V);R.l(x)<=0&&(N=N.add(I),L=R),V=Xe(V,1),I=Xe(I,1)}return S=ve(x,N.j(S)),new Ee(N,S)}for(N=w;x.l(S)>=0;){for(I=Math.max(1,Math.floor(x.m()/S.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=v(I),R=L.j(S);ae(R)||R.l(x)>0;)I-=V,L=v(I),R=L.j(S);ee(L)&&(L=M),N=N.add(L),x=ve(x,R)}return new Ee(N,x)}r.B=function(x){return rt(this,x).h},r.and=function(x){const S=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)&x.i(V);return new d(I,this.h&x.h)},r.or=function(x){const S=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)|x.i(V);return new d(I,this.h|x.h)},r.xor=function(x){const S=Math.max(this.g.length,x.g.length),I=[];for(let V=0;V<S;V++)I[V]=this.i(V)^x.i(V);return new d(I,this.h^x.h)};function nt(x){const S=x.g.length+1,I=[];for(let V=0;V<S;V++)I[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(I,x.h)}function Xe(x,S){const I=S>>5;S%=32;const V=x.g.length-I,N=[];for(let L=0;L<V;L++)N[L]=S>0?x.i(L+I)>>>S|x.i(L+I+1)<<32-S:x.i(L+I);return new d(N,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,fE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=_,pr=d}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dE,Rl,mE,Bc,om,pE,gE,yE;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var m=0;m<u.length;++m){var E=u[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)e:{var E=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in E))break e;E=E[U]}u=u[u.length-1],b=E[u],m=m(b),m!=b&&m!=null&&e(E,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var E=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&E.push([b,m[b]]);return E}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function g(u,m,E){return u.call.apply(u.bind,arguments)}function v(u,m,E){return v=g,v.apply(null,arguments)}function _(u,m){var E=Array.prototype.slice.call(arguments,1);return function(){var b=E.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function w(u,m){function E(){}E.prototype=m.prototype,u.Z=m.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(b,U,B){for(var te=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)te[Ve-2]=arguments[Ve];return m.prototype[U].apply(b,te)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const E=Array(m);for(let b=0;b<m;b++)E[b]=u[b];return E}return[]}function ee(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var E=typeof U;if(E=E!="object"?E:U?Array.isArray(U)?"array":E:"null",E=="array"||E=="object"&&typeof U.length=="number"){E=u.length||0;const B=U.length||0;u.length=E+B;for(let te=0;te<B;te++)u[E+te]=U[te]}else u.push(U)}}class ae{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function W(u){d.setTimeout(()=>{throw u},0)}function ve(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ce{constructor(){this.h=this.g=null}add(m,E){const b=Ee.get();b.set(m,E),this.h?this.h.next=b:this.g=b,this.h=b}}var Ee=new ae(()=>new rt,u=>u.reset());class rt{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,Xe=!1,x=new Ce,S=()=>{const u=Promise.resolve(void 0);nt=()=>{u.then(I)}};function I(){for(var u;u=ve();){try{u.h.call(u.g)}catch(E){W(E)}var m=Ee;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Xe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};d.addEventListener("test",E,m),d.removeEventListener("test",E,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Tt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(Tt,N),Tt.prototype.init=function(u,m){const E=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(E=="mouseover"?m=u.fromElement:E=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Tt.Z.h.call(this)},Tt.prototype.h=function(){Tt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var xt="closure_listenable_"+(Math.random()*1e6|0),q=0;function re(u,m,E,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=E,this.capture=!!b,this.ha=U,this.key=++q,this.da=this.fa=!1}function me(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Oe(u,m,E){for(const b in u)m.call(E,u[b],b,u)}function je(u,m){for(const E in u)m.call(void 0,u[E],E,u)}function O(u){const m={};for(const E in u)m[E]=u[E];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(u,m){let E,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(E in b)u[E]=b[E];for(let B=0;B<Y.length;B++)E=Y[B],Object.prototype.hasOwnProperty.call(b,E)&&(u[E]=b[E])}}function le(u){this.src=u,this.g={},this.h=0}le.prototype.add=function(u,m,E,b,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const te=De(u,m,b,U);return te>-1?(m=u[te],E||(m.fa=!1)):(m=new re(m,this.src,B,!!b,U),m.fa=E,u.push(m)),m};function Ae(u,m){const E=m.type;if(E in u.g){var b=u.g[E],U=Array.prototype.indexOf.call(b,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(b,U,1),B&&(me(m),u.g[E].length==0&&(delete u.g[E],u.h--))}}function De(u,m,E,b){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!E&&B.ha==b)return U}return-1}var qe="closure_lm_"+(Math.random()*1e6|0),Lt={};function bt(u,m,E,b,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)bt(u,m[B],E,b,U);return null}return E=pe(E),u&&u[xt]?u.J(m,E,y(b)?!!b.capture:!1,U):Ti(u,m,E,!1,b,U)}function Ti(u,m,E,b,U,B){if(!m)throw Error("Invalid event type");const te=y(U)?!!U.capture:!!U;let Ve=_e(u);if(Ve||(u[qe]=Ve=new le(u)),E=Ve.add(m,E,b,te,B),E.proxy)return E;if(b=Q(),E.proxy=b,b.src=u,b.listener=E,u.addEventListener)L||(U=te),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(ge(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Q(){function u(E){return m.call(u.src,u.listener,E)}const m=ce;return u}function J(u,m,E,b,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)J(u,m[B],E,b,U);else b=y(b)?!!b.capture:!!b,E=pe(E),u&&u[xt]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],E=De(m,E,b,U),E>-1&&(me(m[E]),Array.prototype.splice.call(m,E,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=_e(u))&&(m=u.g[m.toString()],u=-1,m&&(u=De(m,E,b,U)),(E=u>-1?m[u]:null)&&ie(E))}function ie(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[xt])Ae(m.i,u);else{var E=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(E,b,u.capture):m.detachEvent?m.detachEvent(ge(E),b):m.addListener&&m.removeListener&&m.removeListener(b),(E=_e(m))?(Ae(E,u),E.h==0&&(E.src=null,m[qe]=null)):me(u)}}}function ge(u){return u in Lt?Lt[u]:Lt[u]="on"+u}function ce(u,m){if(u.da)u=!0;else{m=new Tt(m,this);const E=u.listener,b=u.ha||u.src;u.fa&&ie(u),u=E.call(b,m)}return u}function _e(u){return u=u[qe],u instanceof le?u:null}var se="__closure_events_fn_"+(Math.random()*1e9>>>0);function pe(u){return typeof u=="function"?u:(u[se]||(u[se]=function(m){return u.handleEvent(m)}),u[se])}function Re(){V.call(this),this.i=new le(this),this.M=this,this.G=null}w(Re,V),Re.prototype[xt]=!0,Re.prototype.removeEventListener=function(u,m,E,b){J(this,u,m,E,b)};function Me(u,m){var E,b=u.G;if(b)for(E=[];b;b=b.G)E.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(b,u),ne(m,U)}U=!0;let B,te;if(E)for(te=E.length-1;te>=0;te--)B=m.g=E[te],U=At(B,b,!0,m)&&U;if(B=m.g=u,U=At(B,b,!0,m)&&U,U=At(B,b,!1,m)&&U,E)for(te=0;te<E.length;te++)B=m.g=E[te],U=At(B,b,!1,m)&&U}Re.prototype.N=function(){if(Re.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const E=u.g[m];for(let b=0;b<E.length;b++)me(E[b]);delete u.g[m],u.h--}}this.G=null},Re.prototype.J=function(u,m,E,b){return this.i.add(String(u),m,!1,E,b)},Re.prototype.K=function(u,m,E,b){return this.i.add(String(u),m,!0,E,b)};function At(u,m,E,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const te=m[B];if(te&&!te.da&&te.capture==E){const Ve=te.listener,jt=te.ha||te.src;te.fa&&Ae(u.i,te),U=Ve.call(jt,b)!==!1&&U}}return U&&!b.defaultPrevented}function Kn(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function at(u){u.g=Kn(()=>{u.g=null,u.i&&(u.i=!1,at(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ze extends V{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:at(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Le(u){V.call(this),this.h=u,this.g={}}w(Le,V);var Pe=[];function Nt(u){Oe(u.g,function(m,E){this.g.hasOwnProperty(E)&&ie(m)},u),u.g={}}Le.prototype.N=function(){Le.Z.N.call(this),Nt(this)},Le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ut=d.JSON.stringify,hn=d.JSON.parse,mt=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function oe(){}function $e(){}var vt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Dt(){N.call(this,"d")}w(Dt,N);function Yn(){N.call(this,"c")}w(Yn,N);var Pt={},su=null;function ua(){return su=su||new Re}Pt.Ia="serverreachability";function ru(u){N.call(this,Pt.Ia,u)}w(ru,N);function bi(u){const m=ua();Me(m,new ru(m))}Pt.STAT_EVENT="statevent";function Rr(u,m){N.call(this,Pt.STAT_EVENT,u),this.stat=m}w(Rr,N);function Gt(u){const m=ua();Me(m,new Rr(m,u))}Pt.Ja="timingevent";function Ai(u,m){N.call(this,Pt.Ja,u),this.size=m}w(Ai,N);function Si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ui(){this.g=!0}ui.prototype.ua=function(){this.g=!1};function kh(u,m,E,b,U,B){u.info(function(){if(u.g)if(B){var te="",Ve=B.split("&");for(let ot=0;ot<Ve.length;ot++){var jt=Ve[ot].split("=");if(jt.length>1){const Ct=jt[0];jt=jt[1];const Jn=Ct.split("_");te=Jn.length>=2&&Jn[1]=="type"?te+(Ct+"="+jt+"&"):te+(Ct+"=redacted&")}}}else te=null;else te=B;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+E+`
`+te})}function au(u,m,E,b,U,B,te){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+E+`
`+B+" "+te})}function wi(u,m,E,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Lh(u,E)+(b?" "+b:"")})}function Cr(u,m){u.info(function(){return"TIMEOUT: "+m})}ui.prototype.info=function(){};function Lh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var E=B[u];if(!(E.length<2)){var b=E[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let te=1;te<b.length;te++)b[te]=""}}}}return Ut(B)}catch{return m}}var Ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function xr(){}w(xr,oe),xr.prototype.g=function(){return new XMLHttpRequest},So=new xr;function es(u){return encodeURIComponent(String(u))}function ou(u){var m=1;u=u.split(":");const E=[];for(;m>0&&u.length;)E.push(u.shift()),m--;return u.length&&E.push(u.join(":")),E}function ci(u,m,E,b){this.j=u,this.i=m,this.l=E,this.S=b||1,this.V=new Le(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new hi}function hi(){this.i=null,this.g="",this.h=!1}var Ft={},rn={};function Ri(u,m,E){u.M=1,u.A=Nr(Kt(m)),u.u=E,u.R=!0,ca(u,null)}function ca(u,m){u.F=Date.now(),Ci(u),u.B=Kt(u.A);var E=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ma(E.i,"t",b),u.C=0,E=u.j.L,u.h=new hi,u.g=bu(u.j,E?m:null,!u.u),u.P>0&&(u.O=new ze(v(u.Y,u,u.g),u.P)),m=u.V,E=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Pe[0]=U.toString()),U=Pe);for(let B=0;B<U.length;B++){const te=bt(E,U[B],b||m.handleEvent,!1,m.h||m);if(!te)break;m.g[te.key]=te}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),bi(),kh(u.i,u.v,u.B,u.l,u.S,u.u)}ci.prototype.ba=function(u){u=u.target;const m=this.O;m&&mi(u)==3?m.j():this.Y(u)},ci.prototype.Y=function(u){try{if(u==this.g)e:{const Ve=mi(this.g),jt=this.g.ya(),ot=this.g.ca();if(!(Ve<3)&&(Ve!=3||this.g&&(this.h.h||this.g.la()||fn(this.g)))){this.K||Ve!=4||jt==7||(jt==8||ot<=0?bi(3):bi(2)),Ii(this);var m=this.g.ca();this.X=m;var E=Uh(this);if(this.o=m==200,au(this.i,this.v,this.B,this.l,this.S,Ve,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(b)){var B=b;break t}}B=null}if(u=B)wi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,u);else{this.o=!1,this.m=3,Gt(12),Un(this),Xn(this);break e}}if(this.R){u=!0;let Ct;for(;!this.K&&this.C<E.length;)if(Ct=uu(this,E),Ct==rn){Ve==4&&(this.m=4,Gt(14),u=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==Ft){this.m=4,Gt(15),wi(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else wi(this.i,this.l,Ct,null),xi(this,Ct);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||E.length!=0||this.h.h||(this.m=1,Gt(16),u=!1),this.o=this.o&&u,!u)wi(this.i,this.l,E,"[Invalid Chunked Response]"),Un(this),Xn(this);else if(E.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),jo(te),te.P=!0,Gt(11))}}else wi(this.i,this.l,E,null),xi(this,E);Ve==4&&Un(this),this.o&&!this.K&&(Ve==4?_u(this.j,this):(this.o=!1,Ci(this)))}else ns(this.g),m==400&&E.indexOf("Unknown SID")>0?(this.m=3,Gt(12)):(this.m=0,Gt(13)),Un(this),Xn(this)}}}catch{}finally{}};function Uh(u){if(!lu(u))return u.g.la();const m=fn(u.g);if(m==="")return"";let E="";const b=m.length,U=mi(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Un(u),Xn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,E+=u.h.i.decode(m[B],{stream:!(U&&B==b-1)});return m.length=0,u.h.g+=E,u.C=0,u.h.g}function lu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function uu(u,m){var E=u.C,b=m.indexOf(`
`,E);return b==-1?rn:(E=Number(m.substring(E,b)),isNaN(E)?Ft:(b+=1,b+E>m.length?rn:(m=m.slice(b,b+E),u.C=b+E,m)))}ci.prototype.cancel=function(){this.K=!0,Un(this)};function Ci(u){u.T=Date.now()+u.H,ha(u,u.H)}function ha(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Si(v(u.aa,u),m)}function Ii(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ci.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Cr(this.i,this.B),this.M!=2&&(bi(),Gt(17)),Un(this),this.m=2,Xn(this)):ha(this,this.T-u)};function Xn(u){u.j.I==0||u.K||_u(u.j,u)}function Un(u){Ii(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Nt(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function xi(u,m){try{var E=u.j;if(E.I!=0&&(E.g==u||Di(E.h,u))){if(!u.L&&Di(E.h,u)&&E.I==3){try{var b=E.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)va(E),Ls(E);else break e;Ur(E),Gt(18)}}else E.xa=U[1],0<E.xa-E.K&&U[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Si(v(E.Va,E),6e3));Ni(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ui(E,11)}else if((u.L||E.g==u)&&va(E),!R(m))for(U=E.Ba.g.parse(m),m=0;m<U.length;m++){let ot=U[m];const Ct=ot[0];if(!(Ct<=E.K))if(E.K=Ct,ot=ot[1],E.I==2)if(ot[0]=="c"){E.M=ot[1],E.ba=ot[2];const Jn=ot[3];Jn!=null&&(E.ka=Jn,E.j.info("VER="+E.ka));const Pi=ot[4];Pi!=null&&(E.za=Pi,E.j.info("SVER="+E.za));const pi=ot[5];pi!=null&&typeof pi=="number"&&pi>0&&(b=1.5*pi,E.O=b,E.j.info("backChannelRequestTimeoutMs_="+b)),b=E;const gi=u.g;if(gi){const Pr=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pr){var B=b.h;B.g||Pr.indexOf("spdy")==-1&&Pr.indexOf("quic")==-1&&Pr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Co(B,B.h),B.h=null))}if(b.G){const Ea=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(b.wa=Ea,ht(b.J,b.G,Ea))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),b=E;var te=u;if(b.na=Tu(b,b.L?b.ba:null,b.W),te.L){Io(b.h,te);var Ve=te,jt=b.O;jt&&(Ve.H=jt),Ve.D&&(Ii(Ve),Ci(Ve)),b.g=te}else gu(b);E.i.length>0&&Li(E)}else ot[0]!="stop"&&ot[0]!="close"||Ui(E,7);else E.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Ui(E,7):Uo(E):ot[0]!="noop"&&E.l&&E.l.qa(ot),E.A=0)}}bi(4)}catch{}}var Qt=class{constructor(u,m){this.g=u,this.map=m}};function wo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ni(u){return u.h?1:u.g?u.g.size:0}function Di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Co(u,m){u.g?u.g.add(m):u.h=m}function Io(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wo.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const E of u.g.values())m=m.concat(E.G);return m}return G(u.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(u,m){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const b=u[E].indexOf("=");let U,B=null;b>=0?(U=u[E].substring(0,b),B=u[E].substring(b+1)):U=u[E],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Pn?(this.l=u.l,an(this,u.j),this.o=u.o,this.g=u.g,xs(this,u.u),this.h=u.h,No(this,mu(u.i)),this.m=u.m):u&&(m=String(u).match(cu))?(this.l=!1,an(this,m[1]||"",!0),this.o=Oi(m[2]||""),this.g=Oi(m[3]||"",!0),xs(this,m[4]),this.h=Oi(m[5]||"",!0),No(this,m[6]||"",!0),this.m=Oi(m[7]||"")):(this.l=!1,this.i=new Ds(null,this.l))}Pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Dr(m,da,!0),":");var E=this.g;return(E||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Dr(m,da,!0),"@"),u.push(es(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Dr(E,E.charAt(0)=="/"?Do:hu,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Dr(E,fu)),u.join("")},Pn.prototype.resolve=function(u){const m=Kt(this);let E=!!u.j;E?an(m,u.j):E=!!u.o,E?m.o=u.o:E=!!u.g,E?m.g=u.g:E=u.u!=null;var b=u.h;if(E)xs(m,u.u);else if(E=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let te=0;te<U.length;){const Ve=U[te++];Ve=="."?b&&te==U.length&&B.push(""):Ve==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&te==U.length&&B.push("")):(B.push(Ve),b=!0)}b=B.join("/")}else b=U}return E?m.h=b:E=u.i.toString()!=="",E?No(m,mu(u.i)):E=!!u.m,E&&(m.m=u.m),m};function Kt(u){return new Pn(u)}function an(u,m,E){u.j=E?Oi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function xs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function No(u,m,E){m instanceof Ds?(u.i=m,pa(u.i,u.l)):(E||(m=Dr(m,Ns)),u.i=new Ds(m,u.l))}function ht(u,m,E){u.i.set(m,E)}function Nr(u){return ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Oi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Dr(u,m,E){return typeof u=="string"?(u=encodeURI(u).replace(m,In),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function In(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var da=/[#\/\?@]/g,hu=/[#\?:]/g,Do=/[#\?]/g,Ns=/[#\?@]/g,fu=/#/g;function Ds(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function xn(u){u.g||(u.g=new Map,u.h=0,u.i&&fa(u.i,function(m,E){u.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}r=Ds.prototype,r.add=function(u,m){xn(this),this.i=null,u=Os(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(m),this.h+=1,this};function du(u,m){xn(u),m=Os(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Oo(u,m){return xn(u),m=Os(u,m),u.g.has(m)}r.forEach=function(u,m){xn(this),this.g.forEach(function(E,b){E.forEach(function(U){u.call(m,U,b,this)},this)},this)};function Mo(u,m){xn(u);let E=[];if(typeof m=="string")Oo(u,m)&&(E=E.concat(u.g.get(Os(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)E=E.concat(u[m]);return E}r.set=function(u,m){return xn(this),this.i=null,u=Os(this,u),Oo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Mo(this,u),u.length>0?String(u[0]):m):m};function ma(u,m,E){du(u,m),E.length>0&&(u.i=null,u.g.set(Os(u,m),G(E)),u.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var E=m[b];const U=es(E);E=Mo(this,E);for(let B=0;B<E.length;B++){let te=U;E[B]!==""&&(te+="="+es(E[B])),u.push(te)}}return this.i=u.join("&")};function mu(u){const m=new Ds;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Os(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function pa(u,m){m&&!u.j&&(xn(u),u.i=null,u.g.forEach(function(E,b){const U=b.toLowerCase();b!=U&&(du(this,b),ma(this,U,E))},u)),u.j=m}function fi(u,m){const E=new ui;if(d.Image){const b=new Image;b.onload=_($n,E,"TestLoadImage: loaded",!0,m,b),b.onerror=_($n,E,"TestLoadImage: error",!1,m,b),b.onabort=_($n,E,"TestLoadImage: abort",!1,m,b),b.ontimeout=_($n,E,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Vo(u,m){const E=new ui,b=new AbortController,U=setTimeout(()=>{b.abort(),$n(E,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(U),B.ok?$n(E,"TestPingServer: ok",!0,m):$n(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),$n(E,"TestPingServer: error",!1,m)})}function $n(u,m,E,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(E)}catch{}}function Ms(){this.g=new mt}function Mi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Mi,oe),Mi.prototype.g=function(){return new Or(this.i,this.h)};function Or(u,m){Re.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Or,Re),r=Or.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,di(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Vs(this):di(this),this.readyState==3&&ga(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Vs(this))},r.Na=function(u){this.g&&(this.response=u,Vs(this))},r.ga=function(){this.g&&Vs(this)};function Vs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,di(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=m.next();return u.join(`\r
`)};function di(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Zn(u){let m="";return Oe(u,function(E,b){m+=b,m+=":",m+=E,m+=`\r
`}),m}function Mr(u,m,E){e:{for(b in E){var b=!1;break e}b=!0}b||(E=Zn(E),typeof u=="string"?E!=null&&es(E):ht(u,m,E))}function pt(u){Re.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(pt,Re);var Vi=/^https?$/i,ko=["POST","PUT"];r=pt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,E,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=M(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Vr(this,B);return}if(u=E||"",E=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)E.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())E.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(E.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ko,m,void 0)>=0)||b||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of E)this.g.setRequestHeader(B,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Vr(this,B)}};function Vr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Lo(u),ts(u)}function Lo(u){u.A||(u.A=!0,Me(u,"complete"),Me(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Me(this,"complete"),Me(this,"abort"),ts(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),pt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?kr(this):this.Xa())},r.Xa=function(){kr(this)};function kr(u){if(u.h&&typeof c<"u"){if(u.v&&mi(u)==4)setTimeout(u.Ca.bind(u),0);else if(Me(u,"readystatechange"),mi(u)==4){u.h=!1;try{const B=u.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var b;if(b=B===0){let te=String(u.D).match(cu)[1]||null;!te&&d.self&&d.self.location&&(te=d.self.location.protocol.slice(0,-1)),b=!Vi.test(te?te.toLowerCase():"")}E=b}if(E)Me(u,"complete"),Me(u,"success");else{u.o=6;try{var U=mi(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Lo(u)}}finally{ts(u)}}}}function ts(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,m||Me(u,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function mi(u){return u.g?u.g.readyState:0}r.ca=function(){try{return mi(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),hn(m)}};function fn(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ns(u){const m={};u=(u.g&&mi(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(R(u[b]))continue;var E=ou(u[b]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const B=m[U]||[];m[U]=B,B.push(E)}je(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ki(u,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||m}function ks(u){this.za=0,this.i=[],this.j=new ui,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ki("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ki("baseRetryDelayMs",5e3,u),this.Za=ki("retryDelaySeedMs",1e4,u),this.Ta=ki("forwardChannelMaxRetries",2,u),this.va=ki("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(u&&u.concurrentRequestLimit),this.Ba=new Ms,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ks.prototype,r.ka=8,r.I=1,r.connect=function(u,m,E,b){Gt(0),this.W=u,this.H=m||{},E&&b!==void 0&&(this.H.OSID=E,this.H.OAID=b),this.F=this.X,this.J=Tu(this,null,this.W),Li(this)};function Uo(u){if(ya(u),u.I==3){var m=u.V++,E=Kt(u.J);if(ht(E,"SID",u.M),ht(E,"RID",m),ht(E,"TYPE","terminate"),Lr(u,E),m=new ci(u,u.j,m),m.M=2,m.A=Nr(Kt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=m.A,E=!0),E||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ci(m)}Eu(u)}function Ls(u){u.g&&(jo(u),u.g.cancel(),u.g=null)}function ya(u){Ls(u),u.v&&(d.clearTimeout(u.v),u.v=null),va(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Li(u){if(!Ro(u.h)&&!u.m){u.m=!0;var m=u.Ea;nt||S(),Xe||(nt(),Xe=!0),x.add(m,u),u.D=0}}function _a(u,m){return Ni(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Si(v(u.Ea,u,m),vu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ci(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),ne(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var b=this.i[E];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=pu(this,U,m),E=Kt(this.J),ht(E,"RID",u),ht(E,"CVER",22),this.G&&ht(E,"X-HTTP-Session-Id",this.G),Lr(this,E),B&&(this.R?m="headers="+es(Zn(B))+"&"+m:this.u&&Mr(E,this.u,B)),Co(this.h,U),this.Ra&&ht(E,"TYPE","init"),this.S?(ht(E,"$req",m),ht(E,"SID","null"),U.U=!0,Ri(U,E,null)):Ri(U,E,m),this.I=2}}else this.I==3&&(u?Po(this,u):this.i.length==0||Ro(this.h)||Po(this))};function Po(u,m){var E;m?E=m.l:E=u.V++;const b=Kt(u.J);ht(b,"SID",u.M),ht(b,"RID",E),ht(b,"AID",u.K),Lr(u,b),u.u&&u.o&&Mr(b,u.u,u.o),E=new ci(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),m&&(u.i=m.G.concat(u.i)),m=pu(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Co(u.h,E),Ri(E,b,m)}function Lr(u,m){u.H&&Oe(u.H,function(E,b){ht(m,b,E)}),u.l&&Oe({},function(E,b){ht(m,b,E)})}function pu(u,m,E){E=Math.min(u.i.length,E);const b=u.l?v(u.l.Ka,u.l,u):null;e:{var U=u.i;let Ve=-1;for(;;){const jt=["count="+E];Ve==-1?E>0?(Ve=U[0].g,jt.push("ofs="+Ve)):Ve=0:jt.push("ofs="+Ve);let ot=!0;for(let Ct=0;Ct<E;Ct++){var B=U[Ct].g;const Jn=U[Ct].map;if(B-=Ve,B<0)Ve=Math.max(0,U[Ct].g-100),ot=!1;else try{B="req"+B+"_"||"";try{var te=Jn instanceof Map?Jn:Object.entries(Jn);for(const[Pi,pi]of te){let gi=pi;y(pi)&&(gi=Ut(pi)),jt.push(B+Pi+"="+encodeURIComponent(gi))}}catch(Pi){throw jt.push(B+"type="+encodeURIComponent("_badmap")),Pi}}catch{b&&b(Jn)}}if(ot){te=jt.join("&");break e}}te=void 0}return u=u.i.splice(0,E),m.G=u,te}function gu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;nt||S(),Xe||(nt(),Xe=!0),x.add(m,u),u.A=0}}function Ur(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Si(v(u.Da,u),vu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Si(v(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Gt(10),Ls(this),yu(this))};function jo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function yu(u){u.g=new ci(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Kt(u.na);ht(m,"RID","rpc"),ht(m,"SID",u.M),ht(m,"AID",u.K),ht(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ht(m,"TO",u.ia),ht(m,"TYPE","xmlhttp"),Lr(u,m),u.u&&u.o&&Mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=Nr(Kt(m)),E.u=null,E.R=!0,ca(E,u)}r.Va=function(){this.C!=null&&(this.C=null,Ls(this),Ur(this),Gt(19))};function va(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function _u(u,m){var E=null;if(u.g==m){va(u),jo(u),u.g=null;var b=2}else if(Di(u.h,m))E=m.G,Io(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){E=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=ua(),Me(b,new Ai(b,E)),Li(u)}else gu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&_a(u,m)||b==2&&Ur(u)))switch(E&&E.length>0&&(m=u.h,m.i=m.i.concat(E)),U){case 1:Ui(u,5);break;case 4:Ui(u,10);break;case 3:Ui(u,6);break;default:Ui(u,2)}}}function vu(u,m){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*m}function Ui(u,m){if(u.j.info("Error code "+m),m==2){var E=v(u.bb,u),b=u.Ua;const U=!b;b=new Pn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||an(b,"https"),Nr(b),U?fi(b.toString(),E):Vo(b.toString(),E)}else Gt(2);u.I=0,u.l&&u.l.pa(m),Eu(u),ya(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function Eu(u){if(u.I=0,u.ja=[],u.l){const m=xo(u.h);(m.length!=0||u.i.length!=0)&&(ee(u.ja,m),ee(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Tu(u,m,E){var b=E instanceof Pn?Kt(E):new Pn(E);if(b.g!="")m&&(b.g=m+"."+b.g),xs(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new Pn(null);b&&an(B,b),m&&(B.g=m),U&&xs(B,U),E&&(B.h=E),b=B}return E=u.G,m=u.wa,E&&m&&ht(b,E,m),ht(b,"VER",u.ka),Lr(u,b),b}function bu(u,m,E){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new pt(new Mi({ab:E})):new pt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Us(){}Us.prototype.g=function(u,m){return new wn(u,m)};function wn(u,m){Re.call(this),this.g=new ks(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new is(this)}w(wn,Re),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Uo(this.g)},wn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=Ut(u),u=E);m.i.push(new Qt(m.Ya++,u)),m.I==3&&Li(m)},wn.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,wn.Z.N.call(this)};function Su(u){Dt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const E in m){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Su,Dt);function wu(){Yn.call(this),this.status=1}w(wu,Yn);function is(u){this.g=u}w(is,Au),is.prototype.ra=function(){Me(this.g,"a")},is.prototype.qa=function(u){Me(this.g,new Su(u))},is.prototype.pa=function(u){Me(this.g,new wu)},is.prototype.oa=function(){Me(this.g,"b")},Us.prototype.createWebChannel=Us.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,yE=function(){return new Us},gE=function(){return ua()},pE=Pt,om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Bc=Ir,Ao.COMPLETE="complete",mE=Ao,$e.EventType=vt,vt.OPEN="a",vt.CLOSE="b",vt.ERROR="c",vt.MESSAGE="d",Re.prototype.listen=Re.prototype.J,Rl=$e,pt.prototype.listenOnce=pt.prototype.K,pt.prototype.getLastError=pt.prototype.Ha,pt.prototype.getLastErrorCode=pt.prototype.ya,pt.prototype.getStatus=pt.prototype.ca,pt.prototype.getResponseJson=pt.prototype.La,pt.prototype.getResponseText=pt.prototype.la,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Fa,dE=pt}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const v0="@firebase/firestore",E0="4.9.2";let bn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};bn.UNAUTHENTICATED=new bn(null),bn.GOOGLE_CREDENTIALS=new bn("google-credentials-uid"),bn.FIRST_PARTY=new bn("first-party-uid"),bn.MOCK_USER=new bn("mock-user");let vo="12.3.0";const ra=new Cm("@firebase/firestore");function $a(){return ra.logLevel}function ue(r,...e){if(ra.logLevel<=Qe.DEBUG){const i=e.map(Pm);ra.debug(`Firestore (${vo}): ${r}`,...i)}}function Rs(r,...e){if(ra.logLevel<=Qe.ERROR){const i=e.map(Pm);ra.error(`Firestore (${vo}): ${r}`,...i)}}function oo(r,...e){if(ra.logLevel<=Qe.WARN){const i=e.map(Pm);ra.warn(`Firestore (${vo}): ${r}`,...i)}}function Pm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Se(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,_E(r,a,i)}function _E(r,e,i){let a=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Rs(a),new Error(a)}function ct(r,e,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||_E(e,l,a)}function Ne(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Is{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gr{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class vE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(bn.UNAUTHENTICATED)))}shutdown(){}}class R2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class C2{constructor(e){this.t=e,this.currentUser=bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ct(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,i(g)):Promise.resolve();let c=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new gr,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},y=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>y(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?y(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new gr)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ct(typeof a.accessToken=="string",31837,{l:a}),new vE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new bn(e)}}class I2{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class x2{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new I2(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(bn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class T0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N2{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){ct(this.o===void 0,3512);const a=c=>{c.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new T0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(ct(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new T0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function D2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class jm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=D2(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=e.charAt(l[c]%62))}return a}}function Ke(r,e){return r<e?-1:r>e?1:0}function lm(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=e.charAt(a);if(l!==c)return Fd(l)===Fd(c)?Ke(l,c):Fd(l)?1:-1}return Ke(r.length,e.length)}const O2=55296,M2=57343;function Fd(r){const e=r.charCodeAt(0);return e>=O2&&e<=M2}function lo(r,e,i){return r.length===e.length&&r.every(((a,l)=>i(a,e[l])))}const b0="__name__";class qi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Se(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Se(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return qi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof qi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let l=0;l<a;l++){const c=qi.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return Ke(e.length,i.length)}static compareSegments(e,i){const a=qi.isNumericId(e),l=qi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?qi.extractNumericId(e).compare(qi.extractNumericId(i)):lm(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}}class Ot extends qi{construct(e,i,a){return new Ot(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new de(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new Ot(i)}static emptyPath(){return new Ot([])}}const V2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends qi{construct(e,i,a){return new _n(e,i,a)}static isValidIdentifier(e){return V2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b0}static keyField(){return new _n([b0])}static fromServerFormat(e){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new de(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<e.length;){const y=e[l];if(y==="\\"){if(l+1===e.length)throw new de(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(c(),l++)}if(c(),d)throw new de(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _n(i)}static emptyPath(){return new _n([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Ot.fromString(e))}static fromName(e){return new Te(Ot.fromString(e).popFirst(5))}static empty(){return new Te(Ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Ot.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Ot(e.slice()))}}function k2(r,e,i){if(!i)throw new de(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function L2(r,e,i,a){if(e===!0&&a===!0)throw new de(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function A0(r){if(!Te.isDocumentKey(r))throw new de(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function EE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function zm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se(12329,{type:typeof r})}function Qi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=zm(r);throw new de(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function Wt(r,e){const i={typeString:r};return e&&(i.value=e),i}function Jl(r,e){if(!EE(r))throw new de(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new de(Z.INVALID_ARGUMENT,i);return!0}const S0=-62135596800,w0=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*w0);return new Rt(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new de(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new de(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<S0)throw new de(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w0}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jl(e,Rt._jsonSchema))return new Rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-S0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:Wt("string",Rt._jsonSchemaVersion),seconds:Wt("number"),nanoseconds:Wt("number")};class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Rt(0,0))}static max(){return new Ie(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jl=-1;function U2(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Ie.fromTimestamp(a===1e9?new Rt(i+1,0):new Rt(i,a));return new _r(l,Te.empty(),e)}function P2(r){return new _r(r.readTime,r.key,jl)}class _r{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new _r(Ie.min(),Te.empty(),jl)}static max(){return new _r(Ie.max(),Te.empty(),jl)}}function j2(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=Te.comparator(r.documentKey,e.documentKey),i!==0?i:Ke(r.largestBatchId,e.largestBatchId))}const z2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Eo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==z2)throw r;ue("LocalStore","Unexpectedly lost primary lease")}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):$.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):$.reject(i)}static resolve(e){return new $(((i,a)=>{i(e)}))}static reject(e){return new $(((i,a)=>{a(e)}))}static waitFor(e){return new $(((i,a)=>{let l=0,c=0,d=!1;e.forEach((y=>{++l,y.next((()=>{++c,d&&c===l&&i()}),(g=>a(g)))})),d=!0,c===l&&i()}))}static or(e){let i=$.resolve(!1);for(const a of e)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(e,i){const a=[];return e.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(e,i){return new $(((a,l)=>{const c=e.length,d=new Array(c);let y=0;for(let g=0;g<c;g++){const v=g;i(e[v]).next((_=>{d[v]=_,++y,y===c&&a(d)}),(_=>l(_)))}}))}static doWhile(e,i){return new $(((a,l)=>{const c=()=>{e()===!0?i().next((()=>{c()}),l):a()};c()}))}}function H2(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function To(r){return r.name==="IndexedDbTransactionError"}class yh{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}yh.ce=-1;const Bm=-1;function _h(r){return r==null}function nh(r){return r===0&&1/r==-1/0}function q2(r){return typeof r=="number"&&Number.isInteger(r)&&!nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const TE="";function G2(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=R0(e)),e=F2(r.get(i),e);return R0(e)}function F2(r,e){let i=e;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case TE:i+="";break;default:i+=c}}return i}function R0(r){return r+TE+""}function C0(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Sr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function bE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Mt{constructor(e,i){this.comparator=e,this.root=i||yn.EMPTY}insert(e,i){return new Mt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?a(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,i,a,l,c){this.key=e,this.value=i,this.color=a??yn.RED,this.left=l??yn.EMPTY,this.right=c??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,l,c){return new yn(e??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return yn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,i,a,l,c){return this}insert(e,i,a){return new yn(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sn{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new I0(this.data.getIterator())}getIteratorFrom(e){return new I0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new sn(this.comparator);return i.data=e,i}}class I0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qn{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new Qn([])}unionWith(e){let i=new sn(_n.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}class AE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new AE("Invalid base64 string: "+c):c}})(e);return new vn(i)}static fromUint8Array(e){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new vn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const Q2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(r){if(ct(!!r,39018),typeof r=="string"){let e=0;const i=Q2.exec(r);if(ct(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:qt(r.seconds),nanos:qt(r.nanos)}}function qt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Er(r){return typeof r=="string"?vn.fromBase64String(r):vn.fromUint8Array(r)}const SE="server_timestamp",wE="__type__",RE="__previous_value__",CE="__local_write_time__";function Hm(r){return(r?.mapValue?.fields||{})[wE]?.stringValue===SE}function vh(r){const e=r.mapValue.fields[RE];return Hm(e)?vh(e):e}function zl(r){const e=vr(r.mapValue.fields[CE].timestampValue);return new Rt(e.seconds,e.nanos)}class K2{constructor(e,i,a,l,c,d,y,g,v,_){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=g,this.useFetchStreams=v,this.isUsingEmulator=_}}const ih="(default)";class Bl{constructor(e,i){this.projectId=e,this.database=i||ih}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===ih}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}const IE="__type__",Y2="__max__",Oc={mapValue:{}},xE="__vector__",sh="value";function Tr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hm(r)?4:$2(r)?9007199254740991:X2(r)?10:11:Se(28295,{value:r})}function Ji(r,e){if(r===e)return!0;const i=Tr(r);if(i!==Tr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return zl(r).isEqual(zl(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=vr(l.timestampValue),y=vr(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,c){return Er(l.bytesValue).isEqual(Er(c.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,c){return qt(l.geoPointValue.latitude)===qt(c.geoPointValue.latitude)&&qt(l.geoPointValue.longitude)===qt(c.geoPointValue.longitude)})(r,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return qt(l.integerValue)===qt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=qt(l.doubleValue),y=qt(c.doubleValue);return d===y?nh(d)===nh(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return lo(r.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},y=c.mapValue.fields||{};if(C0(d)!==C0(y))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(y[g]===void 0||!Ji(d[g],y[g])))return!1;return!0})(r,e);default:return Se(52216,{left:r})}}function Hl(r,e){return(r.values||[]).find((i=>Ji(i,e)))!==void 0}function uo(r,e){if(r===e)return 0;const i=Tr(r),a=Tr(e);if(i!==a)return Ke(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ke(r.booleanValue,e.booleanValue);case 2:return(function(c,d){const y=qt(c.integerValue||c.doubleValue),g=qt(d.integerValue||d.doubleValue);return y<g?-1:y>g?1:y===g?0:isNaN(y)?isNaN(g)?0:-1:1})(r,e);case 3:return x0(r.timestampValue,e.timestampValue);case 4:return x0(zl(r),zl(e));case 5:return lm(r.stringValue,e.stringValue);case 6:return(function(c,d){const y=Er(c),g=Er(d);return y.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(c,d){const y=c.split("/"),g=d.split("/");for(let v=0;v<y.length&&v<g.length;v++){const _=Ke(y[v],g[v]);if(_!==0)return _}return Ke(y.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(c,d){const y=Ke(qt(c.latitude),qt(d.latitude));return y!==0?y:Ke(qt(c.longitude),qt(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return N0(r.arrayValue,e.arrayValue);case 10:return(function(c,d){const y=c.fields||{},g=d.fields||{},v=y[sh]?.arrayValue,_=g[sh]?.arrayValue,w=Ke(v?.values?.length||0,_?.values?.length||0);return w!==0?w:N0(v,_)})(r.mapValue,e.mapValue);case 11:return(function(c,d){if(c===Oc.mapValue&&d===Oc.mapValue)return 0;if(c===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const y=c.fields||{},g=Object.keys(y),v=d.fields||{},_=Object.keys(v);g.sort(),_.sort();for(let w=0;w<g.length&&w<_.length;++w){const M=lm(g[w],_[w]);if(M!==0)return M;const G=uo(y[g[w]],v[_[w]]);if(G!==0)return G}return Ke(g.length,_.length)})(r.mapValue,e.mapValue);default:throw Se(23264,{he:i})}}function x0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ke(r,e);const i=vr(r),a=vr(e),l=Ke(i.seconds,a.seconds);return l!==0?l:Ke(i.nanos,a.nanos)}function N0(r,e){const i=r.values||[],a=e.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=uo(i[l],a[l]);if(c)return c}return Ke(i.length,a.length)}function co(r){return um(r)}function um(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=vr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Er(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return Te.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=um(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${um(i.fields[d])}`;return l+"}"})(r.mapValue):Se(61005,{value:r})}function Hc(r){switch(Tr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vh(r);return e?16+Hc(e):16;case 5:return 2*r.stringValue.length;case 6:return Er(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Hc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return Sr(a.fields,((c,d)=>{l+=c.length+Hc(d)})),l})(r.mapValue);default:throw Se(13486,{value:r})}}function cm(r){return!!r&&"integerValue"in r}function qm(r){return!!r&&"arrayValue"in r}function D0(r){return!!r&&"nullValue"in r}function O0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function qc(r){return!!r&&"mapValue"in r}function X2(r){return(r?.mapValue?.fields||{})[IE]?.stringValue===xE}function Ol(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Sr(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Ol(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ol(r.arrayValue.values[i]);return e}return{...r}}function $2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Y2}class Ln{constructor(e){this.value=e}static empty(){return new Ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!qc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(i)}setAll(e){let i=_n.emptyPath(),a={},l=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const g=this.getFieldsMap(i);this.applyChanges(g,a,l),a={},l=[],i=y.popLast()}d?a[y.lastSegment()]=Ol(d):l.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(e){const i=this.field(e.popLast());qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=i.mapValue.fields[e.get(a)];qc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,a){Sr(i,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new Ln(Ol(this.value))}}function NE(r){const e=[];return Sr(r.fields,((i,a)=>{const l=new _n([i]);if(qc(a)){const c=NE(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Qn(e)}class An{constructor(e,i,a,l,c,d,y){this.key=e,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(e){return new An(e,0,Ie.min(),Ie.min(),Ie.min(),Ln.empty(),0)}static newFoundDocument(e,i,a,l){return new An(e,1,i,Ie.min(),a,l,0)}static newNoDocument(e,i){return new An(e,2,i,Ie.min(),Ie.min(),Ln.empty(),0)}static newUnknownDocument(e,i){return new An(e,3,i,Ie.min(),Ie.min(),Ln.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rh{constructor(e,i){this.position=e,this.inclusive=i}}function M0(r,e,i){let a=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?a=Te.comparator(Te.fromName(d.referenceValue),i.key):a=uo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function V0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ji(r.position[i],e.position[i]))return!1;return!0}class ah{constructor(e,i="asc"){this.field=e,this.dir=i}}function Z2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class DE{}class nn extends DE{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new W2(e,i,a):i==="array-contains"?new nR(e,a):i==="in"?new iR(e,a):i==="not-in"?new sR(e,a):i==="array-contains-any"?new rR(e,a):new nn(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new eR(e,a):new tR(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(uo(i,this.value)):i!==null&&Tr(this.value)===Tr(i)&&this.matchesComparison(uo(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends DE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Wi(e,i)}matches(e){return OE(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OE(r){return r.op==="and"}function ME(r){return J2(r)&&OE(r)}function J2(r){for(const e of r.filters)if(e instanceof Wi)return!1;return!0}function hm(r){if(r instanceof nn)return r.field.canonicalString()+r.op.toString()+co(r.value);if(ME(r))return r.filters.map((e=>hm(e))).join(",");{const e=r.filters.map((i=>hm(i))).join(",");return`${r.op}(${e})`}}function VE(r,e){return r instanceof nn?(function(a,l){return l instanceof nn&&a.op===l.op&&a.field.isEqual(l.field)&&Ji(a.value,l.value)})(r,e):r instanceof Wi?(function(a,l){return l instanceof Wi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,y)=>c&&VE(d,l.filters[y])),!0):!1})(r,e):void Se(19439)}function kE(r){return r instanceof nn?(function(i){return`${i.field.canonicalString()} ${i.op} ${co(i.value)}`})(r):r instanceof Wi?(function(i){return i.op.toString()+" {"+i.getFilters().map(kE).join(" ,")+"}"})(r):"Filter"}class W2 extends nn{constructor(e,i,a){super(e,i,a),this.key=Te.fromName(a.referenceValue)}matches(e){const i=Te.comparator(e.key,this.key);return this.matchesComparison(i)}}class eR extends nn{constructor(e,i){super(e,"in",i),this.keys=LE("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class tR extends nn{constructor(e,i){super(e,"not-in",i),this.keys=LE("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function LE(r,e){return(e.arrayValue?.values||[]).map((i=>Te.fromName(i.referenceValue)))}class nR extends nn{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return qm(i)&&Hl(i.arrayValue,this.value)}}class iR extends nn{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Hl(this.value.arrayValue,i)}}class sR extends nn{constructor(e,i){super(e,"not-in",i)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Hl(this.value.arrayValue,i)}}class rR extends nn{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!qm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Hl(this.value.arrayValue,a)))}}class aR{constructor(e,i=null,a=[],l=[],c=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function k0(r,e=null,i=[],a=[],l=null,c=null,d=null){return new aR(r,e,i,a,l,c,d)}function Gm(r){const e=Ne(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>hm(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),_h(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>co(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>co(a))).join(",")),e.Te=i}return e.Te}function Fm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Z2(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!VE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!V0(r.startAt,e.startAt)&&V0(r.endAt,e.endAt)}function fm(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Eh{constructor(e,i=null,a=[],l=[],c=null,d="F",y=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oR(r,e,i,a,l,c,d,y){return new Eh(r,e,i,a,l,c,d,y)}function Th(r){return new Eh(r)}function L0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function lR(r){return r.collectionGroup!==null}function Ml(r){const e=Ne(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new sn(_n.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((v=>{v.isInequality()&&(y=y.add(v.field))}))})),y})(e).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ah(c,a))})),i.has(_n.keyField().canonicalString())||e.Ie.push(new ah(_n.keyField(),a))}return e.Ie}function Ki(r){const e=Ne(r);return e.Ee||(e.Ee=uR(e,Ml(r))),e.Ee}function uR(r,e){if(r.limitType==="F")return k0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new ah(l.field,c)}));const i=r.endAt?new rh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new rh(r.startAt.position,r.startAt.inclusive):null;return k0(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function dm(r,e,i){return new Eh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function bh(r,e){return Fm(Ki(r),Ki(e))&&r.limitType===e.limitType}function UE(r){return`${Gm(Ki(r))}|lt:${r.limitType}`}function Za(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>kE(l))).join(", ")}]`),_h(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>co(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>co(l))).join(",")),`Target(${a})`})(Ki(r))}; limitType=${r.limitType})`}function Ah(r,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):Te.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,e)&&(function(a,l){for(const c of Ml(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,e)&&(function(a,l){return!(a.startAt&&!(function(d,y,g){const v=M0(d,y,g);return d.inclusive?v<=0:v<0})(a.startAt,Ml(a),l)||a.endAt&&!(function(d,y,g){const v=M0(d,y,g);return d.inclusive?v>=0:v>0})(a.endAt,Ml(a),l))})(r,e)}function cR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function PE(r){return(e,i)=>{let a=!1;for(const l of Ml(r)){const c=hR(l,e,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function hR(r,e,i){const a=r.field.isKeyField()?Te.comparator(e.key,i.key):(function(c,d,y){const g=d.data.field(c),v=y.data.field(c);return g!==null&&v!==null?uo(g,v):Se(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Se(19790,{direction:r.dir})}}class oa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Sr(this.inner,((i,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return bE(this.inner)}size(){return this.innerSize}}const fR=new Mt(Te.comparator);function Cs(){return fR}const jE=new Mt(Te.comparator);function Cl(...r){let e=jE;for(const i of r)e=e.insert(i.key,i);return e}function zE(r){let e=jE;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function ta(){return Vl()}function BE(){return Vl()}function Vl(){return new oa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const dR=new Mt(Te.comparator),mR=new sn(Te.comparator);function Ye(...r){let e=mR;for(const i of r)e=e.add(i);return e}const pR=new sn(Ke);function gR(){return pR}function Qm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function HE(r){return{integerValue:""+r}}function yR(r,e){return q2(e)?HE(e):Qm(r,e)}class Sh{constructor(){this._=void 0}}function _R(r,e,i){return r instanceof oh?(function(l,c){const d={fields:{[wE]:{stringValue:SE},[CE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Hm(c)&&(c=vh(c)),c&&(d.fields[RE]=c),{mapValue:d}})(i,e):r instanceof ho?GE(r,e):r instanceof ql?FE(r,e):(function(l,c){const d=qE(l,c),y=U0(d)+U0(l.Ae);return cm(d)&&cm(l.Ae)?HE(y):Qm(l.serializer,y)})(r,e)}function vR(r,e,i){return r instanceof ho?GE(r,e):r instanceof ql?FE(r,e):i}function qE(r,e){return r instanceof lh?(function(a){return cm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class oh extends Sh{}class ho extends Sh{constructor(e){super(),this.elements=e}}function GE(r,e){const i=QE(e);for(const a of r.elements)i.some((l=>Ji(l,a)))||i.push(a);return{arrayValue:{values:i}}}class ql extends Sh{constructor(e){super(),this.elements=e}}function FE(r,e){let i=QE(e);for(const a of r.elements)i=i.filter((l=>!Ji(l,a)));return{arrayValue:{values:i}}}class lh extends Sh{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function U0(r){return qt(r.integerValue||r.doubleValue)}function QE(r){return qm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class ER{constructor(e,i){this.field=e,this.transform=i}}function TR(r,e){return r.field.isEqual(e.field)&&(function(a,l){return a instanceof ho&&l instanceof ho||a instanceof ql&&l instanceof ql?lo(a.elements,l.elements,Ji):a instanceof lh&&l instanceof lh?Ji(a.Ae,l.Ae):a instanceof oh&&l instanceof oh})(r.transform,e.transform)}class bR{constructor(e,i){this.version=e,this.transformResults=i}}class Yi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Yi}static exists(e){return new Yi(void 0,e)}static updateTime(e){return new Yi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class wh{}function KE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new XE(r.key,Yi.none()):new Wl(r.key,r.data,Yi.none());{const i=r.data,a=Ln.empty();let l=new sn(_n.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new wr(r.key,a,new Qn(l.toArray()),Yi.none())}}function AR(r,e,i){r instanceof Wl?(function(l,c,d){const y=l.value.clone(),g=j0(l.fieldTransforms,c,d.transformResults);y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof wr?(function(l,c,d){if(!Gc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const y=j0(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(YE(l)),g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function kl(r,e,i,a){return r instanceof Wl?(function(c,d,y,g){if(!Gc(c.precondition,d))return y;const v=c.value.clone(),_=z0(c.fieldTransforms,g,d);return v.setAll(_),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,e,i,a):r instanceof wr?(function(c,d,y,g){if(!Gc(c.precondition,d))return y;const v=z0(c.fieldTransforms,g,d),_=d.data;return _.setAll(YE(c)),_.setAll(v),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,e,i,a):(function(c,d,y){return Gc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function SR(r,e){let i=null;for(const a of r.fieldTransforms){const l=e.data.field(a.field),c=qE(a.transform,l||null);c!=null&&(i===null&&(i=Ln.empty()),i.set(a.field,c))}return i||null}function P0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&lo(a,l,((c,d)=>TR(c,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Wl extends wh{constructor(e,i,a,l=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class wr extends wh{constructor(e,i,a,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function YE(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function j0(r,e,i){const a=new Map;ct(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,y=e.data.field(c.field);a.set(c.field,vR(d,y,i[l]))}return a}function z0(r,e,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,_R(c,d,e))}return a}class XE extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wR extends wh{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class RR{constructor(e,i,a,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&AR(c,e,a[l])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=kl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=BE();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(l.key)?null:y;const g=KE(d,y);g!==null&&a.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(Ie.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,((i,a)=>P0(i,a)))&&lo(this.baseMutations,e.baseMutations,((i,a)=>P0(i,a)))}}class Km{constructor(e,i,a,l){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(e,i,a){ct(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return dR})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Km(e,i,a,l)}}class CR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class IR{constructor(e,i){this.count=e,this.unchangedNames=i}}var Jt,Je;function xR(r){switch(r){case Z.OK:return Se(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Se(15467,{code:r})}}function $E(r){if(r===void 0)return Rs("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Jt.OK:return Z.OK;case Jt.CANCELLED:return Z.CANCELLED;case Jt.UNKNOWN:return Z.UNKNOWN;case Jt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Jt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Jt.INTERNAL:return Z.INTERNAL;case Jt.UNAVAILABLE:return Z.UNAVAILABLE;case Jt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Jt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Jt.NOT_FOUND:return Z.NOT_FOUND;case Jt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Jt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Jt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Jt.ABORTED:return Z.ABORTED;case Jt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Jt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Jt.DATA_LOSS:return Z.DATA_LOSS;default:return Se(39323,{code:r})}}(Je=Jt||(Jt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";function NR(){return new TextEncoder}const DR=new pr([4294967295,4294967295],0);function B0(r){const e=NR().encode(r),i=new fE;return i.update(e),new Uint8Array(i.digest())}function H0(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new pr([i,a],0),new pr([l,c],0)]}class Ym{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Il(`Invalid padding: ${i}`);if(a<0)throw new Il(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Il(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=pr.fromNumber(this.ge)}ye(e,i,a){let l=e.add(i.multiply(pr.fromNumber(a)));return l.compare(DR)===1&&(l=new pr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=B0(e),[a,l]=H0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,i,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Ym(c,l,i);return a.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=B0(e),[a,l]=H0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(e,i,a,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const l=new Map;return l.set(e,eu.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new Rh(Ie.min(),l,new Mt(Ke),Cs(),Ye())}}class eu{constructor(e,i,a,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new eu(a,i,Ye(),Ye(),Ye())}}class Fc{constructor(e,i,a,l){this.be=e,this.removedTargetIds=i,this.key=a,this.De=l}}class ZE{constructor(e,i){this.targetId=e,this.Ce=i}}class JE{constructor(e,i,a=vn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=l}}class q0{constructor(){this.ve=0,this.Fe=G0(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),i=Ye(),a=Ye();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:Se(38017,{changeType:c})}})),new eu(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=G0()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class OR{constructor(e){this.Ge=e,this.ze=new Map,this.je=Cs(),this.Je=Mc(),this.He=Mc(),this.Ye=new Mt(Ke)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(e){const i=e.targetId,a=e.Ce.count,l=this.ot(i);if(l){const c=l.target;if(fm(c))if(a===0){const d=new Te(c.path);this.et(i,d,An.newNoDocument(d,Ie.min()))}else ct(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(e),g=y?this.ct(y,e,d):1;if(g!==0){this.it(i);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,y;try{d=Er(a).toUint8Array()}catch(g){if(g instanceof AE)return oo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{y=new Ym(d,l,c)}catch(g){return oo(g instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return y.ge===0?null:y}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(y)||(this.et(i,c,null),l++)})),l}Tt(e){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&fm(y.target)){const g=new Te(y.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,An.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ye();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((g=>{const v=this.ot(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new Rh(e,i,this.Ye,this.je,a);return this.je=Cs(),this.Je=Mc(),this.He=Mc(),this.Ye=new Mt(Ke),l}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new q0,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new sn(Ke),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new sn(Ke),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ue("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new q0),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Mc(){return new Mt(Te.comparator)}function G0(){return new Mt(Te.comparator)}const MR={asc:"ASCENDING",desc:"DESCENDING"},VR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kR={and:"AND",or:"OR"};class LR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function mm(r,e){return r.useProto3Json||_h(e)?e:{value:e}}function uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function UR(r,e){return uh(r,e.toTimestamp())}function Xi(r){return ct(!!r,49232),Ie.fromTimestamp((function(i){const a=vr(i);return new Rt(a.seconds,a.nanos)})(r))}function Xm(r,e){return pm(r,e).canonicalString()}function pm(r,e){const i=(function(l){return new Ot(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?i:i.child(e)}function eT(r){const e=Ot.fromString(r);return ct(rT(e),10190,{key:e.toString()}),e}function gm(r,e){return Xm(r.databaseId,e.path)}function Qd(r,e){const i=eT(e);if(i.get(1)!==r.databaseId.projectId)throw new de(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new de(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new Te(nT(i))}function tT(r,e){return Xm(r.databaseId,e)}function PR(r){const e=eT(r);return e.length===4?Ot.emptyPath():nT(e)}function ym(r){return new Ot(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function nT(r){return ct(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function F0(r,e,i){return{name:gm(r,e),fields:i.value.mapValue.fields}}function jR(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Se(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(v,_){return v.useProto3Json?(ct(_===void 0||typeof _=="string",58123),vn.fromBase64String(_||"")):(ct(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),vn.fromUint8Array(_||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(v){const _=v.code===void 0?Z.UNKNOWN:$E(v.code);return new de(_,v.message||"")})(d);i=new JE(a,l,c,y||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Qd(r,a.document.name),c=Xi(a.document.updateTime),d=a.document.createTime?Xi(a.document.createTime):Ie.min(),y=new Ln({mapValue:{fields:a.document.fields}}),g=An.newFoundDocument(l,c,d,y),v=a.targetIds||[],_=a.removedTargetIds||[];i=new Fc(v,_,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Qd(r,a.document),c=a.readTime?Xi(a.readTime):Ie.min(),d=An.newNoDocument(l,c),y=a.removedTargetIds||[];i=new Fc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Qd(r,a.document),c=a.removedTargetIds||[];i=new Fc([],c,l,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new IR(l,c),y=a.targetId;i=new ZE(y,d)}}return i}function zR(r,e){let i;if(e instanceof Wl)i={update:F0(r,e.key,e.value)};else if(e instanceof XE)i={delete:gm(r,e.key)};else if(e instanceof wr)i={update:F0(r,e.key,e.data),updateMask:XR(e.fieldMask)};else{if(!(e instanceof wR))return Se(16599,{Vt:e.type});i={verify:gm(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof oh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof ho)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof ql)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof lh)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw Se(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:UR(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(r,e.precondition)),i}function BR(r,e){return r&&r.length>0?(ct(e!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Xi(l.updateTime):Xi(c);return d.isEqual(Ie.min())&&(d=Xi(c)),new bR(d,l.transformResults||[])})(i,e)))):[]}function HR(r,e){return{documents:[tT(r,e.path)]}}function qR(r,e){const i={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=tT(r,l);const c=(function(v){if(v.length!==0)return sT(Wi.create(v,"and"))})(e.filters);c&&(i.structuredQuery.where=c);const d=(function(v){if(v.length!==0)return v.map((_=>(function(M){return{field:Ja(M.field),direction:QR(M.dir)}})(_)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=mm(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:l}}function GR(r){let e=PR(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){ct(a===1,65062);const _=i.from[0];_.allDescendants?l=_.collectionId:e=e.child(_.collectionId)}let c=[];i.where&&(c=(function(w){const M=iT(w);return M instanceof Wi&&ME(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(ee){return new ah(Wa(ee.field),(function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(ee.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(w){let M;return M=typeof w=="object"?w.value:w,_h(M)?null:M})(i.limit));let g=null;i.startAt&&(g=(function(w){const M=!!w.before,G=w.values||[];return new rh(G,M)})(i.startAt));let v=null;return i.endAt&&(v=(function(w){const M=!w.before,G=w.values||[];return new rh(G,M)})(i.endAt)),oR(e,l,d,c,y,"F",g,v)}function FR(r,e){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:l})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function iT(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Wa(i.unaryFilter.field);return nn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Wa(i.unaryFilter.field);return nn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Wa(i.unaryFilter.field);return nn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Wa(i.unaryFilter.field);return nn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(r):r.fieldFilter!==void 0?(function(i){return nn.create(Wa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Wi.create(i.compositeFilter.filters.map((a=>iT(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(i.compositeFilter.op))})(r):Se(30097,{filter:r})}function QR(r){return MR[r]}function KR(r){return VR[r]}function YR(r){return kR[r]}function Ja(r){return{fieldPath:r.canonicalString()}}function Wa(r){return _n.fromServerFormat(r.fieldPath)}function sT(r){return r instanceof nn?(function(i){if(i.op==="=="){if(O0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NAN"}};if(D0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(O0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NAN"}};if(D0(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(i.field),op:KR(i.op),value:i.value}}})(r):r instanceof Wi?(function(i){const a=i.getFilters().map((l=>sT(l)));return a.length===1?a[0]:{compositeFilter:{op:YR(i.op),filters:a}}})(r):Se(54877,{filter:r})}function XR(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function rT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class hr{constructor(e,i,a,l,c=Ie.min(),d=Ie.min(),y=vn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=g}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $R{constructor(e){this.yt=e}}function ZR(r){const e=GR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dm(e,e.limit,"L"):e}class JR{constructor(){this.Cn=new WR}addToCollectionParentIndex(e,i){return this.Cn.add(i),$.resolve()}getCollectionParents(e,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return $.resolve()}deleteFieldIndex(e,i){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,i){return $.resolve()}getDocumentsMatchingTarget(e,i){return $.resolve(null)}getIndexType(e,i){return $.resolve(0)}getFieldIndexes(e,i){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,i){return $.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,i){return $.resolve(_r.min())}updateCollectionGroup(e,i,a){return $.resolve()}updateIndexEntries(e,i){return $.resolve()}}class WR{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i]||new sn(Ot.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(e){const i=e.lastSegment(),a=e.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(e){return(this.index[e]||new sn(Ot.comparator)).toArray()}}const Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aT=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(aT,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);class fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fo(0)}static cr(){return new fo(-1)}}const K0="LruGarbageCollector",eC=1048576;function Y0([r,e],[i,a]){const l=Ke(r,i);return l===0?Ke(e,a):l}class tC{constructor(e){this.Ir=e,this.buffer=new sn(Y0),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Y0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class nC{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(K0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){To(i)?ue(K0,"Ignoring IndexedDB error during garbage collection: ",i):await Eo(i)}await this.Vr(3e5)}))}}class iC{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return $.resolve(yh.ce);const a=new tC(i);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Q0)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,l,c,d,y,g,v;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(e,l)))).next((w=>(a=w,y=Date.now(),this.removeTargets(e,a,i)))).next((w=>(c=w,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((w=>(v=Date.now(),$a()<=Qe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-_}ms
	Determined least recently used ${l} in `+(y-d)+`ms
	Removed ${c} targets in `+(g-y)+`ms
	Removed ${w} documents in `+(v-g)+`ms
Total Duration: ${v-_}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function sC(r,e){return new iC(r,e)}class rC{constructor(){this.changes=new oa((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class aC{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class oC{constructor(e,i,a,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,i)))).next((l=>(a!==null&&kl(a.mutation,l,Qn.empty(),Rt.now()),l)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,Ye()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=Ye()){const l=ta();return this.populateOverlays(e,l,i).next((()=>this.computeViews(e,i,l,a).next((c=>{let d=Cl();return c.forEach(((y,g)=>{d=d.insert(y,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=ta();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,Ye())))}populateOverlays(e,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,a,l){let c=Cs();const d=Vl(),y=(function(){return Vl()})();return i.forEach(((g,v)=>{const _=a.get(v.key);l.has(v.key)&&(_===void 0||_.mutation instanceof wr)?c=c.insert(v.key,v):_!==void 0?(d.set(v.key,_.mutation.getFieldMask()),kl(_.mutation,v,_.mutation.getFieldMask(),Rt.now())):d.set(v.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((v,_)=>d.set(v,_))),i.forEach(((v,_)=>y.set(v,new aC(_,d.get(v)??null)))),y)))}recalculateAndSaveOverlays(e,i){const a=Vl();let l=new Mt(((d,y)=>d-y)),c=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((g=>{const v=i.get(g);if(v===null)return;let _=a.get(g)||Qn.empty();_=y.applyToLocalView(v,_),a.set(g,_);const w=(l.get(y.batchId)||Ye()).add(g);l=l.insert(y.batchId,w)}))})).next((()=>{const d=[],y=l.getReverseIterator();for(;y.hasNext();){const g=y.getNext(),v=g.key,_=g.value,w=BE();_.forEach((M=>{if(!c.has(M)){const G=KE(i.get(M),a.get(M));G!==null&&w.set(M,G),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,w))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,l){return(function(d){return Te.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):lR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,l):this.getDocumentsMatchingCollectionQuery(e,i,a,l)}getNextDocuments(e,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,l-c.size):$.resolve(ta());let y=jl,g=c;return d.next((v=>$.forEach(v,((_,w)=>(y<w.largestBatchId&&(y=w.largestBatchId),c.get(_)?$.resolve():this.remoteDocumentCache.getEntry(e,_).next((M=>{g=g.insert(_,M)}))))).next((()=>this.populateOverlays(e,v,c))).next((()=>this.computeViews(e,g,v,Ye()))).next((_=>({batchId:y,changes:zE(_)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new Te(i)).next((a=>{let l=Cl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,l){const c=i.collectionGroup;let d=Cl();return this.indexManager.getCollectionParents(e,c).next((y=>$.forEach(y,(g=>{const v=(function(w,M){return new Eh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,a,l).next((_=>{_.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,c,l)))).next((d=>{c.forEach(((g,v)=>{const _=v.getKey();d.get(_)===null&&(d=d.insert(_,An.newInvalidDocument(_)))}));let y=Cl();return d.forEach(((g,v)=>{const _=c.get(g);_!==void 0&&kl(_.mutation,v,Qn.empty(),Rt.now()),Ah(i,v)&&(y=y.insert(g,v))})),y}))}}class lC{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Xi(l.createTime)}})(i)),$.resolve()}getNamedQuery(e,i){return $.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:ZR(l.bundledQuery),readTime:Xi(l.readTime)}})(i)),$.resolve()}}class uC{constructor(){this.overlays=new Mt(Te.comparator),this.qr=new Map}getOverlay(e,i){return $.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ta();return $.forEach(i,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((l,c)=>{this.St(e,i,c)})),$.resolve()}removeOverlaysForBatchId(e,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(e,i,a){const l=ta(),c=i.length+1,d=new Te(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const g=y.getNext().value,v=g.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===c&&g.largestBatchId>a&&l.set(g.getKey(),g)}return $.resolve(l)}getOverlaysForCollectionGroup(e,i,a,l){let c=new Mt(((v,_)=>v-_));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let _=c.get(v.largestBatchId);_===null&&(_=ta(),c=c.insert(v.largestBatchId,_)),_.set(v.getKey(),v)}}const y=ta(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((v,_)=>y.set(v,_))),!(y.size()>=l)););return $.resolve(y)}St(e,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new CR(i,a));let c=this.qr.get(i);c===void 0&&(c=Ye(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class cC{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,$.resolve()}}class $m{constructor(){this.Qr=new sn(un.$r),this.Ur=new sn(un.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new un(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new un(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new Te(new Ot([])),a=new un(i,e),l=new un(i,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new Te(new Ot([])),a=new un(i,e),l=new un(i,e+1);let c=Ye();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const i=new un(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class un{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return Te.comparator(e.key,i.key)||Ke(e.Yr,i.Yr)}static Kr(e,i){return Ke(e.Yr,i.Yr)||Te.comparator(e.key,i.key)}}class hC{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new sn(un.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new RR(c,i,a,l);this.mutationQueue.push(d);for(const y of l)this.Zr=this.Zr.add(new un(y.key,c)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Bm:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new un(i,0),l=new un(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const y=this.Xr(d.Yr);c.push(y)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new sn(Ke);return i.forEach((l=>{const c=new un(l,0),d=new un(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{a=a.add(y.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,l=a.length+1;let c=a;Te.isDocumentKey(c)||(c=c.child(""));const d=new un(new Te(c),0);let y=new sn(Ke);return this.Zr.forEachWhile((g=>{const v=g.key.path;return!!a.isPrefixOf(v)&&(v.length===l&&(y=y.add(g.Yr)),!0)}),d),$.resolve(this.ti(y))}ti(e){const i=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(e,i){ct(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new un(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new un(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class fC{constructor(e){this.ri=e,this.docs=(function(){return new Mt(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():An.newInvalidDocument(i))}getEntries(e,i){let a=Cs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():An.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(e,i,a,l){let c=Cs();const d=i.path,y=new Te(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(y);for(;g.hasNext();){const{key:v,value:{document:_}}=g.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||j2(P2(_),a)<=0||(l.has(_.key)||Ah(i,_))&&(c=c.insert(_.key,_.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,i,a,l){Se(9500)}ii(e,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new dC(this)}getSize(e){return $.resolve(this.size)}}class dC extends rC{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}class mC{constructor(e){this.persistence=e,this.si=new oa((i=>Gm(i)),Fm),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.oi=0,this._i=new $m,this.targetCount=0,this.ai=fo.ur()}forEachTarget(e,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new fo(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(e,i){return this.Pr(i),$.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,i,a){let l=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,y.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(e,i){return $.resolve(this._i.containsKey(i))}}class oT{constructor(e,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new cC,this.referenceDelegate=e(this),this.Pi=new mC(this),this.indexManager=new JR,this.remoteDocumentCache=(function(l){return new fC(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new $R(i),this.Ii=new lC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new uC,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new hC(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){ue("MemoryPersistence","Starting transaction:",e);const l=new pC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class pC extends B2{constructor(e){super(),this.currentSequenceNumber=e}}class Zm{constructor(e){this.persistence=e,this.Ri=new $m,this.Vi=null}static mi(e){return new Zm(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=Te.fromPath(a);return this.gi(e,l).next((c=>{c||i.removeEntry(l,Ie.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class ch{constructor(e,i){this.persistence=e,this.pi=new oa((a=>G2(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=sC(this,i)}static mi(e,i){return new ch(e,i)}Ei(){}di(e){return $.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((l=>a+l))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return $.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,i).next((y=>{y||(a++,c.removeEntry(d,Ie.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),$.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Hc(e.data.value)),i}br(e,i,a){return $.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Jm{constructor(e,i,a,l){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=l}static As(e,i){let a=Ye(),l=Ye();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Jm(e,i.fromCache,a,l)}}class gC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class yC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iA()?8:H2(Sn())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,l){const c={result:null};return this.ys(e,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new gC;return this.Ss(e,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(e,i,d,y.size)}))})).next((()=>c.result))}bs(e,i,a,l){return a.documentReadCount<this.fs?($a()<=Qe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):($a()<=Qe.DEBUG&&ue("QueryEngine","Query:",Za(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?($a()<=Qe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ki(i))):$.resolve())}ys(e,i){if(L0(i))return $.resolve(null);let a=Ki(i);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=dm(i,null,"F"),a=Ki(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Ye(...c);return this.ps.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,a).next((g=>{const v=this.Ds(i,y);return this.Cs(i,v,d,g.readTime)?this.ys(e,dm(i,null,"F")):this.vs(e,v,i,g)}))))})))))}ws(e,i,a,l){return L0(i)||l.isEqual(Ie.min())?$.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):($a()<=Qe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Za(i)),this.vs(e,d,i,U2(l,jl)).next((y=>y)))}))}Ds(e,i){let a=new sn(PE(e));return i.forEach(((l,c)=>{Ah(e,c)&&(a=a.add(c))})),a}Cs(e,i,a,l){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,i,a){return $a()<=Qe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Za(i)),this.ps.getDocumentsMatchingQuery(e,i,_r.min(),a)}vs(e,i,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Wm="LocalStore",_C=3e8;class vC{constructor(e,i,a,l){this.persistence=e,this.Fs=i,this.serializer=l,this.Ms=new Mt(Ke),this.xs=new oa((c=>Gm(c)),Fm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function EC(r,e,i,a){return new vC(r,e,i,a)}async function lT(r,e){const i=Ne(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let g=Ye();for(const v of l){d.push(v.batchId);for(const _ of v.mutations)g=g.add(_.key)}for(const v of c){y.push(v.batchId);for(const _ of v.mutations)g=g.add(_.key)}return i.localDocuments.getDocuments(a,g).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:y})))}))}))}function TC(r,e){const i=Ne(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,g,v,_){const w=v.batch,M=w.keys();let G=$.resolve();return M.forEach((ee=>{G=G.next((()=>_.getEntry(g,ee))).next((ae=>{const W=v.docVersions.get(ee);ct(W!==null,48541),ae.version.compareTo(W)<0&&(w.applyToRemoteDocument(ae,v),ae.isValidDocument()&&(ae.setReadTime(v.commitVersion),_.addEntry(ae)))}))})),G.next((()=>y.mutationQueue.removeMutationBatch(g,w)))})(i,a,e,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let g=Ye();for(let v=0;v<y.mutationResults.length;++v)y.mutationResults[v].transformResults.length>0&&(g=g.add(y.batch.mutations[v].key));return g})(e)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function uT(r){const e=Ne(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function bC(r,e){const i=Ne(r),a=e.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const y=[];e.targetChanges.forEach(((_,w)=>{const M=l.get(w);if(!M)return;y.push(i.Pi.removeMatchingKeys(c,_.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,_.addedDocuments,w))));let G=M.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?G=G.withResumeToken(vn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):_.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(_.resumeToken,a)),l=l.insert(w,G),(function(ae,W,ve){return ae.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=_C?!0:ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0})(M,G,_)&&y.push(i.Pi.updateTargetData(c,G))}));let g=Cs(),v=Ye();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,_))})),y.push(AC(c,d,e.documentUpdates).next((_=>{g=_.ks,v=_.qs}))),!a.isEqual(Ie.min())){const _=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(_)}return $.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,g,v))).next((()=>g))})).then((c=>(i.Ms=l,c)))}function AC(r,e,i){let a=Ye(),l=Ye();return i.forEach((c=>a=a.add(c))),e.getEntries(r,a).next((c=>{let d=Cs();return i.forEach(((y,g)=>{const v=c.get(y);g.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(y)),g.isNoDocument()&&g.version.isEqual(Ie.min())?(e.removeEntry(y,g.readTime),d=d.insert(y,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),d=d.insert(y,g)):ue(Wm,"Ignoring outdated watch update for ",y,". Current version:",v.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function SC(r,e){const i=Ne(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Bm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function wC(r,e){const i=Ne(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,e).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new hr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function _m(r,e,i){const a=Ne(r),l=a.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!To(d))throw d;ue(Wm,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function X0(r,e,i){const a=Ne(r);let l=Ie.min(),c=Ye();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,v,_){const w=Ne(g),M=w.xs.get(_);return M!==void 0?$.resolve(w.Ms.get(M)):w.Pi.getTargetData(v,_)})(a,d,Ki(e)).next((y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((g=>{c=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?l:Ie.min(),i?c:Ye()))).next((y=>(RC(a,cR(e),y),{documents:y,Qs:c})))))}function RC(r,e,i){let a=r.Os.get(e)||Ie.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(e,a)}class $0{constructor(){this.activeTargetIds=gR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CC{constructor(){this.Mo=new $0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $0,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class IC{Oo(e){}shutdown(){}}const Z0="ConnectivityMonitor";class J0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(Z0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(Z0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function vm(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const Kd="RestConnection",xC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NC{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===ih?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,i,a,l,c){const d=vm(),y=this.zo(e,i.toUriEncodedString());ue(Kd,`Sending RPC '${e}' ${d}:`,y,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:v}=new URL(y),_=go(v);return this.Jo(e,y,g,a,_).then((w=>(ue(Kd,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw oo(Kd,`RPC '${e}' ${d} failed with error: `,w,"url: ",y,"request:",a),w}))}Ho(e,i,a,l,c,d){return this.Go(e,i,a,l,c)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,i){const a=xC[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class DC{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Tn="WebChannelConnection";class OC extends NC{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,l,c){const d=vm();return new Promise(((y,g)=>{const v=new dE;v.setWithCredentials(!0),v.listenOnce(mE.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Bc.NO_ERROR:const w=v.getResponseJson();ue(Tn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),y(w);break;case Bc.TIMEOUT:ue(Tn,`RPC '${e}' ${d} timed out`),g(new de(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Bc.HTTP_ERROR:const M=v.getStatus();if(ue(Tn,`RPC '${e}' ${d} failed with status:`,M,"response text:",v.getResponseText()),M>0){let G=v.getResponseJson();Array.isArray(G)&&(G=G[0]);const ee=G?.error;if(ee&&ee.status&&ee.message){const ae=(function(ve){const Ce=ve.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Ce)>=0?Ce:Z.UNKNOWN})(ee.status);g(new de(ae,ee.message))}else g(new de(Z.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new de(Z.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{ue(Tn,`RPC '${e}' ${d} completed.`)}}));const _=JSON.stringify(l);ue(Tn,`RPC '${e}' ${d} sending request:`,l),v.send(i,"POST",_,a,15)}))}T_(e,i,a){const l=vm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=yE(),y=gE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,a),g.encodeInitMessageHeaders=!0;const _=c.join("");ue(Tn,`Creating RPC '${e}' stream ${l}: ${_}`,g);const w=d.createWebChannel(_,g);this.I_(w);let M=!1,G=!1;const ee=new DC({Yo:W=>{G?ue(Tn,`Not sending because RPC '${e}' stream ${l} is closed:`,W):(M||(ue(Tn,`Opening RPC '${e}' stream ${l} transport.`),w.open(),M=!0),ue(Tn,`RPC '${e}' stream ${l} sending:`,W),w.send(W))},Zo:()=>w.close()}),ae=(W,ve,Ce)=>{W.listen(ve,(Ee=>{try{Ce(Ee)}catch(rt){setTimeout((()=>{throw rt}),0)}}))};return ae(w,Rl.EventType.OPEN,(()=>{G||(ue(Tn,`RPC '${e}' stream ${l} transport opened.`),ee.o_())})),ae(w,Rl.EventType.CLOSE,(()=>{G||(G=!0,ue(Tn,`RPC '${e}' stream ${l} transport closed`),ee.a_(),this.E_(w))})),ae(w,Rl.EventType.ERROR,(W=>{G||(G=!0,oo(Tn,`RPC '${e}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),ee.a_(new de(Z.UNAVAILABLE,"The operation could not be completed")))})),ae(w,Rl.EventType.MESSAGE,(W=>{if(!G){const ve=W.data[0];ct(!!ve,16349);const Ce=ve,Ee=Ce?.error||Ce[0]?.error;if(Ee){ue(Tn,`RPC '${e}' stream ${l} received error:`,Ee);const rt=Ee.status;let nt=(function(S){const I=Jt[S];if(I!==void 0)return $E(I)})(rt),Xe=Ee.message;nt===void 0&&(nt=Z.INTERNAL,Xe="Unknown error status: "+rt+" with message "+Ee.message),G=!0,ee.a_(new de(nt,Xe)),w.close()}else ue(Tn,`RPC '${e}' stream ${l} received:`,ve),ee.u_(ve)}})),ae(y,pE.STAT_EVENT,(W=>{W.stat===om.PROXY?ue(Tn,`RPC '${e}' stream ${l} detected buffering proxy`):W.stat===om.NOPROXY&&ue(Tn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{ee.__()}),0),ee}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Yd(){return typeof document<"u"?document:null}function Ch(r){return new LR(r,!0)}class cT{constructor(e,i,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&ue("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const W0="PersistentStream";class hT{constructor(e,i,a,l,c,d,y,g){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cT(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Rs(i.toString()),Rs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{e((()=>{const l=new de(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(W0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ue(W0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class MC extends hT{constructor(e,i,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=jR(this.serializer,e),a=(function(c){if(!("targetChange"in c))return Ie.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ie.min():d.readTime?Xi(d.readTime):Ie.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=ym(this.serializer),i.addTarget=(function(c,d){let y;const g=d.target;if(y=fm(g)?{documents:HR(c,g)}:{query:qR(c,g).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=WE(c,d.resumeToken);const v=mm(c,d.expectedCount);v!==null&&(y.expectedCount=v)}else if(d.snapshotVersion.compareTo(Ie.min())>0){y.readTime=uh(c,d.snapshotVersion.toTimestamp());const v=mm(c,d.expectedCount);v!==null&&(y.expectedCount=v)}return y})(this.serializer,e);const a=FR(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=ym(this.serializer),i.removeTarget=e,this.q_(i)}}class VC extends hT{constructor(e,i,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=BR(e.writeResults,e.commitTime),a=Xi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=ym(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>zR(this.serializer,a)))};this.q_(i)}}class kC{}class LC extends kC{constructor(e,i,a,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new de(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,pm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(Z.UNKNOWN,c.toString())}))}Ho(e,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(e,pm(i,a),l,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class UC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rs(i),this.aa=!1):ue("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const aa="RemoteStore";class PC{constructor(e,i,a,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{la(this)&&(ue(aa,"Restarting streams for network reachability change."),await(async function(g){const v=Ne(g);v.Ea.add(4),await tu(v),v.Ra.set("Unknown"),v.Ea.delete(4),await Ih(v)})(this))}))})),this.Ra=new UC(a,l)}}async function Ih(r){if(la(r))for(const e of r.da)await e(!0)}async function tu(r){for(const e of r.da)await e(!1)}function fT(r,e){const i=Ne(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),ip(i)?np(i):bo(i).O_()&&tp(i,e))}function ep(r,e){const i=Ne(r),a=bo(i);i.Ia.delete(e),a.O_()&&dT(i,e),i.Ia.size===0&&(a.O_()?a.L_():la(i)&&i.Ra.set("Unknown"))}function tp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}bo(r).Y_(e)}function dT(r,e){r.Va.Ue(e),bo(r).Z_(e)}function np(r){r.Va=new OR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),bo(r).start(),r.Ra.ua()}function ip(r){return la(r)&&!bo(r).x_()&&r.Ia.size>0}function la(r){return Ne(r).Ea.size===0}function mT(r){r.Va=void 0}async function jC(r){r.Ra.set("Online")}async function zC(r){r.Ia.forEach(((e,i)=>{tp(r,e)}))}async function BC(r,e){mT(r),ip(r)?(r.Ra.ha(e),np(r)):r.Ra.set("Unknown")}async function HC(r,e,i){if(r.Ra.set("Online"),e instanceof JE&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const y of c.targetIds)l.Ia.has(y)&&(await l.remoteSyncer.rejectListen(y,d),l.Ia.delete(y),l.Va.removeTarget(y))})(r,e)}catch(a){ue(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await hh(r,a)}else if(e instanceof Fc?r.Va.Ze(e):e instanceof ZE?r.Va.st(e):r.Va.tt(e),!i.isEqual(Ie.min()))try{const a=await uT(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const _=c.Ia.get(v);_&&c.Ia.set(v,_.withResumeToken(g.resumeToken,d))}})),y.targetMismatches.forEach(((g,v)=>{const _=c.Ia.get(g);if(!_)return;c.Ia.set(g,_.withResumeToken(vn.EMPTY_BYTE_STRING,_.snapshotVersion)),dT(c,g);const w=new hr(_.target,g,v,_.sequenceNumber);tp(c,w)})),c.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(a){ue(aa,"Failed to raise snapshot:",a),await hh(r,a)}}async function hh(r,e,i){if(!To(e))throw e;r.Ea.add(1),await tu(r),r.Ra.set("Offline"),i||(i=()=>uT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ue(aa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ih(r)}))}function pT(r,e){return e().catch((i=>hh(r,i,e)))}async function xh(r){const e=Ne(r),i=br(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Bm;for(;qC(e);)try{const l=await SC(e.localStore,a);if(l===null){e.Ta.length===0&&i.L_();break}a=l.batchId,GC(e,l)}catch(l){await hh(e,l)}gT(e)&&yT(e)}function qC(r){return la(r)&&r.Ta.length<10}function GC(r,e){r.Ta.push(e);const i=br(r);i.O_()&&i.X_&&i.ea(e.mutations)}function gT(r){return la(r)&&!br(r).x_()&&r.Ta.length>0}function yT(r){br(r).start()}async function FC(r){br(r).ra()}async function QC(r){const e=br(r);for(const i of r.Ta)e.ea(i.mutations)}async function KC(r,e,i){const a=r.Ta.shift(),l=Km.from(a,e,i);await pT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await xh(r)}async function YC(r,e){e&&br(r).X_&&await(async function(a,l){if((function(d){return xR(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();br(a).B_(),await pT(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await xh(a)}})(r,e),gT(r)&&yT(r)}async function ev(r,e){const i=Ne(r);i.asyncQueue.verifyOperationInProgress(),ue(aa,"RemoteStore received new credentials");const a=la(i);i.Ea.add(3),await tu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ih(i)}async function XC(r,e){const i=Ne(r);e?(i.Ea.delete(2),await Ih(i)):e||(i.Ea.add(2),await tu(i),i.Ra.set("Unknown"))}function bo(r){return r.ma||(r.ma=(function(i,a,l){const c=Ne(i);return c.sa(),new MC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:jC.bind(null,r),t_:zC.bind(null,r),r_:BC.bind(null,r),H_:HC.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ip(r)?np(r):r.Ra.set("Unknown")):(await r.ma.stop(),mT(r))}))),r.ma}function br(r){return r.fa||(r.fa=(function(i,a,l){const c=Ne(i);return c.sa(),new VC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:FC.bind(null,r),r_:YC.bind(null,r),ta:QC.bind(null,r),na:KC.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await xh(r)):(await r.fa.stop(),r.Ta.length>0&&(ue(aa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class sp{constructor(e,i,a,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,l,c){const d=Date.now()+a,y=new sp(e,i,d,l,c);return y.start(a),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rp(r,e){if(Rs("AsyncQueue",`${e}: ${r}`),To(r))return new de(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||Te.comparator(i.key,a.key):(i,a)=>Te.comparator(i.key,a.key),this.keyedMap=Cl(),this.sortedSet=new Mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new so;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}class tv{constructor(){this.ga=new Mt(Te.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class mo{constructor(e,i,a,l,c,d,y,g,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,l,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new mo(e,i,so.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class $C{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ZC{constructor(){this.queries=nv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Ne(i),c=l.queries;l.queries=nv(),c.forEach(((d,y)=>{for(const g of y.Sa)g.onError(a)}))})(this,new de(Z.ABORTED,"Firestore shutting down"))}}function nv(){return new oa((r=>UE(r)),bh)}async function _T(r,e){const i=Ne(r);let a=3;const l=e.query;let c=i.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new $C,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const y=rp(d,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(y)}i.queries.set(l,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&ap(i)}async function vT(r,e){const i=Ne(r),a=e.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function JC(r,e){const i=Ne(r);let a=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(l)&&(a=!0);d.wa=l}}a&&ap(i)}function WC(r,e,i){const a=Ne(r),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(e)}function ap(r){r.Ca.forEach((e=>{e.next()}))}var Em,iv;(iv=Em||(Em={})).Ma="default",iv.Cache="cache";class ET{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new mo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Em.Cache}}class TT{constructor(e){this.key=e}}class bT{constructor(e){this.key=e}}class eI{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=PE(e),this.tu=new so(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new tv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,y=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((_,w)=>{const M=l.get(_),G=Ah(this.query,w)?w:null,ee=!!M&&this.mutatedKeys.has(M.key),ae=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let W=!1;M&&G?M.data.isEqual(G.data)?ee!==ae&&(a.track({type:3,doc:G}),W=!0):this.su(M,G)||(a.track({type:2,doc:G}),W=!0,(g&&this.eu(G,g)>0||v&&this.eu(G,v)<0)&&(y=!0)):!M&&G?(a.track({type:0,doc:G}),W=!0):M&&!G&&(a.track({type:1,doc:M}),W=!0,(g||v)&&(y=!0)),W&&(G?(d=d.add(G),c=ae?c.add(_):c.delete(_)):(d=d.delete(_),c=c.delete(_)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const _=this.query.limitType==="F"?d.last():d.first();d=d.delete(_.key),c=c.delete(_.key),a.track({type:1,doc:_})}return{tu:d,iu:a,Cs:y,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((_,w)=>(function(G,ee){const ae=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:W})}};return ae(G)-ae(ee)})(_.type,w.type)||this.eu(_.doc,w.doc))),this.ou(a),l=l??!1;const y=i&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,v=g!==this.Za;return this.Za=g,d.length!==0||v?{snapshot:new mo(this.query,e.tu,c,d,e.mutatedKeys,g===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new bT(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new TT(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=Ye();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const op="SyncEngine";class tI{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class nI{constructor(e){this.key=e,this.hu=!1}}class iI{constructor(e,i,a,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new oa((y=>UE(y)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new Mt(Te.comparator),this.Au=new Map,this.Ru=new $m,this.Vu={},this.mu=new Map,this.fu=fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sI(r,e,i=!0){const a=IT(r);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await AT(a,e,i,!0),l}async function rI(r,e){const i=IT(r);await AT(i,e,!0,!1)}async function AT(r,e,i,a){const l=await wC(r.localStore,Ki(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await aI(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&fT(r.remoteStore,l),y}async function aI(r,e,i,a,l){r.pu=(w,M,G)=>(async function(ae,W,ve,Ce){let Ee=W.view.ru(ve);Ee.Cs&&(Ee=await X0(ae.localStore,W.query,!1).then((({documents:x})=>W.view.ru(x,Ee))));const rt=Ce&&Ce.targetChanges.get(W.targetId),nt=Ce&&Ce.targetMismatches.get(W.targetId)!=null,Xe=W.view.applyChanges(Ee,ae.isPrimaryClient,rt,nt);return rv(ae,W.targetId,Xe.au),Xe.snapshot})(r,w,M,G);const c=await X0(r.localStore,e,!0),d=new eI(e,c.Qs),y=d.ru(c.documents),g=eu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),v=d.applyChanges(y,r.isPrimaryClient,g);rv(r,i,v.au);const _=new tI(e,i,d);return r.Tu.set(e,_),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),v.snapshot}async function oI(r,e,i){const a=Ne(r),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!bh(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await _m(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&ep(a.remoteStore,l.targetId),Tm(a,l.targetId)})).catch(Eo)):(Tm(a,l.targetId),await _m(a.localStore,l.targetId,!0))}async function lI(r,e){const i=Ne(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ep(i.remoteStore,a.targetId))}async function uI(r,e,i){const a=gI(r);try{const l=await(function(d,y){const g=Ne(d),v=Rt.now(),_=y.reduce(((G,ee)=>G.add(ee.key)),Ye());let w,M;return g.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let ee=Cs(),ae=Ye();return g.Ns.getEntries(G,_).next((W=>{ee=W,ee.forEach(((ve,Ce)=>{Ce.isValidDocument()||(ae=ae.add(ve))}))})).next((()=>g.localDocuments.getOverlayedDocuments(G,ee))).next((W=>{w=W;const ve=[];for(const Ce of y){const Ee=SR(Ce,w.get(Ce.key).overlayedDocument);Ee!=null&&ve.push(new wr(Ce.key,Ee,NE(Ee.value.mapValue),Yi.exists(!0)))}return g.mutationQueue.addMutationBatch(G,v,ve,y)})).next((W=>{M=W;const ve=W.applyToLocalDocumentSet(w,ae);return g.documentOverlayCache.saveOverlays(G,W.batchId,ve)}))})).then((()=>({batchId:M.batchId,changes:zE(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,y,g){let v=d.Vu[d.currentUser.toKey()];v||(v=new Mt(Ke)),v=v.insert(y,g),d.Vu[d.currentUser.toKey()]=v})(a,l.batchId,i),await nu(a,l.changes),await xh(a.remoteStore)}catch(l){const c=rp(l,"Failed to persist write");i.reject(c)}}async function ST(r,e){const i=Ne(r);try{const a=await bC(i.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(ct(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?ct(d.hu,14607):l.removedDocuments.size>0&&(ct(d.hu,42227),d.hu=!1))})),await nu(i,a,e)}catch(a){await Eo(a)}}function sv(r,e,i){const a=Ne(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(e);y.snapshot&&l.push(y.snapshot)})),(function(d,y){const g=Ne(d);g.onlineState=y;let v=!1;g.queries.forEach(((_,w)=>{for(const M of w.Sa)M.va(y)&&(v=!0)})),v&&ap(g)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function cI(r,e,i){const a=Ne(r);a.sharedClientState.updateQueryState(e,"rejected",i);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new Mt(Te.comparator);d=d.insert(c,An.newNoDocument(c,Ie.min()));const y=Ye().add(c),g=new Rh(Ie.min(),new Map,new Mt(Ke),d,y);await ST(a,g),a.du=a.du.remove(c),a.Au.delete(e),lp(a)}else await _m(a.localStore,e,!1).then((()=>Tm(a,e,i))).catch(Eo)}async function hI(r,e){const i=Ne(r),a=e.batch.batchId;try{const l=await TC(i.localStore,e);RT(i,a,null),wT(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await nu(i,l)}catch(l){await Eo(l)}}async function fI(r,e,i){const a=Ne(r);try{const l=await(function(d,y){const g=Ne(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let _;return g.mutationQueue.lookupMutationBatch(v,y).next((w=>(ct(w!==null,37113),_=w.keys(),g.mutationQueue.removeMutationBatch(v,w)))).next((()=>g.mutationQueue.performConsistencyCheck(v))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(v,_,y))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,_))).next((()=>g.localDocuments.getDocuments(v,_)))}))})(a.localStore,e);RT(a,e,i),wT(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await nu(a,l)}catch(l){await Eo(l)}}function wT(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function RT(r,e,i){const a=Ne(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function Tm(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||CT(r,a)}))}function CT(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(ep(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),lp(r))}function rv(r,e,i){for(const a of i)a instanceof TT?(r.Ru.addReference(a.key,e),dI(r,a)):a instanceof bT?(ue(op,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||CT(r,a.key)):Se(19791,{wu:a})}function dI(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ue(op,"New document in limbo: "+i),r.Eu.add(a),lp(r))}function lp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new Te(Ot.fromString(e)),a=r.fu.next();r.Au.set(a,new nI(i)),r.du=r.du.insert(i,a),fT(r.remoteStore,new hr(Ki(Th(i.path)),a,"TargetPurposeLimboResolution",yh.ce))}}async function nu(r,e,i){const a=Ne(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,g)=>{d.push(a.pu(g,e,i).then((v=>{if((v||i)&&a.isPrimaryClient){const _=v?!v.fromCache:i?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,_?"current":"not-current")}if(v){l.push(v);const _=Jm.As(g.targetId,v);c.push(_)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(g,v){const _=Ne(g);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(v,(M=>$.forEach(M.Es,(G=>_.persistence.referenceDelegate.addReference(w,M.targetId,G))).next((()=>$.forEach(M.ds,(G=>_.persistence.referenceDelegate.removeReference(w,M.targetId,G)))))))))}catch(w){if(!To(w))throw w;ue(Wm,"Failed to update sequence numbers: "+w)}for(const w of v){const M=w.targetId;if(!w.fromCache){const G=_.Ms.get(M),ee=G.snapshotVersion,ae=G.withLastLimboFreeSnapshotVersion(ee);_.Ms=_.Ms.insert(M,ae)}}})(a.localStore,c))}async function mI(r,e){const i=Ne(r);if(!i.currentUser.isEqual(e)){ue(op,"User change. New user:",e.toKey());const a=await lT(i.localStore,e);i.currentUser=e,(function(c,d){c.mu.forEach((y=>{y.forEach((g=>{g.reject(new de(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await nu(i,a.Ls)}}function pI(r,e){const i=Ne(r),a=i.Au.get(e);if(a&&a.hu)return Ye().add(a.key);{let l=Ye();const c=i.Iu.get(e);if(!c)return l;for(const d of c){const y=i.Tu.get(d);l=l.unionWith(y.view.nu)}return l}}function IT(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=ST.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cI.bind(null,e),e.Pu.H_=JC.bind(null,e.eventManager),e.Pu.yu=WC.bind(null,e.eventManager),e}function gI(r){const e=Ne(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fI.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ch(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return EC(this.persistence,new yC,e.initialUser,this.serializer)}Cu(e){return new oT(Zm.mi,this.serializer)}Du(e){return new CC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class yI extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){ct(this.persistence.referenceDelegate instanceof ch,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new nC(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new oT((a=>ch.mi(a,i)),this.serializer)}}class bm{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>sv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=mI.bind(null,this.syncEngine),await XC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZC})()}createDatastore(e){const i=Ch(e.databaseInfo.databaseId),a=(function(c){return new OC(c)})(e.databaseInfo);return(function(c,d,y,g){return new LC(c,d,y,g)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,l,c,d,y){return new PC(a,l,c,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>sv(this.syncEngine,i,0)),(function(){return J0.v()?new J0:new IC})())}createSyncEngine(e,i){return(function(l,c,d,y,g,v,_){const w=new iI(l,c,d,y,g,v);return _&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ne(i);ue(aa,"RemoteStore shutting down."),a.Ea.add(5),await tu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class xT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const Ar="FirestoreClient";class _I{constructor(e,i,a,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=bn.UNAUTHENTICATED,this.clientId=jm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ue(Ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ue(Ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=rp(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Xd(r,e){r.asyncQueue.verifyOperationInProgress(),ue(Ar,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await lT(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function av(r,e){r.asyncQueue.verifyOperationInProgress();const i=await vI(r);ue(Ar,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>ev(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>ev(e.remoteStore,l))),r._onlineComponents=e}async function vI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(Ar,"Using user provided OfflineComponentProvider");try{await Xd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;oo("Error using user provided cache. Falling back to memory cache: "+i),await Xd(r,new fh)}}else ue(Ar,"Using default OfflineComponentProvider"),await Xd(r,new yI(void 0));return r._offlineComponents}async function NT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(Ar,"Using user provided OnlineComponentProvider"),await av(r,r._uninitializedComponentsProvider._online)):(ue(Ar,"Using default OnlineComponentProvider"),await av(r,new bm))),r._onlineComponents}function EI(r){return NT(r).then((e=>e.syncEngine))}async function Am(r){const e=await NT(r),i=e.eventManager;return i.onListen=sI.bind(null,e.syncEngine),i.onUnlisten=oI.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=rI.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=lI.bind(null,e.syncEngine),i}function TI(r,e,i={}){const a=new gr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,y,g,v){const _=new xT({next:M=>{_.Nu(),d.enqueueAndForget((()=>vT(c,w)));const G=M.docs.has(y);!G&&M.fromCache?v.reject(new de(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&M.fromCache&&g&&g.source==="server"?v.reject(new de(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(M)},error:M=>v.reject(M)}),w=new ET(Th(y.path),_,{includeMetadataChanges:!0,qa:!0});return _T(c,w)})(await Am(r),r.asyncQueue,e,i,a))),a.promise}function DT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const ov=new Map;const OT="firestore.googleapis.com",lv=!0;class uv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OT,this.ssl=lv}else this.host=e.host,this.ssl=e.ssl??lv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eC)throw new de(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}L2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DT(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new de(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class up{constructor(e,i,a,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new w2;switch(a.type){case"firstParty":return new x2(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new de(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=ov.get(i);a&&(ue("ComponentProvider","Removing Datastore"),ov.delete(i),a.terminate())})(this),Promise.resolve()}}function bI(r,e,i,a={}){r=Qi(r,up);const l=go(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;l&&(Cv(`https://${y}`),Iv("Firestore",!0)),c.host!==OT&&c.host!==y&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:y,ssl:l,emulatorOptions:a};if(!yr(g,d)&&(r._setSettings(g),a.mockUserToken)){let v,_;if(typeof a.mockUserToken=="string")v=a.mockUserToken,_=bn.MOCK_USER;else{v=Y1(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new de(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new bn(w)}r._authCredentials=new R2(new vE(v,_))}}class Nh{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Nh(this.firestore,e,this._query)}}class en{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new en(this.firestore,e,this._key)}toJSON(){return{type:en._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(Jl(i,en._jsonSchema))return new en(e,a||null,new Te(Ot.fromString(i.referencePath)))}}en._jsonSchemaVersion="firestore/documentReference/1.0",en._jsonSchema={type:Wt("string",en._jsonSchemaVersion),referencePath:Wt("string")};class Gl extends Nh{constructor(e,i,a){super(e,i,Th(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new en(this.firestore,null,new Te(e))}withConverter(e){return new Gl(this.firestore,e,this._path)}}function We(r,e,...i){if(r=Cn(r),arguments.length===1&&(e=jm.newId()),k2("doc","path",e),r instanceof up){const a=Ot.fromString(e,...i);return A0(a),new en(r,null,new Te(a))}{if(!(r instanceof en||r instanceof Gl))throw new de(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Ot.fromString(e,...i));return A0(a),new en(r.firestore,r instanceof Gl?r.converter:null,new Te(a))}}const cv="AsyncQueue";class hv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cT(this,"async_queue_retry"),this._c=()=>{const a=Yd();a&&ue(cv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Yd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Yd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!To(e))throw e;ue(cv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Rs("INTERNAL UNHANDLED ERROR: ",fv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const l=sp.createAndSchedule(this,e,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Se(47125,{Pc:fv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function fv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function dv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class po extends up{constructor(e,i,a,l){super(e,i,a,l),this.type="firestore",this._queue=new hv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hv(e),this._firestoreClient=void 0,await e}}}function AI(r,e){const i=typeof r=="object"?r:Ov(),a=typeof r=="string"?r:ih,l=xm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Q1("firestore");c&&bI(l,...c)}return l}function cp(r){if(r._terminated)throw new de(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||SI(r),r._firestoreClient}function SI(r){const e=r._freezeSettings(),i=(function(l,c,d,y){return new K2(l,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,DT(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new _I(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class li{constructor(e){this._byteString=e}static fromBase64String(e){try{return new li(vn.fromBase64String(e))}catch(i){throw new de(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new li(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:li._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jl(e,li._jsonSchema))return li.fromBase64String(e.bytes)}}li._jsonSchemaVersion="firestore/bytes/1.0",li._jsonSchema={type:Wt("string",li._jsonSchemaVersion),bytes:Wt("string")};class Dh{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new de(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Oh{constructor(e){this._methodName=e}}class $i{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new de(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new de(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$i._jsonSchemaVersion}}static fromJSON(e){if(Jl(e,$i._jsonSchema))return new $i(e.latitude,e.longitude)}}$i._jsonSchemaVersion="firestore/geoPoint/1.0",$i._jsonSchema={type:Wt("string",$i._jsonSchemaVersion),latitude:Wt("number"),longitude:Wt("number")};class Zi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Zi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jl(e,Zi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new Zi(e.vectorValues);throw new de(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Zi._jsonSchemaVersion="firestore/vectorValue/1.0",Zi._jsonSchema={type:Wt("string",Zi._jsonSchemaVersion),vectorValues:Wt("object")};const wI=/^__.*__$/;class RI{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,i,this.fieldTransforms):new Wl(e,this.data,i,this.fieldTransforms)}}class MT{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new wr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function VT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:r})}}class Mh{constructor(e,i,a,l,c,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(VT(this.Ac)&&wI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class CI{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Ch(e)}Cc(e,i,a,l=!1){return new Mh({Ac:e,methodName:i,Dc:a,path:_n.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kT(r){const e=r._freezeSettings(),i=Ch(r._databaseId);return new CI(r._databaseId,!!e.ignoreUndefinedProperties,i)}function II(r,e,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,l);fp("Data must be an object, but it was:",d,a);const y=LT(a,d);let g,v;if(c.merge)g=new Qn(d.fieldMask),v=d.fieldTransforms;else if(c.mergeFields){const _=[];for(const w of c.mergeFields){const M=Sm(e,w,i);if(!d.contains(M))throw new de(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);PT(_,M)||_.push(M)}g=new Qn(_),v=d.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,v=d.fieldTransforms;return new RI(new Ln(y),g,v)}class Vh extends Oh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function xI(r,e,i){return new Mh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class hp extends Oh{constructor(e,i){super(e),this.vc=i}_toFieldTransform(e){const i=xI(this,e,!0),a=this.vc.map((c=>iu(c,i))),l=new ho(a);return new ER(e.path,l)}isEqual(e){return e instanceof hp&&yr(this.vc,e.vc)}}function NI(r,e,i,a){const l=r.Cc(1,e,i);fp("Data must be an object, but it was:",l,a);const c=[],d=Ln.empty();Sr(a,((g,v)=>{const _=dp(e,g,i);v=Cn(v);const w=l.yc(_);if(v instanceof Vh)c.push(_);else{const M=iu(v,w);M!=null&&(c.push(_),d.set(_,M))}}));const y=new Qn(c);return new MT(d,y,l.fieldTransforms)}function DI(r,e,i,a,l,c){const d=r.Cc(1,e,i),y=[Sm(e,a,i)],g=[l];if(c.length%2!=0)throw new de(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)y.push(Sm(e,c[M])),g.push(c[M+1]);const v=[],_=Ln.empty();for(let M=y.length-1;M>=0;--M)if(!PT(v,y[M])){const G=y[M];let ee=g[M];ee=Cn(ee);const ae=d.yc(G);if(ee instanceof Vh)v.push(G);else{const W=iu(ee,ae);W!=null&&(v.push(G),_.set(G,W))}}const w=new Qn(v);return new MT(_,w,d.fieldTransforms)}function iu(r,e){if(UT(r=Cn(r)))return fp("Unsupported field value:",e,r),LT(r,e);if(r instanceof Oh)return(function(a,l){if(!VT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const y of a){let g=iu(y,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(r,e)}return(function(a,l){if((a=Cn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return yR(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Rt.fromDate(a);return{timestampValue:uh(l.serializer,c)}}if(a instanceof Rt){const c=new Rt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:uh(l.serializer,c)}}if(a instanceof $i)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof li)return{bytesValue:WE(l.serializer,a._byteString)};if(a instanceof en){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Xm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Zi)return(function(d,y){return{mapValue:{fields:{[IE]:{stringValue:xE},[sh]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw y.Sc("VectorValues must only contain numeric values.");return Qm(y.serializer,v)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${zm(a)}`)})(r,e)}function LT(r,e){const i={};return bE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sr(r,((a,l)=>{const c=iu(l,e.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function UT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof $i||r instanceof li||r instanceof en||r instanceof Oh||r instanceof Zi)}function fp(r,e,i){if(!UT(i)||!EE(i)){const a=zm(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function Sm(r,e,i){if((e=Cn(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return dp(r,e);throw dh("Field path arguments must be of type string or ",r,!1,void 0,i)}const OI=new RegExp("[~\\*/\\[\\]]");function dp(r,e,i){if(e.search(OI)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Dh(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function dh(r,e,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${l}`),g+=")"),new de(Z.INVALID_ARGUMENT,y+r+g)}function PT(r,e){return r.some((i=>i.isEqual(e)))}class jT{constructor(e,i,a,l,c){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(zT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class MI extends jT{data(){return super.data()}}function zT(r,e){return typeof e=="string"?dp(r,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}function VI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kI{convertValue(e,i="none"){switch(Tr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Er(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Sr(e,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(e){const i=e.fields?.[sh].arrayValue?.values?.map((a=>qt(a.doubleValue)));return new Zi(i)}convertGeoPoint(e){return new $i(qt(e.latitude),qt(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=vh(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const i=vr(e);return new Rt(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Ot.fromString(e);ct(rT(a),9688,{name:e});const l=new Bl(a.get(1),a.get(3)),c=new Te(a.popFirst(5));return l.isEqual(i)||Rs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function LI(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class xl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class na extends jT{constructor(e,i,a,l,c,d){super(e,i,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(zT("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:Wt("string",na._jsonSchemaVersion),bundleSource:Wt("string","DocumentSnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class Qc extends na{data(e={}){return super.data(e)}}class ro{constructor(e,i,a,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new xl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Qc(this._firestore,this._userDataWriter,a.key,a,new xl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new de(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const g=new Qc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new xl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const g=new Qc(l._firestore,l._userDataWriter,y.doc.key,y.doc,new xl(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,_=-1;return y.type!==0&&(v=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),_=d.indexOf(y.doc.key)),{type:UI(y.type),doc:g,oldIndex:v,newIndex:_}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ro._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:r})}}function PI(r){r=Qi(r,en);const e=Qi(r.firestore,po);return TI(cp(e),r._key).then((i=>qT(e,r,i)))}ro._jsonSchemaVersion="firestore/querySnapshot/1.0",ro._jsonSchema={type:Wt("string",ro._jsonSchemaVersion),bundleSource:Wt("string","QuerySnapshot"),bundleName:Wt("string"),bundle:Wt("string")};class BT extends kI{constructor(e){super(),this.firestore=e}convertBytes(e){return new li(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new en(this.firestore,null,i)}}function jI(r,e,i){r=Qi(r,en);const a=Qi(r.firestore,po),l=LI(r.converter,e);return HT(a,[II(kT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Yi.none())])}function ut(r,e,i,...a){r=Qi(r,en);const l=Qi(r.firestore,po),c=kT(l);let d;return d=typeof(e=Cn(e))=="string"||e instanceof Dh?DI(c,"updateDoc",r._key,e,i,a):NI(c,"updateDoc",r._key,e),HT(l,[d.toMutation(r._key,Yi.exists(!0))])}function zI(r,...e){r=Cn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||dv(e[a])||(i=e[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(dv(e[a])){const g=e[a];e[a]=g.next?.bind(g),e[a+1]=g.error?.bind(g),e[a+2]=g.complete?.bind(g)}let c,d,y;if(r instanceof en)d=Qi(r.firestore,po),y=Th(r._key.path),c={next:g=>{e[a]&&e[a](qT(d,r,g))},error:e[a+1],complete:e[a+2]};else{const g=Qi(r,Nh);d=Qi(g.firestore,po),y=g._query;const v=new BT(d);c={next:_=>{e[a]&&e[a](new ro(d,v,g,_))},error:e[a+1],complete:e[a+2]},VI(r._query)}return(function(v,_,w,M){const G=new xT(M),ee=new ET(_,G,w);return v.asyncQueue.enqueueAndForget((async()=>_T(await Am(v),ee))),()=>{G.Nu(),v.asyncQueue.enqueueAndForget((async()=>vT(await Am(v),ee)))}})(cp(d),y,l,c)}function HT(r,e){return(function(a,l){const c=new gr;return a.asyncQueue.enqueueAndForget((async()=>uI(await EI(a),l,c))),c.promise})(cp(r),e)}function qT(r,e,i){const a=i.docs.get(e._key),l=new BT(r);return new na(r,l,e._key,a,new xl(i.hasPendingWrites,i.fromCache),e.converter)}function ln(...r){return new hp("arrayUnion",r)}(function(e,i=!0){(function(l){vo=l})(yo),ao(new ia("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new po(new C2(a.getProvider("auth-internal")),new N2(d,a.getProvider("app-check-internal")),(function(v,_){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new de(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(v.options.projectId,_)})(d,l),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),mr(v0,E0,e),mr(v0,E0,"esm2020")})();const BI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),mv=r=>{const e=HI(r);return e.charAt(0).toUpperCase()+e.slice(1)},GT=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),qI=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var GI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const FI=Ht.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...y},g)=>Ht.createElement("svg",{ref:g,...GI,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:GT("lucide",l),...!c&&!qI(y)&&{"aria-hidden":"true"},...y},[...d.map(([v,_])=>Ht.createElement(v,_)),...Array.isArray(c)?c:[c]]));const cn=(r,e)=>{const i=Ht.forwardRef(({className:a,...l},c)=>Ht.createElement(FI,{ref:c,iconNode:e,className:GT(`lucide-${BI(mv(r))}`,`lucide-${r}`,a),...l}));return i.displayName=mv(r),i};const QI=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],wm=cn("book-open",QI);const KI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kc=cn("circle-check-big",KI);const YI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],FT=cn("circle-x",YI);const XI=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Kc=cn("coins",XI);const $I=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ll=cn("crown",$I);const ZI=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],JI=cn("door-open",ZI);const WI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],QT=cn("eye",WI);const ex=[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]],tx=cn("hand",ex);const nx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],pv=cn("history",nx);const ix=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gv=cn("log-out",ix);const sx=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],KT=cn("refresh-ccw",sx);const rx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ax=cn("rotate-ccw",rx);const ox=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],lx=cn("shield",ox);const ux=[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]],yv=cn("skull",ux);const cx=[["path",{d:"m11 19-6-6",key:"s7kpr"}],["path",{d:"m5 21-2-2",key:"1kw20b"}],["path",{d:"m8 16-4 4",key:"1oqv8h"}],["path",{d:"M9.5 17.5 21 6V3h-3L6.5 14.5",key:"pkxemp"}]],YT=cn("sword",cx);const hx=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],fx=cn("trophy",hx);const dx=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],$d=cn("user",dx);const mx=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],XT=cn("x",mx),px={apiKey:"AIzaSyBjIjK53vVJW1y5RaqEFGSFp0ECVDBEe1o",authDomain:"game-hub-ff8aa.firebaseapp.com",projectId:"game-hub-ff8aa",storageBucket:"game-hub-ff8aa.firebasestorage.app",messagingSenderId:"586559578902",appId:"1:586559578902:web:2c9029761ef876856aa637"},$T=Dv(px),Zd=A2($T),et=AI($T),tt=typeof __app_id<"u"?__app_id:"conspiracy-game",ZT={HERO:{name:"Hero",color:"bg-purple-600",icon:Ll,desc:"Grabs 3 coins. Blocks Export."},ROBBER:{name:"Robber",color:"bg-blue-600",icon:tx,desc:"Steal 2 coins. Blocks Stealing."},GENIE:{name:"Genie",color:"bg-pink-600",icon:lx,desc:"Blocks Stab."},MONSTER:{name:"Monster",color:"bg-red-700",icon:YT,desc:"Stab (Pay 3 to kill)."},RIDDLER:{name:"Riddler",color:"bg-emerald-600",icon:KT,desc:"Exchange cards. Blocks Stealing."}},Sl=[...Array(3).fill("HERO"),...Array(3).fill("ROBBER"),...Array(3).fill("GENIE"),...Array(3).fill("MONSTER"),...Array(3).fill("RIDDLER")],wl={EARN:{name:"Earn",cost:0,income:1,blockable:!1,challengeable:!1},EXPORT:{name:"Export",cost:0,income:2,blockable:!0,challengeable:!1,blockedBy:["HERO"]},TAX:{name:"Hero Bonus",cost:0,income:3,blockable:!1,challengeable:!0,claim:"HERO"},STEAL:{name:"Steal",cost:0,income:0,blockable:!0,challengeable:!0,claim:"ROBBER",blockedBy:["ROBBER","RIDDLER"]},STAB:{name:"Stab",cost:3,income:0,blockable:!0,challengeable:!0,claim:"MONSTER",blockedBy:["GENIE"]},EXCHANGE:{name:"Exchange",cost:0,income:0,blockable:!1,challengeable:!0,claim:"RIDDLER"},KILL:{name:"Kill",cost:7,income:0,blockable:!1,challengeable:!1}},Lc=r=>{let e=r.length,i;for(;e!==0;)i=Math.floor(Math.random()*e),e--,[r[e],r[i]]=[r[i],r[e]];return r},Jd=()=>A.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[A.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-gray-900 via-gray-900 to-black"}),A.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-purple-500/5 mix-blend-overlay"}),A.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:'url("https://www.transparenttextures.com/patterns/black-scales.png")'}})]}),_v=({onClose:r})=>{const[e,i]=Ht.useState("basics"),a=({id:l,label:c,icon:d})=>A.jsxs("button",{onClick:()=>i(l),className:`flex items-center gap-2 px-4 py-3 text-sm font-bold rounded-lg transition-all ${e===l?"bg-purple-600 text-white shadow-lg":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:[d&&A.jsx(d,{size:16})," ",c]});return A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-gray-900 rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden border border-purple-500/30 shadow-2xl flex flex-col",children:[A.jsxs("div",{className:"p-6 border-b border-gray-800 flex justify-between items-center bg-gray-950",children:[A.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2 font-serif tracking-wider",children:[A.jsx(wm,{className:"text-purple-400"})," Archive of Secrets"]}),A.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-full text-gray-400 hover:text-white",children:A.jsx(XT,{})})]}),A.jsxs("div",{className:"flex gap-2 p-4 bg-gray-900 border-b border-gray-800 overflow-x-auto",children:[A.jsx(a,{id:"basics",label:"Basics",icon:Kc}),A.jsx(a,{id:"cards",label:"Roles",icon:Ll}),A.jsx(a,{id:"actions",label:"Actions",icon:YT}),A.jsx(a,{id:"challenges",label:"Bluffing",icon:FT})]}),A.jsxs("div",{className:"p-6 overflow-y-auto flex-1 text-gray-300 space-y-6",children:[e==="basics"&&A.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[A.jsx("h3",{className:"text-xl font-bold text-purple-400",children:"Objective: Last Survivor"}),A.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm md:text-base",children:[A.jsxs("li",{children:["Start with ",A.jsx("strong",{children:"2 Cards"})," (Lives) and"," ",A.jsx("strong",{children:"2 Coins"}),"."]}),A.jsxs("li",{children:["Cards are hidden. You can ",A.jsx("strong",{children:"lie"})," about what you have."]}),A.jsx("li",{children:"Lose a life (flip card) if you are successfully challenged or assassinated."}),A.jsxs("li",{children:["Lose all cards = ",A.jsx("strong",{children:"Eliminated"}),"."]})]})]}),e==="cards"&&A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in",children:Object.entries(ZT).map(([l,c])=>A.jsxs("div",{className:"p-4 rounded-lg border border-gray-700 bg-gray-800 flex items-start gap-3",children:[A.jsx("div",{className:`p-3 rounded-lg ${c.color} text-white shadow-lg`,children:A.jsx(c.icon,{size:24})}),A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-white",children:c.name}),A.jsx("p",{className:"text-sm text-gray-400",children:c.desc})]})]},l))}),e==="actions"&&A.jsxs("div",{className:"space-y-4 animate-in fade-in",children:[A.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg border-l-4 border-green-500",children:[A.jsx("h4",{className:"font-bold text-white mb-2",children:"Safe Actions"}),A.jsxs("div",{className:"text-sm space-y-1",children:[A.jsxs("p",{children:[A.jsx("strong",{children:"Earn:"})," +1 Coin. (Unblockable)"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Export:"})," +2 Coins. (Blocked by Hero)"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"Kill:"})," Pay 7 coins to eliminate a life. (Unblockable)"]})]})]}),A.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg border-l-4 border-purple-500",children:[A.jsx("h4",{className:"font-bold text-white mb-2",children:"Role Actions (Lie about these!)"}),A.jsxs("ul",{className:"list-disc pl-5 text-sm space-y-1",children:[A.jsxs("li",{children:[A.jsx("strong",{children:"Hero Bonus:"})," +3 Coins."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Steal:"})," Take 2 coins from player."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Stab:"})," Pay 3 coins to kill."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Exchange:"})," Draw 2 new cards, return 2."]})]})]})]}),e==="challenges"&&A.jsxs("div",{className:"space-y-6 animate-in fade-in",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-xl font-bold text-red-400 mb-2",children:"The Art of Lying"}),A.jsx("p",{className:"text-sm",children:"You can perform ANY action, even if you don't have the card. If someone challenges you, you must prove it."})]}),A.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[A.jsxs("div",{className:"bg-red-900/20 p-4 rounded-lg border border-red-500/30",children:[A.jsx("h4",{className:"font-bold text-white mb-2",children:"If Challenged:"}),A.jsxs("ul",{className:"list-disc pl-5 text-sm mt-2 space-y-1",children:[A.jsxs("li",{children:[A.jsx("strong",{children:"Have it?"})," Reveal it. Challenger loses a life. You get a fresh card."]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Don't have it?"})," You lose a life."]})]})]}),A.jsxs("div",{className:"bg-blue-900/20 p-4 rounded-lg border border-blue-500/30",children:[A.jsx("h4",{className:"font-bold text-white mb-2",children:"Blocking"}),A.jsx("p",{className:"text-sm",children:"Block attacks by claiming a defensive role (e.g. Genie blocks Stab). Blocks can also be challenged!"})]})]})]})]})]})})},vv=({onConfirm:r,onCancel:e,isHost:i,onReturnToLobby:a})=>A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[200] flex items-center justify-center p-4 animate-in fade-in",children:A.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 max-w-sm w-full text-center shadow-2xl",children:[A.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Abandon Conspiracy?"}),A.jsx("p",{className:"text-gray-400 mb-6 text-sm",children:i&&a?"As Host, you can return everyone to the lobby or leave the game completely.":"Leaving now will forfeit your position in the game."}),A.jsxs("div",{className:"flex flex-col gap-3",children:[i&&a&&A.jsx("button",{onClick:a,className:"w-full bg-purple-700 hover:bg-purple-600 text-white py-3 rounded font-bold transition-colors border border-purple-500 shadow-lg mb-2",children:"Return Group to Lobby"}),A.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[A.jsx("button",{onClick:e,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold transition-colors",children:"Stay"}),A.jsx("button",{onClick:r,className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold transition-colors",children:"Leave"})]})]})]})}),Ev=()=>A.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-40 mt-auto pb-2 pt-2 relative z-10",children:[A.jsx(QT,{size:12,className:"text-purple-500"}),A.jsx("span",{className:"text-[10px] font-black tracking-widest text-purple-500 uppercase",children:"CONSPIRACY"})]});function gx(){const[r,e]=Ht.useState(null),[i,a]=Ht.useState("menu"),[l,c]=Ht.useState(""),[d,y]=Ht.useState(""),[g,v]=Ht.useState(null),[_,w]=Ht.useState(null),[M,G]=Ht.useState(""),[ee,ae]=Ht.useState(!1),[W,ve]=Ht.useState([]),[Ce,Ee]=Ht.useState(!1),[rt,nt]=Ht.useState(!1),[Xe,x]=Ht.useState(!1);Ht.useEffect(()=>{(async()=>{typeof __initial_auth_token<"u"&&__initial_auth_token?await uw(Zd,__initial_auth_token):await sw(Zd)})();const J=fw(Zd,ie=>e(ie));return()=>J()},[]),Ht.useEffect(()=>{if(!g||!r)return;const Q=We(et,"artifacts",tt,"public","data","rooms",g),J=zI(Q,ie=>{if(ie.exists()){const ge=ie.data();w({id:ie.id,...ge}),ge.status==="lobby"?a("lobby"):ge.status==="playing"||ge.status==="finished"?a("game"):a("lobby")}else v(null),a("menu"),G("Room closed or does not exist.")},ie=>console.error(ie));return()=>J()},[g,r]);const S=async()=>{if(!r||!l.trim())return G("Enter a nickname first.");ae(!0);const Q=Math.random().toString(36).substring(2,8).toUpperCase(),J={hostId:r.uid,maxPlayers:6,startingCards:2,players:[{id:r.uid,name:l,coins:2,cards:[],isEliminated:!1,ready:!0}],status:"lobby",turnIndex:0,deck:[],logs:[],turnState:"IDLE",currentAction:null};try{await jI(We(et,"artifacts",tt,"public","data","rooms",Q),J),v(Q)}catch{G("Failed to create room.")}ae(!1)},I=async Q=>{!_||_.hostId!==r.uid||await ut(We(et,"artifacts",tt,"public","data","rooms",g),{startingCards:parseInt(Q)})},V=async()=>{if(!r||!d||!l.trim())return G("Enter nickname & room code.");ae(!0);try{const Q=We(et,"artifacts",tt,"public","data","rooms",d),J=await PI(Q);if(!J.exists())throw new Error("Room not found.");const ie=J.data();if(ie.players.length>=ie.maxPlayers)throw new Error("Room full.");if(ie.status!=="lobby")throw new Error("Game started.");ie.players.find(ce=>ce.id===r.uid)||await ut(Q,{players:ln({id:r.uid,name:l,coins:2,cards:[],isEliminated:!1,ready:!0})}),v(d)}catch(Q){G(Q.message)}ae(!1)},N=async()=>{if(!g||!r||!_)return;const Q=_.players.filter(se=>se.id!==r.uid);let J=_.status;J==="playing"&&Q.length<2&&(J="finished");const ie=_.players.findIndex(se=>se.id===r.uid);let ge=_.turnIndex;ie<_.turnIndex&&(ge=Math.max(0,ge-1)),ge>=Q.length&&(ge=0);const ce=[..._.logs||[]],_e=_.players.find(se=>se.id===r.uid);_e&&ce.push({text:`${_e.name} left the game.`,type:"danger"}),J==="finished"&&_.status==="playing"&&ce.push({text:"Not enough players. Game Over.",type:"neutral"});try{await ut(We(et,"artifacts",tt,"public","data","rooms",g),{players:Q,status:J,turnIndex:ge,logs:ce})}catch(se){console.error("Error leaving room",se)}v(null),a("menu"),nt(!1)},L=async()=>{if(!_||_.hostId!==r.uid)return;if(_.players.length<2)return G("Need 2+ players.");const Q=Lc([...Sl,...Sl]),J=_.startingCards||2,ie=_.players.map(ge=>{const ce=[];for(let _e=0;_e<J;_e++)ce.push({type:Q.pop(),flipped:!1});return{...ge,coins:2,cards:ce,isEliminated:!1}});await ut(We(et,"artifacts",tt,"public","data","rooms",g),{status:"playing",deck:Q,players:ie,turnIndex:0,turnState:"IDLE",logs:ln({text:"Game Started!",type:"info"})})},R=async()=>{if(!_||_.hostId!==r.uid)return;const Q=Lc([...Sl,...Sl]),J=_.startingCards||2,ie=_.players.map(ge=>{const ce=[];for(let _e=0;_e<J;_e++)ce.push({type:Q.pop(),flipped:!1});return{...ge,coins:2,cards:ce,isEliminated:!1}});await ut(We(et,"artifacts",tt,"public","data","rooms",g),{status:"playing",deck:Q,players:ie,turnIndex:0,turnState:"IDLE",logs:[{text:"Game Restarted!",type:"info"}],currentAction:null})},Tt=async()=>{if(!_||_.hostId!==r.uid)return;const Q=_.players.map(J=>({...J,coins:2,cards:[],isEliminated:!1,ready:!0}));try{await ut(We(et,"artifacts",tt,"public","data","rooms",g),{status:"lobby",players:Q,deck:[],turnIndex:0,turnState:"IDLE",currentAction:null,logs:[{text:"Host returned the group to the lobby.",type:"neutral"}]}),nt(!1)}catch(J){console.error("Error returning to lobby:",J)}},xt=()=>_?.players.filter(Q=>!Q.isEliminated)||[],q=()=>_?.players[_.turnIndex],re=()=>q()?.id===r.uid,me=Q=>Q.filter(ie=>!ie.isEliminated).length<=1,Oe=async Q=>{let J=(Q.turnIndex+1)%Q.players.length,ie=0;for(;Q.players[J].isEliminated&&ie<10;)J=(J+1)%Q.players.length,ie++;ie>=10&&(J=Q.players.findIndex(ge=>!ge.isEliminated)),await ut(We(et,"artifacts",tt,"public","data","rooms",g),{turnIndex:J,turnState:"IDLE",currentAction:null,players:Q.players,loseReason:null})},je=async(Q,J=null)=>{if(!re())return;const ie=q(),ge=wl[Q];if(ie.coins<ge.cost)return;if(ie.coins>=10&&Q!=="KILL")return alert("Must use Kill!");const ce={type:Q,actorId:r.uid,targetId:J,status:"PENDING",votes:[],actionPending:!1};if(Q==="EARN"){const _e=[..._.players];_e[_.turnIndex].coins+=1,await ut(We(et,"artifacts",tt,"public","data","rooms",g),{players:_e,logs:ln({text:`${ie.name} takes Income (+1 coin).`,type:"neutral"})}),await Oe({..._,players:_e});return}if(Q==="KILL"){const _e=[..._.players];_e[_.turnIndex].coins-=7;const se=_.players.find(pe=>pe.id===J).name;await ut(We(et,"artifacts",tt,"public","data","rooms",g),{players:_e,turnState:"LOSE_CARD",currentAction:ce,loserId:J,loseReason:"kill",logs:ln({text:`${ie.name} killed ${se} (-7 coins).`,type:"danger"})});return}if(Q==="STAB"){const _e=[..._.players];_e[_.turnIndex].coins-=3,await ut(We(et,"artifacts",tt,"public","data","rooms",g),{players:_e,turnState:"ACTION_PENDING",currentAction:ce});return}await ut(We(et,"artifacts",tt,"public","data","rooms",g),{turnState:"ACTION_PENDING",currentAction:ce})},O=async()=>{if(_.turnState!=="ACTION_PENDING"||!_.currentAction||_.currentAction.votes.includes(r.uid))return;const Q=[..._.currentAction.votes,r.uid],J=xt().length;Q.length>=J-1?await Y():await ut(We(et,"artifacts",tt,"public","data","rooms",g),{"currentAction.votes":Q})},Y=async()=>{if(_.turnState!=="ACTION_PENDING")return;wl[_.currentAction.type];const Q=_.players.find(ce=>ce.id===_.currentAction.actorId),J=[..._.players];let ie="";const ge=J.findIndex(ce=>ce.id===Q.id);if(_.currentAction.type==="EXPORT")J[ge].coins+=2,ie=`${Q.name} completes Export and gains 2 coins.`;else if(_.currentAction.type==="TAX")J[ge].coins+=3,ie=`${Q.name} collects Hero Bonus and gains 3 coins.`;else if(_.currentAction.type==="STEAL"){const ce=J.findIndex(pe=>pe.id===_.currentAction.targetId),_e=J[ce].name,se=Math.min(J[ce].coins,2);J[ce].coins-=se,J[ge].coins+=se,ie=`${Q.name} steals ${se} coins from ${_e}.`}else if(_.currentAction.type==="STAB"){const ce=_.players.find(_e=>_e.id===_.currentAction.targetId).name;await ut(We(et,"artifacts",tt,"public","data","rooms",g),{players:J,turnState:"LOSE_CARD",loserId:_.currentAction.targetId,loseReason:"stab",logs:ln({text:`${Q.name} Assassinated ${ce}!`,type:"danger"})});return}else if(_.currentAction.type==="EXCHANGE"){const ce=[..._.deck];ce.length<2&&ce.push(...Sl);const _e=[ce.pop(),ce.pop()];await ut(We(et,"artifacts",tt,"public","data","rooms",g),{turnState:"EXCHANGE_SELECT",deck:ce,tempCards:_e,logs:ln({text:`${Q.name} examines the deck (Exchange).`,type:"neutral"})});return}await ut(We(et,"artifacts",tt,"public","data","rooms",g),{players:J,logs:ln({text:ie,type:"success"})}),await Oe({..._,players:J})},ne=async(Q,J)=>{const ie=_.players.find(_e=>_e.id===Q).name,ge=_.players.find(_e=>_e.id===_.currentAction.actorId).name,ce=wl[_.currentAction.type].name;await ut(We(et,"artifacts",tt,"public","data","rooms",g),{turnState:"BLOCK_PENDING",currentAction:{..._.currentAction,blockerId:Q,blockClaim:J,votes:[]},logs:ln({text:`${ie} blocks ${ge}'s ${ce} claiming ${J}!`,type:"warning"})})},le=async()=>{if(_.turnState!=="BLOCK_PENDING"||_.currentAction.votes.includes(r.uid))return;const Q=[..._.currentAction.votes,r.uid],J=xt().length;Q.length>=J-1?(await ut(We(et,"artifacts",tt,"public","data","rooms",g),{logs:ln({text:"Block Accepted. Action Failed (Coins lost).",type:"info"})}),await Oe({..._})):await ut(We(et,"artifacts",tt,"public","data","rooms",g),{"currentAction.votes":Q})},Ae=async Q=>{const J=_.turnState==="BLOCK_PENDING",ie=J?_.currentAction.blockerId:_.currentAction.actorId,ge=J?_.currentAction.blockClaim:wl[_.currentAction.type].claim,ce=_.players.find(se=>se.id===Q).name,_e=_.players.find(se=>se.id===ie).name;await ut(We(et,"artifacts",tt,"public","data","rooms",g),{turnState:"CHALLENGE_RESOLVE",challengerId:Q,accusedId:ie,challengedCard:ge,logs:ln({text:`${ce} challenges ${_e}'s claim of ${ge}!`,type:"danger"})})},De=async()=>{const Q=[..._.players],J=Q.find(Le=>Le.id===r.uid),ie=Q.findIndex(Le=>Le.id===r.uid),ge=J.cards.map((Le,Pe)=>({...Le,index:Pe})).filter(Le=>!Le.flipped),ce=_.players.find(Le=>Le.id===_.currentAction.actorId);let _e="";if(_.currentAction.targetId){const Le=_.players.find(Pe=>Pe.id===_.currentAction.targetId);_e=Le?Le.name:"Target"}let se=[],pe=!1,Re="IDLE",Me=null,At=null;if(_.currentAction.blockerId===r.uid){se.push({text:`Blocker ${J.name} admits to lying! Block removed.`,type:"danger"});const Le=_.currentAction,Pe=Q.findIndex(Nt=>Nt.id===Le.actorId);if(Le.type==="STEAL"){const Nt=Q.findIndex(hn=>hn.id===Le.targetId),Ut=Math.min(Q[Nt].coins,2);Q[Nt].coins-=Ut,Q[Pe].coins+=Ut,se.push({text:`Block Failed: ${ce.name} steals ${Ut} from ${_e}.`,type:"success"})}else Le.type==="EXPORT"?(Q[Pe].coins+=2,se.push({text:`Block Failed: ${ce.name} gains 2 coins (Export).`,type:"success"})):Le.type==="TAX"?(Q[Pe].coins+=3,se.push({text:`Block Failed: ${ce.name} gains 3 coins (Hero Bonus).`,type:"success"})):Le.type==="STAB"?(pe=!0,se.push({text:`Block Failed: ${ce.name}'s Assassination proceeds!`,type:"danger"})):Le.type==="EXCHANGE"&&(pe=!0,se.push({text:`Block Failed: ${ce.name} proceeds with Exchange.`,type:"info"}))}else se.push({text:`Actor ${J.name} admits to lying! Action cancelled.`,type:"danger"});ge.length===1?(Q[ie].cards[ge[0].index].flipped=!0,Q[ie].isEliminated=!0,se.push({text:`${J.name} is ELIMINATED!`,type:"danger"})):(Re="LOSE_CARD",Me=r.uid,At="challenge");const at=me(Q);let ze={players:Q,logs:ln(...se),"currentAction.actionPending":pe};if(at?ze.status="finished":Re==="LOSE_CARD"&&(ze.turnState="LOSE_CARD",ze.loserId=Me,At&&(ze.loseReason=At)),await ut(We(et,"artifacts",tt,"public","data","rooms",g),ze),!at&&Re!=="LOSE_CARD"){if(pe){if(_.currentAction.type==="STAB"){const Le=_.currentAction,Pe=Q.find(Nt=>Nt.id===Le.targetId);if(Pe&&!Pe.isEliminated){await ut(We(et,"artifacts",tt,"public","data","rooms",g),{turnState:"LOSE_CARD",loserId:Le.targetId,loseReason:"stab","currentAction.actionPending":!1,logs:ln({text:"Assassination continues... Target must lose a life.",type:"danger"})});return}else{await ut(We(et,"artifacts",tt,"public","data","rooms",g),{logs:ln({text:"Target eliminated. Assassination complete.",type:"neutral"})}),await Oe({..._,players:Q});return}}else if(_.currentAction.type==="EXCHANGE"){const Le=[..._.deck],Pe=[Le.pop(),Le.pop()];await ut(We(et,"artifacts",tt,"public","data","rooms",g),{turnState:"EXCHANGE_SELECT",deck:Le,tempCards:Pe,"currentAction.actionPending":!1});return}}await Oe({..._,players:Q})}},qe=async Q=>{const J=_.players.find(mt=>mt.id===r.uid),ie=J.cards[Q],ge=_.challengedCard,ce=ie.type===ge,_e=_.players.find(mt=>mt.id===_.currentAction.actorId),se=_.players.find(mt=>mt.id===_.challengerId);_.currentAction.targetId&&_.players.find(mt=>mt.id===_.currentAction.targetId).name;let pe=[..._.players],Re=[..._.deck],Me=[],At="IDLE",Kn=null,at=null,ze=!1;const Le=_.currentAction.blockerId&&_.currentAction.blockerId===_.accusedId;if(ce){Me.push({text:`Challenge Failed: ${J.name} shows ${ge}! ${se.name} loses a life.`,type:"success"}),Re.push(ie.type),Re=Lc(Re);const mt=pe.findIndex(oe=>oe.id===r.uid);pe[mt].cards[Q]={type:Re.pop(),flipped:!1},At="LOSE_CARD",Kn=_.challengerId,at="challenge"}else Me.push({text:`Challenge Won: ${J.name} caught lying! Choose a card to lose.`,type:"danger"}),At="LOSE_CARD",Kn=r.uid,at="challenge";const Pe=_.currentAction,Nt=pe.findIndex(mt=>mt.id===Pe.actorId);if(Le)if(ce)Me.push({text:`Block Upheld. ${_e.name}'s action blocked.`,type:"warning"});else{if(Pe.type==="TAX"&&(pe[Nt].coins+=3,Me.push({text:"Block Invalid: Hero Bonus succeeds (+3).",type:"success"})),Pe.type==="EXPORT"&&(pe[Nt].coins+=2,Me.push({text:"Block Invalid: Export succeeds (+2).",type:"success"})),Pe.type==="STEAL"){const mt=pe.findIndex($e=>$e.id===Pe.targetId),oe=Math.min(pe[mt].coins,2);pe[mt].coins-=oe,pe[Nt].coins+=oe,Me.push({text:`Block Invalid: Steal succeeds (+${oe}).`,type:"success"})}Pe.type==="STAB"&&(ze=!0,Me.push({text:"Block Invalid: Stab proceeds! (Double Kill pending)",type:"danger"})),Pe.type==="EXCHANGE"&&(ze=!0)}else if(ce){if(Pe.type==="TAX"&&(pe[Nt].coins+=3),Pe.type==="EXPORT"&&(pe[Nt].coins+=2),Pe.type==="STEAL"){const mt=pe.findIndex($e=>$e.id===Pe.targetId),oe=Math.min(pe[mt].coins,2);pe[mt].coins-=oe,pe[Nt].coins+=oe}Pe.type==="STAB"&&(ze=!0),Pe.type==="EXCHANGE"&&(ze=!0),ze||Me.push({text:"Action Upheld: Success.",type:"success"})}else Me.push({text:"Action Failed: Bluff called.",type:"warning"});const Ut=me(pe);let hn={players:pe,deck:Re,logs:ln(...Me),"currentAction.actionPending":ze};if(Ut?hn.status="finished":At==="LOSE_CARD"&&(hn.turnState="LOSE_CARD",hn.loserId=Kn,at&&(hn.loseReason=at)),await ut(We(et,"artifacts",tt,"public","data","rooms",g),hn),!(Ut||At==="LOSE_CARD"))if(ze&&_.currentAction.type==="EXCHANGE"){const mt=[...Re],oe=[mt.pop(),mt.pop()];await ut(We(et,"artifacts",tt,"public","data","rooms",g),{turnState:"EXCHANGE_SELECT",deck:mt,tempCards:oe,"currentAction.actionPending":!1})}else await Oe({..._,players:pe})},Lt=async Q=>{if(_.loserId!==r.uid)return;const J=[..._.players],ie=J.findIndex(pe=>pe.id===r.uid);if(J[ie].cards[Q].flipped)return;J[ie].cards[Q].flipped=!0;const ge=J[ie].cards.every(pe=>pe.flipped);ge&&(J[ie].isEliminated=!0);const ce=[{text:`${J[ie].name} lost a life (${_.loseReason}).`,type:"danger"}];ge&&ce.push({text:`${J[ie].name} is ELIMINATED!`,type:"danger"});const _e=me(J);let se={players:J,logs:ln(...ce)};if(_e){const pe=J.filter(Re=>!Re.isEliminated);se.status="finished",se.logs=ln({text:`Game Over! ${pe[0]?.name} Wins!`,type:"success"}),await ut(We(et,"artifacts",tt,"public","data","rooms",g),se);return}if(_.currentAction?.actionPending){if(_.currentAction.type==="EXCHANGE"){await ut(We(et,"artifacts",tt,"public","data","rooms",g),se);const pe=[..._.deck],Re=[pe.pop(),pe.pop()];await ut(We(et,"artifacts",tt,"public","data","rooms",g),{turnState:"EXCHANGE_SELECT",deck:pe,tempCards:Re,"currentAction.actionPending":!1});return}if(_.currentAction.type==="STAB"){const pe=_.currentAction.targetId,Re=J.find(Me=>Me.id===pe);if(Re&&!Re.isEliminated){se.logs=ln(...ce,{text:"Challenge penalty paid. Assassination continues... (Lose 2nd Life)",type:"danger"}),se.turnState="LOSE_CARD",se.loserId=pe,se.loseReason="stab",se["currentAction.actionPending"]=!1,await ut(We(et,"artifacts",tt,"public","data","rooms",g),se);return}else ce.push({text:"Target eliminated. Assassination complete.",type:"neutral"}),se.logs=ln(...ce)}}await ut(We(et,"artifacts",tt,"public","data","rooms",g),se),await Oe({..._,players:J})},bt=async()=>{const Q=_.players.find(at=>at.id===r.uid),J=Q.cards.filter(at=>!at.flipped).length;if(W.length!==J){alert(`You must select exactly ${J} cards.`);return}const ie=[..._.players],ge=ie.findIndex(at=>at.id===r.uid),_e=[...Q.cards.filter(at=>!at.flipped).map(at=>at.type),..._.tempCards],se=W.map(at=>_e[at]),pe=_e.filter((at,ze)=>!W.includes(ze)),Re=Q.cards.filter(at=>at.flipped),At=[...se.map(at=>({type:at,flipped:!1})),...Re],Kn=[..._.deck,...pe];ie[ge].cards=At,await ut(We(et,"artifacts",tt,"public","data","rooms",g),{players:ie,deck:Lc(Kn),turnState:"IDLE",tempCards:null,currentAction:null}),await Oe({..._,players:ie}),ve([])},Ti=({type:Q,flipped:J,onClick:ie,selectable:ge,selected:ce,size:_e="md"})=>{const se=ZT[Q];if(!se&&!J)return null;let pe="ring-purple-400";ce&&(pe="ring-emerald-400 ring-offset-emerald-900");const Re=`rounded-lg shadow-md border-2 transition-all duration-200 relative ${ge||ce?`cursor-pointer hover:scale-105 ring-2 ring-offset-2 ${pe}`:""}`,Me=_e==="sm"?"w-14 h-20 text-[10px]":"w-24 h-36 text-sm";return J?A.jsx("div",{className:`${Re} ${Me} bg-gray-800 border-gray-700 flex items-center justify-center opacity-60`,children:A.jsx(yv,{className:"text-gray-500"})}):A.jsxs("div",{onClick:ie,className:`${Re} ${Me} ${se.color} border-white/20 flex flex-col items-center justify-between p-2 text-white shadow-lg`,children:[A.jsx("div",{className:"font-bold uppercase tracking-wider truncate w-full text-center",children:se.name}),A.jsx(se.icon,{size:_e==="sm"?16:32}),_e!=="sm"&&A.jsx("div",{className:"text-[10px] leading-tight text-center opacity-90",children:se.desc}),ce&&A.jsx("div",{className:"absolute -top-2 -right-2 bg-emerald-500 text-white rounded-full p-1 shadow-lg",children:A.jsx(kc,{size:12})})]})};if(!r)return A.jsx("div",{className:"min-h-screen bg-gray-950 flex items-center justify-center text-white font-serif",children:A.jsx("div",{className:"animate-pulse",children:"Loading Archive..."})});if(i==="menu")return A.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans",children:[A.jsx(Jd,{}),Ce&&A.jsx(_v,{onClose:()=>Ee(!1)}),A.jsxs("div",{className:"z-10 text-center mb-10 animate-in fade-in zoom-in duration-700",children:[A.jsx(QT,{size:64,className:"text-purple-500 mx-auto mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(168,85,247,0.5)]"}),A.jsx("h1",{className:"text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-b from-purple-300 to-purple-600 font-serif tracking-widest drop-shadow-md",children:"CONSPIRACY"}),A.jsx("p",{className:"text-white-400/60 tracking-[0.3em] uppercase mt-2",children:"The Silent Betrayal"})]}),A.jsxs("div",{className:"bg-gray-900/80 backdrop-blur border border-purple-500/30 p-8 rounded-2xl w-full max-w-md shadow-2xl z-10 animate-in slide-in-from-bottom-10 duration-700 delay-100",children:[M&&A.jsx("div",{className:"bg-red-900/50 text-red-200 p-2 mb-4 rounded text-center text-sm border border-red-800",children:M}),A.jsx("input",{className:"w-full bg-black/50 border border-gray-600 p-3 rounded mb-4 text-white placeholder-gray-500 focus:border-purple-500 outline-none transition-colors",placeholder:"Agent Codename",value:l,onChange:Q=>c(Q.target.value)}),A.jsxs("button",{onClick:S,disabled:ee,className:"w-full bg-gradient-to-r from-purple-700 to-purple-600 hover:from-purple-600 hover:to-purple-500 p-4 rounded font-bold mb-4 flex items-center justify-center gap-2 border border-purple-500/30 shadow-[0_0_15px_rgba(147,51,234,0.2)] transition-all",children:[A.jsx(Ll,{size:20})," Establish Back Room"]}),A.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 mb-4",children:[A.jsx("input",{className:"w-full sm:flex-1 bg-black/50 border border-gray-600 p-3 rounded text-white placeholder-gray-500 uppercase font-mono tracking-wider focus:border-purple-500 outline-none",placeholder:"ROOM CODE",value:d,onChange:Q=>y(Q.target.value.toUpperCase())}),A.jsx("button",{onClick:V,disabled:ee,className:"w-full sm:w-auto bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-3 rounded font-bold transition-colors",children:"Infiltrate"})]}),A.jsxs("button",{onClick:()=>Ee(!0),className:"w-full text-sm text-gray-400 hover:text-white flex items-center justify-center gap-2 py-2",children:[A.jsx(wm,{size:16})," How to play"]})]})]});if(i==="lobby"&&_){const Q=_.hostId===r.uid,J=_.startingCards||2;return A.jsxs("div",{className:"min-h-screen bg-gray-950 text-white flex flex-col items-center justify-center p-6 relative",children:[A.jsx(Jd,{}),A.jsxs("div",{className:"z-10 w-full max-w-lg bg-gray-900/90 backdrop-blur p-8 rounded-2xl border border-purple-900/50 shadow-2xl",children:[A.jsxs("div",{className:"flex justify-between items-center mb-8 border-b border-gray-700 pb-4",children:[A.jsxs("h2",{className:"text-2xl font-serif text-purple-400",children:["Back Room:"," ",A.jsx("span",{className:"text-white font-mono",children:_.id})]}),A.jsx("button",{onClick:()=>nt(!0),className:"p-2 bg-red-900/30 hover:bg-red-900/50 rounded text-red-300",title:"Leave Room",children:A.jsx(gv,{size:16})})]}),Q&&A.jsxs("div",{className:"bg-black/30 rounded-lg p-3 mb-6 border border-gray-700",children:[A.jsx("h3",{className:"text-purple-300 font-bold mb-2 uppercase text-xs tracking-wider",children:"Protocol Settings"}),A.jsxs("div",{className:"flex items-center justify-between",children:[A.jsx("span",{className:"text-gray-400 text-sm",children:"Lives per Agent:"}),A.jsx("div",{className:"flex gap-2",children:[2,3].map(ie=>A.jsx("button",{onClick:()=>I(ie),className:`px-3 py-1 rounded text-xs font-bold transition-all ${J===ie?"bg-purple-600 text-white shadow-lg":"bg-gray-700 text-gray-400 hover:bg-gray-600"}`,children:ie},ie))})]})]}),A.jsxs("div",{className:"bg-black/20 rounded-xl p-4 mb-8 border border-gray-800",children:[A.jsxs("h3",{className:"text-gray-500 text-xs uppercase tracking-wider mb-4 flex justify-between",children:[A.jsxs("span",{children:["Operatives (",_.players.length,"/",_.maxPlayers,")"]}),A.jsxs("span",{className:"text-purple-400 font-bold",children:["Mode: ",J," Lives"]})]}),A.jsxs("div",{className:"space-y-2",children:[_.players.map(ie=>A.jsxs("div",{className:"flex items-center justify-between bg-gray-800/50 p-3 rounded border border-gray-700/50",children:[A.jsxs("span",{className:`font-bold flex items-center gap-2 ${ie.id===r.uid?"text-purple-400":"text-gray-300"}`,children:[A.jsx($d,{size:14,className:ie.id===r.uid?"text-purple-400":"text-gray-500"}),ie.name,ie.id===_.hostId&&A.jsx(Ll,{size:14,className:"text-yellow-500"})]}),A.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[A.jsx(kc,{size:12})," Ready"]})]},ie.id)),_.players.length<2&&A.jsx("div",{className:"text-center text-gray-500 italic text-sm py-2",children:"Waiting for more agents..."})]})]}),Q?A.jsx("button",{onClick:L,disabled:_.players.length<2,className:`w-full py-4 rounded-xl font-bold text-lg shadow-lg transition-all flex items-center justify-center gap-2 ${_.players.length>=2?"bg-green-700 hover:bg-green-600 text-white shadow-green-900/20":"bg-gray-800 cursor-not-allowed text-gray-500"}`,children:_.players.length<2?"Awaiting Agents...":"Commence Operation"}):A.jsx("div",{className:"text-center text-purple-400/60 animate-pulse font-serif italic",children:"Waiting for Host command..."})]}),A.jsx(Ev,{}),rt&&A.jsx(vv,{onConfirm:N,onCancel:()=>nt(!1),isHost:_?.hostId===r?.uid})]})}if(i==="game"&&_){const Q=_.players.find(oe=>oe.id===r.uid);if(!Q)return null;const J=re(),ie=_.currentAction?wl[_.currentAction.type].name:"",ge=_.turnState==="ACTION_PENDING"?_.currentAction.votes.length:0,ce=xt().length-1,_e=_.currentAction?.votes.includes(r.uid),se=_.currentAction,pe=se&&(se.type==="STEAL"||se.type==="STAB"),Re=pe&&se.votes.includes(se.targetId),Me=pe&&se.targetId===r.uid;let At=!1;_.turnState==="ACTION_PENDING"&&se.actorId!==r.uid&&!Q.isEliminated&&(pe?Re?Me||(At=!0):Me&&(At=!0):At=!0);const Kn=_.turnState==="BLOCK_PENDING"&&_.currentAction.blockerId!==r.uid&&!Q.isEliminated,at=_.players.filter(oe=>!oe.isEliminated);let ze=!1;se&&(se.type==="EXPORT"||(se.type==="STEAL"||se.type==="STAB")&&se.targetId===r.uid)&&(ze=!0);const Le=_.turnState==="EXCHANGE_SELECT"&&Q.id===q().id;let Pe=null,Nt=null;if(se){const oe=_.players.find(vt=>vt.id===se.targetId),$e=_.players.find(vt=>vt.id===se.actorId);oe&&(Pe=oe.name),$e&&(Nt=$e.name)}let Ut="",hn="";if(_.turnState==="LOSE_CARD"){const oe=_.players.find(vt=>vt.id===_.loserId),$e=oe?oe.name:"Player";_.loseReason==="challenge"?(Ut="Challenge Lost",hn=`${$e} is discarding a card...`):se&&se.type==="KILL"?(Ut=`${Nt} performs`,hn=`Kill on ${Pe}`):se&&se.type==="STAB"?(Ut=`${Nt} performs`,hn=`Stab on ${Pe}`):(Ut=`${$e} lost a life`,hn="Choosing card to lose...")}const mt=Le||_.status==="finished";return A.jsxs("div",{className:"min-h-screen bg-gray-950 text-white overflow-hidden flex flex-col relative font-sans",children:[A.jsx(Jd,{}),Ce&&A.jsx(_v,{onClose:()=>Ee(!1)}),A.jsxs("div",{className:"h-14 bg-gray-900/80 border-b border-gray-800 flex items-center justify-between px-4 z-50 backdrop-blur-md sticky top-0",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"font-serif text-purple-500 font-bold tracking-wider hidden md:block",children:"CONSPIRACY"}),A.jsx("span",{className:"text-xs text-gray-500 bg-black/50 px-2 py-1 rounded",children:"Back Room"})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:()=>Ee(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400",title:"Rules",children:A.jsx(wm,{size:18})}),A.jsx("button",{onClick:()=>x(!0),className:"p-2 hover:bg-gray-800 rounded text-gray-400",title:"History",children:A.jsx(pv,{size:18})}),A.jsx("button",{onClick:()=>nt(!0),className:"p-2 hover:bg-red-900/50 rounded text-red-400",title:"Leave Game",children:A.jsx(gv,{size:18})})]})]}),A.jsxs("div",{className:"flex-1 relative p-4 flex flex-col z-10 max-w-5xl mx-auto w-full",children:[A.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-4 z-10",children:_.players.map((oe,$e)=>oe.id===r.uid?null:A.jsxs("div",{className:`bg-gray-900/90 p-3 rounded-lg border transition-all ${_.turnIndex===$e?"border-purple-500 shadow-[0_0_10px_rgba(168,85,247,0.3)]":"border-gray-700"} ${oe.isEliminated?"opacity-50 grayscale":""} relative`,children:[_.turnIndex===$e&&!oe.isEliminated&&A.jsx("div",{className:"absolute -top-2.5 left-1/2 -translate-x-1/2 bg-purple-600 text-white text-[9px] font-bold px-2 py-0.5 rounded-full shadow-lg animate-pulse border border-purple-400 tracking-wider z-30",children:"PLAYING"}),oe.isEliminated&&A.jsx("div",{className:"absolute inset-x-0 top-1/2 -translate-y-1/2 bg-red-900/90 text-red-200 text-xs font-black uppercase tracking-widest text-center py-1 z-20 border-y border-red-500 rotate-12",children:"Terminated"}),A.jsxs("div",{className:"flex justify-between items-start mb-2",children:[A.jsxs("span",{className:`font-bold text-sm truncate w-20 flex items-center gap-1 ${_.turnIndex===$e?"text-purple-300":"text-gray-300"}`,children:[A.jsx($d,{size:12})," ",oe.name]}),A.jsxs("div",{className:"flex items-center space-x-1 bg-black/40 px-2 py-0.5 rounded-full border border-gray-700",children:[A.jsx(Kc,{size:10,className:"text-yellow-400"}),A.jsx("span",{className:"text-xs font-mono",children:oe.coins})]})]}),A.jsx("div",{className:"flex justify-center space-x-1 mb-2",children:oe.cards.map((vt,Dt)=>A.jsx("div",{className:`w-6 h-9 rounded border ${vt.flipped?"bg-black border-gray-800":"bg-gradient-to-br from-purple-900 to-indigo-900 border-purple-700"} flex items-center justify-center`,children:vt.flipped?A.jsx(yv,{size:10,className:"text-gray-700"}):A.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500/50"})},Dt))}),J&&_.turnState==="IDLE"&&!oe.isEliminated&&A.jsxs("div",{className:"grid grid-cols-3 gap-1 mt-1",children:[A.jsx("button",{disabled:oe.coins<2,onClick:()=>je("STEAL",oe.id),className:"disabled:opacity-20 bg-blue-900/40 border border-blue-800 hover:bg-blue-800 text-blue-300 py-1 rounded text-[9px] font-bold",children:"Steal"}),A.jsx("button",{disabled:Q.coins<3,onClick:()=>je("STAB",oe.id),className:"disabled:opacity-20 bg-red-900/40 border border-red-800 hover:bg-red-800 text-red-300 py-1 rounded text-[9px] font-bold",children:"Stab(3)"}),A.jsx("button",{disabled:Q.coins<7,onClick:()=>je("KILL",oe.id),className:"disabled:opacity-20 bg-gray-800 border border-red-900/50 hover:bg-red-950 text-red-500 py-1 rounded text-[9px] font-bold",children:"Kill(7)"})]}),_.currentAction?.votes.includes(oe.id)&&(_.turnState==="ACTION_PENDING"||_.turnState==="BLOCK_PENDING")&&A.jsx("div",{className:"absolute -top-2 -right-2 z-20 text-green-400 bg-gray-900 rounded-full p-0.5 border border-green-500 shadow-lg",children:A.jsx(kc,{size:14,className:"fill-current"})})]},oe.id))}),A.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center my-2 space-y-4 z-10 relative",children:[_.status==="finished"&&A.jsxs("div",{className:"absolute inset-0 bg-black/90 flex flex-col items-center justify-center z-50 backdrop-blur-sm rounded-xl border border-purple-500/30",children:[A.jsx(fx,{size:64,className:"text-yellow-400 mb-4 animate-bounce drop-shadow-[0_0_15px_rgba(250,204,21,0.5)]"}),A.jsx("div",{className:"text-4xl font-bold text-white mb-2 font-serif",children:"Victory"}),A.jsxs("div",{className:"text-xl text-purple-400 mb-8",children:["Agent ",at[0]?.name," Survives"]}),_.hostId===r.uid?A.jsxs("button",{onClick:R,className:"bg-green-700 hover:bg-green-600 px-8 py-4 rounded-xl font-bold text-lg flex items-center gap-2 shadow-lg",children:[A.jsx(ax,{})," New Operation"]}):A.jsx("div",{className:"text-gray-500 animate-pulse text-sm",children:"Awaiting Host Reset..."})]}),(_.turnState==="ACTION_PENDING"||_.turnState==="LOSE_CARD")&&A.jsxs("div",{className:"w-full max-w-md bg-gray-900/95 p-6 rounded-xl border border-purple-500 shadow-[0_0_30px_rgba(168,85,247,0.15)] relative animate-in zoom-in-95",children:[A.jsx("div",{className:"text-center mb-6",children:_.turnState==="LOSE_CARD"?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:Ut}),A.jsx("div",{className:`text-2xl font-black ${_.loseReason==="challenge"?"text-red-500":"text-purple-400"}`,children:hn})]}):A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-1",children:"Current Operation"}),A.jsxs("div",{className:"text-xl font-bold text-white mb-2",children:[A.jsx("span",{className:"text-purple-400",children:q().name})," ","uses"," ",A.jsx("span",{className:"text-yellow-400 uppercase",children:ie}),Pe&&A.jsxs("span",{className:"text-gray-400",children:[" ","on ",Pe]})]}),A.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mt-4 mb-1",children:[A.jsx("span",{children:"Consensus"}),A.jsxs("span",{children:[ge,"/",ce]})]}),A.jsx("div",{className:"w-full bg-gray-800 h-1.5 rounded-full overflow-hidden",children:A.jsx("div",{className:"bg-purple-500 h-full transition-all duration-300",style:{width:`${ge/ce*100}%`}})})]})}),_.turnState==="ACTION_PENDING"&&At&&!Q.isEliminated&&A.jsx("div",{className:"grid grid-cols-2 gap-3",children:_e?A.jsx("div",{className:"col-span-2 bg-gray-800 py-3 text-center text-gray-400 text-sm rounded font-mono animate-pulse",children:"... Awaiting Network ..."}):A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:O,className:"col-span-2 bg-gray-700 hover:bg-gray-600 border border-gray-600 py-3 rounded font-bold text-white transition-all",children:"Allow / Pass"}),se.type!=="EXPORT"&&A.jsxs("button",{onClick:()=>Ae(r.uid),className:"bg-red-900/80 hover:bg-red-800 border border-red-700 py-3 rounded text-xs font-bold flex items-center justify-center gap-1 text-red-200 transition-all",children:[A.jsx(FT,{size:14})," Challenge Bluff"]}),ze&&se.type==="EXPORT"&&A.jsx("button",{onClick:()=>ne(r.uid,"HERO"),className:"bg-purple-700 hover:bg-purple-600 border border-purple-500 py-3 rounded text-xs font-bold",children:"Block (Hero)"}),ze&&se.type==="STEAL"&&A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:()=>ne(r.uid,"ROBBER"),className:"bg-blue-700 hover:bg-blue-600 border border-blue-500 py-3 rounded text-xs font-bold",children:"Block (Robber)"}),A.jsx("button",{onClick:()=>ne(r.uid,"RIDDLER"),className:"bg-emerald-700 hover:bg-emerald-600 border border-emerald-500 py-3 rounded text-xs font-bold",children:"Block (Riddler)"})]}),ze&&se.type==="STAB"&&A.jsx("button",{onClick:()=>ne(r.uid,"GENIE"),className:"bg-pink-700 hover:bg-pink-600 border border-pink-500 py-3 rounded text-xs font-bold",children:"Block (Genie)"})]})}),_.turnState==="ACTION_PENDING"&&!At&&A.jsx("div",{className:"text-center text-xs text-purple-400/60 animate-pulse font-mono mt-4",children:pe&&!Re?A.jsx("span",{children:"Target is deliberating..."}):A.jsx("span",{children:"Waiting for consensus..."})})]}),_.turnState==="BLOCK_PENDING"&&A.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl border border-purple-500 w-full max-w-md text-center shadow-2xl animate-in zoom-in-95",children:[A.jsxs("div",{className:"mb-4",children:[A.jsx("span",{className:"font-bold text-white",children:_.players.find(oe=>oe.id===_.currentAction.blockerId).name})," ","is blocking with"," ",A.jsx("span",{className:"font-black text-purple-400 text-lg block mt-1",children:_.currentAction.blockClaim})]}),Kn&&A.jsx("div",{className:"grid grid-cols-2 gap-3",children:_.currentAction.votes.includes(r.uid)?A.jsx("div",{className:"col-span-2 text-gray-500 text-xs italic",children:"Processing..."}):A.jsxs(A.Fragment,{children:[A.jsx("button",{onClick:le,className:"bg-gray-700 hover:bg-gray-600 text-white py-3 rounded font-bold",children:"Accept Block"}),A.jsx("button",{onClick:()=>Ae(r.uid),className:"bg-red-600 hover:bg-red-500 text-white py-3 rounded font-bold shadow-red-900/20",children:"Challenge!"})]})})]}),_.turnState==="CHALLENGE_RESOLVE"&&A.jsxs("div",{className:"text-center w-full max-w-md animate-in fade-in slide-in-from-bottom-4",children:[A.jsx("div",{className:"text-red-400 font-bold text-xs uppercase tracking-widest mb-2 bg-red-950/50 p-2 rounded border border-red-900",children:"Interrogation in Progress"}),_.accusedId===r.uid?A.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl border border-red-500 shadow-[0_0_30px_rgba(239,68,68,0.2)]",children:[A.jsxs("div",{className:"text-lg mb-6 font-medium text-gray-300",children:["Prove you possess the: ",A.jsx("br",{}),A.jsx("span",{className:"text-3xl font-black text-yellow-400 uppercase tracking-wider block mt-2 drop-shadow-md",children:_.challengedCard})]}),A.jsx("div",{className:"flex justify-center gap-3 flex-wrap",children:Q.cards.map((oe,$e)=>oe.flipped||oe.type!==_.challengedCard?null:A.jsxs("button",{onClick:()=>qe($e),className:"bg-green-600 hover:bg-green-500 text-white px-6 py-3 rounded-lg font-bold shadow-lg border-b-4 border-green-800 active:border-b-0 active:translate-y-1 transition-all flex items-center gap-2",children:[A.jsx(kc,{size:20})," Reveal ",oe.type]},$e))}),A.jsx("button",{onClick:De,className:`mt-8 text-sm uppercase tracking-wider font-bold transition-all p-2 rounded ${Q.cards.some(oe=>!oe.flipped&&oe.type===_.challengedCard)?"text-gray-600 hover:text-gray-400":"text-red-400 hover:text-white hover:bg-red-900 border border-transparent hover:border-red-500"}`,children:"I Admit Deception (Surrender)"})]}):A.jsxs("div",{className:"text-sm animate-pulse text-gray-400 bg-gray-900/80 p-6 rounded-xl border border-gray-700",children:["Awaiting confession from"," ",A.jsx("span",{className:"text-white font-bold",children:_.players.find(oe=>oe.id===_.accusedId)?.name}),"..."]})]}),Le&&A.jsx("div",{className:"fixed inset-0 bg-black/95 z-50 flex flex-col items-center justify-center p-4",children:A.jsxs("div",{className:"w-full max-w-2xl bg-gray-900 p-6 rounded-2xl border border-emerald-500/50 shadow-2xl max-h-[85vh] overflow-y-auto",children:[A.jsx("h3",{className:"text-2xl font-bold mb-2 text-emerald-400 font-serif sticky top-0 bg-gray-900/90 backdrop-blur pb-2 z-10",children:"The Riddler's Exchange"}),A.jsxs("p",{className:"text-gray-400 mb-6",children:["Select exactly"," ",A.jsx("span",{className:"text-white font-bold",children:Q.cards.filter(oe=>!oe.flipped).length})," ","cards to keep."]}),A.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8",children:[...Q.cards.filter(oe=>!oe.flipped).map(oe=>oe.type),..._.tempCards].map((oe,$e)=>A.jsx("div",{children:A.jsx(Ti,{type:oe,flipped:!1,selected:W.includes($e),selectable:!0,onClick:()=>{const vt=[...W];if(vt.includes($e)){const Dt=vt.indexOf($e);vt.splice(Dt,1),ve(vt)}else vt.length<Q.cards.filter(Dt=>!Dt.flipped).length&&ve([...vt,$e])}})},$e))}),A.jsx("button",{onClick:bt,className:"w-full bg-emerald-600 hover:bg-emerald-500 py-4 rounded-xl font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-emerald-900/20",disabled:W.length!==Q.cards.filter(oe=>!oe.flipped).length,children:"Confirm Selection"})]})})]}),!Le&&_.status!=="finished"&&A.jsx("div",{className:"w-full max-w-md mx-auto mb-2 flex flex-col items-center space-y-1 pointer-events-none z-20 h-16 justify-end",children:_.logs?.slice(-2).reverse().map((oe,$e)=>A.jsx("div",{className:"text-xs px-3 py-1.5 rounded bg-black/80 backdrop-blur-md border border-gray-800 text-gray-300 shadow-lg transition-opacity duration-500",style:{opacity:Math.max(.4,.9-$e*.3)},children:oe.text},$e))}),!mt&&(Q.isEliminated?A.jsx("div",{className:"bg-red-950/80 backdrop-blur-sm p-6 text-center border-t border-red-800 text-red-500 font-black tracking-widest z-30 relative shadow-[0_-10px_50px_rgba(220,38,38,0.3)]",children:"ELIMINATED"}):A.jsxs("div",{className:`mt-auto bg-gray-900/95 backdrop-blur-md p-4 rounded-t-2xl border-t border-purple-500/30 shadow-[0_-10px_40px_rgba(0,0,0,0.5)] relative z-30 transition-all ${_.turnState==="LOSE_CARD"&&_.loserId===r.uid?"ring-2 ring-red-500 shadow-red-900/20":""}`,children:[A.jsxs("div",{className:"grid grid-cols-3 items-center mb-4",children:[A.jsxs("div",{className:"flex items-center gap-2 justify-start",children:[A.jsx($d,{size:16,className:"text-purple-400"}),A.jsx("span",{className:"text-sm font-bold text-gray-300 truncate",children:Q.name})]}),A.jsx("div",{className:"flex justify-center",children:_.turnState==="LOSE_CARD"&&_.loserId===r.uid?A.jsx("div",{className:"text-red-400 font-black text-[10px] md:text-xs animate-bounce bg-red-900/20 px-2 py-1 rounded border border-red-500/50 whitespace-nowrap",children:" SACRIFICE"}):J&&_.turnState==="IDLE"&&A.jsx("span",{className:"bg-green-600 text-white text-[10px] md:text-xs font-bold px-3 py-0.5 rounded-full shadow-lg animate-bounce border border-green-400 tracking-wider whitespace-nowrap",children:"YOUR TURN"})}),A.jsx("div",{className:"flex justify-end",children:A.jsxs("div",{className:"bg-yellow-600/20 border border-yellow-600/50 text-yellow-500 px-3 py-1 rounded-full font-bold text-sm flex items-center shadow-sm",children:[A.jsx(Kc,{size:14,className:"mr-1.5"})," ",Q.coins]})})]}),A.jsx("div",{className:"flex justify-center space-x-3 mb-6 perspective-1000",children:Q.cards.map((oe,$e)=>A.jsx("div",{className:`transition-transform hover:-translate-y-2 duration-300 ${_.turnState==="LOSE_CARD"&&_.loserId===r.uid&&!oe.flipped?"animate-pulse cursor-pointer":""}`,children:A.jsx(Ti,{type:oe.type,flipped:oe.flipped,selectable:_.turnState==="LOSE_CARD"&&_.loserId===r.uid&&!oe.flipped,onClick:()=>{_.turnState==="LOSE_CARD"&&_.loserId===r.uid&&!oe.flipped&&Lt($e)}})},$e))}),J&&_.turnState==="IDLE"&&A.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[A.jsxs("button",{onClick:()=>je("EARN"),className:"bg-gray-800 hover:bg-gray-700 border border-gray-700 p-2 rounded-lg flex flex-col items-center transition-colors group",children:[A.jsx(Kc,{size:20,className:"text-gray-400 group-hover:text-yellow-200 mb-1"}),A.jsx("span",{className:"text-[10px] text-gray-400 group-hover:text-white font-bold",children:"Income (+1)"})]}),A.jsxs("button",{onClick:()=>je("EXPORT"),className:"bg-gray-800 hover:bg-gray-700 border border-gray-700 p-2 rounded-lg flex flex-col items-center transition-colors group",children:[A.jsx(JI,{size:20,className:"text-blue-400/70 group-hover:text-blue-300 mb-1"}),A.jsx("span",{className:"text-[10px] text-gray-400 group-hover:text-white font-bold",children:"Export (+2)"})]}),A.jsxs("button",{onClick:()=>je("TAX"),className:"bg-purple-900/30 hover:bg-purple-900/50 border border-purple-800/50 p-2 rounded-lg flex flex-col items-center transition-colors group",children:[A.jsx(Ll,{size:20,className:"text-purple-400 mb-1"}),A.jsx("span",{className:"text-[10px] text-purple-300 font-bold",children:"Hero (+3)"})]}),A.jsxs("button",{onClick:()=>je("EXCHANGE"),className:"bg-emerald-900/30 hover:bg-emerald-900/50 border border-emerald-800/50 p-2 rounded-lg flex flex-col items-center transition-colors group",children:[A.jsx(KT,{size:20,className:"text-emerald-400 mb-1"}),A.jsx("span",{className:"text-[10px] text-emerald-300 font-bold",children:"Exchange"})]})]})]}))]}),A.jsx("div",{className:"bg-gray-950 pb-1 pt-1 z-50",children:A.jsx(Ev,{})}),rt&&A.jsx(vv,{onConfirm:N,onCancel:()=>nt(!1),isHost:_?.hostId===r?.uid,onReturnToLobby:Tt}),Xe&&A.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-gray-900 rounded-2xl w-full max-w-md h-[70vh] flex flex-col border border-gray-700 shadow-2xl",children:[A.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center bg-gray-950 rounded-t-2xl",children:[A.jsxs("h3",{className:"font-bold text-white flex items-center gap-2 font-serif",children:[A.jsx(pv,{size:18,className:"text-purple-500"})," Mission Log"]}),A.jsx("button",{onClick:()=>x(!1),children:A.jsx(XT,{className:"text-gray-400 hover:text-white"})})]}),A.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:[..._.logs||[]].reverse().map((oe,$e)=>A.jsx("div",{className:`text-xs p-3 rounded border-l-2 ${oe.type==="danger"?"bg-red-900/10 border-red-500 text-red-300":oe.type==="success"?"bg-green-900/10 border-green-500 text-green-300":oe.type==="warning"?"bg-yellow-900/10 border-yellow-500 text-yellow-300":"bg-gray-800 border-gray-600 text-gray-400"}`,children:oe.text},$e))})]})})]})}return null}U1.createRoot(document.getElementById("root")).render(A.jsx(Ht.StrictMode,{children:A.jsx(gx,{})}));
